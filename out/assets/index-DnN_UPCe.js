function mD(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Vn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gD(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var yg={exports:{}},Uo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj;function xD(){if(Hj)return Uo;Hj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:n,key:u,ref:s!==void 0?s:null,props:o}}return Uo.Fragment=t,Uo.jsx=r,Uo.jsxs=r,Uo}var Kj;function pD(){return Kj||(Kj=1,yg.exports=xD()),yg.exports}var i=pD(),bg={exports:{}},Le={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yj;function vD(){if(Yj)return Le;Yj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,_={};function N(I,te,ne){this.props=I,this.context=te,this.refs=_,this.updater=ne||b}N.prototype.isReactComponent={},N.prototype.setState=function(I,te){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,te,"setState")},N.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function S(){}S.prototype=N.prototype;function O(I,te,ne){this.props=I,this.context=te,this.refs=_,this.updater=ne||b}var A=O.prototype=new S;A.constructor=O,j(A,N.prototype),A.isPureReactComponent=!0;var P=Array.isArray,k={H:null,A:null,T:null,S:null,V:null},D=Object.prototype.hasOwnProperty;function C(I,te,ne,H,oe,xe){return ne=xe.ref,{$$typeof:e,type:I,key:te,ref:ne!==void 0?ne:null,props:xe}}function T(I,te){return C(I.type,te,void 0,void 0,void 0,I.props)}function $(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function L(I){var te={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ne){return te[ne]})}var B=/\/+/g;function J(I,te){return typeof I=="object"&&I!==null&&I.key!=null?L(""+I.key):te.toString(36)}function ie(){}function W(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(ie,ie):(I.status="pending",I.then(function(te){I.status==="pending"&&(I.status="fulfilled",I.value=te)},function(te){I.status==="pending"&&(I.status="rejected",I.reason=te)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function Z(I,te,ne,H,oe){var xe=typeof I;(xe==="undefined"||xe==="boolean")&&(I=null);var ue=!1;if(I===null)ue=!0;else switch(xe){case"bigint":case"string":case"number":ue=!0;break;case"object":switch(I.$$typeof){case e:case t:ue=!0;break;case g:return ue=I._init,Z(ue(I._payload),te,ne,H,oe)}}if(ue)return oe=oe(I),ue=H===""?"."+J(I,0):H,P(oe)?(ne="",ue!=null&&(ne=ue.replace(B,"$&/")+"/"),Z(oe,te,ne,"",function(de){return de})):oe!=null&&($(oe)&&(oe=T(oe,ne+(oe.key==null||I&&I.key===oe.key?"":(""+oe.key).replace(B,"$&/")+"/")+ue)),te.push(oe)),1;ue=0;var ye=H===""?".":H+":";if(P(I))for(var F=0;F<I.length;F++)H=I[F],xe=ye+J(H,F),ue+=Z(H,te,ne,xe,oe);else if(F=v(I),typeof F=="function")for(I=F.call(I),F=0;!(H=I.next()).done;)H=H.value,xe=ye+J(H,F++),ue+=Z(H,te,ne,xe,oe);else if(xe==="object"){if(typeof I.then=="function")return Z(W(I),te,ne,H,oe);throw te=String(I),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return ue}function z(I,te,ne){if(I==null)return I;var H=[],oe=0;return Z(I,H,"","",function(xe){return te.call(ne,xe,oe++)}),H}function G(I){if(I._status===-1){var te=I._result;te=te(),te.then(function(ne){(I._status===0||I._status===-1)&&(I._status=1,I._result=ne)},function(ne){(I._status===0||I._status===-1)&&(I._status=2,I._result=ne)}),I._status===-1&&(I._status=0,I._result=te)}if(I._status===1)return I._result.default;throw I._result}var le=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function ge(){}return Le.Children={map:z,forEach:function(I,te,ne){z(I,function(){te.apply(this,arguments)},ne)},count:function(I){var te=0;return z(I,function(){te++}),te},toArray:function(I){return z(I,function(te){return te})||[]},only:function(I){if(!$(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Le.Component=N,Le.Fragment=r,Le.Profiler=s,Le.PureComponent=O,Le.StrictMode=n,Le.Suspense=h,Le.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Le.__COMPILER_RUNTIME={__proto__:null,c:function(I){return k.H.useMemoCache(I)}},Le.cache=function(I){return function(){return I.apply(null,arguments)}},Le.cloneElement=function(I,te,ne){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var H=j({},I.props),oe=I.key,xe=void 0;if(te!=null)for(ue in te.ref!==void 0&&(xe=void 0),te.key!==void 0&&(oe=""+te.key),te)!D.call(te,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&te.ref===void 0||(H[ue]=te[ue]);var ue=arguments.length-2;if(ue===1)H.children=ne;else if(1<ue){for(var ye=Array(ue),F=0;F<ue;F++)ye[F]=arguments[F+2];H.children=ye}return C(I.type,oe,void 0,void 0,xe,H)},Le.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},Le.createElement=function(I,te,ne){var H,oe={},xe=null;if(te!=null)for(H in te.key!==void 0&&(xe=""+te.key),te)D.call(te,H)&&H!=="key"&&H!=="__self"&&H!=="__source"&&(oe[H]=te[H]);var ue=arguments.length-2;if(ue===1)oe.children=ne;else if(1<ue){for(var ye=Array(ue),F=0;F<ue;F++)ye[F]=arguments[F+2];oe.children=ye}if(I&&I.defaultProps)for(H in ue=I.defaultProps,ue)oe[H]===void 0&&(oe[H]=ue[H]);return C(I,xe,void 0,void 0,null,oe)},Le.createRef=function(){return{current:null}},Le.forwardRef=function(I){return{$$typeof:d,render:I}},Le.isValidElement=$,Le.lazy=function(I){return{$$typeof:g,_payload:{_status:-1,_result:I},_init:G}},Le.memo=function(I,te){return{$$typeof:m,type:I,compare:te===void 0?null:te}},Le.startTransition=function(I){var te=k.T,ne={};k.T=ne;try{var H=I(),oe=k.S;oe!==null&&oe(ne,H),typeof H=="object"&&H!==null&&typeof H.then=="function"&&H.then(ge,le)}catch(xe){le(xe)}finally{k.T=te}},Le.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Le.use=function(I){return k.H.use(I)},Le.useActionState=function(I,te,ne){return k.H.useActionState(I,te,ne)},Le.useCallback=function(I,te){return k.H.useCallback(I,te)},Le.useContext=function(I){return k.H.useContext(I)},Le.useDebugValue=function(){},Le.useDeferredValue=function(I,te){return k.H.useDeferredValue(I,te)},Le.useEffect=function(I,te,ne){var H=k.H;if(typeof ne=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return H.useEffect(I,te)},Le.useId=function(){return k.H.useId()},Le.useImperativeHandle=function(I,te,ne){return k.H.useImperativeHandle(I,te,ne)},Le.useInsertionEffect=function(I,te){return k.H.useInsertionEffect(I,te)},Le.useLayoutEffect=function(I,te){return k.H.useLayoutEffect(I,te)},Le.useMemo=function(I,te){return k.H.useMemo(I,te)},Le.useOptimistic=function(I,te){return k.H.useOptimistic(I,te)},Le.useReducer=function(I,te,ne){return k.H.useReducer(I,te,ne)},Le.useRef=function(I){return k.H.useRef(I)},Le.useState=function(I){return k.H.useState(I)},Le.useSyncExternalStore=function(I,te,ne){return k.H.useSyncExternalStore(I,te,ne)},Le.useTransition=function(){return k.H.useTransition()},Le.version="19.1.1",Le}var Gj;function Al(){return Gj||(Gj=1,bg.exports=vD()),bg.exports}var w=Al();const Td=Vn(w),yD=mD({__proto__:null,default:Td},[w]);var wg={exports:{}},qo={},jg={exports:{}},Ng={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vj;function bD(){return Vj||(Vj=1,(function(e){function t(z,G){var le=z.length;z.push(G);e:for(;0<le;){var ge=le-1>>>1,I=z[ge];if(0<s(I,G))z[ge]=G,z[le]=I,le=ge;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var G=z[0],le=z.pop();if(le!==G){z[0]=le;e:for(var ge=0,I=z.length,te=I>>>1;ge<te;){var ne=2*(ge+1)-1,H=z[ne],oe=ne+1,xe=z[oe];if(0>s(H,le))oe<I&&0>s(xe,H)?(z[ge]=xe,z[oe]=le,ge=oe):(z[ge]=H,z[ne]=le,ge=ne);else if(oe<I&&0>s(xe,le))z[ge]=xe,z[oe]=le,ge=oe;else break e}}return G}function s(z,G){var le=z.sortIndex-G.sortIndex;return le!==0?le:z.id-G.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,x=null,v=3,b=!1,j=!1,_=!1,N=!1,S=typeof setTimeout=="function"?setTimeout:null,O=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function P(z){for(var G=r(m);G!==null;){if(G.callback===null)n(m);else if(G.startTime<=z)n(m),G.sortIndex=G.expirationTime,t(h,G);else break;G=r(m)}}function k(z){if(_=!1,P(z),!j)if(r(h)!==null)j=!0,D||(D=!0,J());else{var G=r(m);G!==null&&Z(k,G.startTime-z)}}var D=!1,C=-1,T=5,$=-1;function L(){return N?!0:!(e.unstable_now()-$<T)}function B(){if(N=!1,D){var z=e.unstable_now();$=z;var G=!0;try{e:{j=!1,_&&(_=!1,O(C),C=-1),b=!0;var le=v;try{t:{for(P(z),x=r(h);x!==null&&!(x.expirationTime>z&&L());){var ge=x.callback;if(typeof ge=="function"){x.callback=null,v=x.priorityLevel;var I=ge(x.expirationTime<=z);if(z=e.unstable_now(),typeof I=="function"){x.callback=I,P(z),G=!0;break t}x===r(h)&&n(h),P(z)}else n(h);x=r(h)}if(x!==null)G=!0;else{var te=r(m);te!==null&&Z(k,te.startTime-z),G=!1}}break e}finally{x=null,v=le,b=!1}G=void 0}}finally{G?J():D=!1}}}var J;if(typeof A=="function")J=function(){A(B)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,W=ie.port2;ie.port1.onmessage=B,J=function(){W.postMessage(null)}}else J=function(){S(B,0)};function Z(z,G){C=S(function(){z(e.unstable_now())},G)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var le=v;v=G;try{return z()}finally{v=le}},e.unstable_requestPaint=function(){N=!0},e.unstable_runWithPriority=function(z,G){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var le=v;v=z;try{return G()}finally{v=le}},e.unstable_scheduleCallback=function(z,G,le){var ge=e.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?ge+le:ge):le=ge,z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=le+I,z={id:g++,callback:G,priorityLevel:z,startTime:le,expirationTime:I,sortIndex:-1},le>ge?(z.sortIndex=le,t(m,z),r(h)===null&&z===r(m)&&(_?(O(C),C=-1):_=!0,Z(k,le-ge))):(z.sortIndex=I,t(h,z),j||b||(j=!0,D||(D=!0,J()))),z},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(z){var G=v;return function(){var le=v;v=G;try{return z.apply(this,arguments)}finally{v=le}}}})(Ng)),Ng}var Fj;function wD(){return Fj||(Fj=1,jg.exports=bD()),jg.exports}var _g={exports:{}},cr={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wj;function jD(){if(Wj)return cr;Wj=1;var e=Al();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:h,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return cr.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,cr.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,g)},cr.flushSync=function(h){var m=u.T,g=n.p;try{if(u.T=null,n.p=2,h)return h()}finally{u.T=m,n.p=g,n.d.f()}},cr.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},cr.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},cr.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:b}):g==="script"&&n.d.X(h,{crossOrigin:x,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},cr.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},cr.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin);n.d.L(h,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},cr.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=d(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},cr.requestFormReset=function(h){n.d.r(h)},cr.unstable_batchedUpdates=function(h,m){return h(m)},cr.useFormState=function(h,m,g){return u.H.useFormState(h,m,g)},cr.useFormStatus=function(){return u.H.useHostTransitionStatus()},cr.version="19.1.1",cr}var Xj;function M2(){if(Xj)return _g.exports;Xj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),_g.exports=jD(),_g.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj;function ND(){if(Qj)return qo;Qj=1;var e=wD(),t=Al(),r=M2();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,c=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(c=l.return),a=l.return;while(a)}return l.tag===3?c:null}function u(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(n(188))}function h(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(n(188));return l!==a?null:a}for(var c=a,f=l;;){var p=c.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){c=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===c)return d(p),a;if(y===f)return d(p),l;y=y.sibling}throw Error(n(188))}if(c.return!==f.return)c=p,f=y;else{for(var E=!1,M=p.child;M;){if(M===c){E=!0,c=p,f=y;break}if(M===f){E=!0,f=p,c=y;break}M=M.sibling}if(!E){for(M=y.child;M;){if(M===c){E=!0,c=y,f=p;break}if(M===f){E=!0,f=y,c=p;break}M=M.sibling}if(!E)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:l}function m(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=m(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),S=Symbol.for("react.provider"),O=Symbol.for("react.consumer"),A=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),k=Symbol.for("react.suspense"),D=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function J(a){return a===null||typeof a!="object"?null:(a=B&&a[B]||a["@@iterator"],typeof a=="function"?a:null)}var ie=Symbol.for("react.client.reference");function W(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===ie?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case k:return"Suspense";case D:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case A:return(a.displayName||"Context")+".Provider";case O:return(a._context.displayName||"Context")+".Consumer";case P:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case C:return l=a.displayName||null,l!==null?l:W(a.type)||"Memo";case T:l=a._payload,a=a._init;try{return W(a(l))}catch{}}return null}var Z=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le={pending:!1,data:null,method:null,action:null},ge=[],I=-1;function te(a){return{current:a}}function ne(a){0>I||(a.current=ge[I],ge[I]=null,I--)}function H(a,l){I++,ge[I]=a.current,a.current=l}var oe=te(null),xe=te(null),ue=te(null),ye=te(null);function F(a,l){switch(H(ue,l),H(xe,a),H(oe,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?pj(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=pj(l),a=vj(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ne(oe),H(oe,a)}function de(){ne(oe),ne(xe),ne(ue)}function U(a){a.memoizedState!==null&&H(ye,a);var l=oe.current,c=vj(l,a.type);l!==c&&(H(xe,a),H(oe,c))}function X(a){xe.current===a&&(ne(oe),ne(xe)),ye.current===a&&(ne(ye),Mo._currentValue=le)}var Y=Object.prototype.hasOwnProperty,fe=e.unstable_scheduleCallback,se=e.unstable_cancelCallback,je=e.unstable_shouldYield,_e=e.unstable_requestPaint,Se=e.unstable_now,Re=e.unstable_getCurrentPriorityLevel,Ut=e.unstable_ImmediatePriority,St=e.unstable_UserBlockingPriority,qt=e.unstable_NormalPriority,pn=e.unstable_LowPriority,mr=e.unstable_IdlePriority,Ul=e.log,wi=e.unstable_setDisableYieldValue,ji=null,gr=null;function Cn(a){if(typeof Ul=="function"&&wi(a),gr&&typeof gr.setStrictMode=="function")try{gr.setStrictMode(ji,a)}catch{}}var xr=Math.clz32?Math.clz32:Mr,Wc=Math.log,Xc=Math.LN2;function Mr(a){return a>>>=0,a===0?32:31-(Wc(a)/Xc|0)|0}var xs=256,ps=4194304;function Zr(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function Qn(a,l,c){var f=a.pendingLanes;if(f===0)return 0;var p=0,y=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var M=f&134217727;return M!==0?(f=M&~y,f!==0?p=Zr(f):(E&=M,E!==0?p=Zr(E):c||(c=M&~a,c!==0&&(p=Zr(c))))):(M=f&~y,M!==0?p=Zr(M):E!==0?p=Zr(E):c||(c=f&~a,c!==0&&(p=Zr(c)))),p===0?0:l!==0&&l!==p&&(l&y)===0&&(y=p&-p,c=l&-l,y>=c||y===32&&(c&4194048)!==0)?l:p}function Zn(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function pt(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dh(){var a=xs;return xs<<=1,(xs&4194048)===0&&(xs=256),a}function _r(){var a=ps;return ps<<=1,(ps&62914560)===0&&(ps=4194304),a}function Ni(a){for(var l=[],c=0;31>c;c++)l.push(a);return l}function Dn(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function ql(a,l,c,f,p,y){var E=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var M=a.entanglements,q=a.expirationTimes,ee=a.hiddenUpdates;for(c=E&~c;0<c;){var he=31-xr(c),ve=1<<he;M[he]=0,q[he]=-1;var re=ee[he];if(re!==null)for(ee[he]=null,he=0;he<re.length;he++){var ae=re[he];ae!==null&&(ae.lane&=-536870913)}c&=~ve}f!==0&&zl(a,f,0),y!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=y&~(E&~l))}function zl(a,l,c){a.pendingLanes|=l,a.suspendedLanes&=~l;var f=31-xr(l);a.entangledLanes|=l,a.entanglements[f]=a.entanglements[f]|1073741824|c&4194090}function vs(a,l){var c=a.entangledLanes|=l;for(a=a.entanglements;c;){var f=31-xr(c),p=1<<f;p&l|a[f]&l&&(a[f]|=l),c&=~p}}function _i(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function Bl(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Qc(){var a=G.p;return a!==0?a:(a=window.event,a===void 0?32:Lj(a.type))}function fh(a,l){var c=G.p;try{return G.p=a,l()}finally{G.p=c}}var Pn=Math.random().toString(36).slice(2),zt="__reactFiber$"+Pn,Zt="__reactProps$"+Pn,pr="__reactContainer$"+Pn,Hl="__reactEvents$"+Pn,hh="__reactListeners$"+Pn,Kl="__reactHandles$"+Pn,Jn="__reactResources$"+Pn,R="__reactMarker$"+Pn;function pe(a){delete a[zt],delete a[Zt],delete a[Hl],delete a[hh],delete a[Kl]}function Ne(a){var l=a[zt];if(l)return l;for(var c=a.parentNode;c;){if(l=c[pr]||c[zt]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(a=jj(a);a!==null;){if(c=a[zt])return c;a=jj(a)}return l}a=c,c=a.parentNode}return null}function we(a){if(a=a[zt]||a[pr]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function Ee(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function Ie(a){var l=a[Jn];return l||(l=a[Jn]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function We(a){a[R]=!0}var wt=new Set,Si={};function vr(a,l){Mn(a,l),Mn(a+"Capture",l)}function Mn(a,l){for(Si[a]=l,a=0;a<l.length;a++)wt.add(l[a])}var ys=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Rr={},Jt={};function Zc(a){return Y.call(Jt,a)?!0:Y.call(Rr,a)?!1:ys.test(a)?Jt[a]=!0:(Rr[a]=!0,!1)}function Yl(a,l,c){if(Zc(l))if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+c)}}function bs(a,l,c){if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+c)}}function vn(a,l,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(l,c,""+f)}}var Jc,Bt;function vt(a){if(Jc===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);Jc=l&&l[1]||"",Bt=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jc+a+Bt}var mh=!1;function gh(a,l){if(!a||mh)return"";mh=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var ve=function(){throw Error()};if(Object.defineProperty(ve.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ve,[])}catch(ae){var re=ae}Reflect.construct(a,[],ve)}else{try{ve.call()}catch(ae){re=ae}a.call(ve.prototype)}}else{try{throw Error()}catch(ae){re=ae}(ve=a())&&typeof ve.catch=="function"&&ve.catch(function(){})}}catch(ae){if(ae&&re&&typeof ae.stack=="string")return[ae.stack,re.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),E=y[0],M=y[1];if(E&&M){var q=E.split(`
`),ee=M.split(`
`);for(p=f=0;f<q.length&&!q[f].includes("DetermineComponentFrameRoot");)f++;for(;p<ee.length&&!ee[p].includes("DetermineComponentFrameRoot");)p++;if(f===q.length||p===ee.length)for(f=q.length-1,p=ee.length-1;1<=f&&0<=p&&q[f]!==ee[p];)p--;for(;1<=f&&0<=p;f--,p--)if(q[f]!==ee[p]){if(f!==1||p!==1)do if(f--,p--,0>p||q[f]!==ee[p]){var he=`
`+q[f].replace(" at new "," at ");return a.displayName&&he.includes("<anonymous>")&&(he=he.replace("<anonymous>",a.displayName)),he}while(1<=f&&0<=p);break}}}finally{mh=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?vt(c):""}function oC(a){switch(a.tag){case 26:case 27:case 5:return vt(a.type);case 16:return vt("Lazy");case 13:return vt("Suspense");case 19:return vt("SuspenseList");case 0:case 15:return gh(a.type,!1);case 11:return gh(a.type.render,!1);case 1:return gh(a.type,!0);case 31:return vt("Activity");default:return""}}function dy(a){try{var l="";do l+=oC(a),a=a.return;while(a);return l}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Jr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function fy(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function cC(a){var l=fy(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),f=""+a[l];if(!a.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,y=c.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return p.call(this)},set:function(E){f=""+E,y.call(this,E)}}),Object.defineProperty(a,l,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function eu(a){a._valueTracker||(a._valueTracker=cC(a))}function hy(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var c=l.getValue(),f="";return a&&(f=fy(a)?a.checked?"true":"false":a.value),a=f,a!==c?(l.setValue(a),!0):!1}function tu(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var uC=/[\n"\\]/g;function en(a){return a.replace(uC,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function xh(a,l,c,f,p,y,E,M){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),l!=null?E==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Jr(l)):a.value!==""+Jr(l)&&(a.value=""+Jr(l)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),l!=null?ph(a,E,Jr(l)):c!=null?ph(a,E,Jr(c)):f!=null&&a.removeAttribute("value"),p==null&&y!=null&&(a.defaultChecked=!!y),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+Jr(M):a.removeAttribute("name")}function my(a,l,c,f,p,y,E,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),l!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||l!=null))return;c=c!=null?""+Jr(c):"",l=l!=null?""+Jr(l):c,M||l===a.value||(a.value=l),a.defaultValue=l}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=M?a.checked:!!f,a.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E)}function ph(a,l,c){l==="number"&&tu(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function ws(a,l,c,f){if(a=a.options,l){l={};for(var p=0;p<c.length;p++)l["$"+c[p]]=!0;for(c=0;c<a.length;c++)p=l.hasOwnProperty("$"+a[c].value),a[c].selected!==p&&(a[c].selected=p),p&&f&&(a[c].defaultSelected=!0)}else{for(c=""+Jr(c),l=null,p=0;p<a.length;p++){if(a[p].value===c){a[p].selected=!0,f&&(a[p].defaultSelected=!0);return}l!==null||a[p].disabled||(l=a[p])}l!==null&&(l.selected=!0)}}function gy(a,l,c){if(l!=null&&(l=""+Jr(l),l!==a.value&&(a.value=l),c==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=c!=null?""+Jr(c):""}function xy(a,l,c,f){if(l==null){if(f!=null){if(c!=null)throw Error(n(92));if(Z(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),l=c}c=Jr(l),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f)}function js(a,l){if(l){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=l;return}}a.textContent=l}var dC=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function py(a,l,c){var f=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":f?a.setProperty(l,c):typeof c!="number"||c===0||dC.has(l)?l==="float"?a.cssFloat=c:a[l]=(""+c).trim():a[l]=c+"px"}function vy(a,l,c){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var p in l)f=l[p],l.hasOwnProperty(p)&&c[p]!==f&&py(a,p,f)}else for(var y in l)l.hasOwnProperty(y)&&py(a,y,l[y])}function vh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fC=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hC=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ru(a){return hC.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var yh=null;function bh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var Ns=null,_s=null;function yy(a){var l=we(a);if(l&&(a=l.stateNode)){var c=a[Zt]||null;e:switch(a=l.stateNode,l.type){case"input":if(xh(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+en(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var f=c[l];if(f!==a&&f.form===a.form){var p=f[Zt]||null;if(!p)throw Error(n(90));xh(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<c.length;l++)f=c[l],f.form===a.form&&hy(f)}break e;case"textarea":gy(a,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&ws(a,!!c.multiple,l,!1)}}}var wh=!1;function by(a,l,c){if(wh)return a(l,c);wh=!0;try{var f=a(l);return f}finally{if(wh=!1,(Ns!==null||_s!==null)&&(zu(),Ns&&(l=Ns,a=_s,_s=Ns=null,yy(l),a)))for(l=0;l<a.length;l++)yy(a[l])}}function Gl(a,l){var c=a.stateNode;if(c===null)return null;var f=c[Zt]||null;if(f===null)return null;c=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,l,typeof c));return c}var ea=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jh=!1;if(ea)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){jh=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{jh=!1}var $a=null,Nh=null,nu=null;function wy(){if(nu)return nu;var a,l=Nh,c=l.length,f,p="value"in $a?$a.value:$a.textContent,y=p.length;for(a=0;a<c&&l[a]===p[a];a++);var E=c-a;for(f=1;f<=E&&l[c-f]===p[y-f];f++);return nu=p.slice(a,1<f?1-f:void 0)}function au(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function iu(){return!0}function jy(){return!1}function Sr(a){function l(c,f,p,y,E){this._reactName=c,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(c=a[M],this[M]=c?c(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?iu:jy,this.isPropagationStopped=jy,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=iu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=iu)},persist:function(){},isPersistent:iu}),l}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},su=Sr(Oi),Fl=g({},Oi,{view:0,detail:0}),mC=Sr(Fl),_h,Sh,Wl,lu=g({},Fl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ah,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Wl&&(Wl&&a.type==="mousemove"?(_h=a.screenX-Wl.screenX,Sh=a.screenY-Wl.screenY):Sh=_h=0,Wl=a),_h)},movementY:function(a){return"movementY"in a?a.movementY:Sh}}),Ny=Sr(lu),gC=g({},lu,{dataTransfer:0}),xC=Sr(gC),pC=g({},Fl,{relatedTarget:0}),Oh=Sr(pC),vC=g({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),yC=Sr(vC),bC=g({},Oi,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),wC=Sr(bC),jC=g({},Oi,{data:0}),_y=Sr(jC),NC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},SC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OC(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=SC[a])?!!l[a]:!1}function Ah(){return OC}var AC=g({},Fl,{key:function(a){if(a.key){var l=NC[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=au(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_C[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ah,charCode:function(a){return a.type==="keypress"?au(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?au(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),EC=Sr(AC),kC=g({},lu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sy=Sr(kC),TC=g({},Fl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ah}),CC=Sr(TC),DC=g({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),PC=Sr(DC),MC=g({},lu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),RC=Sr(MC),$C=g({},Oi,{newState:0,oldState:0}),LC=Sr($C),IC=[9,13,27,32],Eh=ea&&"CompositionEvent"in window,Xl=null;ea&&"documentMode"in document&&(Xl=document.documentMode);var UC=ea&&"TextEvent"in window&&!Xl,Oy=ea&&(!Eh||Xl&&8<Xl&&11>=Xl),Ay=" ",Ey=!1;function ky(a,l){switch(a){case"keyup":return IC.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ty(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var Ss=!1;function qC(a,l){switch(a){case"compositionend":return Ty(l);case"keypress":return l.which!==32?null:(Ey=!0,Ay);case"textInput":return a=l.data,a===Ay&&Ey?null:a;default:return null}}function zC(a,l){if(Ss)return a==="compositionend"||!Eh&&ky(a,l)?(a=wy(),nu=Nh=$a=null,Ss=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Oy&&l.locale!=="ko"?null:l.data;default:return null}}var BC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cy(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!BC[a.type]:l==="textarea"}function Dy(a,l,c,f){Ns?_s?_s.push(f):_s=[f]:Ns=f,l=Vu(l,"onChange"),0<l.length&&(c=new su("onChange","change",null,c,f),a.push({event:c,listeners:l}))}var Ql=null,Zl=null;function HC(a){fj(a,0)}function ou(a){var l=Ee(a);if(hy(l))return a}function Py(a,l){if(a==="change")return l}var My=!1;if(ea){var kh;if(ea){var Th="oninput"in document;if(!Th){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),Th=typeof Ry.oninput=="function"}kh=Th}else kh=!1;My=kh&&(!document.documentMode||9<document.documentMode)}function $y(){Ql&&(Ql.detachEvent("onpropertychange",Ly),Zl=Ql=null)}function Ly(a){if(a.propertyName==="value"&&ou(Zl)){var l=[];Dy(l,Zl,a,bh(a)),by(HC,l)}}function KC(a,l,c){a==="focusin"?($y(),Ql=l,Zl=c,Ql.attachEvent("onpropertychange",Ly)):a==="focusout"&&$y()}function YC(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return ou(Zl)}function GC(a,l){if(a==="click")return ou(l)}function VC(a,l){if(a==="input"||a==="change")return ou(l)}function FC(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var $r=typeof Object.is=="function"?Object.is:FC;function Jl(a,l){if($r(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var c=Object.keys(a),f=Object.keys(l);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var p=c[f];if(!Y.call(l,p)||!$r(a[p],l[p]))return!1}return!0}function Iy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Uy(a,l){var c=Iy(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=l&&f>=l)return{node:c,offset:l-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Iy(c)}}function qy(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?qy(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function zy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=tu(a.document);l instanceof a.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)a=l.contentWindow;else break;l=tu(a.document)}return l}function Ch(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var WC=ea&&"documentMode"in document&&11>=document.documentMode,Os=null,Dh=null,eo=null,Ph=!1;function By(a,l,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Ph||Os==null||Os!==tu(f)||(f=Os,"selectionStart"in f&&Ch(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),eo&&Jl(eo,f)||(eo=f,f=Vu(Dh,"onSelect"),0<f.length&&(l=new su("onSelect","select",null,l,c),a.push({event:l,listeners:f}),l.target=Os)))}function Ai(a,l){var c={};return c[a.toLowerCase()]=l.toLowerCase(),c["Webkit"+a]="webkit"+l,c["Moz"+a]="moz"+l,c}var As={animationend:Ai("Animation","AnimationEnd"),animationiteration:Ai("Animation","AnimationIteration"),animationstart:Ai("Animation","AnimationStart"),transitionrun:Ai("Transition","TransitionRun"),transitionstart:Ai("Transition","TransitionStart"),transitioncancel:Ai("Transition","TransitionCancel"),transitionend:Ai("Transition","TransitionEnd")},Mh={},Hy={};ea&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete As.animationend.animation,delete As.animationiteration.animation,delete As.animationstart.animation),"TransitionEvent"in window||delete As.transitionend.transition);function Ei(a){if(Mh[a])return Mh[a];if(!As[a])return a;var l=As[a],c;for(c in l)if(l.hasOwnProperty(c)&&c in Hy)return Mh[a]=l[c];return a}var Ky=Ei("animationend"),Yy=Ei("animationiteration"),Gy=Ei("animationstart"),XC=Ei("transitionrun"),QC=Ei("transitionstart"),ZC=Ei("transitioncancel"),Vy=Ei("transitionend"),Fy=new Map,Rh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Rh.push("scrollEnd");function yn(a,l){Fy.set(a,l),vr(l,[a])}var Wy=new WeakMap;function tn(a,l){if(typeof a=="object"&&a!==null){var c=Wy.get(a);return c!==void 0?c:(l={value:a,source:l,stack:dy(l)},Wy.set(a,l),l)}return{value:a,source:l,stack:dy(l)}}var rn=[],Es=0,$h=0;function cu(){for(var a=Es,l=$h=Es=0;l<a;){var c=rn[l];rn[l++]=null;var f=rn[l];rn[l++]=null;var p=rn[l];rn[l++]=null;var y=rn[l];if(rn[l++]=null,f!==null&&p!==null){var E=f.pending;E===null?p.next=p:(p.next=E.next,E.next=p),f.pending=p}y!==0&&Xy(c,p,y)}}function uu(a,l,c,f){rn[Es++]=a,rn[Es++]=l,rn[Es++]=c,rn[Es++]=f,$h|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Lh(a,l,c,f){return uu(a,l,c,f),du(a)}function ks(a,l){return uu(a,null,null,l),du(a)}function Xy(a,l,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var p=!1,y=a.return;y!==null;)y.childLanes|=c,f=y.alternate,f!==null&&(f.childLanes|=c),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(p=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,p&&l!==null&&(p=31-xr(c),a=y.hiddenUpdates,f=a[p],f===null?a[p]=[l]:f.push(l),l.lane=c|536870912),y):null}function du(a){if(50<Oo)throw Oo=0,Hm=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var Ts={};function JC(a,l,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(a,l,c,f){return new JC(a,l,c,f)}function Ih(a){return a=a.prototype,!(!a||!a.isReactComponent)}function ta(a,l){var c=a.alternate;return c===null?(c=Lr(a.tag,l,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=l,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,l=a.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Qy(a,l){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,l=c.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function fu(a,l,c,f,p,y){var E=0;if(f=a,typeof a=="function")Ih(a)&&(E=1);else if(typeof a=="string")E=tD(a,c,oe.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case $:return a=Lr(31,c,l,p),a.elementType=$,a.lanes=y,a;case j:return ki(c.children,p,y,l);case _:E=8,p|=24;break;case N:return a=Lr(12,c,l,p|2),a.elementType=N,a.lanes=y,a;case k:return a=Lr(13,c,l,p),a.elementType=k,a.lanes=y,a;case D:return a=Lr(19,c,l,p),a.elementType=D,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case S:case A:E=10;break e;case O:E=9;break e;case P:E=11;break e;case C:E=14;break e;case T:E=16,f=null;break e}E=29,c=Error(n(130,a===null?"null":typeof a,"")),f=null}return l=Lr(E,c,l,p),l.elementType=a,l.type=f,l.lanes=y,l}function ki(a,l,c,f){return a=Lr(7,a,f,l),a.lanes=c,a}function Uh(a,l,c){return a=Lr(6,a,null,l),a.lanes=c,a}function qh(a,l,c){return l=Lr(4,a.children!==null?a.children:[],a.key,l),l.lanes=c,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Cs=[],Ds=0,hu=null,mu=0,nn=[],an=0,Ti=null,ra=1,na="";function Ci(a,l){Cs[Ds++]=mu,Cs[Ds++]=hu,hu=a,mu=l}function Zy(a,l,c){nn[an++]=ra,nn[an++]=na,nn[an++]=Ti,Ti=a;var f=ra;a=na;var p=32-xr(f)-1;f&=~(1<<p),c+=1;var y=32-xr(l)+p;if(30<y){var E=p-p%5;y=(f&(1<<E)-1).toString(32),f>>=E,p-=E,ra=1<<32-xr(l)+p|c<<p|f,na=y+a}else ra=1<<y|c<<p|f,na=a}function zh(a){a.return!==null&&(Ci(a,1),Zy(a,1,0))}function Bh(a){for(;a===hu;)hu=Cs[--Ds],Cs[Ds]=null,mu=Cs[--Ds],Cs[Ds]=null;for(;a===Ti;)Ti=nn[--an],nn[an]=null,na=nn[--an],nn[an]=null,ra=nn[--an],nn[an]=null}var yr=null,yt=null,Fe=!1,Di=null,Rn=!1,Hh=Error(n(519));function Pi(a){var l=Error(n(418,""));throw no(tn(l,a)),Hh}function Jy(a){var l=a.stateNode,c=a.type,f=a.memoizedProps;switch(l[zt]=a,l[Zt]=f,c){case"dialog":Be("cancel",l),Be("close",l);break;case"iframe":case"object":case"embed":Be("load",l);break;case"video":case"audio":for(c=0;c<Eo.length;c++)Be(Eo[c],l);break;case"source":Be("error",l);break;case"img":case"image":case"link":Be("error",l),Be("load",l);break;case"details":Be("toggle",l);break;case"input":Be("invalid",l),my(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),eu(l);break;case"select":Be("invalid",l);break;case"textarea":Be("invalid",l),xy(l,f.value,f.defaultValue,f.children),eu(l)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||f.suppressHydrationWarning===!0||xj(l.textContent,c)?(f.popover!=null&&(Be("beforetoggle",l),Be("toggle",l)),f.onScroll!=null&&Be("scroll",l),f.onScrollEnd!=null&&Be("scrollend",l),f.onClick!=null&&(l.onclick=Fu),l=!0):l=!1,l||Pi(a)}function eb(a){for(yr=a.return;yr;)switch(yr.tag){case 5:case 13:Rn=!1;return;case 27:case 3:Rn=!0;return;default:yr=yr.return}}function to(a){if(a!==yr)return!1;if(!Fe)return eb(a),Fe=!0,!1;var l=a.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||ig(a.type,a.memoizedProps)),c=!c),c&&yt&&Pi(a),eb(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(l===0){yt=wn(a.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++;a=a.nextSibling}yt=null}}else l===27?(l=yt,Za(a.type)?(a=cg,cg=null,yt=a):yt=l):yt=yr?wn(a.stateNode.nextSibling):null;return!0}function ro(){yt=yr=null,Fe=!1}function tb(){var a=Di;return a!==null&&(Er===null?Er=a:Er.push.apply(Er,a),Di=null),a}function no(a){Di===null?Di=[a]:Di.push(a)}var Kh=te(null),Mi=null,aa=null;function La(a,l,c){H(Kh,l._currentValue),l._currentValue=c}function ia(a){a._currentValue=Kh.current,ne(Kh)}function Yh(a,l,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),a===c)break;a=a.return}}function Gh(a,l,c,f){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=p;for(var q=0;q<l.length;q++)if(M.context===l[q]){y.lanes|=c,M=y.alternate,M!==null&&(M.lanes|=c),Yh(y.return,c,a),f||(E=null);break e}y=M.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(n(341));E.lanes|=c,y=E.alternate,y!==null&&(y.lanes|=c),Yh(E,c,a),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===a){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function ao(a,l,c,f){a=null;for(var p=l,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var M=p.type;$r(p.pendingProps.value,E.value)||(a!==null?a.push(M):a=[M])}}else if(p===ye.current){if(E=p.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(Mo):a=[Mo])}p=p.return}a!==null&&Gh(l,a,c,f),l.flags|=262144}function gu(a){for(a=a.firstContext;a!==null;){if(!$r(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ri(a){Mi=a,aa=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function or(a){return rb(Mi,a)}function xu(a,l){return Mi===null&&Ri(a),rb(a,l)}function rb(a,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},aa===null){if(a===null)throw Error(n(308));aa=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else aa=aa.next=l;return c}var e3=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){l.aborted=!0,a.forEach(function(c){return c()})}},t3=e.unstable_scheduleCallback,r3=e.unstable_NormalPriority,Ct={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Vh(){return{controller:new e3,data:new Map,refCount:0}}function io(a){a.refCount--,a.refCount===0&&t3(r3,function(){a.controller.abort()})}var so=null,Fh=0,Ps=0,Ms=null;function n3(a,l){if(so===null){var c=so=[];Fh=0,Ps=Xm(),Ms={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Fh++,l.then(nb,nb),l}function nb(){if(--Fh===0&&so!==null){Ms!==null&&(Ms.status="fulfilled");var a=so;so=null,Ps=0,Ms=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function a3(a,l){var c=[],f={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return a.then(function(){f.status="fulfilled",f.value=l;for(var p=0;p<c.length;p++)(0,c[p])(l)},function(p){for(f.status="rejected",f.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),f}var ab=z.S;z.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&n3(a,l),ab!==null&&ab(a,l)};var $i=te(null);function Wh(){var a=$i.current;return a!==null?a:st.pooledCache}function pu(a,l){l===null?H($i,$i.current):H($i,l.pool)}function ib(){var a=Wh();return a===null?null:{parent:Ct._currentValue,pool:a}}var lo=Error(n(460)),sb=Error(n(474)),vu=Error(n(542)),Xh={then:function(){}};function lb(a){return a=a.status,a==="fulfilled"||a==="rejected"}function yu(){}function ob(a,l,c){switch(c=a[c],c===void 0?a.push(l):c!==l&&(l.then(yu,yu),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,ub(a),a;default:if(typeof l.status=="string")l.then(yu,yu);else{if(a=st,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(f){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=f}},function(f){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,ub(a),a}throw oo=l,lo}}var oo=null;function cb(){if(oo===null)throw Error(n(459));var a=oo;return oo=null,a}function ub(a){if(a===lo||a===vu)throw Error(n(483))}var Ia=!1;function Qh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Zh(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function Ua(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function qa(a,l,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Qe&2)!==0){var p=f.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),f.pending=l,l=du(a),Xy(a,null,c),l}return uu(a,f,l,c),du(a)}function co(a,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var f=l.lanes;f&=a.pendingLanes,c|=f,l.lanes=c,vs(a,c)}}function Jh(a,l){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var p=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,c=c.next}while(c!==null);y===null?p=y=l:y=y.next=l}else p=y=l;c={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=l}var em=!1;function uo(){if(em){var a=Ms;if(a!==null)throw a}}function fo(a,l,c,f){em=!1;var p=a.updateQueue;Ia=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var q=M,ee=q.next;q.next=null,E===null?y=ee:E.next=ee,E=q;var he=a.alternate;he!==null&&(he=he.updateQueue,M=he.lastBaseUpdate,M!==E&&(M===null?he.firstBaseUpdate=ee:M.next=ee,he.lastBaseUpdate=q))}if(y!==null){var ve=p.baseState;E=0,he=ee=q=null,M=y;do{var re=M.lane&-536870913,ae=re!==M.lane;if(ae?(Ke&re)===re:(f&re)===re){re!==0&&re===Ps&&(em=!0),he!==null&&(he=he.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Me=a,De=M;re=l;var rt=c;switch(De.tag){case 1:if(Me=De.payload,typeof Me=="function"){ve=Me.call(rt,ve,re);break e}ve=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=De.payload,re=typeof Me=="function"?Me.call(rt,ve,re):Me,re==null)break e;ve=g({},ve,re);break e;case 2:Ia=!0}}re=M.callback,re!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[re]:ae.push(re))}else ae={lane:re,tag:M.tag,payload:M.payload,callback:M.callback,next:null},he===null?(ee=he=ae,q=ve):he=he.next=ae,E|=re;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);he===null&&(q=ve),p.baseState=q,p.firstBaseUpdate=ee,p.lastBaseUpdate=he,y===null&&(p.shared.lanes=0),Fa|=E,a.lanes=E,a.memoizedState=ve}}function db(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function fb(a,l){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)db(c[a],l)}var Rs=te(null),bu=te(0);function hb(a,l){a=fa,H(bu,a),H(Rs,l),fa=a|l.baseLanes}function tm(){H(bu,fa),H(Rs,Rs.current)}function rm(){fa=bu.current,ne(Rs),ne(bu)}var za=0,Ue=null,et=null,Ot=null,wu=!1,$s=!1,Li=!1,ju=0,ho=0,Ls=null,i3=0;function jt(){throw Error(n(321))}function nm(a,l){if(l===null)return!1;for(var c=0;c<l.length&&c<a.length;c++)if(!$r(a[c],l[c]))return!1;return!0}function am(a,l,c,f,p,y){return za=y,Ue=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,z.H=a===null||a.memoizedState===null?Xb:Qb,Li=!1,y=c(f,p),Li=!1,$s&&(y=gb(l,c,f,p)),mb(a),y}function mb(a){z.H=Eu;var l=et!==null&&et.next!==null;if(za=0,Ot=et=Ue=null,wu=!1,ho=0,Ls=null,l)throw Error(n(300));a===null||Ht||(a=a.dependencies,a!==null&&gu(a)&&(Ht=!0))}function gb(a,l,c,f){Ue=a;var p=0;do{if($s&&(Ls=null),ho=0,$s=!1,25<=p)throw Error(n(301));if(p+=1,Ot=et=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=f3,y=l(c,f)}while($s);return y}function s3(){var a=z.H,l=a.useState()[0];return l=typeof l.then=="function"?mo(l):l,a=a.useState()[0],(et!==null?et.memoizedState:null)!==a&&(Ue.flags|=1024),l}function im(){var a=ju!==0;return ju=0,a}function sm(a,l,c){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~c}function lm(a){if(wu){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}wu=!1}za=0,Ot=et=Ue=null,$s=!1,ho=ju=0,Ls=null}function Or(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ot===null?Ue.memoizedState=Ot=a:Ot=Ot.next=a,Ot}function At(){if(et===null){var a=Ue.alternate;a=a!==null?a.memoizedState:null}else a=et.next;var l=Ot===null?Ue.memoizedState:Ot.next;if(l!==null)Ot=l,et=a;else{if(a===null)throw Ue.alternate===null?Error(n(467)):Error(n(310));et=a,a={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},Ot===null?Ue.memoizedState=Ot=a:Ot=Ot.next=a}return Ot}function om(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(a){var l=ho;return ho+=1,Ls===null&&(Ls=[]),a=ob(Ls,a,l),l=Ue,(Ot===null?l.memoizedState:Ot.next)===null&&(l=l.alternate,z.H=l===null||l.memoizedState===null?Xb:Qb),a}function Nu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return mo(a);if(a.$$typeof===A)return or(a)}throw Error(n(438,String(a)))}function cm(a){var l=null,c=Ue.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var f=Ue.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=om(),Ue.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(a),f=0;f<a;f++)c[f]=L;return l.index++,c}function sa(a,l){return typeof l=="function"?l(a):l}function _u(a){var l=At();return um(l,et,a)}function um(a,l,c){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=c;var p=a.baseQueue,y=f.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}l.baseQueue=p=y,f.pending=null}if(y=a.baseState,p===null)a.memoizedState=y;else{l=p.next;var M=E=null,q=null,ee=l,he=!1;do{var ve=ee.lane&-536870913;if(ve!==ee.lane?(Ke&ve)===ve:(za&ve)===ve){var re=ee.revertLane;if(re===0)q!==null&&(q=q.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),ve===Ps&&(he=!0);else if((za&re)===re){ee=ee.next,re===Ps&&(he=!0);continue}else ve={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(M=q=ve,E=y):q=q.next=ve,Ue.lanes|=re,Fa|=re;ve=ee.action,Li&&c(y,ve),y=ee.hasEagerState?ee.eagerState:c(y,ve)}else re={lane:ve,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},q===null?(M=q=re,E=y):q=q.next=re,Ue.lanes|=ve,Fa|=ve;ee=ee.next}while(ee!==null&&ee!==l);if(q===null?E=y:q.next=M,!$r(y,a.memoizedState)&&(Ht=!0,he&&(c=Ms,c!==null)))throw c;a.memoizedState=y,a.baseState=E,a.baseQueue=q,f.lastRenderedState=y}return p===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function dm(a){var l=At(),c=l.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var f=c.dispatch,p=c.pending,y=l.memoizedState;if(p!==null){c.pending=null;var E=p=p.next;do y=a(y,E.action),E=E.next;while(E!==p);$r(y,l.memoizedState)||(Ht=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),c.lastRenderedState=y}return[y,f]}function xb(a,l,c){var f=Ue,p=At(),y=Fe;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=l();var E=!$r((et||p).memoizedState,c);E&&(p.memoizedState=c,Ht=!0),p=p.queue;var M=yb.bind(null,f,p,a);if(go(2048,8,M,[a]),p.getSnapshot!==l||E||Ot!==null&&Ot.memoizedState.tag&1){if(f.flags|=2048,Is(9,Su(),vb.bind(null,f,p,c,l),null),st===null)throw Error(n(349));y||(za&124)!==0||pb(f,l,c)}return c}function pb(a,l,c){a.flags|=16384,a={getSnapshot:l,value:c},l=Ue.updateQueue,l===null?(l=om(),Ue.updateQueue=l,l.stores=[a]):(c=l.stores,c===null?l.stores=[a]:c.push(a))}function vb(a,l,c,f){l.value=c,l.getSnapshot=f,bb(l)&&wb(a)}function yb(a,l,c){return c(function(){bb(l)&&wb(a)})}function bb(a){var l=a.getSnapshot;a=a.value;try{var c=l();return!$r(a,c)}catch{return!0}}function wb(a){var l=ks(a,2);l!==null&&Br(l,a,2)}function fm(a){var l=Or();if(typeof a=="function"){var c=a;if(a=c(),Li){Cn(!0);try{c()}finally{Cn(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:a},l}function jb(a,l,c,f){return a.baseState=c,um(a,et,typeof f=="function"?f:sa)}function l3(a,l,c,f,p){if(Au(a))throw Error(n(485));if(a=l.action,a!==null){var y={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};z.T!==null?c(!0):y.isTransition=!1,f(y),c=l.pending,c===null?(y.next=l.pending=y,Nb(l,y)):(y.next=c.next,l.pending=c.next=y)}}function Nb(a,l){var c=l.action,f=l.payload,p=a.state;if(l.isTransition){var y=z.T,E={};z.T=E;try{var M=c(p,f),q=z.S;q!==null&&q(E,M),_b(a,l,M)}catch(ee){hm(a,l,ee)}finally{z.T=y}}else try{y=c(p,f),_b(a,l,y)}catch(ee){hm(a,l,ee)}}function _b(a,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Sb(a,l,f)},function(f){return hm(a,l,f)}):Sb(a,l,c)}function Sb(a,l,c){l.status="fulfilled",l.value=c,Ob(l),a.state=c,l=a.pending,l!==null&&(c=l.next,c===l?a.pending=null:(c=c.next,l.next=c,Nb(a,c)))}function hm(a,l,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=c,Ob(l),l=l.next;while(l!==f)}a.action=null}function Ob(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Ab(a,l){return l}function Eb(a,l){if(Fe){var c=st.formState;if(c!==null){e:{var f=Ue;if(Fe){if(yt){t:{for(var p=yt,y=Rn;p.nodeType!==8;){if(!y){p=null;break t}if(p=wn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){yt=wn(p.nextSibling),f=p.data==="F!";break e}}Pi(f)}f=!1}f&&(l=c[0])}}return c=Or(),c.memoizedState=c.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ab,lastRenderedState:l},c.queue=f,c=Vb.bind(null,Ue,f),f.dispatch=c,f=fm(!1),y=vm.bind(null,Ue,!1,f.queue),f=Or(),p={state:l,dispatch:null,action:a,pending:null},f.queue=p,c=l3.bind(null,Ue,p,y,c),p.dispatch=c,f.memoizedState=a,[l,c,!1]}function kb(a){var l=At();return Tb(l,et,a)}function Tb(a,l,c){if(l=um(a,l,Ab)[0],a=_u(sa)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=mo(l)}catch(E){throw E===lo?vu:E}else f=l;l=At();var p=l.queue,y=p.dispatch;return c!==l.memoizedState&&(Ue.flags|=2048,Is(9,Su(),o3.bind(null,p,c),null)),[f,y,a]}function o3(a,l){a.action=l}function Cb(a){var l=At(),c=et;if(c!==null)return Tb(l,c,a);At(),l=l.memoizedState,c=At();var f=c.queue.dispatch;return c.memoizedState=a,[l,f,!1]}function Is(a,l,c,f){return a={tag:a,create:c,deps:f,inst:l,next:null},l=Ue.updateQueue,l===null&&(l=om(),Ue.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,l.lastEffect=a),a}function Su(){return{destroy:void 0,resource:void 0}}function Db(){return At().memoizedState}function Ou(a,l,c,f){var p=Or();f=f===void 0?null:f,Ue.flags|=a,p.memoizedState=Is(1|l,Su(),c,f)}function go(a,l,c,f){var p=At();f=f===void 0?null:f;var y=p.memoizedState.inst;et!==null&&f!==null&&nm(f,et.memoizedState.deps)?p.memoizedState=Is(l,y,c,f):(Ue.flags|=a,p.memoizedState=Is(1|l,y,c,f))}function Pb(a,l){Ou(8390656,8,a,l)}function Mb(a,l){go(2048,8,a,l)}function Rb(a,l){return go(4,2,a,l)}function $b(a,l){return go(4,4,a,l)}function Lb(a,l){if(typeof l=="function"){a=a();var c=l(a);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Ib(a,l,c){c=c!=null?c.concat([a]):null,go(4,4,Lb.bind(null,l,a),c)}function mm(){}function Ub(a,l){var c=At();l=l===void 0?null:l;var f=c.memoizedState;return l!==null&&nm(l,f[1])?f[0]:(c.memoizedState=[a,l],a)}function qb(a,l){var c=At();l=l===void 0?null:l;var f=c.memoizedState;if(l!==null&&nm(l,f[1]))return f[0];if(f=a(),Li){Cn(!0);try{a()}finally{Cn(!1)}}return c.memoizedState=[f,l],f}function gm(a,l,c){return c===void 0||(za&1073741824)!==0?a.memoizedState=l:(a.memoizedState=c,a=Hw(),Ue.lanes|=a,Fa|=a,c)}function zb(a,l,c,f){return $r(c,l)?c:Rs.current!==null?(a=gm(a,c,f),$r(a,l)||(Ht=!0),a):(za&42)===0?(Ht=!0,a.memoizedState=c):(a=Hw(),Ue.lanes|=a,Fa|=a,l)}function Bb(a,l,c,f,p){var y=G.p;G.p=y!==0&&8>y?y:8;var E=z.T,M={};z.T=M,vm(a,!1,l,c);try{var q=p(),ee=z.S;if(ee!==null&&ee(M,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var he=a3(q,f);xo(a,l,he,zr(a))}else xo(a,l,f,zr(a))}catch(ve){xo(a,l,{then:function(){},status:"rejected",reason:ve},zr())}finally{G.p=y,z.T=E}}function c3(){}function xm(a,l,c,f){if(a.tag!==5)throw Error(n(476));var p=Hb(a).queue;Bb(a,p,l,le,c===null?c3:function(){return Kb(a),c(f)})}function Hb(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:le,baseState:le,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:le},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:sa,lastRenderedState:c},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Kb(a){var l=Hb(a).next.queue;xo(a,l,{},zr())}function pm(){return or(Mo)}function Yb(){return At().memoizedState}function Gb(){return At().memoizedState}function u3(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var c=zr();a=Ua(c);var f=qa(l,a,c);f!==null&&(Br(f,l,c),co(f,l,c)),l={cache:Vh()},a.payload=l;return}l=l.return}}function d3(a,l,c){var f=zr();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Au(a)?Fb(l,c):(c=Lh(a,l,c,f),c!==null&&(Br(c,a,f),Wb(c,l,f)))}function Vb(a,l,c){var f=zr();xo(a,l,c,f)}function xo(a,l,c,f){var p={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Au(a))Fb(l,p);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var E=l.lastRenderedState,M=y(E,c);if(p.hasEagerState=!0,p.eagerState=M,$r(M,E))return uu(a,l,p,0),st===null&&cu(),!1}catch{}finally{}if(c=Lh(a,l,p,f),c!==null)return Br(c,a,f),Wb(c,l,f),!0}return!1}function vm(a,l,c,f){if(f={lane:2,revertLane:Xm(),action:f,hasEagerState:!1,eagerState:null,next:null},Au(a)){if(l)throw Error(n(479))}else l=Lh(a,c,f,2),l!==null&&Br(l,a,2)}function Au(a){var l=a.alternate;return a===Ue||l!==null&&l===Ue}function Fb(a,l){$s=wu=!0;var c=a.pending;c===null?l.next=l:(l.next=c.next,c.next=l),a.pending=l}function Wb(a,l,c){if((c&4194048)!==0){var f=l.lanes;f&=a.pendingLanes,c|=f,l.lanes=c,vs(a,c)}}var Eu={readContext:or,use:Nu,useCallback:jt,useContext:jt,useEffect:jt,useImperativeHandle:jt,useLayoutEffect:jt,useInsertionEffect:jt,useMemo:jt,useReducer:jt,useRef:jt,useState:jt,useDebugValue:jt,useDeferredValue:jt,useTransition:jt,useSyncExternalStore:jt,useId:jt,useHostTransitionStatus:jt,useFormState:jt,useActionState:jt,useOptimistic:jt,useMemoCache:jt,useCacheRefresh:jt},Xb={readContext:or,use:Nu,useCallback:function(a,l){return Or().memoizedState=[a,l===void 0?null:l],a},useContext:or,useEffect:Pb,useImperativeHandle:function(a,l,c){c=c!=null?c.concat([a]):null,Ou(4194308,4,Lb.bind(null,l,a),c)},useLayoutEffect:function(a,l){return Ou(4194308,4,a,l)},useInsertionEffect:function(a,l){Ou(4,2,a,l)},useMemo:function(a,l){var c=Or();l=l===void 0?null:l;var f=a();if(Li){Cn(!0);try{a()}finally{Cn(!1)}}return c.memoizedState=[f,l],f},useReducer:function(a,l,c){var f=Or();if(c!==void 0){var p=c(l);if(Li){Cn(!0);try{c(l)}finally{Cn(!1)}}}else p=l;return f.memoizedState=f.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},f.queue=a,a=a.dispatch=d3.bind(null,Ue,a),[f.memoizedState,a]},useRef:function(a){var l=Or();return a={current:a},l.memoizedState=a},useState:function(a){a=fm(a);var l=a.queue,c=Vb.bind(null,Ue,l);return l.dispatch=c,[a.memoizedState,c]},useDebugValue:mm,useDeferredValue:function(a,l){var c=Or();return gm(c,a,l)},useTransition:function(){var a=fm(!1);return a=Bb.bind(null,Ue,a.queue,!0,!1),Or().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,c){var f=Ue,p=Or();if(Fe){if(c===void 0)throw Error(n(407));c=c()}else{if(c=l(),st===null)throw Error(n(349));(Ke&124)!==0||pb(f,l,c)}p.memoizedState=c;var y={value:c,getSnapshot:l};return p.queue=y,Pb(yb.bind(null,f,y,a),[a]),f.flags|=2048,Is(9,Su(),vb.bind(null,f,y,c,l),null),c},useId:function(){var a=Or(),l=st.identifierPrefix;if(Fe){var c=na,f=ra;c=(f&~(1<<32-xr(f)-1)).toString(32)+c,l="«"+l+"R"+c,c=ju++,0<c&&(l+="H"+c.toString(32)),l+="»"}else c=i3++,l="«"+l+"r"+c.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:pm,useFormState:Eb,useActionState:Eb,useOptimistic:function(a){var l=Or();l.memoizedState=l.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=vm.bind(null,Ue,!0,c),c.dispatch=l,[a,l]},useMemoCache:cm,useCacheRefresh:function(){return Or().memoizedState=u3.bind(null,Ue)}},Qb={readContext:or,use:Nu,useCallback:Ub,useContext:or,useEffect:Mb,useImperativeHandle:Ib,useInsertionEffect:Rb,useLayoutEffect:$b,useMemo:qb,useReducer:_u,useRef:Db,useState:function(){return _u(sa)},useDebugValue:mm,useDeferredValue:function(a,l){var c=At();return zb(c,et.memoizedState,a,l)},useTransition:function(){var a=_u(sa)[0],l=At().memoizedState;return[typeof a=="boolean"?a:mo(a),l]},useSyncExternalStore:xb,useId:Yb,useHostTransitionStatus:pm,useFormState:kb,useActionState:kb,useOptimistic:function(a,l){var c=At();return jb(c,et,a,l)},useMemoCache:cm,useCacheRefresh:Gb},f3={readContext:or,use:Nu,useCallback:Ub,useContext:or,useEffect:Mb,useImperativeHandle:Ib,useInsertionEffect:Rb,useLayoutEffect:$b,useMemo:qb,useReducer:dm,useRef:Db,useState:function(){return dm(sa)},useDebugValue:mm,useDeferredValue:function(a,l){var c=At();return et===null?gm(c,a,l):zb(c,et.memoizedState,a,l)},useTransition:function(){var a=dm(sa)[0],l=At().memoizedState;return[typeof a=="boolean"?a:mo(a),l]},useSyncExternalStore:xb,useId:Yb,useHostTransitionStatus:pm,useFormState:Cb,useActionState:Cb,useOptimistic:function(a,l){var c=At();return et!==null?jb(c,et,a,l):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:cm,useCacheRefresh:Gb},Us=null,po=0;function ku(a){var l=po;return po+=1,Us===null&&(Us=[]),ob(Us,a,l)}function vo(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Tu(a,l){throw l.$$typeof===x?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Zb(a){var l=a._init;return l(a._payload)}function Jb(a){function l(V,K){if(a){var Q=V.deletions;Q===null?(V.deletions=[K],V.flags|=16):Q.push(K)}}function c(V,K){if(!a)return null;for(;K!==null;)l(V,K),K=K.sibling;return null}function f(V){for(var K=new Map;V!==null;)V.key!==null?K.set(V.key,V):K.set(V.index,V),V=V.sibling;return K}function p(V,K){return V=ta(V,K),V.index=0,V.sibling=null,V}function y(V,K,Q){return V.index=Q,a?(Q=V.alternate,Q!==null?(Q=Q.index,Q<K?(V.flags|=67108866,K):Q):(V.flags|=67108866,K)):(V.flags|=1048576,K)}function E(V){return a&&V.alternate===null&&(V.flags|=67108866),V}function M(V,K,Q,me){return K===null||K.tag!==6?(K=Uh(Q,V.mode,me),K.return=V,K):(K=p(K,Q),K.return=V,K)}function q(V,K,Q,me){var Ae=Q.type;return Ae===j?he(V,K,Q.props.children,me,Q.key):K!==null&&(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===T&&Zb(Ae)===K.type)?(K=p(K,Q.props),vo(K,Q),K.return=V,K):(K=fu(Q.type,Q.key,Q.props,null,V.mode,me),vo(K,Q),K.return=V,K)}function ee(V,K,Q,me){return K===null||K.tag!==4||K.stateNode.containerInfo!==Q.containerInfo||K.stateNode.implementation!==Q.implementation?(K=qh(Q,V.mode,me),K.return=V,K):(K=p(K,Q.children||[]),K.return=V,K)}function he(V,K,Q,me,Ae){return K===null||K.tag!==7?(K=ki(Q,V.mode,me,Ae),K.return=V,K):(K=p(K,Q),K.return=V,K)}function ve(V,K,Q){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return K=Uh(""+K,V.mode,Q),K.return=V,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return Q=fu(K.type,K.key,K.props,null,V.mode,Q),vo(Q,K),Q.return=V,Q;case b:return K=qh(K,V.mode,Q),K.return=V,K;case T:var me=K._init;return K=me(K._payload),ve(V,K,Q)}if(Z(K)||J(K))return K=ki(K,V.mode,Q,null),K.return=V,K;if(typeof K.then=="function")return ve(V,ku(K),Q);if(K.$$typeof===A)return ve(V,xu(V,K),Q);Tu(V,K)}return null}function re(V,K,Q,me){var Ae=K!==null?K.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Ae!==null?null:M(V,K,""+Q,me);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===Ae?q(V,K,Q,me):null;case b:return Q.key===Ae?ee(V,K,Q,me):null;case T:return Ae=Q._init,Q=Ae(Q._payload),re(V,K,Q,me)}if(Z(Q)||J(Q))return Ae!==null?null:he(V,K,Q,me,null);if(typeof Q.then=="function")return re(V,K,ku(Q),me);if(Q.$$typeof===A)return re(V,K,xu(V,Q),me);Tu(V,Q)}return null}function ae(V,K,Q,me,Ae){if(typeof me=="string"&&me!==""||typeof me=="number"||typeof me=="bigint")return V=V.get(Q)||null,M(K,V,""+me,Ae);if(typeof me=="object"&&me!==null){switch(me.$$typeof){case v:return V=V.get(me.key===null?Q:me.key)||null,q(K,V,me,Ae);case b:return V=V.get(me.key===null?Q:me.key)||null,ee(K,V,me,Ae);case T:var qe=me._init;return me=qe(me._payload),ae(V,K,Q,me,Ae)}if(Z(me)||J(me))return V=V.get(Q)||null,he(K,V,me,Ae,null);if(typeof me.then=="function")return ae(V,K,Q,ku(me),Ae);if(me.$$typeof===A)return ae(V,K,Q,xu(K,me),Ae);Tu(K,me)}return null}function Me(V,K,Q,me){for(var Ae=null,qe=null,Te=K,Pe=K=0,Yt=null;Te!==null&&Pe<Q.length;Pe++){Te.index>Pe?(Yt=Te,Te=null):Yt=Te.sibling;var Ge=re(V,Te,Q[Pe],me);if(Ge===null){Te===null&&(Te=Yt);break}a&&Te&&Ge.alternate===null&&l(V,Te),K=y(Ge,K,Pe),qe===null?Ae=Ge:qe.sibling=Ge,qe=Ge,Te=Yt}if(Pe===Q.length)return c(V,Te),Fe&&Ci(V,Pe),Ae;if(Te===null){for(;Pe<Q.length;Pe++)Te=ve(V,Q[Pe],me),Te!==null&&(K=y(Te,K,Pe),qe===null?Ae=Te:qe.sibling=Te,qe=Te);return Fe&&Ci(V,Pe),Ae}for(Te=f(Te);Pe<Q.length;Pe++)Yt=ae(Te,V,Pe,Q[Pe],me),Yt!==null&&(a&&Yt.alternate!==null&&Te.delete(Yt.key===null?Pe:Yt.key),K=y(Yt,K,Pe),qe===null?Ae=Yt:qe.sibling=Yt,qe=Yt);return a&&Te.forEach(function(ni){return l(V,ni)}),Fe&&Ci(V,Pe),Ae}function De(V,K,Q,me){if(Q==null)throw Error(n(151));for(var Ae=null,qe=null,Te=K,Pe=K=0,Yt=null,Ge=Q.next();Te!==null&&!Ge.done;Pe++,Ge=Q.next()){Te.index>Pe?(Yt=Te,Te=null):Yt=Te.sibling;var ni=re(V,Te,Ge.value,me);if(ni===null){Te===null&&(Te=Yt);break}a&&Te&&ni.alternate===null&&l(V,Te),K=y(ni,K,Pe),qe===null?Ae=ni:qe.sibling=ni,qe=ni,Te=Yt}if(Ge.done)return c(V,Te),Fe&&Ci(V,Pe),Ae;if(Te===null){for(;!Ge.done;Pe++,Ge=Q.next())Ge=ve(V,Ge.value,me),Ge!==null&&(K=y(Ge,K,Pe),qe===null?Ae=Ge:qe.sibling=Ge,qe=Ge);return Fe&&Ci(V,Pe),Ae}for(Te=f(Te);!Ge.done;Pe++,Ge=Q.next())Ge=ae(Te,V,Pe,Ge.value,me),Ge!==null&&(a&&Ge.alternate!==null&&Te.delete(Ge.key===null?Pe:Ge.key),K=y(Ge,K,Pe),qe===null?Ae=Ge:qe.sibling=Ge,qe=Ge);return a&&Te.forEach(function(hD){return l(V,hD)}),Fe&&Ci(V,Pe),Ae}function rt(V,K,Q,me){if(typeof Q=="object"&&Q!==null&&Q.type===j&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var Ae=Q.key;K!==null;){if(K.key===Ae){if(Ae=Q.type,Ae===j){if(K.tag===7){c(V,K.sibling),me=p(K,Q.props.children),me.return=V,V=me;break e}}else if(K.elementType===Ae||typeof Ae=="object"&&Ae!==null&&Ae.$$typeof===T&&Zb(Ae)===K.type){c(V,K.sibling),me=p(K,Q.props),vo(me,Q),me.return=V,V=me;break e}c(V,K);break}else l(V,K);K=K.sibling}Q.type===j?(me=ki(Q.props.children,V.mode,me,Q.key),me.return=V,V=me):(me=fu(Q.type,Q.key,Q.props,null,V.mode,me),vo(me,Q),me.return=V,V=me)}return E(V);case b:e:{for(Ae=Q.key;K!==null;){if(K.key===Ae)if(K.tag===4&&K.stateNode.containerInfo===Q.containerInfo&&K.stateNode.implementation===Q.implementation){c(V,K.sibling),me=p(K,Q.children||[]),me.return=V,V=me;break e}else{c(V,K);break}else l(V,K);K=K.sibling}me=qh(Q,V.mode,me),me.return=V,V=me}return E(V);case T:return Ae=Q._init,Q=Ae(Q._payload),rt(V,K,Q,me)}if(Z(Q))return Me(V,K,Q,me);if(J(Q)){if(Ae=J(Q),typeof Ae!="function")throw Error(n(150));return Q=Ae.call(Q),De(V,K,Q,me)}if(typeof Q.then=="function")return rt(V,K,ku(Q),me);if(Q.$$typeof===A)return rt(V,K,xu(V,Q),me);Tu(V,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,K!==null&&K.tag===6?(c(V,K.sibling),me=p(K,Q),me.return=V,V=me):(c(V,K),me=Uh(Q,V.mode,me),me.return=V,V=me),E(V)):c(V,K)}return function(V,K,Q,me){try{po=0;var Ae=rt(V,K,Q,me);return Us=null,Ae}catch(Te){if(Te===lo||Te===vu)throw Te;var qe=Lr(29,Te,null,V.mode);return qe.lanes=me,qe.return=V,qe}finally{}}}var qs=Jb(!0),ew=Jb(!1),sn=te(null),$n=null;function Ba(a){var l=a.alternate;H(Dt,Dt.current&1),H(sn,a),$n===null&&(l===null||Rs.current!==null||l.memoizedState!==null)&&($n=a)}function tw(a){if(a.tag===22){if(H(Dt,Dt.current),H(sn,a),$n===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&($n=a)}}else Ha()}function Ha(){H(Dt,Dt.current),H(sn,sn.current)}function la(a){ne(sn),$n===a&&($n=null),ne(Dt)}var Dt=te(0);function Cu(a){for(var l=a;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||og(c)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function ym(a,l,c,f){l=a.memoizedState,c=c(f,l),c=c==null?l:g({},l,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var bm={enqueueSetState:function(a,l,c){a=a._reactInternals;var f=zr(),p=Ua(f);p.payload=l,c!=null&&(p.callback=c),l=qa(a,p,f),l!==null&&(Br(l,a,f),co(l,a,f))},enqueueReplaceState:function(a,l,c){a=a._reactInternals;var f=zr(),p=Ua(f);p.tag=1,p.payload=l,c!=null&&(p.callback=c),l=qa(a,p,f),l!==null&&(Br(l,a,f),co(l,a,f))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var c=zr(),f=Ua(c);f.tag=2,l!=null&&(f.callback=l),l=qa(a,f,c),l!==null&&(Br(l,a,c),co(l,a,c))}};function rw(a,l,c,f,p,y,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,y,E):l.prototype&&l.prototype.isPureReactComponent?!Jl(c,f)||!Jl(p,y):!0}function nw(a,l,c,f){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,f),l.state!==a&&bm.enqueueReplaceState(l,l.state,null)}function Ii(a,l){var c=l;if("ref"in l){c={};for(var f in l)f!=="ref"&&(c[f]=l[f])}if(a=a.defaultProps){c===l&&(c=g({},c));for(var p in a)c[p]===void 0&&(c[p]=a[p])}return c}var Du=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function aw(a){Du(a)}function iw(a){console.error(a)}function sw(a){Du(a)}function Pu(a,l){try{var c=a.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function lw(a,l,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function wm(a,l,c){return c=Ua(c),c.tag=3,c.payload={element:null},c.callback=function(){Pu(a,l)},c}function ow(a){return a=Ua(a),a.tag=3,a}function cw(a,l,c,f){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var y=f.value;a.payload=function(){return p(y)},a.callback=function(){lw(l,c,f)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){lw(l,c,f),typeof p!="function"&&(Wa===null?Wa=new Set([this]):Wa.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function h3(a,l,c,f,p){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=c.alternate,l!==null&&ao(l,c,p,!0),c=sn.current,c!==null){switch(c.tag){case 13:return $n===null?Ym():c.alternate===null&&bt===0&&(bt=3),c.flags&=-257,c.flags|=65536,c.lanes=p,f===Xh?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([f]):l.add(f),Vm(a,f,p)),!1;case 22:return c.flags|=65536,f===Xh?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([f]):c.add(f)),Vm(a,f,p)),!1}throw Error(n(435,c.tag))}return Vm(a,f,p),Ym(),!1}if(Fe)return l=sn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,f!==Hh&&(a=Error(n(422),{cause:f}),no(tn(a,c)))):(f!==Hh&&(l=Error(n(423),{cause:f}),no(tn(l,c))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,f=tn(f,c),p=wm(a.stateNode,f,p),Jh(a,p),bt!==4&&(bt=2)),!1;var y=Error(n(520),{cause:f});if(y=tn(y,c),So===null?So=[y]:So.push(y),bt!==4&&(bt=2),l===null)return!0;f=tn(f,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,a=p&-p,c.lanes|=a,a=wm(c.stateNode,f,a),Jh(c,a),!1;case 1:if(l=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Wa===null||!Wa.has(y))))return c.flags|=65536,p&=-p,c.lanes|=p,p=ow(p),cw(p,a,c,f),Jh(c,p),!1}c=c.return}while(c!==null);return!1}var uw=Error(n(461)),Ht=!1;function er(a,l,c,f){l.child=a===null?ew(l,null,c,f):qs(l,a.child,c,f)}function dw(a,l,c,f,p){c=c.render;var y=l.ref;if("ref"in f){var E={};for(var M in f)M!=="ref"&&(E[M]=f[M])}else E=f;return Ri(l),f=am(a,l,c,E,y,p),M=im(),a!==null&&!Ht?(sm(a,l,p),oa(a,l,p)):(Fe&&M&&zh(l),l.flags|=1,er(a,l,f,p),l.child)}function fw(a,l,c,f,p){if(a===null){var y=c.type;return typeof y=="function"&&!Ih(y)&&y.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=y,hw(a,l,y,f,p)):(a=fu(c.type,null,f,l,l.mode,p),a.ref=l.ref,a.return=l,l.child=a)}if(y=a.child,!km(a,p)){var E=y.memoizedProps;if(c=c.compare,c=c!==null?c:Jl,c(E,f)&&a.ref===l.ref)return oa(a,l,p)}return l.flags|=1,a=ta(y,f),a.ref=l.ref,a.return=l,l.child=a}function hw(a,l,c,f,p){if(a!==null){var y=a.memoizedProps;if(Jl(y,f)&&a.ref===l.ref)if(Ht=!1,l.pendingProps=f=y,km(a,p))(a.flags&131072)!==0&&(Ht=!0);else return l.lanes=a.lanes,oa(a,l,p)}return jm(a,l,c,f,p)}function mw(a,l,c){var f=l.pendingProps,p=f.children,y=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((l.flags&128)!==0){if(f=y!==null?y.baseLanes|c:c,a!==null){for(p=l.child=a.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;l.childLanes=y&~f}else l.childLanes=0,l.child=null;return gw(a,l,f,c)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&pu(l,y!==null?y.cachePool:null),y!==null?hb(l,y):tm(),tw(l);else return l.lanes=l.childLanes=536870912,gw(a,l,y!==null?y.baseLanes|c:c,c)}else y!==null?(pu(l,y.cachePool),hb(l,y),Ha(),l.memoizedState=null):(a!==null&&pu(l,null),tm(),Ha());return er(a,l,p,c),l.child}function gw(a,l,c,f){var p=Wh();return p=p===null?null:{parent:Ct._currentValue,pool:p},l.memoizedState={baseLanes:c,cachePool:p},a!==null&&pu(l,null),tm(),tw(l),a!==null&&ao(a,l,f,!0),null}function Mu(a,l){var c=l.ref;if(c===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(a===null||a.ref!==c)&&(l.flags|=4194816)}}function jm(a,l,c,f,p){return Ri(l),c=am(a,l,c,f,void 0,p),f=im(),a!==null&&!Ht?(sm(a,l,p),oa(a,l,p)):(Fe&&f&&zh(l),l.flags|=1,er(a,l,c,p),l.child)}function xw(a,l,c,f,p,y){return Ri(l),l.updateQueue=null,c=gb(l,f,c,p),mb(a),f=im(),a!==null&&!Ht?(sm(a,l,y),oa(a,l,y)):(Fe&&f&&zh(l),l.flags|=1,er(a,l,c,y),l.child)}function pw(a,l,c,f,p){if(Ri(l),l.stateNode===null){var y=Ts,E=c.contextType;typeof E=="object"&&E!==null&&(y=or(E)),y=new c(f,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=bm,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=f,y.state=l.memoizedState,y.refs={},Qh(l),E=c.contextType,y.context=typeof E=="object"&&E!==null?or(E):Ts,y.state=l.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(ym(l,c,E,f),y.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&bm.enqueueReplaceState(y,y.state,null),fo(l,f,y,p),uo(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(a===null){y=l.stateNode;var M=l.memoizedProps,q=Ii(c,M);y.props=q;var ee=y.context,he=c.contextType;E=Ts,typeof he=="object"&&he!==null&&(E=or(he));var ve=c.getDerivedStateFromProps;he=typeof ve=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=l.pendingProps!==M,he||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||ee!==E)&&nw(l,y,f,E),Ia=!1;var re=l.memoizedState;y.state=re,fo(l,f,y,p),uo(),ee=l.memoizedState,M||re!==ee||Ia?(typeof ve=="function"&&(ym(l,c,ve,f),ee=l.memoizedState),(q=Ia||rw(l,c,q,f,re,ee,E))?(he||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=ee),y.props=f,y.state=ee,y.context=E,f=q):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{y=l.stateNode,Zh(a,l),E=l.memoizedProps,he=Ii(c,E),y.props=he,ve=l.pendingProps,re=y.context,ee=c.contextType,q=Ts,typeof ee=="object"&&ee!==null&&(q=or(ee)),M=c.getDerivedStateFromProps,(ee=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==ve||re!==q)&&nw(l,y,f,q),Ia=!1,re=l.memoizedState,y.state=re,fo(l,f,y,p),uo();var ae=l.memoizedState;E!==ve||re!==ae||Ia||a!==null&&a.dependencies!==null&&gu(a.dependencies)?(typeof M=="function"&&(ym(l,c,M,f),ae=l.memoizedState),(he=Ia||rw(l,c,he,f,re,ae,q)||a!==null&&a.dependencies!==null&&gu(a.dependencies))?(ee||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,ae,q),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,ae,q)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===a.memoizedProps&&re===a.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&re===a.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=ae),y.props=f,y.state=ae,y.context=q,f=he):(typeof y.componentDidUpdate!="function"||E===a.memoizedProps&&re===a.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&re===a.memoizedState||(l.flags|=1024),f=!1)}return y=f,Mu(a,l),f=(l.flags&128)!==0,y||f?(y=l.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,a!==null&&f?(l.child=qs(l,a.child,null,p),l.child=qs(l,null,c,p)):er(a,l,c,p),l.memoizedState=y.state,a=l.child):a=oa(a,l,p),a}function vw(a,l,c,f){return ro(),l.flags|=256,er(a,l,c,f),l.child}var Nm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _m(a){return{baseLanes:a,cachePool:ib()}}function Sm(a,l,c){return a=a!==null?a.childLanes&~c:0,l&&(a|=ln),a}function yw(a,l,c){var f=l.pendingProps,p=!1,y=(l.flags&128)!==0,E;if((E=y)||(E=a!==null&&a.memoizedState===null?!1:(Dt.current&2)!==0),E&&(p=!0,l.flags&=-129),E=(l.flags&32)!==0,l.flags&=-33,a===null){if(Fe){if(p?Ba(l):Ha(),Fe){var M=yt,q;if(q=M){e:{for(q=M,M=Rn;q.nodeType!==8;){if(!M){M=null;break e}if(q=wn(q.nextSibling),q===null){M=null;break e}}M=q}M!==null?(l.memoizedState={dehydrated:M,treeContext:Ti!==null?{id:ra,overflow:na}:null,retryLane:536870912,hydrationErrors:null},q=Lr(18,null,null,0),q.stateNode=M,q.return=l,l.child=q,yr=l,yt=null,q=!0):q=!1}q||Pi(l)}if(M=l.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return og(M)?l.lanes=32:l.lanes=536870912,null;la(l)}return M=f.children,f=f.fallback,p?(Ha(),p=l.mode,M=Ru({mode:"hidden",children:M},p),f=ki(f,p,c,null),M.return=l,f.return=l,M.sibling=f,l.child=M,p=l.child,p.memoizedState=_m(c),p.childLanes=Sm(a,E,c),l.memoizedState=Nm,f):(Ba(l),Om(l,M))}if(q=a.memoizedState,q!==null&&(M=q.dehydrated,M!==null)){if(y)l.flags&256?(Ba(l),l.flags&=-257,l=Am(a,l,c)):l.memoizedState!==null?(Ha(),l.child=a.child,l.flags|=128,l=null):(Ha(),p=f.fallback,M=l.mode,f=Ru({mode:"visible",children:f.children},M),p=ki(p,M,c,null),p.flags|=2,f.return=l,p.return=l,f.sibling=p,l.child=f,qs(l,a.child,null,c),f=l.child,f.memoizedState=_m(c),f.childLanes=Sm(a,E,c),l.memoizedState=Nm,l=p);else if(Ba(l),og(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var ee=E.dgst;E=ee,f=Error(n(419)),f.stack="",f.digest=E,no({value:f,source:null,stack:null}),l=Am(a,l,c)}else if(Ht||ao(a,l,c,!1),E=(c&a.childLanes)!==0,Ht||E){if(E=st,E!==null&&(f=c&-c,f=(f&42)!==0?1:_i(f),f=(f&(E.suspendedLanes|c))!==0?0:f,f!==0&&f!==q.retryLane))throw q.retryLane=f,ks(a,f),Br(E,a,f),uw;M.data==="$?"||Ym(),l=Am(a,l,c)}else M.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=q.treeContext,yt=wn(M.nextSibling),yr=l,Fe=!0,Di=null,Rn=!1,a!==null&&(nn[an++]=ra,nn[an++]=na,nn[an++]=Ti,ra=a.id,na=a.overflow,Ti=l),l=Om(l,f.children),l.flags|=4096);return l}return p?(Ha(),p=f.fallback,M=l.mode,q=a.child,ee=q.sibling,f=ta(q,{mode:"hidden",children:f.children}),f.subtreeFlags=q.subtreeFlags&65011712,ee!==null?p=ta(ee,p):(p=ki(p,M,c,null),p.flags|=2),p.return=l,f.return=l,f.sibling=p,l.child=f,f=p,p=l.child,M=a.child.memoizedState,M===null?M=_m(c):(q=M.cachePool,q!==null?(ee=Ct._currentValue,q=q.parent!==ee?{parent:ee,pool:ee}:q):q=ib(),M={baseLanes:M.baseLanes|c,cachePool:q}),p.memoizedState=M,p.childLanes=Sm(a,E,c),l.memoizedState=Nm,f):(Ba(l),c=a.child,a=c.sibling,c=ta(c,{mode:"visible",children:f.children}),c.return=l,c.sibling=null,a!==null&&(E=l.deletions,E===null?(l.deletions=[a],l.flags|=16):E.push(a)),l.child=c,l.memoizedState=null,c)}function Om(a,l){return l=Ru({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Ru(a,l){return a=Lr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Am(a,l,c){return qs(l,a.child,null,c),a=Om(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function bw(a,l,c){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l),Yh(a.return,l,c)}function Em(a,l,c,f,p){var y=a.memoizedState;y===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:p}:(y.isBackwards=l,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=p)}function ww(a,l,c){var f=l.pendingProps,p=f.revealOrder,y=f.tail;if(er(a,l,f.children,c),f=Dt.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&bw(a,c,l);else if(a.tag===19)bw(a,c,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(H(Dt,f),p){case"forwards":for(c=l.child,p=null;c!==null;)a=c.alternate,a!==null&&Cu(a)===null&&(p=c),c=c.sibling;c=p,c===null?(p=l.child,l.child=null):(p=c.sibling,c.sibling=null),Em(l,!1,p,c,y);break;case"backwards":for(c=null,p=l.child,l.child=null;p!==null;){if(a=p.alternate,a!==null&&Cu(a)===null){l.child=p;break}a=p.sibling,p.sibling=c,c=p,p=a}Em(l,!0,c,null,y);break;case"together":Em(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function oa(a,l,c){if(a!==null&&(l.dependencies=a.dependencies),Fa|=l.lanes,(c&l.childLanes)===0)if(a!==null){if(ao(a,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,c=ta(a,a.pendingProps),l.child=c,c.return=l;a.sibling!==null;)a=a.sibling,c=c.sibling=ta(a,a.pendingProps),c.return=l;c.sibling=null}return l.child}function km(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&gu(a)))}function m3(a,l,c){switch(l.tag){case 3:F(l,l.stateNode.containerInfo),La(l,Ct,a.memoizedState.cache),ro();break;case 27:case 5:U(l);break;case 4:F(l,l.stateNode.containerInfo);break;case 10:La(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Ba(l),l.flags|=128,null):(c&l.child.childLanes)!==0?yw(a,l,c):(Ba(l),a=oa(a,l,c),a!==null?a.sibling:null);Ba(l);break;case 19:var p=(a.flags&128)!==0;if(f=(c&l.childLanes)!==0,f||(ao(a,l,c,!1),f=(c&l.childLanes)!==0),p){if(f)return ww(a,l,c);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),H(Dt,Dt.current),f)break;return null;case 22:case 23:return l.lanes=0,mw(a,l,c);case 24:La(l,Ct,a.memoizedState.cache)}return oa(a,l,c)}function jw(a,l,c){if(a!==null)if(a.memoizedProps!==l.pendingProps)Ht=!0;else{if(!km(a,c)&&(l.flags&128)===0)return Ht=!1,m3(a,l,c);Ht=(a.flags&131072)!==0}else Ht=!1,Fe&&(l.flags&1048576)!==0&&Zy(l,mu,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var f=l.elementType,p=f._init;if(f=p(f._payload),l.type=f,typeof f=="function")Ih(f)?(a=Ii(f,a),l.tag=1,l=pw(null,l,f,a,c)):(l.tag=0,l=jm(null,l,f,a,c));else{if(f!=null){if(p=f.$$typeof,p===P){l.tag=11,l=dw(null,l,f,a,c);break e}else if(p===C){l.tag=14,l=fw(null,l,f,a,c);break e}}throw l=W(f)||f,Error(n(306,l,""))}}return l;case 0:return jm(a,l,l.type,l.pendingProps,c);case 1:return f=l.type,p=Ii(f,l.pendingProps),pw(a,l,f,p,c);case 3:e:{if(F(l,l.stateNode.containerInfo),a===null)throw Error(n(387));f=l.pendingProps;var y=l.memoizedState;p=y.element,Zh(a,l),fo(l,f,null,c);var E=l.memoizedState;if(f=E.cache,La(l,Ct,f),f!==y.cache&&Gh(l,[Ct],c,!0),uo(),f=E.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:E.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=vw(a,l,f,c);break e}else if(f!==p){p=tn(Error(n(424)),l),no(p),l=vw(a,l,f,c);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(yt=wn(a.firstChild),yr=l,Fe=!0,Di=null,Rn=!0,c=ew(l,null,f,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ro(),f===p){l=oa(a,l,c);break e}er(a,l,f,c)}l=l.child}return l;case 26:return Mu(a,l),a===null?(c=Oj(l.type,null,l.pendingProps,null))?l.memoizedState=c:Fe||(c=l.type,a=l.pendingProps,f=Wu(ue.current).createElement(c),f[zt]=l,f[Zt]=a,rr(f,c,a),We(f),l.stateNode=f):l.memoizedState=Oj(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return U(l),a===null&&Fe&&(f=l.stateNode=Nj(l.type,l.pendingProps,ue.current),yr=l,Rn=!0,p=yt,Za(l.type)?(cg=p,yt=wn(f.firstChild)):yt=p),er(a,l,l.pendingProps.children,c),Mu(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Fe&&((p=f=yt)&&(f=B3(f,l.type,l.pendingProps,Rn),f!==null?(l.stateNode=f,yr=l,yt=wn(f.firstChild),Rn=!1,p=!0):p=!1),p||Pi(l)),U(l),p=l.type,y=l.pendingProps,E=a!==null?a.memoizedProps:null,f=y.children,ig(p,y)?f=null:E!==null&&ig(p,E)&&(l.flags|=32),l.memoizedState!==null&&(p=am(a,l,s3,null,null,c),Mo._currentValue=p),Mu(a,l),er(a,l,f,c),l.child;case 6:return a===null&&Fe&&((a=c=yt)&&(c=H3(c,l.pendingProps,Rn),c!==null?(l.stateNode=c,yr=l,yt=null,a=!0):a=!1),a||Pi(l)),null;case 13:return yw(a,l,c);case 4:return F(l,l.stateNode.containerInfo),f=l.pendingProps,a===null?l.child=qs(l,null,f,c):er(a,l,f,c),l.child;case 11:return dw(a,l,l.type,l.pendingProps,c);case 7:return er(a,l,l.pendingProps,c),l.child;case 8:return er(a,l,l.pendingProps.children,c),l.child;case 12:return er(a,l,l.pendingProps.children,c),l.child;case 10:return f=l.pendingProps,La(l,l.type,f.value),er(a,l,f.children,c),l.child;case 9:return p=l.type._context,f=l.pendingProps.children,Ri(l),p=or(p),f=f(p),l.flags|=1,er(a,l,f,c),l.child;case 14:return fw(a,l,l.type,l.pendingProps,c);case 15:return hw(a,l,l.type,l.pendingProps,c);case 19:return ww(a,l,c);case 31:return f=l.pendingProps,c=l.mode,f={mode:f.mode,children:f.children},a===null?(c=Ru(f,c),c.ref=l.ref,l.child=c,c.return=l,l=c):(c=ta(a.child,f),c.ref=l.ref,l.child=c,c.return=l,l=c),l;case 22:return mw(a,l,c);case 24:return Ri(l),f=or(Ct),a===null?(p=Wh(),p===null&&(p=st,y=Vh(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=c),p=y),l.memoizedState={parent:f,cache:p},Qh(l),La(l,Ct,p)):((a.lanes&c)!==0&&(Zh(a,l),fo(l,null,null,c),uo()),p=a.memoizedState,y=l.memoizedState,p.parent!==f?(p={parent:f,cache:f},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),La(l,Ct,f)):(f=y.cache,La(l,Ct,f),f!==p.cache&&Gh(l,[Ct],c,!0))),er(a,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function ca(a){a.flags|=4}function Nw(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Cj(l)){if(l=sn.current,l!==null&&((Ke&4194048)===Ke?$n!==null:(Ke&62914560)!==Ke&&(Ke&536870912)===0||l!==$n))throw oo=Xh,sb;a.flags|=8192}}function $u(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?_r():536870912,a.lanes|=l,Ks|=l)}function yo(a,l){if(!Fe)switch(a.tailMode){case"hidden":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function xt(a){var l=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(l)for(var p=a.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=f,a.childLanes=c,l}function g3(a,l,c){var f=l.pendingProps;switch(Bh(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xt(l),null;case 1:return xt(l),null;case 3:return c=l.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ia(Ct),de(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(to(l)?ca(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,tb())),xt(l),null;case 26:return c=l.memoizedState,a===null?(ca(l),c!==null?(xt(l),Nw(l,c)):(xt(l),l.flags&=-16777217)):c?c!==a.memoizedState?(ca(l),xt(l),Nw(l,c)):(xt(l),l.flags&=-16777217):(a.memoizedProps!==f&&ca(l),xt(l),l.flags&=-16777217),null;case 27:X(l),c=ue.current;var p=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==f&&ca(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return xt(l),null}a=oe.current,to(l)?Jy(l):(a=Nj(p,f,c),l.stateNode=a,ca(l))}return xt(l),null;case 5:if(X(l),c=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==f&&ca(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return xt(l),null}if(a=oe.current,to(l))Jy(l);else{switch(p=Wu(ue.current),a){case 1:a=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=p.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?p.createElement(c,{is:f.is}):p.createElement(c)}}a[zt]=l,a[Zt]=f;e:for(p=l.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break e;for(;p.sibling===null;){if(p.return===null||p.return===l)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}l.stateNode=a;e:switch(rr(a,c,f),c){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&ca(l)}}return xt(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==f&&ca(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(n(166));if(a=ue.current,to(l)){if(a=l.stateNode,c=l.memoizedProps,f=null,p=yr,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}a[zt]=l,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||xj(a.nodeValue,c)),a||Pi(l)}else a=Wu(a).createTextNode(f),a[zt]=l,l.stateNode=a}return xt(l),null;case 13:if(f=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=to(l),f!==null&&f.dehydrated!==null){if(a===null){if(!p)throw Error(n(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[zt]=l}else ro(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;xt(l),p=!1}else p=tb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(la(l),l):(la(l),null)}if(la(l),(l.flags&128)!==0)return l.lanes=c,l;if(c=f!==null,a=a!==null&&a.memoizedState!==null,c){f=l.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048)}return c!==a&&c&&(l.child.flags|=8192),$u(l,l.updateQueue),xt(l),null;case 4:return de(),a===null&&eg(l.stateNode.containerInfo),xt(l),null;case 10:return ia(l.type),xt(l),null;case 19:if(ne(Dt),p=l.memoizedState,p===null)return xt(l),null;if(f=(l.flags&128)!==0,y=p.rendering,y===null)if(f)yo(p,!1);else{if(bt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(y=Cu(a),y!==null){for(l.flags|=128,yo(p,!1),a=y.updateQueue,l.updateQueue=a,$u(l,a),l.subtreeFlags=0,a=c,c=l.child;c!==null;)Qy(c,a),c=c.sibling;return H(Dt,Dt.current&1|2),l.child}a=a.sibling}p.tail!==null&&Se()>Uu&&(l.flags|=128,f=!0,yo(p,!1),l.lanes=4194304)}else{if(!f)if(a=Cu(y),a!==null){if(l.flags|=128,f=!0,a=a.updateQueue,l.updateQueue=a,$u(l,a),yo(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Fe)return xt(l),null}else 2*Se()-p.renderingStartTime>Uu&&c!==536870912&&(l.flags|=128,f=!0,yo(p,!1),l.lanes=4194304);p.isBackwards?(y.sibling=l.child,l.child=y):(a=p.last,a!==null?a.sibling=y:l.child=y,p.last=y)}return p.tail!==null?(l=p.tail,p.rendering=l,p.tail=l.sibling,p.renderingStartTime=Se(),l.sibling=null,a=Dt.current,H(Dt,f?a&1|2:a&1),l):(xt(l),null);case 22:case 23:return la(l),rm(),f=l.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(c&536870912)!==0&&(l.flags&128)===0&&(xt(l),l.subtreeFlags&6&&(l.flags|=8192)):xt(l),c=l.updateQueue,c!==null&&$u(l,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048),a!==null&&ne($i),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),ia(Ct),xt(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function x3(a,l){switch(Bh(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ia(Ct),de(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return X(l),null;case 13:if(la(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));ro()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ne(Dt),null;case 4:return de(),null;case 10:return ia(l.type),null;case 22:case 23:return la(l),rm(),a!==null&&ne($i),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ia(Ct),null;case 25:return null;default:return null}}function _w(a,l){switch(Bh(l),l.tag){case 3:ia(Ct),de();break;case 26:case 27:case 5:X(l);break;case 4:de();break;case 13:la(l);break;case 19:ne(Dt);break;case 10:ia(l.type);break;case 22:case 23:la(l),rm(),a!==null&&ne($i);break;case 24:ia(Ct)}}function bo(a,l){try{var c=l.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&a)===a){f=void 0;var y=c.create,E=c.inst;f=y(),E.destroy=f}c=c.next}while(c!==p)}}catch(M){at(l,l.return,M)}}function Ka(a,l,c){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&a)===a){var E=f.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,p=l;var q=c,ee=M;try{ee()}catch(he){at(p,q,he)}}}f=f.next}while(f!==y)}}catch(he){at(l,l.return,he)}}function Sw(a){var l=a.updateQueue;if(l!==null){var c=a.stateNode;try{fb(l,c)}catch(f){at(a,a.return,f)}}}function Ow(a,l,c){c.props=Ii(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){at(a,l,f)}}function wo(a,l){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(p){at(a,l,p)}}function Ln(a,l){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(p){at(a,l,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){at(a,l,p)}else c.current=null}function Aw(a){var l=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(p){at(a,a.return,p)}}function Tm(a,l,c){try{var f=a.stateNode;L3(f,a.type,c,l),f[Zt]=l}catch(p){at(a,a.return,p)}}function Ew(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Za(a.type)||a.tag===4}function Cm(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ew(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Za(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Dm(a,l,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(a),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=Fu));else if(f!==4&&(f===27&&Za(a.type)&&(c=a.stateNode,l=null),a=a.child,a!==null))for(Dm(a,l,c),a=a.sibling;a!==null;)Dm(a,l,c),a=a.sibling}function Lu(a,l,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?c.insertBefore(a,l):c.appendChild(a);else if(f!==4&&(f===27&&Za(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Lu(a,l,c),a=a.sibling;a!==null;)Lu(a,l,c),a=a.sibling}function kw(a){var l=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);rr(l,f,c),l[zt]=a,l[Zt]=c}catch(y){at(a,a.return,y)}}var ua=!1,Nt=!1,Pm=!1,Tw=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function p3(a,l){if(a=a.containerInfo,ng=td,a=zy(a),Ch(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var E=0,M=-1,q=-1,ee=0,he=0,ve=a,re=null;t:for(;;){for(var ae;ve!==c||p!==0&&ve.nodeType!==3||(M=E+p),ve!==y||f!==0&&ve.nodeType!==3||(q=E+f),ve.nodeType===3&&(E+=ve.nodeValue.length),(ae=ve.firstChild)!==null;)re=ve,ve=ae;for(;;){if(ve===a)break t;if(re===c&&++ee===p&&(M=E),re===y&&++he===f&&(q=E),(ae=ve.nextSibling)!==null)break;ve=re,re=ve.parentNode}ve=ae}c=M===-1||q===-1?null:{start:M,end:q}}else c=null}c=c||{start:0,end:0}}else c=null;for(ag={focusedElem:a,selectionRange:c},td=!1,Kt=l;Kt!==null;)if(l=Kt,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Kt=a;else for(;Kt!==null;){switch(l=Kt,y=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,c=l,p=y.memoizedProps,y=y.memoizedState,f=c.stateNode;try{var Me=Ii(c.type,p,c.elementType===c.type);a=f.getSnapshotBeforeUpdate(Me,y),f.__reactInternalSnapshotBeforeUpdate=a}catch(De){at(c,c.return,De)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,c=a.nodeType,c===9)lg(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":lg(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,Kt=a;break}Kt=l.return}}function Cw(a,l,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ya(a,c),f&4&&bo(5,c);break;case 1:if(Ya(a,c),f&4)if(a=c.stateNode,l===null)try{a.componentDidMount()}catch(E){at(c,c.return,E)}else{var p=Ii(c.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(p,l,a.__reactInternalSnapshotBeforeUpdate)}catch(E){at(c,c.return,E)}}f&64&&Sw(c),f&512&&wo(c,c.return);break;case 3:if(Ya(a,c),f&64&&(a=c.updateQueue,a!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{fb(a,l)}catch(E){at(c,c.return,E)}}break;case 27:l===null&&f&4&&kw(c);case 26:case 5:Ya(a,c),l===null&&f&4&&Aw(c),f&512&&wo(c,c.return);break;case 12:Ya(a,c);break;case 13:Ya(a,c),f&4&&Mw(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=O3.bind(null,c),K3(a,c))));break;case 22:if(f=c.memoizedState!==null||ua,!f){l=l!==null&&l.memoizedState!==null||Nt,p=ua;var y=Nt;ua=f,(Nt=l)&&!y?Ga(a,c,(c.subtreeFlags&8772)!==0):Ya(a,c),ua=p,Nt=y}break;case 30:break;default:Ya(a,c)}}function Dw(a){var l=a.alternate;l!==null&&(a.alternate=null,Dw(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&pe(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var ft=null,Ar=!1;function da(a,l,c){for(c=c.child;c!==null;)Pw(a,l,c),c=c.sibling}function Pw(a,l,c){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(ji,c)}catch{}switch(c.tag){case 26:Nt||Ln(c,l),da(a,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:Nt||Ln(c,l);var f=ft,p=Ar;Za(c.type)&&(ft=c.stateNode,Ar=!1),da(a,l,c),To(c.stateNode),ft=f,Ar=p;break;case 5:Nt||Ln(c,l);case 6:if(f=ft,p=Ar,ft=null,da(a,l,c),ft=f,Ar=p,ft!==null)if(Ar)try{(ft.nodeType===9?ft.body:ft.nodeName==="HTML"?ft.ownerDocument.body:ft).removeChild(c.stateNode)}catch(y){at(c,l,y)}else try{ft.removeChild(c.stateNode)}catch(y){at(c,l,y)}break;case 18:ft!==null&&(Ar?(a=ft,wj(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Io(a)):wj(ft,c.stateNode));break;case 4:f=ft,p=Ar,ft=c.stateNode.containerInfo,Ar=!0,da(a,l,c),ft=f,Ar=p;break;case 0:case 11:case 14:case 15:Nt||Ka(2,c,l),Nt||Ka(4,c,l),da(a,l,c);break;case 1:Nt||(Ln(c,l),f=c.stateNode,typeof f.componentWillUnmount=="function"&&Ow(c,l,f)),da(a,l,c);break;case 21:da(a,l,c);break;case 22:Nt=(f=Nt)||c.memoizedState!==null,da(a,l,c),Nt=f;break;default:da(a,l,c)}}function Mw(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Io(a)}catch(c){at(l,l.return,c)}}function v3(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Tw),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Tw),l;default:throw Error(n(435,a.tag))}}function Mm(a,l){var c=v3(a);l.forEach(function(f){var p=A3.bind(null,a,f);c.has(f)||(c.add(f),f.then(p,p))})}function Ir(a,l){var c=l.deletions;if(c!==null)for(var f=0;f<c.length;f++){var p=c[f],y=a,E=l,M=E;e:for(;M!==null;){switch(M.tag){case 27:if(Za(M.type)){ft=M.stateNode,Ar=!1;break e}break;case 5:ft=M.stateNode,Ar=!1;break e;case 3:case 4:ft=M.stateNode.containerInfo,Ar=!0;break e}M=M.return}if(ft===null)throw Error(n(160));Pw(y,E,p),ft=null,Ar=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Rw(l,a),l=l.sibling}var bn=null;function Rw(a,l){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Ir(l,a),Ur(a),f&4&&(Ka(3,a,a.return),bo(3,a),Ka(5,a,a.return));break;case 1:Ir(l,a),Ur(a),f&512&&(Nt||c===null||Ln(c,c.return)),f&64&&ua&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var p=bn;if(Ir(l,a),Ur(a),f&512&&(Nt||c===null||Ln(c,c.return)),f&4){var y=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":y=p.getElementsByTagName("title")[0],(!y||y[R]||y[zt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(f),p.head.insertBefore(y,p.querySelector("head > title"))),rr(y,f,c),y[zt]=a,We(y),f=y;break e;case"link":var E=kj("link","href",p).get(f+(c.href||""));if(E){for(var M=0;M<E.length;M++)if(y=E[M],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(M,1);break t}}y=p.createElement(f),rr(y,f,c),p.head.appendChild(y);break;case"meta":if(E=kj("meta","content",p).get(f+(c.content||""))){for(M=0;M<E.length;M++)if(y=E[M],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(M,1);break t}}y=p.createElement(f),rr(y,f,c),p.head.appendChild(y);break;default:throw Error(n(468,f))}y[zt]=a,We(y),f=y}a.stateNode=f}else Tj(p,a.type,a.stateNode);else a.stateNode=Ej(p,f,a.memoizedProps);else y!==f?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,f===null?Tj(p,a.type,a.stateNode):Ej(p,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Tm(a,a.memoizedProps,c.memoizedProps)}break;case 27:Ir(l,a),Ur(a),f&512&&(Nt||c===null||Ln(c,c.return)),c!==null&&f&4&&Tm(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Ir(l,a),Ur(a),f&512&&(Nt||c===null||Ln(c,c.return)),a.flags&32){p=a.stateNode;try{js(p,"")}catch(ae){at(a,a.return,ae)}}f&4&&a.stateNode!=null&&(p=a.memoizedProps,Tm(a,p,c!==null?c.memoizedProps:p)),f&1024&&(Pm=!0);break;case 6:if(Ir(l,a),Ur(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(ae){at(a,a.return,ae)}}break;case 3:if(Zu=null,p=bn,bn=Xu(l.containerInfo),Ir(l,a),bn=p,Ur(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Io(l.containerInfo)}catch(ae){at(a,a.return,ae)}Pm&&(Pm=!1,$w(a));break;case 4:f=bn,bn=Xu(a.stateNode.containerInfo),Ir(l,a),Ur(a),bn=f;break;case 12:Ir(l,a),Ur(a);break;case 13:Ir(l,a),Ur(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(qm=Se()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Mm(a,f)));break;case 22:p=a.memoizedState!==null;var q=c!==null&&c.memoizedState!==null,ee=ua,he=Nt;if(ua=ee||p,Nt=he||q,Ir(l,a),Nt=he,ua=ee,Ur(a),f&8192)e:for(l=a.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(c===null||q||ua||Nt||Ui(a)),c=null,l=a;;){if(l.tag===5||l.tag===26){if(c===null){q=c=l;try{if(y=q.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=q.stateNode;var ve=q.memoizedProps.style,re=ve!=null&&ve.hasOwnProperty("display")?ve.display:null;M.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(ae){at(q,q.return,ae)}}}else if(l.tag===6){if(c===null){q=l;try{q.stateNode.nodeValue=p?"":q.memoizedProps}catch(ae){at(q,q.return,ae)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Mm(a,c))));break;case 19:Ir(l,a),Ur(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Mm(a,f)));break;case 30:break;case 21:break;default:Ir(l,a),Ur(a)}}function Ur(a){var l=a.flags;if(l&2){try{for(var c,f=a.return;f!==null;){if(Ew(f)){c=f;break}f=f.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var p=c.stateNode,y=Cm(a);Lu(a,y,p);break;case 5:var E=c.stateNode;c.flags&32&&(js(E,""),c.flags&=-33);var M=Cm(a);Lu(a,M,E);break;case 3:case 4:var q=c.stateNode.containerInfo,ee=Cm(a);Dm(a,ee,q);break;default:throw Error(n(161))}}catch(he){at(a,a.return,he)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function $w(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;$w(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Ya(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Cw(a,l.alternate,l),l=l.sibling}function Ui(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:Ka(4,l,l.return),Ui(l);break;case 1:Ln(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&Ow(l,l.return,c),Ui(l);break;case 27:To(l.stateNode);case 26:case 5:Ln(l,l.return),Ui(l);break;case 22:l.memoizedState===null&&Ui(l);break;case 30:Ui(l);break;default:Ui(l)}a=a.sibling}}function Ga(a,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,p=a,y=l,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ga(p,y,c),bo(4,y);break;case 1:if(Ga(p,y,c),f=y,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(ee){at(f,f.return,ee)}if(f=y,p=f.updateQueue,p!==null){var M=f.stateNode;try{var q=p.shared.hiddenCallbacks;if(q!==null)for(p.shared.hiddenCallbacks=null,p=0;p<q.length;p++)db(q[p],M)}catch(ee){at(f,f.return,ee)}}c&&E&64&&Sw(y),wo(y,y.return);break;case 27:kw(y);case 26:case 5:Ga(p,y,c),c&&f===null&&E&4&&Aw(y),wo(y,y.return);break;case 12:Ga(p,y,c);break;case 13:Ga(p,y,c),c&&E&4&&Mw(p,y);break;case 22:y.memoizedState===null&&Ga(p,y,c),wo(y,y.return);break;case 30:break;default:Ga(p,y,c)}l=l.sibling}}function Rm(a,l){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&io(c))}function $m(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&io(a))}function In(a,l,c,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Lw(a,l,c,f),l=l.sibling}function Lw(a,l,c,f){var p=l.flags;switch(l.tag){case 0:case 11:case 15:In(a,l,c,f),p&2048&&bo(9,l);break;case 1:In(a,l,c,f);break;case 3:In(a,l,c,f),p&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&io(a)));break;case 12:if(p&2048){In(a,l,c,f),a=l.stateNode;try{var y=l.memoizedProps,E=y.id,M=y.onPostCommit;typeof M=="function"&&M(E,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(q){at(l,l.return,q)}}else In(a,l,c,f);break;case 13:In(a,l,c,f);break;case 23:break;case 22:y=l.stateNode,E=l.alternate,l.memoizedState!==null?y._visibility&2?In(a,l,c,f):jo(a,l):y._visibility&2?In(a,l,c,f):(y._visibility|=2,zs(a,l,c,f,(l.subtreeFlags&10256)!==0)),p&2048&&Rm(E,l);break;case 24:In(a,l,c,f),p&2048&&$m(l.alternate,l);break;default:In(a,l,c,f)}}function zs(a,l,c,f,p){for(p=p&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var y=a,E=l,M=c,q=f,ee=E.flags;switch(E.tag){case 0:case 11:case 15:zs(y,E,M,q,p),bo(8,E);break;case 23:break;case 22:var he=E.stateNode;E.memoizedState!==null?he._visibility&2?zs(y,E,M,q,p):jo(y,E):(he._visibility|=2,zs(y,E,M,q,p)),p&&ee&2048&&Rm(E.alternate,E);break;case 24:zs(y,E,M,q,p),p&&ee&2048&&$m(E.alternate,E);break;default:zs(y,E,M,q,p)}l=l.sibling}}function jo(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=a,f=l,p=f.flags;switch(f.tag){case 22:jo(c,f),p&2048&&Rm(f.alternate,f);break;case 24:jo(c,f),p&2048&&$m(f.alternate,f);break;default:jo(c,f)}l=l.sibling}}var No=8192;function Bs(a){if(a.subtreeFlags&No)for(a=a.child;a!==null;)Iw(a),a=a.sibling}function Iw(a){switch(a.tag){case 26:Bs(a),a.flags&No&&a.memoizedState!==null&&nD(bn,a.memoizedState,a.memoizedProps);break;case 5:Bs(a);break;case 3:case 4:var l=bn;bn=Xu(a.stateNode.containerInfo),Bs(a),bn=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=No,No=16777216,Bs(a),No=l):Bs(a));break;default:Bs(a)}}function Uw(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function _o(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];Kt=f,zw(f,a)}Uw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)qw(a),a=a.sibling}function qw(a){switch(a.tag){case 0:case 11:case 15:_o(a),a.flags&2048&&Ka(9,a,a.return);break;case 3:_o(a);break;case 12:_o(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Iu(a)):_o(a);break;default:_o(a)}}function Iu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];Kt=f,zw(f,a)}Uw(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:Ka(8,l,l.return),Iu(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Iu(l));break;default:Iu(l)}a=a.sibling}}function zw(a,l){for(;Kt!==null;){var c=Kt;switch(c.tag){case 0:case 11:case 15:Ka(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:io(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Kt=f;else e:for(c=a;Kt!==null;){f=Kt;var p=f.sibling,y=f.return;if(Dw(f),f===c){Kt=null;break e}if(p!==null){p.return=y,Kt=p;break e}Kt=y}}}var y3={getCacheForType:function(a){var l=or(Ct),c=l.data.get(a);return c===void 0&&(c=a(),l.data.set(a,c)),c}},b3=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,ze=null,Ke=0,Ze=0,qr=null,Va=!1,Hs=!1,Lm=!1,fa=0,bt=0,Fa=0,qi=0,Im=0,ln=0,Ks=0,So=null,Er=null,Um=!1,qm=0,Uu=1/0,qu=null,Wa=null,tr=0,Xa=null,Ys=null,Gs=0,zm=0,Bm=null,Bw=null,Oo=0,Hm=null;function zr(){if((Qe&2)!==0&&Ke!==0)return Ke&-Ke;if(z.T!==null){var a=Ps;return a!==0?a:Xm()}return Qc()}function Hw(){ln===0&&(ln=(Ke&536870912)===0||Fe?dh():536870912);var a=sn.current;return a!==null&&(a.flags|=32),ln}function Br(a,l,c){(a===st&&(Ze===2||Ze===9)||a.cancelPendingCommit!==null)&&(Vs(a,0),Qa(a,Ke,ln,!1)),Dn(a,c),((Qe&2)===0||a!==st)&&(a===st&&((Qe&2)===0&&(qi|=c),bt===4&&Qa(a,Ke,ln,!1)),Un(a))}function Kw(a,l,c){if((Qe&6)!==0)throw Error(n(327));var f=!c&&(l&124)===0&&(l&a.expiredLanes)===0||Zn(a,l),p=f?N3(a,l):Gm(a,l,!0),y=f;do{if(p===0){Hs&&!f&&Qa(a,l,0,!1);break}else{if(c=a.current.alternate,y&&!w3(c)){p=Gm(a,l,!1),y=!1;continue}if(p===2){if(y=l,a.errorRecoveryDisabledLanes&y)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){l=E;e:{var M=a;p=So;var q=M.current.memoizedState.isDehydrated;if(q&&(Vs(M,E).flags|=256),E=Gm(M,E,!1),E!==2){if(Lm&&!q){M.errorRecoveryDisabledLanes|=y,qi|=y,p=4;break e}y=Er,Er=p,y!==null&&(Er===null?Er=y:Er.push.apply(Er,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){Vs(a,0),Qa(a,l,0,!0);break}e:{switch(f=a,y=p,y){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Qa(f,l,ln,!Va);break e;case 2:Er=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(p=qm+300-Se(),10<p)){if(Qa(f,l,ln,!Va),Qn(f,0,!0)!==0)break e;f.timeoutHandle=yj(Yw.bind(null,f,c,Er,qu,Um,l,ln,qi,Ks,Va,y,2,-0,0),p);break e}Yw(f,c,Er,qu,Um,l,ln,qi,Ks,Va,y,0,-0,0)}}break}while(!0);Un(a)}function Yw(a,l,c,f,p,y,E,M,q,ee,he,ve,re,ae){if(a.timeoutHandle=-1,ve=l.subtreeFlags,(ve&8192||(ve&16785408)===16785408)&&(Po={stylesheets:null,count:0,unsuspend:rD},Iw(l),ve=aD(),ve!==null)){a.cancelPendingCommit=ve(Zw.bind(null,a,l,y,c,f,p,E,M,q,he,1,re,ae)),Qa(a,y,E,!ee);return}Zw(a,l,y,c,f,p,E,M,q)}function w3(a){for(var l=a;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var p=c[f],y=p.getSnapshot;p=p.value;try{if(!$r(y(),p))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Qa(a,l,c,f){l&=~Im,l&=~qi,a.suspendedLanes|=l,a.pingedLanes&=~l,f&&(a.warmLanes|=l),f=a.expirationTimes;for(var p=l;0<p;){var y=31-xr(p),E=1<<y;f[y]=-1,p&=~E}c!==0&&zl(a,c,l)}function zu(){return(Qe&6)===0?(Ao(0),!1):!0}function Km(){if(ze!==null){if(Ze===0)var a=ze.return;else a=ze,aa=Mi=null,lm(a),Us=null,po=0,a=ze;for(;a!==null;)_w(a.alternate,a),a=a.return;ze=null}}function Vs(a,l){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,U3(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Km(),st=a,ze=c=ta(a.current,null),Ke=l,Ze=0,qr=null,Va=!1,Hs=Zn(a,l),Lm=!1,Ks=ln=Im=qi=Fa=bt=0,Er=So=null,Um=!1,(l&8)!==0&&(l|=l&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=l;0<f;){var p=31-xr(f),y=1<<p;l|=a[p],f&=~y}return fa=l,cu(),c}function Gw(a,l){Ue=null,z.H=Eu,l===lo||l===vu?(l=cb(),Ze=3):l===sb?(l=cb(),Ze=4):Ze=l===uw?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,qr=l,ze===null&&(bt=1,Pu(a,tn(l,a.current)))}function Vw(){var a=z.H;return z.H=Eu,a===null?Eu:a}function Fw(){var a=z.A;return z.A=y3,a}function Ym(){bt=4,Va||(Ke&4194048)!==Ke&&sn.current!==null||(Hs=!0),(Fa&134217727)===0&&(qi&134217727)===0||st===null||Qa(st,Ke,ln,!1)}function Gm(a,l,c){var f=Qe;Qe|=2;var p=Vw(),y=Fw();(st!==a||Ke!==l)&&(qu=null,Vs(a,l)),l=!1;var E=bt;e:do try{if(Ze!==0&&ze!==null){var M=ze,q=qr;switch(Ze){case 8:Km(),E=6;break e;case 3:case 2:case 9:case 6:sn.current===null&&(l=!0);var ee=Ze;if(Ze=0,qr=null,Fs(a,M,q,ee),c&&Hs){E=0;break e}break;default:ee=Ze,Ze=0,qr=null,Fs(a,M,q,ee)}}j3(),E=bt;break}catch(he){Gw(a,he)}while(!0);return l&&a.shellSuspendCounter++,aa=Mi=null,Qe=f,z.H=p,z.A=y,ze===null&&(st=null,Ke=0,cu()),E}function j3(){for(;ze!==null;)Ww(ze)}function N3(a,l){var c=Qe;Qe|=2;var f=Vw(),p=Fw();st!==a||Ke!==l?(qu=null,Uu=Se()+500,Vs(a,l)):Hs=Zn(a,l);e:do try{if(Ze!==0&&ze!==null){l=ze;var y=qr;t:switch(Ze){case 1:Ze=0,qr=null,Fs(a,l,y,1);break;case 2:case 9:if(lb(y)){Ze=0,qr=null,Xw(l);break}l=function(){Ze!==2&&Ze!==9||st!==a||(Ze=7),Un(a)},y.then(l,l);break e;case 3:Ze=7;break e;case 4:Ze=5;break e;case 7:lb(y)?(Ze=0,qr=null,Xw(l)):(Ze=0,qr=null,Fs(a,l,y,7));break;case 5:var E=null;switch(ze.tag){case 26:E=ze.memoizedState;case 5:case 27:var M=ze;if(!E||Cj(E)){Ze=0,qr=null;var q=M.sibling;if(q!==null)ze=q;else{var ee=M.return;ee!==null?(ze=ee,Bu(ee)):ze=null}break t}}Ze=0,qr=null,Fs(a,l,y,5);break;case 6:Ze=0,qr=null,Fs(a,l,y,6);break;case 8:Km(),bt=6;break e;default:throw Error(n(462))}}_3();break}catch(he){Gw(a,he)}while(!0);return aa=Mi=null,z.H=f,z.A=p,Qe=c,ze!==null?0:(st=null,Ke=0,cu(),bt)}function _3(){for(;ze!==null&&!je();)Ww(ze)}function Ww(a){var l=jw(a.alternate,a,fa);a.memoizedProps=a.pendingProps,l===null?Bu(a):ze=l}function Xw(a){var l=a,c=l.alternate;switch(l.tag){case 15:case 0:l=xw(c,l,l.pendingProps,l.type,void 0,Ke);break;case 11:l=xw(c,l,l.pendingProps,l.type.render,l.ref,Ke);break;case 5:lm(l);default:_w(c,l),l=ze=Qy(l,fa),l=jw(c,l,fa)}a.memoizedProps=a.pendingProps,l===null?Bu(a):ze=l}function Fs(a,l,c,f){aa=Mi=null,lm(l),Us=null,po=0;var p=l.return;try{if(h3(a,p,l,c,Ke)){bt=1,Pu(a,tn(c,a.current)),ze=null;return}}catch(y){if(p!==null)throw ze=p,y;bt=1,Pu(a,tn(c,a.current)),ze=null;return}l.flags&32768?(Fe||f===1?a=!0:Hs||(Ke&536870912)!==0?a=!1:(Va=a=!0,(f===2||f===9||f===3||f===6)&&(f=sn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Qw(l,a)):Bu(l)}function Bu(a){var l=a;do{if((l.flags&32768)!==0){Qw(l,Va);return}a=l.return;var c=g3(l.alternate,l,fa);if(c!==null){ze=c;return}if(l=l.sibling,l!==null){ze=l;return}ze=l=a}while(l!==null);bt===0&&(bt=5)}function Qw(a,l){do{var c=x3(a.alternate,a);if(c!==null){c.flags&=32767,ze=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(a=a.sibling,a!==null)){ze=a;return}ze=a=c}while(a!==null);bt=6,ze=null}function Zw(a,l,c,f,p,y,E,M,q){a.cancelPendingCommit=null;do Hu();while(tr!==0);if((Qe&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(y=l.lanes|l.childLanes,y|=$h,ql(a,c,y,E,M,q),a===st&&(ze=st=null,Ke=0),Ys=l,Xa=a,Gs=c,zm=y,Bm=p,Bw=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,E3(qt,function(){return nj(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=z.T,z.T=null,p=G.p,G.p=2,E=Qe,Qe|=4;try{p3(a,l,c)}finally{Qe=E,G.p=p,z.T=f}}tr=1,Jw(),ej(),tj()}}function Jw(){if(tr===1){tr=0;var a=Xa,l=Ys,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var f=G.p;G.p=2;var p=Qe;Qe|=4;try{Rw(l,a);var y=ag,E=zy(a.containerInfo),M=y.focusedElem,q=y.selectionRange;if(E!==M&&M&&M.ownerDocument&&qy(M.ownerDocument.documentElement,M)){if(q!==null&&Ch(M)){var ee=q.start,he=q.end;if(he===void 0&&(he=ee),"selectionStart"in M)M.selectionStart=ee,M.selectionEnd=Math.min(he,M.value.length);else{var ve=M.ownerDocument||document,re=ve&&ve.defaultView||window;if(re.getSelection){var ae=re.getSelection(),Me=M.textContent.length,De=Math.min(q.start,Me),rt=q.end===void 0?De:Math.min(q.end,Me);!ae.extend&&De>rt&&(E=rt,rt=De,De=E);var V=Uy(M,De),K=Uy(M,rt);if(V&&K&&(ae.rangeCount!==1||ae.anchorNode!==V.node||ae.anchorOffset!==V.offset||ae.focusNode!==K.node||ae.focusOffset!==K.offset)){var Q=ve.createRange();Q.setStart(V.node,V.offset),ae.removeAllRanges(),De>rt?(ae.addRange(Q),ae.extend(K.node,K.offset)):(Q.setEnd(K.node,K.offset),ae.addRange(Q))}}}}for(ve=[],ae=M;ae=ae.parentNode;)ae.nodeType===1&&ve.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<ve.length;M++){var me=ve[M];me.element.scrollLeft=me.left,me.element.scrollTop=me.top}}td=!!ng,ag=ng=null}finally{Qe=p,G.p=f,z.T=c}}a.current=l,tr=2}}function ej(){if(tr===2){tr=0;var a=Xa,l=Ys,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var f=G.p;G.p=2;var p=Qe;Qe|=4;try{Cw(a,l.alternate,l)}finally{Qe=p,G.p=f,z.T=c}}tr=3}}function tj(){if(tr===4||tr===3){tr=0,_e();var a=Xa,l=Ys,c=Gs,f=Bw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?tr=5:(tr=0,Ys=Xa=null,rj(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(Wa=null),Bl(c),l=l.stateNode,gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(ji,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=z.T,p=G.p,G.p=2,z.T=null;try{for(var y=a.onRecoverableError,E=0;E<f.length;E++){var M=f[E];y(M.value,{componentStack:M.stack})}}finally{z.T=l,G.p=p}}(Gs&3)!==0&&Hu(),Un(a),p=a.pendingLanes,(c&4194090)!==0&&(p&42)!==0?a===Hm?Oo++:(Oo=0,Hm=a):Oo=0,Ao(0)}}function rj(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,io(l)))}function Hu(a){return Jw(),ej(),tj(),nj()}function nj(){if(tr!==5)return!1;var a=Xa,l=zm;zm=0;var c=Bl(Gs),f=z.T,p=G.p;try{G.p=32>c?32:c,z.T=null,c=Bm,Bm=null;var y=Xa,E=Gs;if(tr=0,Ys=Xa=null,Gs=0,(Qe&6)!==0)throw Error(n(331));var M=Qe;if(Qe|=4,qw(y.current),Lw(y,y.current,E,c),Qe=M,Ao(0,!1),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(ji,y)}catch{}return!0}finally{G.p=p,z.T=f,rj(a,l)}}function aj(a,l,c){l=tn(c,l),l=wm(a.stateNode,l,2),a=qa(a,l,2),a!==null&&(Dn(a,2),Un(a))}function at(a,l,c){if(a.tag===3)aj(a,a,c);else for(;l!==null;){if(l.tag===3){aj(l,a,c);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Wa===null||!Wa.has(f))){a=tn(c,a),c=ow(2),f=qa(l,c,2),f!==null&&(cw(c,f,l,a),Dn(f,2),Un(f));break}}l=l.return}}function Vm(a,l,c){var f=a.pingCache;if(f===null){f=a.pingCache=new b3;var p=new Set;f.set(l,p)}else p=f.get(l),p===void 0&&(p=new Set,f.set(l,p));p.has(c)||(Lm=!0,p.add(c),a=S3.bind(null,a,l,c),l.then(a,a))}function S3(a,l,c){var f=a.pingCache;f!==null&&f.delete(l),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,st===a&&(Ke&c)===c&&(bt===4||bt===3&&(Ke&62914560)===Ke&&300>Se()-qm?(Qe&2)===0&&Vs(a,0):Im|=c,Ks===Ke&&(Ks=0)),Un(a)}function ij(a,l){l===0&&(l=_r()),a=ks(a,l),a!==null&&(Dn(a,l),Un(a))}function O3(a){var l=a.memoizedState,c=0;l!==null&&(c=l.retryLane),ij(a,c)}function A3(a,l){var c=0;switch(a.tag){case 13:var f=a.stateNode,p=a.memoizedState;p!==null&&(c=p.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(l),ij(a,c)}function E3(a,l){return fe(a,l)}var Ku=null,Ws=null,Fm=!1,Yu=!1,Wm=!1,zi=0;function Un(a){a!==Ws&&a.next===null&&(Ws===null?Ku=Ws=a:Ws=Ws.next=a),Yu=!0,Fm||(Fm=!0,T3())}function Ao(a,l){if(!Wm&&Yu){Wm=!0;do for(var c=!1,f=Ku;f!==null;){if(a!==0){var p=f.pendingLanes;if(p===0)var y=0;else{var E=f.suspendedLanes,M=f.pingedLanes;y=(1<<31-xr(42|a)+1)-1,y&=p&~(E&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,cj(f,y))}else y=Ke,y=Qn(f,f===st?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||Zn(f,y)||(c=!0,cj(f,y));f=f.next}while(c);Wm=!1}}function k3(){sj()}function sj(){Yu=Fm=!1;var a=0;zi!==0&&(I3()&&(a=zi),zi=0);for(var l=Se(),c=null,f=Ku;f!==null;){var p=f.next,y=lj(f,l);y===0?(f.next=null,c===null?Ku=p:c.next=p,p===null&&(Ws=c)):(c=f,(a!==0||(y&3)!==0)&&(Yu=!0)),f=p}Ao(a)}function lj(a,l){for(var c=a.suspendedLanes,f=a.pingedLanes,p=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var E=31-xr(y),M=1<<E,q=p[E];q===-1?((M&c)===0||(M&f)!==0)&&(p[E]=pt(M,l)):q<=l&&(a.expiredLanes|=M),y&=~M}if(l=st,c=Ke,c=Qn(a,a===l?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===l&&(Ze===2||Ze===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&se(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||Zn(a,c)){if(l=c&-c,l===a.callbackPriority)return l;switch(f!==null&&se(f),Bl(c)){case 2:case 8:c=St;break;case 32:c=qt;break;case 268435456:c=mr;break;default:c=qt}return f=oj.bind(null,a),c=fe(c,f),a.callbackPriority=l,a.callbackNode=c,l}return f!==null&&f!==null&&se(f),a.callbackPriority=2,a.callbackNode=null,2}function oj(a,l){if(tr!==0&&tr!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Hu()&&a.callbackNode!==c)return null;var f=Ke;return f=Qn(a,a===st?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(Kw(a,f,l),lj(a,Se()),a.callbackNode!=null&&a.callbackNode===c?oj.bind(null,a):null)}function cj(a,l){if(Hu())return null;Kw(a,l,!0)}function T3(){q3(function(){(Qe&6)!==0?fe(Ut,k3):sj()})}function Xm(){return zi===0&&(zi=dh()),zi}function uj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:ru(""+a)}function dj(a,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,a.id&&c.setAttribute("form",a.id),l.parentNode.insertBefore(c,l),a=new FormData(a),c.parentNode.removeChild(c),a}function C3(a,l,c,f,p){if(l==="submit"&&c&&c.stateNode===p){var y=uj((p[Zt]||null).action),E=f.submitter;E&&(l=(l=E[Zt]||null)?uj(l.formAction):E.getAttribute("formAction"),l!==null&&(y=l,E=null));var M=new su("action","action",null,f,p);a.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(zi!==0){var q=E?dj(p,E):new FormData(p);xm(c,{pending:!0,data:q,method:p.method,action:y},null,q)}}else typeof y=="function"&&(M.preventDefault(),q=E?dj(p,E):new FormData(p),xm(c,{pending:!0,data:q,method:p.method,action:y},y,q))},currentTarget:p}]})}}for(var Qm=0;Qm<Rh.length;Qm++){var Zm=Rh[Qm],D3=Zm.toLowerCase(),P3=Zm[0].toUpperCase()+Zm.slice(1);yn(D3,"on"+P3)}yn(Ky,"onAnimationEnd"),yn(Yy,"onAnimationIteration"),yn(Gy,"onAnimationStart"),yn("dblclick","onDoubleClick"),yn("focusin","onFocus"),yn("focusout","onBlur"),yn(XC,"onTransitionRun"),yn(QC,"onTransitionStart"),yn(ZC,"onTransitionCancel"),yn(Vy,"onTransitionEnd"),Mn("onMouseEnter",["mouseout","mouseover"]),Mn("onMouseLeave",["mouseout","mouseover"]),Mn("onPointerEnter",["pointerout","pointerover"]),Mn("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eo));function fj(a,l){l=(l&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],p=f.event;f=f.listeners;e:{var y=void 0;if(l)for(var E=f.length-1;0<=E;E--){var M=f[E],q=M.instance,ee=M.currentTarget;if(M=M.listener,q!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=ee;try{y(p)}catch(he){Du(he)}p.currentTarget=null,y=q}else for(E=0;E<f.length;E++){if(M=f[E],q=M.instance,ee=M.currentTarget,M=M.listener,q!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=ee;try{y(p)}catch(he){Du(he)}p.currentTarget=null,y=q}}}}function Be(a,l){var c=l[Hl];c===void 0&&(c=l[Hl]=new Set);var f=a+"__bubble";c.has(f)||(hj(l,a,2,!1),c.add(f))}function Jm(a,l,c){var f=0;l&&(f|=4),hj(c,a,f,l)}var Gu="_reactListening"+Math.random().toString(36).slice(2);function eg(a){if(!a[Gu]){a[Gu]=!0,wt.forEach(function(c){c!=="selectionchange"&&(M3.has(c)||Jm(c,!1,a),Jm(c,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Gu]||(l[Gu]=!0,Jm("selectionchange",!1,l))}}function hj(a,l,c,f){switch(Lj(l)){case 2:var p=lD;break;case 8:p=oD;break;default:p=mg}c=p.bind(null,l,c,a),p=void 0,!jh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),f?p!==void 0?a.addEventListener(l,c,{capture:!0,passive:p}):a.addEventListener(l,c,!0):p!==void 0?a.addEventListener(l,c,{passive:p}):a.addEventListener(l,c,!1)}function tg(a,l,c,f,p){var y=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var M=f.stateNode.containerInfo;if(M===p)break;if(E===4)for(E=f.return;E!==null;){var q=E.tag;if((q===3||q===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;M!==null;){if(E=Ne(M),E===null)return;if(q=E.tag,q===5||q===6||q===26||q===27){f=y=E;continue e}M=M.parentNode}}f=f.return}by(function(){var ee=y,he=bh(c),ve=[];e:{var re=Fy.get(a);if(re!==void 0){var ae=su,Me=a;switch(a){case"keypress":if(au(c)===0)break e;case"keydown":case"keyup":ae=EC;break;case"focusin":Me="focus",ae=Oh;break;case"focusout":Me="blur",ae=Oh;break;case"beforeblur":case"afterblur":ae=Oh;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=xC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=CC;break;case Ky:case Yy:case Gy:ae=yC;break;case Vy:ae=PC;break;case"scroll":case"scrollend":ae=mC;break;case"wheel":ae=RC;break;case"copy":case"cut":case"paste":ae=wC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Sy;break;case"toggle":case"beforetoggle":ae=LC}var De=(l&4)!==0,rt=!De&&(a==="scroll"||a==="scrollend"),V=De?re!==null?re+"Capture":null:re;De=[];for(var K=ee,Q;K!==null;){var me=K;if(Q=me.stateNode,me=me.tag,me!==5&&me!==26&&me!==27||Q===null||V===null||(me=Gl(K,V),me!=null&&De.push(ko(K,me,Q))),rt)break;K=K.return}0<De.length&&(re=new ae(re,Me,null,c,he),ve.push({event:re,listeners:De}))}}if((l&7)===0){e:{if(re=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",re&&c!==yh&&(Me=c.relatedTarget||c.fromElement)&&(Ne(Me)||Me[pr]))break e;if((ae||re)&&(re=he.window===he?he:(re=he.ownerDocument)?re.defaultView||re.parentWindow:window,ae?(Me=c.relatedTarget||c.toElement,ae=ee,Me=Me?Ne(Me):null,Me!==null&&(rt=o(Me),De=Me.tag,Me!==rt||De!==5&&De!==27&&De!==6)&&(Me=null)):(ae=null,Me=ee),ae!==Me)){if(De=Ny,me="onMouseLeave",V="onMouseEnter",K="mouse",(a==="pointerout"||a==="pointerover")&&(De=Sy,me="onPointerLeave",V="onPointerEnter",K="pointer"),rt=ae==null?re:Ee(ae),Q=Me==null?re:Ee(Me),re=new De(me,K+"leave",ae,c,he),re.target=rt,re.relatedTarget=Q,me=null,Ne(he)===ee&&(De=new De(V,K+"enter",Me,c,he),De.target=Q,De.relatedTarget=rt,me=De),rt=me,ae&&Me)t:{for(De=ae,V=Me,K=0,Q=De;Q;Q=Xs(Q))K++;for(Q=0,me=V;me;me=Xs(me))Q++;for(;0<K-Q;)De=Xs(De),K--;for(;0<Q-K;)V=Xs(V),Q--;for(;K--;){if(De===V||V!==null&&De===V.alternate)break t;De=Xs(De),V=Xs(V)}De=null}else De=null;ae!==null&&mj(ve,re,ae,De,!1),Me!==null&&rt!==null&&mj(ve,rt,Me,De,!0)}}e:{if(re=ee?Ee(ee):window,ae=re.nodeName&&re.nodeName.toLowerCase(),ae==="select"||ae==="input"&&re.type==="file")var Ae=Py;else if(Cy(re))if(My)Ae=VC;else{Ae=YC;var qe=KC}else ae=re.nodeName,!ae||ae.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?ee&&vh(ee.elementType)&&(Ae=Py):Ae=GC;if(Ae&&(Ae=Ae(a,ee))){Dy(ve,Ae,c,he);break e}qe&&qe(a,re,ee),a==="focusout"&&ee&&re.type==="number"&&ee.memoizedProps.value!=null&&ph(re,"number",re.value)}switch(qe=ee?Ee(ee):window,a){case"focusin":(Cy(qe)||qe.contentEditable==="true")&&(Os=qe,Dh=ee,eo=null);break;case"focusout":eo=Dh=Os=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,By(ve,c,he);break;case"selectionchange":if(WC)break;case"keydown":case"keyup":By(ve,c,he)}var Te;if(Eh)e:{switch(a){case"compositionstart":var Pe="onCompositionStart";break e;case"compositionend":Pe="onCompositionEnd";break e;case"compositionupdate":Pe="onCompositionUpdate";break e}Pe=void 0}else Ss?ky(a,c)&&(Pe="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(Pe="onCompositionStart");Pe&&(Oy&&c.locale!=="ko"&&(Ss||Pe!=="onCompositionStart"?Pe==="onCompositionEnd"&&Ss&&(Te=wy()):($a=he,Nh="value"in $a?$a.value:$a.textContent,Ss=!0)),qe=Vu(ee,Pe),0<qe.length&&(Pe=new _y(Pe,a,null,c,he),ve.push({event:Pe,listeners:qe}),Te?Pe.data=Te:(Te=Ty(c),Te!==null&&(Pe.data=Te)))),(Te=UC?qC(a,c):zC(a,c))&&(Pe=Vu(ee,"onBeforeInput"),0<Pe.length&&(qe=new _y("onBeforeInput","beforeinput",null,c,he),ve.push({event:qe,listeners:Pe}),qe.data=Te)),C3(ve,a,ee,c,he)}fj(ve,l)})}function ko(a,l,c){return{instance:a,listener:l,currentTarget:c}}function Vu(a,l){for(var c=l+"Capture",f=[];a!==null;){var p=a,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Gl(a,c),p!=null&&f.unshift(ko(a,p,y)),p=Gl(a,l),p!=null&&f.push(ko(a,p,y))),a.tag===3)return f;a=a.return}return[]}function Xs(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function mj(a,l,c,f,p){for(var y=l._reactName,E=[];c!==null&&c!==f;){var M=c,q=M.alternate,ee=M.stateNode;if(M=M.tag,q!==null&&q===f)break;M!==5&&M!==26&&M!==27||ee===null||(q=ee,p?(ee=Gl(c,y),ee!=null&&E.unshift(ko(c,ee,q))):p||(ee=Gl(c,y),ee!=null&&E.push(ko(c,ee,q)))),c=c.return}E.length!==0&&a.push({event:l,listeners:E})}var R3=/\r\n?/g,$3=/\u0000|\uFFFD/g;function gj(a){return(typeof a=="string"?a:""+a).replace(R3,`
`).replace($3,"")}function xj(a,l){return l=gj(l),gj(a)===l}function Fu(){}function tt(a,l,c,f,p,y){switch(c){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||js(a,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&js(a,""+f);break;case"className":bs(a,"class",f);break;case"tabIndex":bs(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":bs(a,c,f);break;case"style":vy(a,f,y);break;case"data":if(l!=="object"){bs(a,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=ru(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(l!=="input"&&tt(a,l,"name",p.name,p,null),tt(a,l,"formEncType",p.formEncType,p,null),tt(a,l,"formMethod",p.formMethod,p,null),tt(a,l,"formTarget",p.formTarget,p,null)):(tt(a,l,"encType",p.encType,p,null),tt(a,l,"method",p.method,p,null),tt(a,l,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=ru(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=Fu);break;case"onScroll":f!=null&&Be("scroll",a);break;case"onScrollEnd":f!=null&&Be("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=ru(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":Be("beforetoggle",a),Be("toggle",a),Yl(a,"popover",f);break;case"xlinkActuate":vn(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":vn(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":vn(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":vn(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":vn(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":vn(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":vn(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":vn(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":vn(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":Yl(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=fC.get(c)||c,Yl(a,c,f))}}function rg(a,l,c,f,p,y){switch(c){case"style":vy(a,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"children":typeof f=="string"?js(a,f):(typeof f=="number"||typeof f=="bigint")&&js(a,""+f);break;case"onScroll":f!=null&&Be("scroll",a);break;case"onScrollEnd":f!=null&&Be("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Fu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Si.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),l=c.slice(2,p?c.length-7:void 0),y=a[Zt]||null,y=y!=null?y[c]:null,typeof y=="function"&&a.removeEventListener(l,y,p),typeof f=="function")){typeof y!="function"&&y!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(l,f,p);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):Yl(a,c,f)}}}function rr(a,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",a),Be("load",a);var f=!1,p=!1,y;for(y in c)if(c.hasOwnProperty(y)){var E=c[y];if(E!=null)switch(y){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:tt(a,l,y,E,c,null)}}p&&tt(a,l,"srcSet",c.srcSet,c,null),f&&tt(a,l,"src",c.src,c,null);return;case"input":Be("invalid",a);var M=y=E=p=null,q=null,ee=null;for(f in c)if(c.hasOwnProperty(f)){var he=c[f];if(he!=null)switch(f){case"name":p=he;break;case"type":E=he;break;case"checked":q=he;break;case"defaultChecked":ee=he;break;case"value":y=he;break;case"defaultValue":M=he;break;case"children":case"dangerouslySetInnerHTML":if(he!=null)throw Error(n(137,l));break;default:tt(a,l,f,he,c,null)}}my(a,y,M,q,ee,E,p,!1),eu(a);return;case"select":Be("invalid",a),f=E=y=null;for(p in c)if(c.hasOwnProperty(p)&&(M=c[p],M!=null))switch(p){case"value":y=M;break;case"defaultValue":E=M;break;case"multiple":f=M;default:tt(a,l,p,M,c,null)}l=y,c=E,a.multiple=!!f,l!=null?ws(a,!!f,l,!1):c!=null&&ws(a,!!f,c,!0);return;case"textarea":Be("invalid",a),y=p=f=null;for(E in c)if(c.hasOwnProperty(E)&&(M=c[E],M!=null))switch(E){case"value":f=M;break;case"defaultValue":p=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:tt(a,l,E,M,c,null)}xy(a,f,p,y),eu(a);return;case"option":for(q in c)if(c.hasOwnProperty(q)&&(f=c[q],f!=null))switch(q){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:tt(a,l,q,f,c,null)}return;case"dialog":Be("beforetoggle",a),Be("toggle",a),Be("cancel",a),Be("close",a);break;case"iframe":case"object":Be("load",a);break;case"video":case"audio":for(f=0;f<Eo.length;f++)Be(Eo[f],a);break;case"image":Be("error",a),Be("load",a);break;case"details":Be("toggle",a);break;case"embed":case"source":case"link":Be("error",a),Be("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in c)if(c.hasOwnProperty(ee)&&(f=c[ee],f!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:tt(a,l,ee,f,c,null)}return;default:if(vh(l)){for(he in c)c.hasOwnProperty(he)&&(f=c[he],f!==void 0&&rg(a,l,he,f,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(f=c[M],f!=null&&tt(a,l,M,f,c,null))}function L3(a,l,c,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,M=null,q=null,ee=null,he=null;for(ae in c){var ve=c[ae];if(c.hasOwnProperty(ae)&&ve!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":q=ve;default:f.hasOwnProperty(ae)||tt(a,l,ae,null,f,ve)}}for(var re in f){var ae=f[re];if(ve=c[re],f.hasOwnProperty(re)&&(ae!=null||ve!=null))switch(re){case"type":y=ae;break;case"name":p=ae;break;case"checked":ee=ae;break;case"defaultChecked":he=ae;break;case"value":E=ae;break;case"defaultValue":M=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,l));break;default:ae!==ve&&tt(a,l,re,ae,f,ve)}}xh(a,E,M,q,ee,he,y,p);return;case"select":ae=E=M=re=null;for(y in c)if(q=c[y],c.hasOwnProperty(y)&&q!=null)switch(y){case"value":break;case"multiple":ae=q;default:f.hasOwnProperty(y)||tt(a,l,y,null,f,q)}for(p in f)if(y=f[p],q=c[p],f.hasOwnProperty(p)&&(y!=null||q!=null))switch(p){case"value":re=y;break;case"defaultValue":M=y;break;case"multiple":E=y;default:y!==q&&tt(a,l,p,y,f,q)}l=M,c=E,f=ae,re!=null?ws(a,!!c,re,!1):!!f!=!!c&&(l!=null?ws(a,!!c,l,!0):ws(a,!!c,c?[]:"",!1));return;case"textarea":ae=re=null;for(M in c)if(p=c[M],c.hasOwnProperty(M)&&p!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:tt(a,l,M,null,f,p)}for(E in f)if(p=f[E],y=c[E],f.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":re=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==y&&tt(a,l,E,p,f,y)}gy(a,re,ae);return;case"option":for(var Me in c)if(re=c[Me],c.hasOwnProperty(Me)&&re!=null&&!f.hasOwnProperty(Me))switch(Me){case"selected":a.selected=!1;break;default:tt(a,l,Me,null,f,re)}for(q in f)if(re=f[q],ae=c[q],f.hasOwnProperty(q)&&re!==ae&&(re!=null||ae!=null))switch(q){case"selected":a.selected=re&&typeof re!="function"&&typeof re!="symbol";break;default:tt(a,l,q,re,f,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var De in c)re=c[De],c.hasOwnProperty(De)&&re!=null&&!f.hasOwnProperty(De)&&tt(a,l,De,null,f,re);for(ee in f)if(re=f[ee],ae=c[ee],f.hasOwnProperty(ee)&&re!==ae&&(re!=null||ae!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(n(137,l));break;default:tt(a,l,ee,re,f,ae)}return;default:if(vh(l)){for(var rt in c)re=c[rt],c.hasOwnProperty(rt)&&re!==void 0&&!f.hasOwnProperty(rt)&&rg(a,l,rt,void 0,f,re);for(he in f)re=f[he],ae=c[he],!f.hasOwnProperty(he)||re===ae||re===void 0&&ae===void 0||rg(a,l,he,re,f,ae);return}}for(var V in c)re=c[V],c.hasOwnProperty(V)&&re!=null&&!f.hasOwnProperty(V)&&tt(a,l,V,null,f,re);for(ve in f)re=f[ve],ae=c[ve],!f.hasOwnProperty(ve)||re===ae||re==null&&ae==null||tt(a,l,ve,re,f,ae)}var ng=null,ag=null;function Wu(a){return a.nodeType===9?a:a.ownerDocument}function pj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vj(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function ig(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var sg=null;function I3(){var a=window.event;return a&&a.type==="popstate"?a===sg?!1:(sg=a,!0):(sg=null,!1)}var yj=typeof setTimeout=="function"?setTimeout:void 0,U3=typeof clearTimeout=="function"?clearTimeout:void 0,bj=typeof Promise=="function"?Promise:void 0,q3=typeof queueMicrotask=="function"?queueMicrotask:typeof bj<"u"?function(a){return bj.resolve(null).then(a).catch(z3)}:yj;function z3(a){setTimeout(function(){throw a})}function Za(a){return a==="head"}function wj(a,l){var c=l,f=0,p=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<f&&8>f){c=f;var E=a.ownerDocument;if(c&1&&To(E.documentElement),c&2&&To(E.body),c&4)for(c=E.head,To(c),E=c.firstChild;E;){var M=E.nextSibling,q=E.nodeName;E[R]||q==="SCRIPT"||q==="STYLE"||q==="LINK"&&E.rel.toLowerCase()==="stylesheet"||c.removeChild(E),E=M}}if(p===0){a.removeChild(y),Io(l);return}p--}else c==="$"||c==="$?"||c==="$!"?p++:f=c.charCodeAt(0)-48;else f=0;c=y}while(c);Io(l)}function lg(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":lg(c),pe(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function B3(a,l,c,f){for(;a.nodeType===1;){var p=c;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[R])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=wn(a.nextSibling),a===null)break}return null}function H3(a,l,c){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=wn(a.nextSibling),a===null))return null;return a}function og(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function K3(a,l){var c=a.ownerDocument;if(a.data!=="$?"||c.readyState==="complete")l();else{var f=function(){l(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function wn(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var cg=null;function jj(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return a;l--}else c==="/$"&&l++}a=a.previousSibling}return null}function Nj(a,l,c){switch(l=Wu(c),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function To(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);pe(a)}var on=new Map,_j=new Set;function Xu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var ha=G.d;G.d={f:Y3,r:G3,D:V3,C:F3,L:W3,m:X3,X:Z3,S:Q3,M:J3};function Y3(){var a=ha.f(),l=zu();return a||l}function G3(a){var l=we(a);l!==null&&l.tag===5&&l.type==="form"?Kb(l):ha.r(a)}var Qs=typeof document>"u"?null:document;function Sj(a,l,c){var f=Qs;if(f&&typeof l=="string"&&l){var p=en(l);p='link[rel="'+a+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),_j.has(p)||(_j.add(p),a={rel:a,crossOrigin:c,href:l},f.querySelector(p)===null&&(l=f.createElement("link"),rr(l,"link",a),We(l),f.head.appendChild(l)))}}function V3(a){ha.D(a),Sj("dns-prefetch",a,null)}function F3(a,l){ha.C(a,l),Sj("preconnect",a,l)}function W3(a,l,c){ha.L(a,l,c);var f=Qs;if(f&&a&&l){var p='link[rel="preload"][as="'+en(l)+'"]';l==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+en(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+en(c.imageSizes)+'"]')):p+='[href="'+en(a)+'"]';var y=p;switch(l){case"style":y=Zs(a);break;case"script":y=Js(a)}on.has(y)||(a=g({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:a,as:l},c),on.set(y,a),f.querySelector(p)!==null||l==="style"&&f.querySelector(Co(y))||l==="script"&&f.querySelector(Do(y))||(l=f.createElement("link"),rr(l,"link",a),We(l),f.head.appendChild(l)))}}function X3(a,l){ha.m(a,l);var c=Qs;if(c&&a){var f=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+en(f)+'"][href="'+en(a)+'"]',y=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Js(a)}if(!on.has(y)&&(a=g({rel:"modulepreload",href:a},l),on.set(y,a),c.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Do(y)))return}f=c.createElement("link"),rr(f,"link",a),We(f),c.head.appendChild(f)}}}function Q3(a,l,c){ha.S(a,l,c);var f=Qs;if(f&&a){var p=Ie(f).hoistableStyles,y=Zs(a);l=l||"default";var E=p.get(y);if(!E){var M={loading:0,preload:null};if(E=f.querySelector(Co(y)))M.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},c),(c=on.get(y))&&ug(a,c);var q=E=f.createElement("link");We(q),rr(q,"link",a),q._p=new Promise(function(ee,he){q.onload=ee,q.onerror=he}),q.addEventListener("load",function(){M.loading|=1}),q.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Qu(E,l,f)}E={type:"stylesheet",instance:E,count:1,state:M},p.set(y,E)}}}function Z3(a,l){ha.X(a,l);var c=Qs;if(c&&a){var f=Ie(c).hoistableScripts,p=Js(a),y=f.get(p);y||(y=c.querySelector(Do(p)),y||(a=g({src:a,async:!0},l),(l=on.get(p))&&dg(a,l),y=c.createElement("script"),We(y),rr(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function J3(a,l){ha.M(a,l);var c=Qs;if(c&&a){var f=Ie(c).hoistableScripts,p=Js(a),y=f.get(p);y||(y=c.querySelector(Do(p)),y||(a=g({src:a,async:!0,type:"module"},l),(l=on.get(p))&&dg(a,l),y=c.createElement("script"),We(y),rr(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function Oj(a,l,c,f){var p=(p=ue.current)?Xu(p):null;if(!p)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Zs(c.href),c=Ie(p).hoistableStyles,f=c.get(l),f||(f={type:"style",instance:null,count:0,state:null},c.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Zs(c.href);var y=Ie(p).hoistableStyles,E=y.get(a);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,E),(y=p.querySelector(Co(a)))&&!y._p&&(E.instance=y,E.state.loading=5),on.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},on.set(a,c),y||eD(p,a,c,E.state))),l&&f===null)throw Error(n(528,""));return E}if(l&&f!==null)throw Error(n(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Js(c),c=Ie(p).hoistableScripts,f=c.get(l),f||(f={type:"script",instance:null,count:0,state:null},c.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Zs(a){return'href="'+en(a)+'"'}function Co(a){return'link[rel="stylesheet"]['+a+"]"}function Aj(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function eD(a,l,c,f){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=a.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),rr(l,"link",c),We(l),a.head.appendChild(l))}function Js(a){return'[src="'+en(a)+'"]'}function Do(a){return"script[async]"+a}function Ej(a,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var f=a.querySelector('style[data-href~="'+en(c.href)+'"]');if(f)return l.instance=f,We(f),f;var p=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),We(f),rr(f,"style",p),Qu(f,c.precedence,a),l.instance=f;case"stylesheet":p=Zs(c.href);var y=a.querySelector(Co(p));if(y)return l.state.loading|=4,l.instance=y,We(y),y;f=Aj(c),(p=on.get(p))&&ug(f,p),y=(a.ownerDocument||a).createElement("link"),We(y);var E=y;return E._p=new Promise(function(M,q){E.onload=M,E.onerror=q}),rr(y,"link",f),l.state.loading|=4,Qu(y,c.precedence,a),l.instance=y;case"script":return y=Js(c.src),(p=a.querySelector(Do(y)))?(l.instance=p,We(p),p):(f=c,(p=on.get(y))&&(f=g({},c),dg(f,p)),a=a.ownerDocument||a,p=a.createElement("script"),We(p),rr(p,"link",f),a.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,Qu(f,c.precedence,a));return l.instance}function Qu(a,l,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,y=p,E=0;E<f.length;E++){var M=f[E];if(M.dataset.precedence===l)y=M;else if(y!==p)break}y?y.parentNode.insertBefore(a,y.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(a,l.firstChild))}function ug(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function dg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Zu=null;function kj(a,l,c){if(Zu===null){var f=new Map,p=Zu=new Map;p.set(c,f)}else p=Zu,f=p.get(c),f||(f=new Map,p.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),p=0;p<c.length;p++){var y=c[p];if(!(y[R]||y[zt]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(l)||"";E=a+E;var M=f.get(E);M?M.push(y):f.set(E,[y])}}return f}function Tj(a,l,c){a=a.ownerDocument||a,a.head.insertBefore(c,l==="title"?a.querySelector("head > title"):null)}function tD(a,l,c){if(c===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Cj(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var Po=null;function rD(){}function nD(a,l,c){if(Po===null)throw Error(n(475));var f=Po;if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Zs(c.href),y=a.querySelector(Co(p));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=Ju.bind(f),a.then(f,f)),l.state.loading|=4,l.instance=y,We(y);return}y=a.ownerDocument||a,c=Aj(c),(p=on.get(p))&&ug(c,p),y=y.createElement("link"),We(y);var E=y;E._p=new Promise(function(M,q){E.onload=M,E.onerror=q}),rr(y,"link",c),l.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=Ju.bind(f),a.addEventListener("load",l),a.addEventListener("error",l))}}function aD(){if(Po===null)throw Error(n(475));var a=Po;return a.stylesheets&&a.count===0&&fg(a,a.stylesheets),0<a.count?function(l){var c=setTimeout(function(){if(a.stylesheets&&fg(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(c)}}:null}function Ju(){if(this.count--,this.count===0){if(this.stylesheets)fg(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var ed=null;function fg(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,ed=new Map,l.forEach(iD,a),ed=null,Ju.call(a))}function iD(a,l){if(!(l.state.loading&4)){var c=ed.get(a);if(c)var f=c.get(null);else{c=new Map,ed.set(a,c);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),f=E)}f&&c.set(null,f)}p=l.instance,E=p.getAttribute("data-precedence"),y=c.get(E)||f,y===f&&c.set(null,p),c.set(E,p),this.count++,f=Ju.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),y?y.parentNode.insertBefore(p,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),l.state.loading|=4}}var Mo={$$typeof:A,Provider:null,Consumer:null,_currentValue:le,_currentValue2:le,_threadCount:0};function sD(a,l,c,f,p,y,E,M){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ni(0),this.hiddenUpdates=Ni(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Dj(a,l,c,f,p,y,E,M,q,ee,he,ve){return a=new sD(a,l,c,E,M,q,ee,ve),l=1,y===!0&&(l|=24),y=Lr(3,null,null,l),a.current=y,y.stateNode=a,l=Vh(),l.refCount++,a.pooledCache=l,l.refCount++,y.memoizedState={element:f,isDehydrated:c,cache:l},Qh(y),a}function Pj(a){return a?(a=Ts,a):Ts}function Mj(a,l,c,f,p,y){p=Pj(p),f.context===null?f.context=p:f.pendingContext=p,f=Ua(l),f.payload={element:c},y=y===void 0?null:y,y!==null&&(f.callback=y),c=qa(a,f,l),c!==null&&(Br(c,a,l),co(c,a,l))}function Rj(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<l?c:l}}function hg(a,l){Rj(a,l),(a=a.alternate)&&Rj(a,l)}function $j(a){if(a.tag===13){var l=ks(a,67108864);l!==null&&Br(l,a,67108864),hg(a,67108864)}}var td=!0;function lD(a,l,c,f){var p=z.T;z.T=null;var y=G.p;try{G.p=2,mg(a,l,c,f)}finally{G.p=y,z.T=p}}function oD(a,l,c,f){var p=z.T;z.T=null;var y=G.p;try{G.p=8,mg(a,l,c,f)}finally{G.p=y,z.T=p}}function mg(a,l,c,f){if(td){var p=gg(f);if(p===null)tg(a,l,f,rd,c),Ij(a,f);else if(uD(p,a,l,c,f))f.stopPropagation();else if(Ij(a,f),l&4&&-1<cD.indexOf(a)){for(;p!==null;){var y=we(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=Zr(y.pendingLanes);if(E!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var q=1<<31-xr(E);M.entanglements[1]|=q,E&=~q}Un(y),(Qe&6)===0&&(Uu=Se()+500,Ao(0))}}break;case 13:M=ks(y,2),M!==null&&Br(M,y,2),zu(),hg(y,2)}if(y=gg(f),y===null&&tg(a,l,f,rd,c),y===p)break;p=y}p!==null&&f.stopPropagation()}else tg(a,l,f,null,c)}}function gg(a){return a=bh(a),xg(a)}var rd=null;function xg(a){if(rd=null,a=Ne(a),a!==null){var l=o(a);if(l===null)a=null;else{var c=l.tag;if(c===13){if(a=u(l),a!==null)return a;a=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return rd=a,null}function Lj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case Ut:return 2;case St:return 8;case qt:case pn:return 32;case mr:return 268435456;default:return 32}default:return 32}}var pg=!1,Ja=null,ei=null,ti=null,Ro=new Map,$o=new Map,ri=[],cD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ij(a,l){switch(a){case"focusin":case"focusout":Ja=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":Ro.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":$o.delete(l.pointerId)}}function Lo(a,l,c,f,p,y){return a===null||a.nativeEvent!==y?(a={blockedOn:l,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},l!==null&&(l=we(l),l!==null&&$j(l)),a):(a.eventSystemFlags|=f,l=a.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),a)}function uD(a,l,c,f,p){switch(l){case"focusin":return Ja=Lo(Ja,a,l,c,f,p),!0;case"dragenter":return ei=Lo(ei,a,l,c,f,p),!0;case"mouseover":return ti=Lo(ti,a,l,c,f,p),!0;case"pointerover":var y=p.pointerId;return Ro.set(y,Lo(Ro.get(y)||null,a,l,c,f,p)),!0;case"gotpointercapture":return y=p.pointerId,$o.set(y,Lo($o.get(y)||null,a,l,c,f,p)),!0}return!1}function Uj(a){var l=Ne(a.target);if(l!==null){var c=o(l);if(c!==null){if(l=c.tag,l===13){if(l=u(c),l!==null){a.blockedOn=l,fh(a.priority,function(){if(c.tag===13){var f=zr();f=_i(f);var p=ks(c,f);p!==null&&Br(p,c,f),hg(c,f)}});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function nd(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var c=gg(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);yh=f,c.target.dispatchEvent(f),yh=null}else return l=we(c),l!==null&&$j(l),a.blockedOn=c,!1;l.shift()}return!0}function qj(a,l,c){nd(a)&&c.delete(l)}function dD(){pg=!1,Ja!==null&&nd(Ja)&&(Ja=null),ei!==null&&nd(ei)&&(ei=null),ti!==null&&nd(ti)&&(ti=null),Ro.forEach(qj),$o.forEach(qj)}function ad(a,l){a.blockedOn===l&&(a.blockedOn=null,pg||(pg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dD)))}var id=null;function zj(a){id!==a&&(id=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){id===a&&(id=null);for(var l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],p=a[l+2];if(typeof f!="function"){if(xg(f||c)===null)continue;break}var y=we(c);y!==null&&(a.splice(l,3),l-=3,xm(y,{pending:!0,data:p,method:c.method,action:f},f,p))}}))}function Io(a){function l(q){return ad(q,a)}Ja!==null&&ad(Ja,a),ei!==null&&ad(ei,a),ti!==null&&ad(ti,a),Ro.forEach(l),$o.forEach(l);for(var c=0;c<ri.length;c++){var f=ri[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<ri.length&&(c=ri[0],c.blockedOn===null);)Uj(c),c.blockedOn===null&&ri.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var p=c[f],y=c[f+1],E=p[Zt]||null;if(typeof y=="function")E||zj(c);else if(E){var M=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[Zt]||null)M=E.formAction;else if(xg(p)!==null)continue}else M=E.action;typeof M=="function"?c[f+1]=M:(c.splice(f,3),f-=3),zj(c)}}}function vg(a){this._internalRoot=a}sd.prototype.render=vg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var c=l.current,f=zr();Mj(c,f,a,l,null,null)},sd.prototype.unmount=vg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Mj(a.current,2,null,a,null,null),zu(),l[pr]=null}};function sd(a){this._internalRoot=a}sd.prototype.unstable_scheduleHydration=function(a){if(a){var l=Qc();a={blockedOn:null,target:a,priority:l};for(var c=0;c<ri.length&&l!==0&&l<ri[c].priority;c++);ri.splice(c,0,a),c===0&&Uj(a)}};var Bj=t.version;if(Bj!=="19.1.1")throw Error(n(527,Bj,"19.1.1"));G.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(l),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var fD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ld.isDisabled&&ld.supportsFiber)try{ji=ld.inject(fD),gr=ld}catch{}}return qo.createRoot=function(a,l){if(!s(a))throw Error(n(299));var c=!1,f="",p=aw,y=iw,E=sw,M=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks)),l=Dj(a,1,!1,null,null,c,f,p,y,E,M,null),a[pr]=l.current,eg(a),new vg(l)},qo.hydrateRoot=function(a,l,c){if(!s(a))throw Error(n(299));var f=!1,p="",y=aw,E=iw,M=sw,q=null,ee=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(q=c.unstable_transitionCallbacks),c.formState!==void 0&&(ee=c.formState)),l=Dj(a,1,!0,l,c??null,f,p,y,E,M,q,ee),l.context=Pj(null),c=l.current,f=zr(),f=_i(f),p=Ua(f),p.callback=null,qa(c,p,f),c=f,l.current.lanes=c,Dn(l,c),Un(l),a[pr]=l.current,eg(a),new sd(l)},qo.version="19.1.1",qo}var Zj;function _D(){if(Zj)return wg.exports;Zj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),wg.exports=ND(),wg.exports}var SD=_D();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jj="popstate";function OD(e={}){function t(n,s){let{pathname:o,search:u,hash:d}=n.location;return fx("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:oc(s)}return ED(t,r,null,e)}function $t(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function On(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AD(){return Math.random().toString(36).substring(2,10)}function e1(e,t){return{usr:e.state,key:e.key,idx:t}}function fx(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?_c(t):t,state:r,key:t&&t.key||n||AD()}}function oc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _c(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function ED(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,u=s.history,d="POP",h=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){d="POP";let N=g(),S=N==null?null:N-m;m=N,h&&h({action:d,location:_.location,delta:S})}function v(N,S){d="PUSH";let O=fx(_.location,N,S);m=g()+1;let A=e1(O,m),P=_.createHref(O);try{u.pushState(A,"",P)}catch(k){if(k instanceof DOMException&&k.name==="DataCloneError")throw k;s.location.assign(P)}o&&h&&h({action:d,location:_.location,delta:1})}function b(N,S){d="REPLACE";let O=fx(_.location,N,S);m=g();let A=e1(O,m),P=_.createHref(O);u.replaceState(A,"",P),o&&h&&h({action:d,location:_.location,delta:0})}function j(N){return kD(N)}let _={get action(){return d},get location(){return e(s,u)},listen(N){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Jj,x),h=N,()=>{s.removeEventListener(Jj,x),h=null}},createHref(N){return t(s,N)},createURL:j,encodeLocation(N){let S=j(N);return{pathname:S.pathname,search:S.search,hash:S.hash}},push:v,replace:b,go(N){return u.go(N)}};return _}function kD(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),$t(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:oc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function R2(e,t,r="/"){return TD(e,t,r,!1)}function TD(e,t,r,n){let s=typeof t=="string"?_c(t):t,o=Sa(s.pathname||"/",r);if(o==null)return null;let u=$2(e);CD(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=BD(o);d=qD(u[h],m,n)}return d}function $2(e,t=[],r=[],n="",s=!1){let o=(u,d,h=s,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&h)return;$t(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let x=wa([n,g.relativePath]),v=r.concat(g);u.children&&u.children.length>0&&($t(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),$2(u.children,t,v,x,h)),!(u.path==null&&!u.index)&&t.push({path:x,score:ID(x,u.index),routesMeta:v})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let h of L2(u.path))o(u,d,!0,h)}),t}function L2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let u=L2(n.join("/")),d=[];return d.push(...u.map(h=>h===""?o:[o,h].join("/"))),s&&d.push(...u),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function CD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:UD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var DD=/^:[\w-]+$/,PD=3,MD=2,RD=1,$D=10,LD=-2,t1=e=>e==="*";function ID(e,t){let r=e.split("/"),n=r.length;return r.some(t1)&&(n+=LD),t&&(n+=MD),r.filter(s=>!t1(s)).reduce((s,o)=>s+(DD.test(o)?PD:o===""?RD:$D),n)}function UD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function qD(e,t,r=!1){let{routesMeta:n}=e,s={},o="/",u=[];for(let d=0;d<n.length;++d){let h=n[d],m=d===n.length-1,g=o==="/"?t:t.slice(o.length)||"/",x=Rd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),v=h.route;if(!x&&m&&r&&!n[n.length-1].route.index&&(x=Rd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:wa([o,x.pathname]),pathnameBase:GD(wa([o,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(o=wa([o,x.pathnameBase]))}return u}function Rd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=zD(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:n.reduce((m,{paramName:g,isOptional:x},v)=>{if(g==="*"){let j=d[v]||"";u=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[v];return x&&!b?m[g]=void 0:m[g]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function zD(e,t=!1,r=!0){On(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function BD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return On(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function Sa(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function HD(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?_c(e):e;return{pathname:r?r.startsWith("/")?r:KD(r,t):t,search:VD(n),hash:FD(s)}}function KD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Sg(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function I2(e){let t=YD(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function U2(e,t,r,n=!1){let s;typeof e=="string"?s=_c(e):(s={...e},$t(!s.pathname||!s.pathname.includes("?"),Sg("?","pathname","search",s)),$t(!s.pathname||!s.pathname.includes("#"),Sg("#","pathname","hash",s)),$t(!s.search||!s.search.includes("#"),Sg("#","search","hash",s)));let o=e===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=r;else{let x=t.length-1;if(!n&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),x-=1;s.pathname=v.join("/")}d=x>=0?t[x]:"/"}let h=HD(s,d),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var wa=e=>e.join("/").replace(/\/\/+/g,"/"),GD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var q2=["POST","PUT","PATCH","DELETE"];new Set(q2);var XD=["GET",...q2];new Set(XD);var El=w.createContext(null);El.displayName="DataRouter";var Sf=w.createContext(null);Sf.displayName="DataRouterState";w.createContext(!1);var z2=w.createContext({isTransitioning:!1});z2.displayName="ViewTransition";var QD=w.createContext(new Map);QD.displayName="Fetchers";var ZD=w.createContext(null);ZD.displayName="Await";var Fn=w.createContext(null);Fn.displayName="Navigation";var Of=w.createContext(null);Of.displayName="Location";var Wn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Wn.displayName="Route";var vp=w.createContext(null);vp.displayName="RouteError";function JD(e,{relative:t}={}){$t(Sc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(Fn),{hash:s,pathname:o,search:u}=Oc(e,{relative:t}),d=o;return r!=="/"&&(d=o==="/"?r:wa([r,o])),n.createHref({pathname:d,search:u,hash:s})}function Sc(){return w.useContext(Of)!=null}function hi(){return $t(Sc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(Of).location}var B2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H2(e){w.useContext(Fn).static||w.useLayoutEffect(e)}function gt(){let{isDataRoute:e}=w.useContext(Wn);return e?fP():eP()}function eP(){$t(Sc(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(El),{basename:t,navigator:r}=w.useContext(Fn),{matches:n}=w.useContext(Wn),{pathname:s}=hi(),o=JSON.stringify(I2(n)),u=w.useRef(!1);return H2(()=>{u.current=!0}),w.useCallback((h,m={})=>{if(On(u.current,B2),!u.current)return;if(typeof h=="number"){r.go(h);return}let g=U2(h,JSON.parse(o),s,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:wa([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,o,s,e])}w.createContext(null);function En(){let{matches:e}=w.useContext(Wn),t=e[e.length-1];return t?t.params:{}}function Oc(e,{relative:t}={}){let{matches:r}=w.useContext(Wn),{pathname:n}=hi(),s=JSON.stringify(I2(r));return w.useMemo(()=>U2(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function tP(e,t){return K2(e)}function K2(e,t,r,n,s){$t(Sc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(Fn),{matches:u}=w.useContext(Wn),d=u[u.length-1],h=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let O=x&&x.path||"";Y2(m,!x||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let v=hi(),b;b=v;let j=b.pathname||"/",_=j;if(g!=="/"){let O=g.replace(/^\//,"").split("/");_="/"+j.replace(/^\//,"").split("/").slice(O.length).join("/")}let N=R2(e,{pathname:_});return On(x||N!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),On(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),sP(N&&N.map(O=>Object.assign({},O,{params:Object.assign({},h,O.params),pathname:wa([g,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:wa([g,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,r,n,s)}function rP(){let e=dP(),t=WD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,u)}var nP=w.createElement(rP,null),aP=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Wn.Provider,{value:this.props.routeContext},w.createElement(vp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iP({routeContext:e,match:t,children:r}){let n=w.useContext(El);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Wn.Provider,{value:e},r)}function sP(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,u=r?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);$t(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,h=-1;if(r)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:x,errors:v}=r,b=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,g,x)=>{let v,b=!1,j=null,_=null;r&&(v=u&&g.route.id?u[g.route.id]:void 0,j=g.route.errorElement||nP,d&&(h<0&&x===0?(Y2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,_=null):h===x&&(b=!0,_=g.route.hydrateFallbackElement||null)));let N=t.concat(o.slice(0,x+1)),S=()=>{let O;return v?O=j:b?O=_:g.route.Component?O=w.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=m,w.createElement(iP,{match:g,routeContext:{outlet:m,matches:N,isDataRoute:r!=null},children:O})};return r&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?w.createElement(aP,{location:r.location,revalidation:r.revalidation,component:j,error:v,children:S(),routeContext:{outlet:null,matches:N,isDataRoute:!0},unstable_onError:n}):S()},null)}function yp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lP(e){let t=w.useContext(El);return $t(t,yp(e)),t}function oP(e){let t=w.useContext(Sf);return $t(t,yp(e)),t}function cP(e){let t=w.useContext(Wn);return $t(t,yp(e)),t}function bp(e){let t=cP(e),r=t.matches[t.matches.length-1];return $t(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function uP(){return bp("useRouteId")}function dP(){let e=w.useContext(vp),t=oP("useRouteError"),r=bp("useRouteError");return e!==void 0?e:t.errors?.[r]}function fP(){let{router:e}=lP("useNavigate"),t=bp("useNavigate"),r=w.useRef(!1);return H2(()=>{r.current=!0}),w.useCallback(async(s,o={})=>{On(r.current,B2),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var r1={};function Y2(e,t,r){!t&&!r1[e]&&(r1[e]=!0,On(!1,r))}w.memo(hP);function hP({routes:e,future:t,state:r,unstable_onError:n}){return K2(e,void 0,r,n,t)}function mP({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:o=!1}){$t(!Sc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof r=="string"&&(r=_c(r));let{pathname:h="/",search:m="",hash:g="",state:x=null,key:v="default"}=r,b=w.useMemo(()=>{let j=Sa(h,u);return j==null?null:{location:{pathname:j,search:m,hash:g,state:x,key:v},navigationType:n}},[u,h,m,g,x,v,n]);return On(b!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(Fn.Provider,{value:d},w.createElement(Of.Provider,{children:t,value:b}))}var Cd="get",Dd="application/x-www-form-urlencoded";function Af(e){return e!=null&&typeof e.tagName=="string"}function gP(e){return Af(e)&&e.tagName.toLowerCase()==="button"}function xP(e){return Af(e)&&e.tagName.toLowerCase()==="form"}function pP(e){return Af(e)&&e.tagName.toLowerCase()==="input"}function vP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yP(e,t){return e.button===0&&(!t||t==="_self")&&!vP(e)}function hx(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function bP(e,t){let r=hx(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}var od=null;function wP(){if(od===null)try{new FormData(document.createElement("form"),0),od=!1}catch{od=!0}return od}var jP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Og(e){return e!=null&&!jP.has(e)?(On(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Dd}"`),null):e}function NP(e,t){let r,n,s,o,u;if(xP(e)){let d=e.getAttribute("action");n=d?Sa(d,t):null,r=e.getAttribute("method")||Cd,s=Og(e.getAttribute("enctype"))||Dd,o=new FormData(e)}else if(gP(e)||pP(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(n=h?Sa(h,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Cd,s=Og(e.getAttribute("formenctype"))||Og(d.getAttribute("enctype"))||Dd,o=new FormData(d,e),!wP()){let{name:m,type:g,value:x}=e;if(g==="image"){let v=m?`${m}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else m&&o.append(m,x)}}else{if(Af(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Cd,n=null,s=Dd,u=e}return o&&s==="text/plain"&&(u=o,o=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _P(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&Sa(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function SP(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OP(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AP(e,t,r){let n=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let u=await SP(o,r);return u.links?u.links():[]}return[]}));return CP(n.flat(1).filter(OP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function n1(e,t,r,n,s,o){let u=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,d=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,m)=>u(h,m)||d(h,m)):o==="data"?t.filter((h,m)=>{let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function EP(e,t,{includeHydrateFallback:r}={}){return kP(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function kP(e){return[...new Set(e)]}function TP(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function CP(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let o=JSON.stringify(TP(s));return r.has(o)||(r.add(o),n.push({key:o,link:s})),n},[])}function G2(){let e=w.useContext(El);return wp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function DP(){let e=w.useContext(Sf);return wp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var jp=w.createContext(void 0);jp.displayName="FrameworkContext";function V2(){let e=w.useContext(jp);return wp(e,"You must render this element inside a <HydratedRouter> element"),e}function PP(e,t){let r=w.useContext(jp),[n,s]=w.useState(!1),[o,u]=w.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=t,v=w.useRef(null);w.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let _=S=>{S.forEach(O=>{u(O.isIntersecting)})},N=new IntersectionObserver(_,{threshold:.5});return v.current&&N.observe(v.current),()=>{N.disconnect()}}},[e]),w.useEffect(()=>{if(n){let _=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(_)}}},[n]);let b=()=>{s(!0)},j=()=>{s(!1),u(!1)};return r?e!=="intent"?[o,v,{}]:[o,v,{onFocus:zo(d,b),onBlur:zo(h,j),onMouseEnter:zo(m,b),onMouseLeave:zo(g,j),onTouchStart:zo(x,b)}]:[!1,v,{}]}function zo(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function MP({page:e,...t}){let{router:r}=G2(),n=w.useMemo(()=>R2(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement($P,{page:e,matches:n,...t}):null}function RP(e){let{manifest:t,routeModules:r}=V2(),[n,s]=w.useState([]);return w.useEffect(()=>{let o=!1;return AP(e,t,r).then(u=>{o||s(u)}),()=>{o=!0}},[e,t,r]),n}function $P({page:e,matches:t,...r}){let n=hi(),{manifest:s,routeModules:o}=V2(),{basename:u}=G2(),{loaderData:d,matches:h}=DP(),m=w.useMemo(()=>n1(e,t,h,s,n,"data"),[e,t,h,s,n]),g=w.useMemo(()=>n1(e,t,h,s,n,"assets"),[e,t,h,s,n]),x=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let j=new Set,_=!1;if(t.forEach(S=>{let O=s.routes[S.route.id];!O||!O.hasLoader||(!m.some(A=>A.route.id===S.route.id)&&S.route.id in d&&o[S.route.id]?.shouldRevalidate||O.hasClientLoader?_=!0:j.add(S.route.id))}),j.size===0)return[];let N=_P(e,u,"data");return _&&j.size>0&&N.searchParams.set("_routes",t.filter(S=>j.has(S.route.id)).map(S=>S.route.id).join(",")),[N.pathname+N.search]},[u,d,n,s,m,t,e,o]),v=w.useMemo(()=>EP(g,s),[g,s]),b=RP(g);return w.createElement(w.Fragment,null,x.map(j=>w.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),v.map(j=>w.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),b.map(({key:j,link:_})=>w.createElement("link",{key:j,nonce:r.nonce,..._})))}function LP(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var F2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F2&&(window.__reactRouterVersion="7.8.2")}catch{}function IP({basename:e,children:t,window:r}){let n=w.useRef();n.current==null&&(n.current=OD({window:r,v5Compat:!0}));let s=n.current,[o,u]=w.useState({action:s.action,location:s.location}),d=w.useCallback(h=>{w.startTransition(()=>u(h))},[u]);return w.useLayoutEffect(()=>s.listen(d),[s,d]),w.createElement(mP,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var W2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X2=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:o,replace:u,state:d,target:h,to:m,preventScrollReset:g,viewTransition:x,...v},b){let{basename:j}=w.useContext(Fn),_=typeof m=="string"&&W2.test(m),N,S=!1;if(typeof m=="string"&&_&&(N=m,F2))try{let $=new URL(window.location.href),L=m.startsWith("//")?new URL($.protocol+m):new URL(m),B=Sa(L.pathname,j);L.origin===$.origin&&B!=null?m=B+L.search+L.hash:S=!0}catch{On(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let O=JD(m,{relative:s}),[A,P,k]=PP(n,v),D=BP(m,{replace:u,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:x});function C($){t&&t($),$.defaultPrevented||D($)}let T=w.createElement("a",{...v,...k,href:N||O,onClick:S||o?t:C,ref:LP(b,P),target:h,"data-discover":!_&&r==="render"?"true":void 0});return A&&!_?w.createElement(w.Fragment,null,T,w.createElement(MP,{page:O})):T});X2.displayName="Link";var UP=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:o,to:u,viewTransition:d,children:h,...m},g){let x=Oc(u,{relative:m.relative}),v=hi(),b=w.useContext(Sf),{navigator:j,basename:_}=w.useContext(Fn),N=b!=null&&FP(x)&&d===!0,S=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,O=v.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(O=O.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&_&&(A=Sa(A,_)||A);const P=S!=="/"&&S.endsWith("/")?S.length-1:S.length;let k=O===S||!s&&O.startsWith(S)&&O.charAt(P)==="/",D=A!=null&&(A===S||!s&&A.startsWith(S)&&A.charAt(S.length)==="/"),C={isActive:k,isPending:D,isTransitioning:N},T=k?t:void 0,$;typeof n=="function"?$=n(C):$=[n,k?"active":null,D?"pending":null,N?"transitioning":null].filter(Boolean).join(" ");let L=typeof o=="function"?o(C):o;return w.createElement(X2,{...m,"aria-current":T,className:$,ref:g,style:L,to:u,viewTransition:d},typeof h=="function"?h(C):h)});UP.displayName="NavLink";var qP=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:o,method:u=Cd,action:d,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:x,...v},b)=>{let j=GP(),_=VP(d,{relative:m}),N=u.toLowerCase()==="get"?"get":"post",S=typeof d=="string"&&W2.test(d),O=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let P=A.nativeEvent.submitter,k=P?.getAttribute("formmethod")||u;j(P||A.currentTarget,{fetcherKey:t,method:k,navigate:r,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:x})};return w.createElement("form",{ref:b,method:N,action:_,onSubmit:n?h:O,...v,"data-discover":!S&&e==="render"?"true":void 0})});qP.displayName="Form";function zP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q2(e){let t=w.useContext(El);return $t(t,zP(e)),t}function BP(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=gt(),h=hi(),m=Oc(e,{relative:o});return w.useCallback(g=>{if(yP(g,t)){g.preventDefault();let x=r!==void 0?r:oc(h)===oc(m);d(e,{replace:x,state:n,preventScrollReset:s,relative:o,viewTransition:u})}},[h,d,m,r,n,t,e,s,o,u])}function HP(e){On(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(hx(e)),r=w.useRef(!1),n=hi(),s=w.useMemo(()=>bP(n.search,r.current?null:t.current),[n.search]),o=gt(),u=w.useCallback((d,h)=>{const m=hx(typeof d=="function"?d(new URLSearchParams(s)):d);r.current=!0,o("?"+m,h)},[o,s]);return[s,u]}var KP=0,YP=()=>`__${String(++KP)}__`;function GP(){let{router:e}=Q2("useSubmit"),{basename:t}=w.useContext(Fn),r=uP();return w.useCallback(async(n,s={})=>{let{action:o,method:u,encType:d,formData:h,body:m}=NP(n,t);if(s.navigate===!1){let g=s.fetcherKey||YP();await e.fetch(g,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function VP(e,{relative:t}={}){let{basename:r}=w.useContext(Fn),n=w.useContext(Wn);$t(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...Oc(e||".",{relative:t})},u=hi();if(e==null){o.search=u.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:wa([r,o.pathname])),oc(o)}function FP(e,{relative:t}={}){let r=w.useContext(z2);$t(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Q2("useViewTransitionState"),s=Oc(e,{relative:t});if(!r.isTransitioning)return!1;let o=Sa(r.currentLocation.pathname,n)||r.currentLocation.pathname,u=Sa(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Rd(s.pathname,u)!=null||Rd(s.pathname,o)!=null}var WP=M2();function XP(){return i.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[i.jsx("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),i.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),i.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}const QP="modulepreload",ZP=function(e){return"/"+e},a1={},Ac=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let m=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");s=m(r.map(g=>{if(g=ZP(g),g in a1)return;a1[g]=!0;const x=g.endsWith(".css"),v=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=x?"stylesheet":QP,x||(b.as="script"),b.crossOrigin="",b.href=g,h&&b.setAttribute("nonce",h),document.head.appendChild(b),x)return new Promise((j,_)=>{b.addEventListener("load",j),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return s.then(d=>{for(const h of d||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},JP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ac(async()=>{const{default:n}=await Promise.resolve().then(()=>kl);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class Np extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class eM extends Np{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i1 extends Np{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s1 extends Np{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var mx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(mx||(mx={}));var tM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class rM{constructor(t,{headers:r={},customFetch:n,region:s=mx.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=JP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return tM(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:u}=r;let d={},{region:h}=r;h||(h=this.region);const m=new URL(`${this.url}/${t}`);h&&h!=="any"&&(d["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let g;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(d["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(d["Content-Type"]="application/json",g=JSON.stringify(u)));const x=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:g}).catch(_=>{throw new eM(_)}),v=x.headers.get("x-relay-error");if(v&&v==="true")throw new i1(x);if(!x.ok)throw new s1(x);let b=((n=x.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield x.json():b==="application/octet-stream"?j=yield x.blob():b==="text/event-stream"?j=x:b==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof s1||s instanceof i1?s.context:void 0}}})}}var Gt={},el={},tl={},rl={},nl={},al={},nM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},vl=nM();const aM=vl.fetch,Z2=vl.fetch.bind(vl),J2=vl.Headers,iM=vl.Request,sM=vl.Response,kl=Object.freeze(Object.defineProperty({__proto__:null,Headers:J2,Request:iM,Response:sM,default:Z2,fetch:aM},Symbol.toStringTag,{value:"Module"})),lM=gD(kl);var cd={},l1;function eO(){if(l1)return cd;l1=1,Object.defineProperty(cd,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return cd.default=e,cd}var o1;function tO(){if(o1)return al;o1=1;var e=al&&al.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(al,"__esModule",{value:!0});const t=e(lM),r=e(eO());class n{constructor(o){var u,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,x,v,b;let j=null,_=null,N=null,S=m.status,O=m.statusText;if(m.ok){if(this.method!=="HEAD"){const D=await m.text();D===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?_=D:_=JSON.parse(D))}const P=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),k=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");P&&k&&k.length>1&&(N=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(_)&&(_.length>1?(j={code:"PGRST116",details:`Results contain ${_.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},_=null,N=null,S=406,O="Not Acceptable"):_.length===1?_=_[0]:_=null)}else{const P=await m.text();try{j=JSON.parse(P),Array.isArray(j)&&m.status===404&&(_=[],j=null,S=200,O="OK")}catch{m.status===404&&P===""?(S=204,O="No Content"):j={message:P}}if(j&&this.isMaybeSingle&&(!((b=j?.details)===null||b===void 0)&&b.includes("0 rows"))&&(j=null,S=200,O="OK"),j&&this.shouldThrowOnError)throw new r.default(j)}return{error:j,data:_,count:N,status:S,statusText:O}});return this.shouldThrowOnError||(h=h.catch(m=>{var g,x,v;return{error:{message:`${(g=m?.name)!==null&&g!==void 0?g:"FetchError"}: ${m?.message}`,details:`${(x=m?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(v=m?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,u)}returns(){return this}overrideTypes(){return this}}return al.default=n,al}var c1;function rO(){if(c1)return nl;c1=1;var e=nl&&nl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(nl,"__esModule",{value:!0});const t=e(tO());class r extends t.default{select(s){let o=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${s}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,o,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(m,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var g;const x=[s?"analyze":null,o?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return nl.default=r,nl}var u1;function _p(){if(u1)return rl;u1=1;var e=rl&&rl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(rl,"__esModule",{value:!0});const t=e(rO());class r extends t.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const u=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${h}fts${m}.${o}`),this}match(s){return Object.entries(s).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(s,o,u){return this.url.searchParams.append(s,`not.${o}.${u}`),this}or(s,{foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,o,u){return this.url.searchParams.append(s,`${o}.${u}`),this}}return rl.default=r,rl}var d1;function nO(){if(d1)return tl;d1=1;var e=tl&&tl.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(tl,"__esModule",{value:!0});const t=e(_p());class r{constructor(s,{headers:o={},schema:u,fetch:d}){this.url=s,this.headers=new Headers(o),this.schema=u,this.fetch=d}select(s,{head:o=!1,count:u}={}){const d=o?"HEAD":"GET";let h=!1;const m=(s??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:u=!0}={}){var d;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const x=s.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(x.length>0){const v=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:o}={}){var u;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:s}={}){var o;const u="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return tl.default=r,tl}var f1;function oM(){if(f1)return el;f1=1;var e=el&&el.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(el,"__esModule",{value:!0});const t=e(nO()),r=e(_p());class n{constructor(o,{headers:u={},schema:d,fetch:h}={}){this.url=o,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(o){const u=new URL(`${this.url}/${o}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:d=!1,get:h=!1,count:m}={}){var g;let x;const v=new URL(`${this.url}/rpc/${o}`);let b;d||h?(x=d?"HEAD":"GET",Object.entries(u).filter(([_,N])=>N!==void 0).map(([_,N])=>[_,Array.isArray(N)?`{${N.join(",")}}`:`${N}`]).forEach(([_,N])=>{v.searchParams.append(_,N)})):(x="POST",b=u);const j=new Headers(this.headers);return m&&j.set("Prefer",`count=${m}`),new r.default({method:x,url:v,headers:j,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return el.default=n,el}var h1;function cM(){if(h1)return Gt;h1=1;var e=Gt&&Gt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.PostgrestError=Gt.PostgrestBuilder=Gt.PostgrestTransformBuilder=Gt.PostgrestFilterBuilder=Gt.PostgrestQueryBuilder=Gt.PostgrestClient=void 0;const t=e(oM());Gt.PostgrestClient=t.default;const r=e(nO());Gt.PostgrestQueryBuilder=r.default;const n=e(_p());Gt.PostgrestFilterBuilder=n.default;const s=e(rO());Gt.PostgrestTransformBuilder=s.default;const o=e(tO());Gt.PostgrestBuilder=o.default;const u=e(eO());return Gt.PostgrestError=u.default,Gt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:u.default},Gt}var uM=cM();const dM=Vn(uM),{PostgrestClient:fM,PostgrestQueryBuilder:uF,PostgrestFilterBuilder:dF,PostgrestTransformBuilder:fF,PostgrestBuilder:hF,PostgrestError:mF}=dM;class hM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mM="2.15.4",gM=`realtime-js/${mM}`,xM="1.0.0",gx=1e4,pM=1e3,vM=100;var Jo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Jo||(Jo={}));var Mt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Mt||(Mt={}));var Nn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Nn||(Nn={}));var xx;(function(e){e.websocket="websocket"})(xx||(xx={}));var Wi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Wi||(Wi={}));class yM{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=n.decode(t.slice(u,u+s));u=u+s;const h=n.decode(t.slice(u,u+o));u=u+o;const m=JSON.parse(n.decode(t.slice(u,t.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class aO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const m1=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,u)=>(o[u]=bM(u,e,t,s),o),{})},bM=(e,t,r,n)=>{const s=t.find(d=>d.name===e),o=s?.type,u=r[e];return o&&!n.includes(o)?iO(o,u):px(u)},iO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _M(t,r)}switch(e){case lt.bool:return wM(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return jM(t);case lt.json:case lt.jsonb:return NM(t);case lt.timestamp:return SM(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return px(t);default:return px(t)}},px=e=>e,wM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},NM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},_M=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const u=e.slice(1,r);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>iO(t,d))}return e},SM=e=>typeof e=="string"?e.replace(" ","T"):e,sO=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Ag{constructor(t,r,n={},s=gx){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var g1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(g1||(g1={}));class ec{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ec.syncState(this.state,s,o,u),this.pendingDiffs.forEach(h=>{this.state=ec.syncDiff(this.state,h,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=ec.syncDiff(this.state,s,o,u),d())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),u=this.transformState(r),d={},h={};return this.map(o,(m,g)=>{u[m]||(h[m]=g)}),this.map(u,(m,g)=>{const x=o[m];if(x){const v=g.map(N=>N.presence_ref),b=x.map(N=>N.presence_ref),j=g.filter(N=>b.indexOf(N.presence_ref)<0),_=x.filter(N=>v.indexOf(N.presence_ref)<0);j.length>0&&(d[m]=j),_.length>0&&(h[m]=_)}else d[m]=g}),this.syncDiff(o,{joins:d,leaves:h},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(d,h)=>{var m;const g=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(h),g.length>0){const x=t[d].map(b=>b.presence_ref),v=g.filter(b=>x.indexOf(b.presence_ref)<0);t[d].unshift(...v)}n(d,g,h)}),this.map(u,(d,h)=>{let m=t[d];if(!m)return;const g=h.map(x=>x.presence_ref);m=m.filter(x=>g.indexOf(x.presence_ref)<0),t[d]=m,s(d,m,h),m.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var x1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(x1||(x1={}));var tc;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(tc||(tc={}));var ga;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ga||(ga={}));class Sp{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Mt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Ag(this,Nn.join,this.params,this.timeout),this.rejoinTimer=new aO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Mt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Mt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Mt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Nn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new ec(this),this.broadcastEndpointURL=sO(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Mt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[tc.PRESENCE]&&this.bindings[tc.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,x={},v={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(ga.CHANNEL_ERROR,b)),this._onClose(()=>t?.(ga.CLOSED)),this.updateJoinPayload(Object.assign({config:v},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket.setAuth(),b===void 0){t?.(ga.SUBSCRIBED);return}else{const _=this.bindings.postgres_changes,N=(j=_?.length)!==null&&j!==void 0?j:0,S=[];for(let O=0;O<N;O++){const A=_[O],{filter:{event:P,schema:k,table:D,filter:C}}=A,T=b&&b[O];if(T&&T.event===P&&T.schema===k&&T.table===D&&T.filter===C)S.push(Object.assign(Object.assign({},A),{id:T.id}));else{this.unsubscribe(),this.state=Mt.errored,t?.(ga.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=S,t&&t(ga.SUBSCRIBED);return}}).receive("error",b=>{this.state=Mt.errored,t?.(ga.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(ga.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Mt.joined&&t===tc.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:u}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,h;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Mt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Nn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Ag(this,Nn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Mt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),u}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Ag(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const u=t.toLocaleLowerCase(),{close:d,error:h,leave:m,join:g}=Nn;if(n&&[d,h,m,g].indexOf(u)>=0&&n!==this._joinRef())return;let v=this._onMessage(u,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var j,_,N;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((N=(_=b.filter)===null||_===void 0?void 0:_.event)===null||N===void 0?void 0:N.toLocaleLowerCase())===u}).map(b=>b.callback(v,n)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var j,_,N,S,O,A;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const P=b.id,k=(j=b.filter)===null||j===void 0?void 0:j.event;return P&&((_=r.ids)===null||_===void 0?void 0:_.includes(P))&&(k==="*"||k?.toLocaleLowerCase()===((N=r.data)===null||N===void 0?void 0:N.type.toLocaleLowerCase()))}else{const P=(O=(S=b?.filter)===null||S===void 0?void 0:S.event)===null||O===void 0?void 0:O.toLocaleLowerCase();return P==="*"||P===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:_,table:N,commit_timestamp:S,type:O,errors:A}=j;v=Object.assign(Object.assign({},{schema:_,table:N,commit_timestamp:S,eventType:O,new:{},old:{},errors:A}),this._getPayloadRecords(j))}b.callback(v,n)})}_isClosed(){return this.state===Mt.closed}_isJoined(){return this.state===Mt.joined}_isJoining(){return this.state===Mt.joining}_isLeaving(){return this.state===Mt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&Sp.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Nn.close,{},t)}_onError(t){this._on(Nn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Mt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=m1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=m1(t.columns,t.old_record)),r}}const Eg=()=>{},ud={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OM=[1e3,2e3,5e3,1e4],AM=1e4,EM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kM{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=gx,this.transport=null,this.heartbeatIntervalMs=ud.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Eg,this.ref=0,this.reconnectTimer=null,this.logger=Eg,this.conn=null,this.sendBuffer=[],this.serializer=new yM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...u)=>Ac(async()=>{const{default:d}=await Promise.resolve().then(()=>kl);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...u)=>o(...u)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${xx.websocket}`,this.httpEndpoint=sO(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xM}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Jo.connecting:return Wi.Connecting;case Jo.open:return Wi.Open;case Jo.closing:return Wi.Closing;default:return Wi.Closed}}isConnected(){return this.connectionState()===Wi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new Sp(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,u=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ud.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:u}=r,d=u?`(${u})`:"",h=o.status||"";this.log("receive",`${h} ${n} ${s} ${d}`.trim(),o),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(s,o,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Nn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([EM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:gM};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Nn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new aO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ud.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,u,d,h,m,g;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:gx,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:ud.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Eg,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(x=>OM[x-1]||AM),this.encode=(m=t?.encode)!==null&&m!==void 0?m:((x,v)=>v(JSON.stringify(x))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Op extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function Rt(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class TM extends Op{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vx extends Op{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var CM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const lO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ac(async()=>{const{default:n}=await Promise.resolve().then(()=>kl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},DM=()=>CM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Ac(()=>Promise.resolve().then(()=>kl),void 0)).Response:Response}),yx=e=>{if(Array.isArray(e))return e.map(r=>yx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=yx(n)}),t},PM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ds=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const kg=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MM=(e,t,r)=>ds(void 0,void 0,void 0,function*(){const n=yield DM();e instanceof n&&!r?.noResolveJson?e.json().then(s=>{const o=e.status||500,u=s?.statusCode||o+"";t(new TM(kg(s),o,u))}).catch(s=>{t(new vx(kg(s),s))}):t(new vx(kg(e),e))}),RM=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!n?s:(PM(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(n)):s.body=n,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function Ec(e,t,r,n,s,o){return ds(this,void 0,void 0,function*(){return new Promise((u,d)=>{e(r,RM(t,n,s,o)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>MM(h,d,n))})})}function $d(e,t,r,n){return ds(this,void 0,void 0,function*(){return Ec(e,"GET",t,r,n)})}function qn(e,t,r,n,s){return ds(this,void 0,void 0,function*(){return Ec(e,"POST",t,n,s,r)})}function bx(e,t,r,n,s){return ds(this,void 0,void 0,function*(){return Ec(e,"PUT",t,n,s,r)})}function $M(e,t,r,n){return ds(this,void 0,void 0,function*(){return Ec(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function oO(e,t,r,n,s){return ds(this,void 0,void 0,function*(){return Ec(e,"DELETE",t,n,s,r)})}var br=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const LM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},p1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class IM{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=lO(s)}uploadOrUpdate(t,r,n,s){return br(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},p1),s);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s?.headers&&(d=Object.assign(Object.assign({},d),s.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),x=yield(t=="PUT"?bx:qn)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(o){if(Rt(o))return{data:null,error:o};throw o}})}upload(t,r,n){return br(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return br(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),u=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:p1.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const x=yield bx(this.fetch,d.toString(),h,{headers:g});return{data:{path:o,fullPath:x.Key},error:null}}catch(h){if(Rt(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return br(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const o=yield qn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),u=new URL(this.url+o.url),d=u.searchParams.get("token");if(!d)throw new Op("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}update(t,r,n){return br(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return br(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}copy(t,r,n){return br(this,void 0,void 0,function*(){try{return{data:{path:(yield qn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return br(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield qn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return br(this,void 0,void 0,function*(){try{const s=yield qn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}download(t,r){return br(this,void 0,void 0,function*(){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),u=o?`?${o}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield $d(this.fetch,`${this.url}/${s}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if(Rt(d))return{data:null,error:d};throw d}})}info(t){return br(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield $d(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:yx(n),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}exists(t){return br(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $M(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(Rt(n)&&n instanceof vx){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&s.push(h);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(t){return br(this,void 0,void 0,function*(){try{return{data:yield oO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}list(t,r,n){return br(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},LM),r),{prefix:t||""});return{data:yield qn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(Rt(s))return{data:null,error:s};throw s}})}listV2(t,r){return br(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield qn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const UM="2.11.1",qM={"X-Client-Info":`storage-js/${UM}`};var il=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class zM{constructor(t,r={},n,s){const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},qM),r),this.fetch=lO(n)}listBuckets(){return il(this,void 0,void 0,function*(){try{return{data:yield $d(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(Rt(t))return{data:null,error:t};throw t}})}getBucket(t){return il(this,void 0,void 0,function*(){try{return{data:yield $d(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return il(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return il(this,void 0,void 0,function*(){try{return{data:yield bx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(Rt(n))return{data:null,error:n};throw n}})}emptyBucket(t){return il(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}deleteBucket(t){return il(this,void 0,void 0,function*(){try{return{data:yield oO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(Rt(r))return{data:null,error:r};throw r}})}}class BM extends zM{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new IM(this.url,this.headers,t,this.fetch)}}const HM="2.57.0";let Xo="";typeof Deno<"u"?Xo="deno":typeof document<"u"?Xo="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Xo="react-native":Xo="node";const KM={"X-Client-Info":`supabase-js-${Xo}/${HM}`},YM={headers:KM},GM={schema:"public"},VM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FM={};var WM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const XM=e=>{let t;return e?t=e:typeof fetch>"u"?t=Z2:t=fetch,(...r)=>t(...r)},QM=()=>typeof Headers>"u"?J2:Headers,ZM=(e,t,r)=>{const n=XM(r),s=QM();return(o,u)=>WM(void 0,void 0,void 0,function*(){var d;const h=(d=yield t())!==null&&d!==void 0?d:e;let m=new s(u?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(o,Object.assign(Object.assign({},u),{headers:m}))})};var JM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};function e4(e){return e.endsWith("/")?e:e+"/"}function t4(e,t){var r,n;const{db:s,auth:o,realtime:u,global:d}=e,{db:h,auth:m,realtime:g,global:x}=t,v={db:Object.assign(Object.assign({},h),s),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(r=x?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>JM(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const cO="2.71.1",dl=30*1e3,wx=3,Tg=wx*dl,r4="http://localhost:9999",n4="supabase.auth.token",a4={"X-Client-Info":`gotrue-js/${cO}`},jx="X-Supabase-Api-Version",uO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,s4=600*1e3;class Ap extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function $e(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class l4 extends Ap{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function o4(e){return $e(e)&&e.name==="AuthApiError"}class dO extends Ap{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class mi extends Ap{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ii extends mi{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c4(e){return $e(e)&&e.name==="AuthSessionMissingError"}class dd extends mi{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fd extends mi{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class hd extends mi{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function u4(e){return $e(e)&&e.name==="AuthImplicitGrantRedirectError"}class v1 extends mi{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Nx extends mi{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Cg(e){return $e(e)&&e.name==="AuthRetryableFetchError"}class y1 extends mi{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class _x extends mi{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ld="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),b1=` 	
\r=`.split(""),d4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<b1.length;t+=1)e[b1[t].charCodeAt(0)]=-2;for(let t=0;t<Ld.length;t+=1)e[Ld[t].charCodeAt(0)]=t;return e})();function w1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ld[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Ld[n]),t.queuedBits-=6}}function fO(e,t,r){const n=d4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function j1(e){const t=[],r=u=>{t.push(String.fromCodePoint(u))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=u=>{m4(u,n,r)};for(let u=0;u<e.length;u+=1)fO(e.charCodeAt(u),s,o);return t.join("")}function f4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function h4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}f4(n,t)}}function m4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function g4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)fO(e.charCodeAt(s),r,n);return new Uint8Array(t)}function x4(e){const t=[];return h4(e,r=>t.push(r)),new Uint8Array(t)}function p4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>w1(s,r,n)),w1(null,r,n),t.join("")}function v4(e){return Math.round(Date.now()/1e3)+e}function y4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const jn=()=>typeof window<"u"&&typeof document<"u",Bi={tested:!1,writable:!1},hO=()=>{if(!jn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Bi.tested)return Bi.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Bi.tested=!0,Bi.writable=!0}catch{Bi.tested=!0,Bi.writable=!1}return Bi.writable};function b4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const mO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Ac(async()=>{const{default:n}=await Promise.resolve().then(()=>kl);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},w4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",fl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Hi=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ai=async(e,t)=>{await e.removeItem(t)};class Ef{constructor(){this.promise=new Ef.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Ef.promiseConstructor=Promise;function Dg(e){const t=e.split(".");if(t.length!==3)throw new _x("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!i4.test(t[n]))throw new _x("JWT not in base64url format");return{header:JSON.parse(j1(t[0])),payload:JSON.parse(j1(t[1])),signature:g4(t[2]),raw:{header:t[0],payload:t[1]}}}async function j4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function N4(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await e(o);if(!t(o,null,u)){n(u);return}}catch(u){if(!t(o,u)){s(u);return}}})()})}function _4(e){return("0"+e.toString(16)).substr(-2)}function S4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,_4).join("")}async function O4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function A4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await O4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function sl(e,t,r=!1){const n=S4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await fl(e,`${t}-code-verifier`,s);const o=await A4(n);return[o,n===o?"plain":"s256"]}const E4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k4(e){const t=e.headers.get(jx);if(!t||!t.match(E4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function T4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function C4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function ll(e){if(!D4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Pg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N1(e){return JSON.parse(JSON.stringify(e))}var P4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const Yi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M4=[502,503,504];async function _1(e){var t;if(!w4(e))throw new Nx(Yi(e),0);if(M4.includes(e.status))throw new Nx(Yi(e),e.status);let r;try{r=await e.json()}catch(o){throw new dO(Yi(o),o)}let n;const s=k4(e);if(s&&s.getTime()>=uO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new y1(Yi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ii}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new y1(Yi(r),e.status,r.weak_password.reasons);throw new l4(Yi(r),e.status||500,n)}const R4=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function He(e,t,r,n){var s;const o=Object.assign({},n?.headers);o[jx]||(o[jx]=uO["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const u=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(u.redirect_to=n.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await $4(e,t,r+d,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function $4(e,t,r,n,s,o){const u=R4(t,n,s,o);let d;try{d=await e(r,Object.assign({},u))}catch(h){throw console.error(h),new Nx(Yi(h),0)}if(d.ok||await _1(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await _1(h)}}function ma(e){var t;let r=null;q4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=v4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function S1(e){const t=ma(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function oi(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function L4(e){return{data:e,error:null}}function I4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,u=P4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function U4(e){return e}function q4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Mg=["global","local","others"];var z4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class B4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=mO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Mg[0]){if(Mg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Mg.join(", ")}`);try{return await He(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await He(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:oi})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=z4(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await He(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:I4,redirectTo:r?.redirectTo})}catch(r){if($e(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await He(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:oi})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await He(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:U4});if(g.error)throw g.error;const x=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(j=>{const _=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),N=JSON.parse(j.split(";")[1].split("=")[1]);m[`${N}Page`]=_}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if($e(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){ll(t);try{return await He(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:oi})}catch(r){if($e(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){ll(t);try{return await He(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:oi})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){ll(t);try{return await He(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:oi})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){ll(t.userId);try{const{data:r,error:n}=await He(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if($e(r))return{data:null,error:r};throw r}}async _deleteFactor(t){ll(t.userId),ll(t.id);try{return{data:await He(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}}function O1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function H4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const ol={debug:!!(globalThis&&hO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class K4 extends gO{}async function Y4(e,t,r){ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ol.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw ol.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new K4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(ol.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}H4();const G4={url:r4,storageKey:n4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function A1(e,t,r){return await r()}const cl={};class cc{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=cc.nextInstanceID,cc.nextInstanceID+=1,this.instanceID>0&&jn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},G4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new B4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mO(s.fetch),this.lock=s.lock||A1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:jn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Y4:this.lock=A1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:hO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=O1(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=O1(this.memoryStorage)),jn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=cl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){cl[this.storageKey]=Object.assign(Object.assign({},cl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=cl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){cl[this.storageKey]=Object.assign(Object.assign({},cl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cO}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=b4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),jn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),u4(o)){const h=(t=o.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return $e(r)?{error:r}:{error:new dO("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:ma}),{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if($e(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:g,password:x,options:v}=t;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await sl(this.storage,this.storageKey)),o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:x,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:j},xform:ma})}else if("phone"in t){const{phone:g,password:x,options:v}=t;o=await He(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(s=v?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:ma})}else throw new fd("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if($e(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:u,options:d}=t;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:S1})}else if("phone"in t){const{phone:o,password:u,options:d}=t;r=await He(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:S1})}else throw new fd("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new dd}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,o,u,d,h,m,g,x,v,b;let j,_;if("message"in t)j=t.message,_=t.signature;else{const{chain:N,wallet:S,statement:O,options:A}=t;let P;if(jn())if(typeof S=="object")P=S;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))P=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof S!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");P=S}const k=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in P&&P.signIn){const D=await P.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:k.host,uri:k.href}),O?{statement:O}:null));let C;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")C=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)C=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in C&&"signature"in C&&(typeof C.signedMessage=="string"||C.signedMessage instanceof Uint8Array)&&C.signature instanceof Uint8Array)j=typeof C.signedMessage=="string"?C.signedMessage:new TextDecoder().decode(C.signedMessage),_=C.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in P)||typeof P.signMessage!="function"||!("publicKey"in P)||typeof P!="object"||!P.publicKey||!("toBase58"in P.publicKey)||typeof P.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${k.host} wants you to sign in with your Solana account:`,P.publicKey.toBase58(),...O?["",O,""]:[""],"Version: 1",`URI: ${k.href}`,`Issued At: ${(s=(n=A?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=A?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((x=(g=A?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...A.signInWithSolana.resources.map(C=>`- ${C}`)]:[]].join(`
`);const D=await P.signMessage(new TextEncoder().encode(j),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=D}}try{const{data:N,error:S}=await He(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:p4(_)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ma});if(S)throw S;return!N||!N.session||!N.user?{data:{user:null,session:null},error:new dd}:(N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),{data:Object.assign({},N),error:S})}catch(N){if($e(N))return{data:{user:null,session:null},error:N};throw N}}async _exchangeCodeForSession(t){const r=await Hi(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:u}=await He(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ma});if(await ai(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new dd}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if($e(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:u}=t,d=await He(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ma}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new dd}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,u;try{if("email"in t){const{email:d,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await sl(this.storage,this.storageKey));const{error:x}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:d,options:h}=t,{data:m,error:g}=await He(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=h?.data)!==null&&s!==void 0?s:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new fd("You must provide either an email or phone number.")}catch(d){if($e(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:u,error:d}=await He(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ma});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(s){if($e(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,u=null;return this.flowType==="pkce"&&([o,u]=await sl(this.storage,this.storageKey)),await He(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:L4})}catch(o){if($e(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ii;const{error:s}=await He(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if($e(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:u}=await He(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:u,error:d}=await He(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new fd("You must provide either an email or phone number and a type")}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Hi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Tg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const u=await Hi(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=Pg()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,m,g)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,g))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:oi}):await this._useSession(async r=>{var n,s,o;const{data:u,error:d}=r;if(d)throw d;return!(!((n=u.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ii}:await He(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:oi})})}catch(r){if($e(r))return c4(r)&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new ii;const u=s.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await sl(this.storage,this.storageKey));const{data:m,error:g}=await He(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:oi});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(n){if($e(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ii;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:u}=Dg(t.access_token);if(u.exp&&(n=u.exp,s=n<=r),s){const{session:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if($e(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:u,error:d}=r;if(d)throw d;t=(n=u.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new ii;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if($e(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!jn())throw new hd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new hd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new v1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new v1("No code detected.");const{data:O,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const P=new URL(window.location.href);return P.searchParams.delete("code"),window.history.replaceState(window.history.state,"",P.toString()),{data:{session:O.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=t;if(!o||!d||!u||!m)throw new hd("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(d);let v=g+x;h&&(v=parseInt(h));const b=v-g;b*1e3<=dl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const j=v-x;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,g);const{data:_,error:N}=await this._getUser(o);if(N)throw N;const S={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:x,expires_at:v,refresh_token:u,token_type:m,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:t.type},error:null}}catch(n){if($e(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Hi(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const u=(n=s.session)===null||n===void 0?void 0:n.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(o4(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await ai(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=y4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:u}=r;if(u)throw u;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await sl(this.storage,this.storageKey,!0));try{return await He(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if($e(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if($e(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var u,d,h,m,g;const{data:x,error:v}=o;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await He(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return jn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if($e(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:u}=r;if(u)throw u;return await He(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await N4(async s=>(s>0&&await j4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await He(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ma})),(s,o)=>{const u=200*Math.pow(2,s);return o&&Cg(o)&&Date.now()+u-n<dl})}catch(n){if(this._debug(r,"error",n),$e(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),jn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Hi(this.storage,this.storageKey);if(s&&this.userStorage){let u=await Hi(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await fl(this.userStorage,this.storageKey+"-user",u)),s.user=(t=u?.user)!==null&&t!==void 0?t:Pg()}else if(s&&!s.user&&!s.user){const u=await Hi(this.storage,this.storageKey+"-user");u&&u?.user?(s.user=u.user,await ai(this.storage,this.storageKey+"-user"),await fl(this.storage,this.storageKey,s)):s.user=Pg()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Tg;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Tg}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),Cg(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(s.access_token);!d&&u?.user?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(n,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ii;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Ef;const{data:o,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!o.session)throw new ii;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),$e(o)){const u={session:null,error:o};return Cg(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(h){o.push(h)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await fl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=N1(s);await fl(this.storage,this.storageKey,o)}else{const s=N1(r);await fl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ai(this.storage,this.storageKey),await ai(this.storage,this.storageKey+"-code-verifier"),await ai(this.storage,this.storageKey+"-user"),this.userStorage&&await ai(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&jn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),dl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/dl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${dl}ms, refresh threshold is ${wx} ticks`),s<=wx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!jn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,u]=await sl(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await He(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:u}=r;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:m}=await He(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((s=h?.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if($e(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:u,error:d}=await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if($e(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await He(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if($e(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],s=n.filter(u=>u.factor_type==="totp"&&u.status==="verified"),o=n.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Dg(s.access_token);let d=null;u.aal&&(d=u.aal);let h=d;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+s4>s)return n;const{data:o,error:u}=await He(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:b,error:j}=await this.getSession();if(j||!b.session)return{data:null,error:j};n=b.session.access_token}const{header:s,payload:o,signature:u,raw:{header:d,payload:h}}=Dg(n);r?.allowExpired||T4(o.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:o,header:s,signature:u},error:null}}const g=C4(s.alg),x=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,u,x4(`${d}.${h}`)))throw new _x("Invalid JWT signature");return{data:{claims:o,header:s,signature:u},error:null}}catch(n){if($e(n))return{data:null,error:n};throw n}}}cc.nextInstanceID=0;const V4=cc;class F4 extends V4{constructor(t){super(t)}}var W4=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class X4{constructor(t,r,n){var s,o,u;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const d=e4(t),h=new URL(d);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:GM,realtime:FM,auth:Object.assign(Object.assign({},VM),{storageKey:m}),global:YM},x=t4(n??{},g);this.storageKey=(s=x.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=x.global.headers)!==null&&o!==void 0?o:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=x.auth)!==null&&u!==void 0?u:{},this.headers,x.global.fetch),this.fetch=ZM(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new fM(new URL("rest/v1",h).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new BM(this.storageUrl.href,this.headers,this.fetch,n?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new rM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return W4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:u,flowType:d,lock:h,debug:m},g,x){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F4({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),g),storageKey:u,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:d,lock:h,debug:m,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new kM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Q4=(e,t,r)=>new X4(e,t,r);function Z4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Z4()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const J4="https://isqdmjyxmbkpoqyznsgd.supabase.co",e6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlzcWRtanl4bWJrcG9xeXpuc2dkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwMDc0NjgsImV4cCI6MjA3MjU4MzQ2OH0.BGfohmNtDi27CWkQqgZ3EA2PilmbbHW6M0i-n6Bd40w",be=Q4(J4,e6,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),t6=async e=>{try{const{data:t}=await be.from("users").select("id").eq("phone",e.phone).single();if(t)throw new Error("이미 등록된 전화번호입니다.");const r=e.password,n=crypto.randomUUID(),{data:s,error:o}=await be.from("users").insert({id:n,name:e.name,phone:e.phone,password:r,status:"pending",role:"admin"}).select().single();if(o)throw console.error("회원가입 오류:",o),o;return s}catch(t){throw console.error("회원가입 실패:",t),t}},r6=async(e,t)=>{try{const{data:r,error:n}=await be.from("users").select("*").eq("role","admin");if(n)throw new Error("사용자 조회에 실패했습니다.");if(!r||r.length===0)throw new Error("등록된 사장님이 없습니다.");const s=r.find(o=>o.password===t);if(!s)throw new Error("비밀번호가 올바르지 않습니다.");if(s.status!=="approved")throw new Error("아직 승인되지 않은 계정입니다. 관리자에게 문의하세요.");return s}catch(r){throw console.error("로그인 실패:",r),r}},n6=async e=>{try{console.log("🔍 슈퍼 어드민 로그인 시도...");const{data:t,error:r}=await be.from("users").select("*").eq("role","super_admin");if(console.log("📊 슈퍼 어드민 조회 결과:",{superAdmins:t,error:r}),r)throw console.error("❌ 데이터베이스 오류:",r),new Error(`데이터베이스 오류: ${r.message}`);if(!t||t.length===0)throw console.error("❌ 슈퍼 어드민 계정 없음"),new Error("슈퍼 어드민 계정을 찾을 수 없습니다. 데이터베이스에 계정을 생성해주세요.");const n=t[0];if(console.log("✅ 슈퍼 어드민 계정 발견:",n),e!=="admin123")throw console.error("❌ 비밀번호 불일치"),new Error("비밀번호가 올바르지 않습니다.");return console.log("✅ 로그인 성공"),n}catch(t){throw console.error("슈퍼 어드민 로그인 실패:",t),t}},a6=async()=>{try{const{data:e,error:t}=await be.from("users").select("*").eq("role","admin").order("created_at",{ascending:!1});if(t)throw console.error("사용자 조회 오류:",t),t;return!e||e.length===0?[]:await Promise.all(e.map(async n=>{try{const{data:s}=await be.from("user_stores").select(`
              store_id,
              stores (
                name
              )
            `).eq("user_id",n.id).limit(1);return{...n,store_name:s?.[0]?.stores?.name||null}}catch(s){return console.error(`사용자 ${n.id}의 매장 정보 조회 실패:`,s),{...n,store_name:null}}}))}catch(e){throw console.error("사용자 조회 실패:",e),e}},i6=async(e,t)=>{try{const{error:r}=await be.from("users").update({status:"approved",updated_at:new Date().toISOString()}).eq("id",e);if(r)throw r;const{error:n}=await be.from("user_stores").insert({user_id:e,store_id:t,role:"owner",approved_at:new Date().toISOString()});if(n)throw n;return{success:!0}}catch(r){throw console.error("사용자 승인 실패:",r),r}},E1=async e=>{try{const{error:t}=await be.from("users").update({status:"rejected",updated_at:new Date().toISOString()}).eq("id",e);if(t)throw t;return{success:!0}}catch(t){throw console.error("사용자 거부 실패:",t),t}},xO=w.createContext(void 0),s6=({children:e})=>{const[t,r]=w.useState(null),[n,s]=w.useState(!0);w.useEffect(()=>{const m=localStorage.getItem("user");if(m)try{r(JSON.parse(m))}catch(g){console.error("사용자 정보 로드 실패:",g),localStorage.removeItem("user")}s(!1)},[]);const h={user:t,loading:n,login:async(m,g)=>{try{s(!0);const x=await r6(m,g);r(x),localStorage.setItem("user",JSON.stringify(x))}catch(x){throw console.error("로그인 실패:",x),x}finally{s(!1)}},loginSuperAdmin:async m=>{try{s(!0);const g=await n6(m);r(g),localStorage.setItem("user",JSON.stringify(g))}catch(g){throw console.error("슈퍼 어드민 로그인 실패:",g),g}finally{s(!1)}},logout:()=>{r(null),localStorage.removeItem("user")}};return i.jsx(xO.Provider,{value:h,children:e})},sr=()=>{const e=w.useContext(xO);if(e===void 0)throw new Error("useNewAuth must be used within an AuthProvider");return e};function Nr(){gt();const{user:e}=sr();return i.jsx("div",{className:"bg-white sticky top-0 z-50",children:i.jsx("div",{className:"px-4 py-3",children:i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:"https://static.readdy.ai/image/912b0945f01d9fdb4ff4544659653c90/2d4890bd82abce85d430bd82d04df8d6.png",alt:"페이톡 로고",className:"w-12 h-12"})})})})}function kn(){return i.jsx("footer",{className:"bg-gray-50 py-6 mt-6 no-print",children:i.jsxs("div",{className:"px-4 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"mb-3",children:i.jsx("h3",{className:"text-lg font-bold text-orange-500",style:{fontFamily:"Pacifico, serif"},children:"페이톡"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"연락처"}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-phone-line text-orange-500"}),i.jsx("span",{children:"02-1234-5678"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-mail-line text-orange-500"}),i.jsx("span",{children:"mnkijo424@gmail.com"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-time-line text-orange-500"}),i.jsx("span",{children:"평일 09:00 - 18:00"})]})]})]})]}),i.jsx("div",{className:"border-t border-gray-200 pt-4",children:i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"text-gray-600 text-sm",children:[i.jsx("p",{children:"© 2025 페이톡. 모든 권리 보유."}),i.jsx("p",{className:"mt-1",children:"사업자등록번호: 227-09-52974 | 대표: 조광현"})]})})})]})})}const pO=async()=>{try{const{data:e,error:t}=await be.from("inquiries").select("*").order("created_at",{ascending:!1});if(t)throw console.error("문의 조회 오류:",t),t;return e||[]}catch(e){throw console.error("문의 조회 실패:",e),e}},l6=async e=>{try{const{data:t,error:r}=await be.from("inquiries").insert({name:e.name,phone:e.phone,store_name:e.store_name,status:"미확인",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(r)throw console.error("문의 생성 오류:",r),r.code==="42501"?(console.log("RLS 정책 오류 - Supabase에서 다음 SQL을 실행해주세요:"),console.log('DROP POLICY IF EXISTS "Anyone can create inquiries" ON public.inquiries;'),console.log('CREATE POLICY "Allow anonymous inquiry creation" ON public.inquiries FOR INSERT WITH CHECK (true);'),new Error("문의 생성 권한이 없습니다. 관리자에게 문의하세요.")):r;return t}catch(t){throw console.error("문의 생성 실패:",t),t}},o6=async(e,t)=>{try{const{error:r}=await be.from("inquiries").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error("문의 상태 업데이트 오류:",r),r}catch(r){throw console.error("문의 상태 업데이트 실패:",r),r}},c6=async e=>{try{const{error:t}=await be.from("inquiries").delete().eq("id",e);if(t)throw console.error("문의 삭제 오류:",t),t}catch(t){throw console.error("문의 삭제 실패:",t),t}},vO=async()=>{try{const{count:e,error:t}=await be.from("stores").select("*",{count:"exact",head:!0});if(t)throw console.error("매장 수 조회 오류:",t),t;const{count:r,error:n}=await be.from("orders").select("*",{count:"exact",head:!0});if(n)throw console.error("주문 수 조회 오류:",n),n;return{totalStores:e||0,totalOrders:r||0}}catch(e){return console.error("통계 데이터 조회 실패:",e),{totalStores:0,totalOrders:0}}},u6=(e,t)=>{const r=window.location.origin;let n=r;return e==="admin"?n=`${r}/admin-dashboard`:e==="menu"&&t&&(n=`${r}/menu/${t}`),{name:e==="admin"?"PayTalk 관리자":"PayTalk 메뉴",short_name:e==="admin"?"관리자":"메뉴",description:e==="admin"?"PayTalk 매장 관리 시스템":"PayTalk 반찬 주문 시스템",start_url:n,display:"standalone",background_color:"#ffffff",theme_color:"#f97316",orientation:"portrait",icons:[{src:"/logo.png",sizes:"192x192",type:"image/png",purpose:"any maskable"},{src:"/logo.png",sizes:"512x512",type:"image/png",purpose:"any maskable"}],categories:["food","shopping","lifestyle"],lang:"ko",dir:"ltr"}},k1=(e,t)=>{const r=u6(e,t),n=document.querySelector('link[rel="manifest"]');n&&n.remove();const s=document.createElement("link");return s.rel="manifest",s.href=`data:application/json,${encodeURIComponent(JSON.stringify(r))}`,document.head.appendChild(s),r};function d6(){const e=gt(),[t]=HP(),[r,n]=w.useState(!1),[s,o]=w.useState({name:"",phone:"",storeName:""}),[u,d]=w.useState({totalStores:0,totalOrders:0}),[h,m]=w.useState(!0);w.useEffect(()=>{x(),g()},[]);const g=()=>{const b=t.get("redirect"),j=t.get("storeId");b==="admin"?(k1("admin"),e("/")):b==="menu"&&j&&(k1("menu",j),e(`/menu/${j}`))},x=async()=>{try{m(!0);const b=await vO();d(b)}catch(b){console.error("통계 로드 실패:",b)}finally{m(!1)}},v=async b=>{b.preventDefault();try{await l6({name:s.name,phone:s.phone,store_name:s.storeName}),alert("문의가 성공적으로 제출되었습니다. 빠른 시일 내에 연락드리겠습니다."),o({name:"",phone:"",storeName:""}),n(!1)}catch(j){console.error("문의 제출 오류:",j),alert("문의 제출에 실패했습니다. 다시 시도해주세요.")}};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Nr,{}),i.jsx("section",{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white py-20",children:i.jsxs("div",{className:"container mx-auto px-4 text-center",children:[i.jsx("h1",{className:"text-5xl font-bold mb-6",children:"페이톡"}),i.jsx("p",{className:"text-xl mb-12 max-w-2xl mx-auto",children:"반찬 사장님들을 위한 스마트한 주문 관리 시스템"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-4 sm:p-6",children:[i.jsx("div",{className:"text-2xl sm:text-4xl font-bold mb-2",children:h?i.jsx("div",{className:"animate-pulse bg-white bg-opacity-30 h-8 sm:h-10 w-16 sm:w-20 mx-auto rounded"}):u.totalStores.toLocaleString()}),i.jsx("div",{className:"text-sm sm:text-lg opacity-90",children:"가입된 매장"})]}),i.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-4 sm:p-6",children:[i.jsx("div",{className:"text-2xl sm:text-4xl font-bold mb-2",children:h?i.jsx("div",{className:"animate-pulse bg-white bg-opacity-30 h-8 sm:h-10 w-16 sm:w-20 mx-auto rounded"}):u.totalOrders.toLocaleString()}),i.jsx("div",{className:"text-sm sm:text-lg opacity-90",children:"총 주문 수"})]}),i.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-4 sm:p-6 sm:col-span-2 lg:col-span-1",children:[i.jsx("div",{className:"text-2xl sm:text-4xl font-bold mb-2 text-green-300",children:"0원"}),i.jsx("div",{className:"text-sm sm:text-lg opacity-90",children:"수수료"})]})]})]})}),i.jsx("section",{className:"py-8 bg-gray-50",children:i.jsx("div",{className:"container mx-auto px-4 space-y-6"})}),i.jsx("section",{className:"py-20",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-12",children:"페이톡만의 특별한 장점"}),i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-smartphone-line text-2xl text-orange-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"간편한 주문 관리"}),i.jsx("p",{className:"text-gray-600",children:"직관적인 인터페이스로 주문을 쉽게 관리하고 상태를 실시간으로 추적할 수 있습니다."})]}),i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-bar-chart-line text-2xl text-orange-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"상세한 통계"}),i.jsx("p",{className:"text-gray-600",children:"매출, 주문 현황, 인기 메뉴 등 사장님에게 필요한 모든 데이터를 한눈에 확인하세요."})]}),i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"수수료 0원"}),i.jsx("p",{className:"text-gray-600",children:"배달의민족, 단골앱과 달리 수수료가 전혀 없습니다. 모든 수익이 사장님의 것입니다."})]}),i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-shield-check-line text-2xl text-blue-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"직접 고객 관리"}),i.jsx("p",{className:"text-gray-600",children:"중간 업체 없이 고객과 직접 소통하여 더 나은 서비스와 관계를 구축할 수 있습니다."})]}),i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-settings-3-line text-2xl text-purple-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"완전한 자율성"}),i.jsx("p",{className:"text-gray-600",children:"메뉴, 가격, 운영시간을 자유롭게 설정하고 언제든지 변경할 수 있습니다."})]}),i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-customer-service-line text-2xl text-red-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"24/7 고객 지원"}),i.jsx("p",{className:"text-gray-600",children:"언제든지 문의사항이 있으시면 연락주세요. 빠르고 친절한 지원을 제공합니다."})]})]})]})}),i.jsx("section",{className:"bg-gray-800 text-white py-20",children:i.jsxs("div",{className:"container mx-auto px-4 text-center",children:[i.jsx("h2",{className:"text-3xl font-bold mb-6",children:"지금 시작하세요"}),i.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"페이톡과 함께 반찬 사업을 더욱 효율적으로 관리해보세요."}),i.jsx("button",{onClick:()=>n(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"매장 문의하기"})]})}),r&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"매장 개설 문의"}),i.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("i",{className:"ri-close-line text-xl"})})]}),i.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이름 *"}),i.jsx("input",{type:"text",required:!0,value:s.name,onChange:b=>o({...s,name:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"이름을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호 *"}),i.jsx("input",{type:"tel",required:!0,value:s.phone,onChange:b=>o({...s,phone:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"010-1234-5678"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가게 이름 *"}),i.jsx("input",{type:"text",required:!0,value:s.storeName,onChange:b=>o({...s,storeName:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"가게 이름을 입력하세요"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"문의 제출"})]})]})]})}),i.jsx("div",{className:"w-full bg-white border-t border-gray-200 py-4",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4",children:i.jsxs("button",{onClick:()=>{const b=prompt("매장 ID를 입력해주세요:");b&&e(`/order-status/${b}`)},className:"group w-full inline-flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold text-base rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-out",children:[i.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center group-hover:bg-opacity-30 transition-all duration-300",children:i.jsx("i",{className:"ri-shopping-bag-3-line text-lg"})}),i.jsx("span",{children:"내 주문 보러가기"})]})})}),i.jsx(kn,{})]})}function T1(){const e=gt(),{login:t}=sr(),[r,n]=w.useState(!0),[s,o]=w.useState(!1),[u,d]=w.useState(""),[h,m]=w.useState(""),[g,x]=w.useState({password:""}),[v,b]=w.useState({name:"",phone:"",password:"",confirmPassword:""}),j=async N=>{N.preventDefault(),o(!0),d("");try{await t("",g.password),e("/admin-dashboard")}catch(S){d(S.message||"로그인에 실패했습니다.")}finally{o(!1)}},_=async N=>{if(N.preventDefault(),o(!0),d(""),m(""),v.password!==v.confirmPassword){d("비밀번호가 일치하지 않습니다."),o(!1);return}if(v.password.length!==4){d("비밀번호는 4자리 숫자여야 합니다."),o(!1);return}if(!/^\d{4}$/.test(v.password)){d("비밀번호는 4자리 숫자만 입력해주세요."),o(!1);return}try{await t6({name:v.name,phone:v.phone,password:v.password}),m("회원가입이 완료되었습니다. 관리자 승인 후 로그인할 수 있습니다."),b({name:"",phone:"",password:"",confirmPassword:""}),setTimeout(()=>{n(!0),m("")},3e3)}catch(S){d(S.message||"회원가입에 실패했습니다.")}finally{o(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white",children:[i.jsx(Nr,{}),i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] px-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:i.jsx("span",{className:"text-white font-bold text-2xl",children:"P"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"PayTalk"}),i.jsx("p",{className:"text-gray-500",children:r?"사장님 로그인":"사장님 회원가입"})]}),u&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:u}),h&&i.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:h}),r?i.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),i.jsx("input",{type:"password",value:g.password,onChange:N=>x({...g,password:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"4자리 숫자 비밀번호를 입력하세요",maxLength:4,required:!0})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50",children:s?"로그인 중...":"로그인"})]}):i.jsxs("form",{onSubmit:_,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이름"}),i.jsx("input",{type:"text",value:v.name,onChange:N=>b({...v,name:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"이름을 입력하세요",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"전화번호"}),i.jsx("input",{type:"tel",value:v.phone,onChange:N=>{const S=N.target.value.replace(/[^0-9]/g,"");b({...v,phone:S})},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"01012345678",maxLength:11,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호 (4자리 숫자)"}),i.jsx("input",{type:"password",value:v.password,onChange:N=>{const S=N.target.value.replace(/[^0-9]/g,"");b({...v,password:S})},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"4자리 숫자 비밀번호를 입력하세요",maxLength:4,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호 확인"}),i.jsx("input",{type:"password",value:v.confirmPassword,onChange:N=>{const S=N.target.value.replace(/[^0-9]/g,"");b({...v,confirmPassword:S})},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"4자리 숫자 비밀번호를 다시 입력하세요",maxLength:4,required:!0})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50",children:s?"회원가입 중...":"회원가입"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>{n(!r),d(""),m("")},className:"text-orange-600 hover:text-orange-700 font-medium",children:r?"아직 계정이 없으신가요? 회원가입":"이미 계정이 있으신가요? 로그인"})})]})})}),i.jsx(kn,{})]})}function f6(){const e=gt(),{user:t,loginSuperAdmin:r,loading:n}=sr(),[s,o]=w.useState(""),[u,d]=w.useState(!1),[h,m]=w.useState(""),g=async x=>{x.preventDefault(),d(!0),m("");try{await r(s),e("/super-admin")}catch(v){m(v.message||"로그인에 실패했습니다.")}finally{d(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-orange-50 to-white",children:[i.jsx(Nr,{}),i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] px-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:i.jsx("i",{className:"ri-shield-keyhole-line text-white text-2xl"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"슈퍼 어드민"}),t?i.jsxs("div",{className:"text-green-600 font-semibold",children:[t.name,"님 반갑습니다! 🎉"]}):i.jsx("p",{className:"text-gray-500",children:"관리자 로그인"})]}),h&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:h}),t?i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:"슈퍼 어드민 페이지로 이동하세요"}),i.jsx("button",{onClick:()=>e("/super-admin"),className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl",children:"슈퍼 어드민 페이지로 이동"})]})}):i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),i.jsx("input",{type:"password",value:s,onChange:x=>o(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"관리자 비밀번호를 입력하세요",required:!0})]}),i.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50",children:u?"로그인 중...":"로그인"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("p",{className:"text-sm text-gray-500",children:"슈퍼 어드민만 접근할 수 있는 페이지입니다."})})]})})}),i.jsx(kn,{})]})}function h6(){const e=gt();return w.useEffect(()=>{(async()=>{try{console.log("🔄 OAuth 콜백 처리 시작");const{data:r,error:n}=await be.auth.getSession();if(n){console.error("❌ 세션 확인 오류:",n),e("/");return}if(r.session){console.log("✅ 로그인 성공:",r.session.user.email);try{const{data:s}=await be.from("users").select("role").eq("id",r.session.user.id).single();console.log("👤 사용자 역할:",s?.role),s?.role==="admin"?(console.log("🏪 관리자 - admin-dashboard로 이동"),e("/admin-dashboard")):(console.log("👥 일반 사용자 - admin-dashboard로 이동"),e("/admin-dashboard"))}catch{console.log("⚠️ 프로필 확인 실패, 기본적으로 admin-dashboard로 이동"),e("/admin-dashboard")}}else console.log("❌ 세션이 없음, 홈페이지로 이동"),e("/")}catch(r){console.error("❌ 인증 콜백 처리 오류:",r),e("/")}})()},[e]),i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로그인 처리 중..."})]})})}const m6=async(e,t)=>{try{console.log("OneSignal Player ID 저장 시작:",{userId:t,playerId:e});const{data:r,error:n}=await be.from("user_push_subscriptions").upsert({user_id:t,onesignal_player_id:e,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select();return console.log("OneSignal Player ID 저장 응답:",{data:r,error:n}),n?(console.error("❌ OneSignal Player ID 저장 실패:",n),!1):(console.log("✅ OneSignal Player ID 저장 성공:",r),!0)}catch(r){return console.error("OneSignal Player ID 저장 실패:",r),!1}},g6=(e,t)=>({title:"새 주문 접수",body:`${e}에 새로운 주문이 들어왔습니다! (주문번호: ${t})`}),x6=async e=>{const{data:t,error:r}=await be.from("orders").insert({user_id:e.user_id,store_id:e.store_id,order_type:e.order_type,delivery_address:e.delivery_address,delivery_time:e.delivery_time,pickup_time:e.pickup_time,special_requests:e.special_requests,depositor_name:e.depositor_name,customer_name:e.customer_name,customer_phone:e.customer_phone,customer_address:e.customer_address,subtotal:e.subtotal,total:e.total,payment_method:e.payment_method,status:"입금대기"}).select().single();if(r)throw console.error("주문 생성 오류:",r),console.error("주문 데이터:",e),new Error(`주문 생성 실패: ${r.message} (코드: ${r.code})`);const n=e.items.map(o=>({order_id:t.id,menu_id:o.menu_id,quantity:o.quantity,price:o.price})),{error:s}=await be.from("order_items").insert(n);if(s)throw console.error("주문 아이템 생성 오류:",s),console.error("주문 아이템 데이터:",n),new Error(`주문 아이템 생성 실패: ${s.message} (코드: ${s.code})`);if(e.daily_menu_data)try{const o=e.daily_menu_data.items.map(d=>({daily_menu_id:e.daily_menu_data.daily_menu_id,order_id:t.id,menu_id:d.menuId,quantity:d.quantity})),{error:u}=await be.from("daily_menu_orders").insert(o);if(u)console.error("일일 메뉴 주문 데이터 저장 오류:",u);else{console.log("일일 메뉴 주문 데이터 저장 성공");try{for(const d of e.daily_menu_data.items){const{data:h,error:m}=await be.from("daily_menu_items").select("id, current_quantity").eq("daily_menu_id",e.daily_menu_data.daily_menu_id).eq("menu_id",d.menuId).single();if(m||!h){console.error(`일일메뉴 아이템 조회 실패 (menu_id: ${d.menuId}):`,m);continue}const g=Math.max(0,h.current_quantity-d.quantity),x=g>0,{error:v}=await be.from("daily_menu_items").update({current_quantity:g,is_available:x}).eq("id",h.id);v?console.error(`일일메뉴 아이템 수량 차감 실패 (item_id: ${h.id}):`,v):console.log(`일일메뉴 아이템 수량 차감 성공: ${d.menuId} - ${d.quantity}개 차감`)}}catch(d){console.error("일일메뉴 수량 차감 중 오류:",d)}}}catch(o){console.error("일일 메뉴 주문 데이터 저장 중 오류:",o)}try{const[o,u]=await Promise.all([be.from("stores").select("name, phone, bank_account, account_holder, owner_id").eq("id",e.store_id).single(),be.from("menus").select("name").in("id",e.items.map(d=>d.menu_id))]);if(o.data&&u.data){const d=e.items.map(h=>`${u.data.find(g=>g.id===h.menu_id)?.name||"메뉴"} x${h.quantity}`).join(", ");if(console.log("고객 알림은 발송하지 않습니다. 사장님에게만 알림을 발송합니다."),o.data.owner_id){const h=g6(o.data.name,t.id);console.log("=== 사장님 푸시 알림 발송 시작 ==="),console.log("사장님 정보:",{ownerId:o.data.owner_id,storeName:o.data.name,orderId:t.id,notification:h});try{console.log("사장님에게 푸시 알림 발송 시도...");const{data:m,error:g}=await be.functions.invoke("send-push-notification",{body:{userId:o.data.owner_id,title:h.title,body:h.body,data:{orderId:t.id,type:"new_order"}}});g?(console.error("❌ 서버사이드 푸시 알림 발송 실패:",g),console.log("ℹ️ 사장님이 PWA를 설치하고 푸시 알림을 활성화해야 합니다")):console.log("✅ 서버사이드 푸시 알림 발송 성공:",m)}catch(m){console.error("사장님 푸시 알림 발송 중 오류:",m)}console.log("=== 사장님 푸시 알림 발송 완료 ===")}else console.warn("⚠️ 매장에 owner_id가 설정되지 않음 - 푸시 알림을 발송할 수 없습니다:",o.data),console.log("ℹ️ 주문은 정상적으로 생성되었습니다. 매장 관리자에게 연락하여 owner_id를 설정해주세요.")}}catch(o){console.error("알림톡 발송 오류:",o)}return t},yl=async e=>{const{data:t,error:r}=await be.from("orders").select("*").eq("store_id",e).order("created_at",{ascending:!1});if(r)throw console.error("매장 주문 목록 가져오기 오류:",r),r;return await Promise.all((t||[]).map(async s=>{const{data:o,error:u}=await be.from("order_items").select(`
          *,
          menus (
            id,
            name,
            price
          )
        `).eq("order_id",s.id);u&&console.error("주문 아이템 가져오기 오류:",u);const{data:d,error:h}=await be.from("daily_menu_orders").select(`
          *,
          daily_menus (
            id,
            menu_date,
            title
          ),
          menus (
            id,
            name,
            price
          )
        `).eq("order_id",s.id);return h&&console.error("일일 메뉴 주문 가져오기 오류:",h),{...s,order_items:o||[],daily_menu_orders:d||[]}}))},Ep=async(e,t)=>{console.log("주문 상태 업데이트 시작:",{orderId:e,status:t});const{data:r,error:n}=await be.from("orders").select("id, status, store_id").eq("id",e).single();if(n)throw console.error("주문 존재 확인 오류:",n),new Error(`주문을 찾을 수 없습니다: ${n.message}`);console.log("기존 주문 정보:",r);const{data:{user:s},error:o}=await be.auth.getUser();o?console.error("사용자 정보 확인 오류:",o):console.log("현재 사용자:",s?.id,s?.email);const{data:u,error:d}=await be.from("orders").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select(`
      *,
      stores (
        name,
        phone
      ),
      order_items (
        quantity,
        price,
        menus (
          name
        )
      )
    `).single();if(d)throw console.error("주문 상태 업데이트 오류:",d),console.error("주문 ID:",e),console.error("새 상태:",t),console.error("에러 상세:",d.message,d.details,d.hint),console.error("에러 코드:",d.code),d;return console.log("주문 상태 업데이트 성공:",{orderId:e,status:t,data:u}),window.dispatchEvent(new CustomEvent("orderStatusChanged",{detail:{orderId:e,status:t,updatedOrder:u}})),u},yO=async e=>{const{data:t,error:r}=await be.from("delivery_areas").select("*").eq("store_id",e).eq("is_active",!0).order("area_name");if(r)throw console.error("배달지역 조회 오류:",r),r;return t||[]},p6=async(e,t,r)=>{console.log("🔍 createDeliveryArea 호출:",{storeId:e,areaName:t,deliveryFee:r}),console.log("⚠️ 권한 확인을 임시로 비활성화했습니다 (테스트용)");const{data:n,error:s}=await be.from("delivery_areas").insert({store_id:e,area_name:t,delivery_fee:r,is_active:!0}).select().single();if(s)throw console.error("❌ 배달지역 생성 오류:",s),s;return console.log("✅ 배달지역 생성 성공:",n),n},v6=async(e,t,r)=>{const{data:n,error:s}=await be.from("delivery_areas").select("store_id").eq("id",e).single();if(s)throw console.error("❌ 배달지역 조회 실패:",s),new Error("배달지역을 찾을 수 없습니다.");const{data:o,error:u}=await be.from("stores").select("id, owner_id").eq("id",n.store_id).single();if(u)throw console.error("❌ 매장 정보 조회 실패:",u),new Error("매장 정보를 찾을 수 없습니다.");const{data:{user:d}}=await be.auth.getUser();if(o.owner_id!==d?.id)throw new Error("이 배달지역을 수정할 권한이 없습니다.");const{data:h,error:m}=await be.from("delivery_areas").update({area_name:t,delivery_fee:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(m)throw console.error("배달지역 수정 오류:",m),m;return h},y6=async e=>{const{data:t,error:r}=await be.from("delivery_areas").select("store_id").eq("id",e).single();if(r)throw console.error("❌ 배달지역 조회 실패:",r),new Error("배달지역을 찾을 수 없습니다.");const{data:n,error:s}=await be.from("stores").select("id, owner_id").eq("id",t.store_id).single();if(s)throw console.error("❌ 매장 정보 조회 실패:",s),new Error("매장 정보를 찾을 수 없습니다.");const{data:{user:o}}=await be.auth.getUser();if(n.owner_id!==o?.id)throw new Error("이 배달지역을 삭제할 권한이 없습니다.");const{error:u}=await be.from("delivery_areas").update({is_active:!1,updated_at:new Date().toISOString()}).eq("id",e);if(u)throw console.error("배달지역 삭제 오류:",u),u},b6=async e=>{const{data:t,error:r}=await be.from("delivery_areas").select("delivery_fee").eq("id",e).eq("is_active",!0).single();return r?(console.error("배달비 조회 오류:",r),0):t?.delivery_fee||0},w6=()=>i.jsx("div",{className:"bg-white",children:i.jsx("div",{className:"px-4 py-3",children:i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:"https://static.readdy.ai/image/912b0945f01d9fdb4ff4544659653c90/2d4890bd82abce85d430bd82d04df8d6.png",alt:"페이톡 로고",className:"w-12 h-12"})})})}),j6=e=>{const[,t,r]=e.split("-").map(Number);return`${t}/${r}`};function N6(){const e=gt(),[t,r]=w.useState([]),[n,s]=w.useState(null),[o,u]=w.useState("delivery"),[d,h]=w.useState(""),[m,g]=w.useState(""),[x,v]=w.useState(""),[b,j]=w.useState(""),[_,N]=w.useState(""),[S,O]=w.useState(""),[A,P]=w.useState(""),[k,D]=w.useState("bank_transfer"),[C,T]=w.useState(!0),[$,L]=w.useState(!1),[B,J]=w.useState(null),[ie,W]=w.useState([]),[Z,z]=w.useState(""),[G,le]=w.useState(0),ge=w.useRef(!1),I=()=>{if(B?.menuDate)return B.menuDate;if(!n){const Re=new Date;return new Date(Re.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0]}const U=new Date,X=new Date(U.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),Y=n.order_cutoff_time||"15:00",[fe,se]=Y.split(":").map(Number),je=new Date(X),_e=new Date(je);return _e.setHours(fe,se,0,0),X>_e?new Date(je.getTime()+1440*60*1e3).toISOString().split("T")[0]:je.toISOString().split("T")[0]},te=(U,X)=>{if(!X)return new Date().toISOString().split("T")[0];const Y=new Date,fe=new Date(Y.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),se=X.order_cutoff_time||"15:00",[je,_e]=se.split(":").map(Number),Se=new Date(fe),Re=new Date(Se);return Re.setHours(je,_e,0,0),fe>Re?new Date(Se.getTime()+1440*60*1e3).toISOString().split("T")[0]:Se.toISOString().split("T")[0]};if(w.useEffect(()=>{if(ge.current)return;ge.current=!0,console.log("useEffect 실행됨"),(async()=>{const X=localStorage.getItem("cart"),Y=localStorage.getItem("storeInfo"),fe=localStorage.getItem("dailyMenuCart");if(X&&Y){r(JSON.parse(X));const se=JSON.parse(Y);console.log("로드된 매장 정보:",se),console.log("배달 시간대 슬롯:",se.delivery_time_slots),s(se);try{const Se=await yO(se.id);W(Se),Se.length>0&&z(Se[0].id)}catch(Se){console.error("배달지역 로드 실패:",Se)}if(fe)try{const Se=JSON.parse(fe);console.log("일일 메뉴 장바구니 데이터:",Se),J(Se),console.log("일일 메뉴 날짜 설정:",Se.menuDate);try{const Re=Se.items.map(St=>St.menuId),{data:Ut}=await be.from("menus").select("id, name, price").in("id",Re);if(Ut){const St=Se.items.map((qt,pn)=>{const mr=Ut.find(Ul=>Ul.id===qt.menuId);return{id:`daily-${pn}-${Date.now()}-${qt.menuId}`,originalMenuId:qt.menuId,name:mr?.name||`메뉴-${qt.menuId}`,price:mr?.price||0,quantity:qt.quantity}});r(St)}}catch(Re){console.error("메뉴 정보 가져오기 오류:",Re);const Ut=Se.items.map((St,qt)=>({id:`daily-${qt}-${Date.now()}-${St.menuId}`,originalMenuId:St.menuId,name:`일일메뉴-${St.menuId}`,price:0,quantity:St.quantity}));r(Ut)}}catch(Se){console.error("일일 메뉴 장바구니 데이터 파싱 오류:",Se)}else{const Se=te(void 0,se);console.log("일반 메뉴 날짜 설정:",Se)}if(se.delivery_time_slots&&se.delivery_time_slots.length>0){const Se=se.delivery_time_slots.filter(Re=>Re.enabled);Se.length>0&&g(`${Se[0].name} (${Se[0].start}-${Se[0].end})`)}const _e=(parseInt(se.business_hours_start?.split(":")[0]||"9")+1).toString().padStart(2,"0");v(`${_e}:00`),T(!1)}else T(!1),e("/")})()},[]),w.useEffect(()=>{(async()=>{if(console.log("🔍 배달비 업데이트 시도:",{selectedDeliveryArea:Z,orderType:o}),Z&&o==="delivery")try{const X=await b6(Z);console.log("✅ 배달비 조회 성공:",X),le(X)}catch(X){console.error("❌ 배달비 조회 실패:",X),le(0)}else console.log("⚠️ 배달비 0으로 설정:",{selectedDeliveryArea:Z,orderType:o}),le(0)})()},[Z,o]),C)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"로딩 중..."}),i.jsx("p",{className:"text-gray-600",children:"잠시만 기다려주세요."})]})});if(!n||t.length===0)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"ri-shopping-cart-line text-6xl text-gray-300 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-2",children:"장바구니가 비어있습니다"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"맛있는 반찬을 담아보세요"}),i.jsx("button",{onClick:()=>e("/stores"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg whitespace-nowrap cursor-pointer",children:"매장으로 돌아가기"})]})});const ne=t.reduce((U,X)=>U+X.price*X.quantity,0),H=ne+(o==="delivery"?G:0),oe=n?.minimum_order_amount||0,xe=o==="pickup"||ne>=oe,ue=oe-ne,ye=(U,X)=>{if(X===0){const Y=t.filter(fe=>fe.id!==U);r(Y),localStorage.setItem("cart",JSON.stringify(Y))}else{const Y=t.map(fe=>fe.id===U?{...fe,quantity:X}:fe);r(Y),localStorage.setItem("cart",JSON.stringify(Y))}},F=U=>{const X=t.filter(Y=>Y.id!==U);r(X),localStorage.setItem("cart",JSON.stringify(X))},de=async()=>{if($)return;if(!n){alert("매장 정보를 찾을 수 없습니다.");return}if(!S.trim()){alert("고객명을 입력해주세요.");return}if(!A.trim()){alert("전화번호를 입력해주세요.");return}if(!/^010-?\d{4}-?\d{4}$/.test(A.replace(/\s/g,""))){alert(`전화번호를 올바르게 입력해주세요.

예: 010-1234-5678 또는 01012345678

알림톡 발송을 위해 정확한 전화번호가 필요합니다.`);return}if(o==="delivery"){if(!d.trim()){alert("배달 주소를 입력해주세요.");return}if(!m){alert("배달 희망 시간을 선택해주세요.");return}if(ne<oe){alert(`최소주문금액 ${oe.toLocaleString()}원을 맞춰주세요.

현재 주문금액: ${ne.toLocaleString()}원
부족한 금액: ${ue.toLocaleString()}원`);return}}else if(!x){alert("픽업 희망 시간을 선택해주세요.");return}if(k==="bank_transfer"&&!_.trim()){alert("입금자명을 입력해주세요.");return}L(!0);try{const X=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(se){const je=Math.random()*16|0;return(se==="x"?je:je&3|8).toString(16)});console.log("🔍 디버깅 - deliveryTime:",m),console.log("🔍 디버깅 - pickupTime:",x);const Y={user_id:X(),store_id:n.id,order_type:o,delivery_address:o==="delivery"?d:void 0,delivery_time:o==="delivery"?m:void 0,pickup_time:o==="pickup"?x:void 0,special_requests:b||void 0,depositor_name:k==="bank_transfer"?_:"",customer_name:S,customer_phone:A,customer_address:o==="delivery"?d:void 0,subtotal:ne,delivery_fee:o==="delivery"?G:0,total:H,delivery_area_id:o==="delivery"?Z:void 0,payment_method:k,items:t.map(se=>({menu_id:se.originalMenuId||se.id,quantity:se.quantity,price:se.price})),daily_menu_data:B?{daily_menu_id:B.dailyMenuId,menu_date:B.menuDate,items:B.items}:void 0},fe=await x6(Y);fe?(localStorage.removeItem("cart"),localStorage.removeItem("storeInfo"),localStorage.removeItem("dailyMenuCart"),e(`/order-complete/${fe.id}`)):alert("주문 생성에 실패했습니다. 다시 시도해주세요.")}catch(X){console.error("주문 생성 오류:",X),alert("주문 생성 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{L(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[i.jsx(w6,{}),i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsxs("div",{className:"px-4 py-4 flex items-center",children:[i.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsx("i",{className:"ri-arrow-left-line text-xl"})}),i.jsx("h1",{className:"text-lg font-semibold ml-2",children:"주문하기"})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-bag-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"주문 방식"})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:()=>u("delivery"),className:`flex-1 py-4 px-6 rounded-xl border-2 text-center cursor-pointer transition-all duration-300 font-semibold ${o==="delivery"?"border-orange-500 bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg transform scale-105":"border-gray-300 text-gray-600 hover:border-orange-300 hover:bg-orange-50 hover:shadow-md"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("i",{className:"ri-truck-line text-lg"}),i.jsx("span",{className:"text-base",children:"배달"})]})}),i.jsx("button",{onClick:()=>u("pickup"),className:`flex-1 py-4 px-6 rounded-xl border-2 text-center cursor-pointer transition-all duration-300 font-semibold ${o==="pickup"?"border-orange-500 bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg transform scale-105":"border-gray-300 text-gray-600 hover:border-orange-300 hover:bg-orange-50 hover:shadow-md"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("i",{className:"ri-store-3-line text-lg"}),i.jsx("span",{className:"text-base",children:"픽업"})]})})]})]}),o==="delivery"&&ie.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-map-pin-line text-orange-500"}),"배달지역 선택"]}),!xe&&i.jsxs("div",{className:"mb-4 p-4 bg-orange-50 border border-orange-200 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[i.jsx("i",{className:"ri-information-line text-lg"}),i.jsx("span",{className:"font-semibold",children:"최소주문금액 미달"})]}),i.jsxs("p",{className:"text-sm text-orange-600 mt-1",children:[ue.toLocaleString(),"원 더 담으면 주문 가능합니다"]})]}),i.jsx("div",{className:"grid gap-3",children:ie.map(U=>i.jsx("button",{onClick:()=>z(U.id),className:`p-4 rounded-xl border-2 transition-all duration-200 text-left ${Z===U.id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300 hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:U.area_name}),i.jsx("p",{className:"text-sm text-gray-600",children:"배달 가능 지역"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[U.delivery_fee.toLocaleString(),"원"]}),i.jsx("p",{className:"text-xs text-gray-500",children:"배달비"})]})]})},U.id))})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-user-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"고객 정보"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-2",children:["고객명 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:S,onChange:U=>O(U.target.value),placeholder:"이름을 입력해주세요",className:"w-full p-4 border-2 border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 transition-all duration-200 hover:border-gray-400"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-2",children:["전화번호 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"tel",value:A,onChange:U=>{const Y=U.target.value.replace(/[^0-9]/g,"").slice(0,11);P(Y)},placeholder:"01023432321",className:"w-full p-4 border-2 border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 transition-all duration-200 hover:border-gray-400"}),i.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"숫자만 입력하세요 (예: 01023432321)"})]})]})]}),o==="delivery"&&i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-truck-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"배달 정보"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-2",children:["배달 주소 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:d,onChange:U=>h(U.target.value),placeholder:"상세 주소를 입력해주세요",className:"w-full p-4 border-2 border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 transition-all duration-200 hover:border-gray-400"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-4",children:["배달 시간대 선택 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:n?.delivery_time_slots?.filter(U=>U.enabled).map(U=>i.jsx("button",{onClick:()=>g(`${U.name} (${U.start}-${U.end})`),className:`p-4 rounded-xl border-2 text-left transition-all duration-200 ${m===`${U.name} (${U.start}-${U.end})`?"border-orange-500 bg-orange-50 text-orange-600 shadow-md":"border-gray-200 bg-white text-gray-600 hover:border-orange-300 hover:bg-orange-25"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center",children:m===`${U.name} (${U.start}-${U.end})`&&i.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-medium flex items-center gap-2",children:[i.jsx("i",{className:"ri-truck-line"}),U.name]}),i.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[j6(I())," ",U.start," - ",U.end]})]})]})},U.name))}),i.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"원하는 배달 시간대를 선택하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"배달 요청사항"}),i.jsx("textarea",{value:b,onChange:U=>j(U.target.value),placeholder:"특별한 요청사항이 있으시면 입력해주세요",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg text-sm resize-none"})]})]})]}),o==="pickup"&&i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-store-3-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"픽업 정보"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-4 rounded-xl border border-orange-200",children:[i.jsx("div",{className:"font-bold text-lg text-gray-800 mb-2",children:n?.name}),i.jsxs("div",{className:"text-base text-gray-600 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-time-line text-orange-500"}),i.jsxs("span",{children:["영업시간: ",n?.business_hours_start||"09:00"," ~ ",n?.business_hours_end||"21:00"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-phone-line text-orange-500"}),i.jsxs("span",{children:["전화번호: ",n?.phone]})]})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-4",children:["픽업 희망 시간 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-2xl p-6 shadow-sm",children:[i.jsx("div",{className:"text-center mb-6",children:i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm",children:[i.jsx("i",{className:"ri-time-line text-orange-500"}),i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"픽업 희망 시간을 선택하세요"})]})}),i.jsxs("div",{className:"flex gap-6 items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-center mb-3",children:i.jsx("span",{className:"text-xs font-bold text-gray-600 bg-white px-3 py-1 rounded-full",children:"시간"})}),i.jsx("div",{className:"h-40 overflow-y-auto border-2 border-white rounded-xl bg-white shadow-inner",children:i.jsx("div",{className:"py-2",children:(()=>{const U=parseInt(n?.business_hours_start?.split(":")[0]||"9"),X=parseInt(n?.business_hours_end?.split(":")[0]||"21");return Array.from({length:X-U+1},(Y,fe)=>{const se=(U+fe).toString().padStart(2,"0");return i.jsxs("div",{onClick:()=>{const je=x.split(":")[1]||"00";v(`${se}:${je}`)},className:`px-4 py-3 text-center cursor-pointer transition-all duration-200 border-b border-gray-100 last:border-b-0 ${x.startsWith(se)?"bg-gradient-to-r from-orange-500 to-orange-600 text-white font-bold shadow-md":"hover:bg-gradient-to-r hover:from-orange-50 hover:to-orange-100 text-gray-700 font-medium"}`,children:[se,"시"]},se)})})()})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-center mb-3",children:i.jsx("span",{className:"text-xs font-bold text-gray-600 bg-white px-3 py-1 rounded-full",children:"분"})}),i.jsx("div",{className:"h-40 overflow-y-auto border-2 border-white rounded-xl bg-white shadow-inner",children:i.jsx("div",{className:"py-2",children:["00","10","20","30","40","50"].map(U=>i.jsxs("div",{onClick:()=>{const X=x.split(":")[0]||"00";v(`${X}:${U}`)},className:`px-4 py-3 text-center cursor-pointer transition-all duration-200 border-b border-gray-100 last:border-b-0 ${x.endsWith(U)?"bg-gradient-to-r from-orange-500 to-orange-600 text-white font-bold shadow-md":"hover:bg-gradient-to-r hover:from-orange-50 hover:to-orange-100 text-gray-700 font-medium"}`,children:[U,"분"]},U))})})]})]}),i.jsx("div",{className:"text-center mt-6",children:i.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-white rounded-2xl shadow-lg border border-orange-200",children:[i.jsx("i",{className:"ri-time-line text-orange-500 text-lg"}),i.jsx("span",{className:"font-bold text-gray-800",children:"선택된 시간: "}),i.jsx("span",{className:"font-bold text-orange-600 text-lg",children:x})]})})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-bank-card-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"결제 방식"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-6",children:[i.jsx("button",{onClick:()=>D("bank_transfer"),className:`py-4 px-4 rounded-xl border-2 text-center cursor-pointer transition-all duration-300 font-semibold ${k==="bank_transfer"?"border-orange-500 bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg transform scale-105":"border-gray-300 text-gray-600 hover:border-orange-300 hover:bg-orange-50 hover:shadow-md"}`,children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("i",{className:"ri-bank-line text-xl"}),i.jsx("span",{className:"text-sm",children:"무통장입금"})]})}),i.jsx("button",{onClick:()=>D("zeropay"),className:`py-4 px-4 rounded-xl border-2 text-center cursor-pointer transition-all duration-300 font-semibold ${k==="zeropay"?"border-orange-500 bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg transform scale-105":"border-gray-300 text-gray-600 hover:border-orange-300 hover:bg-orange-50 hover:shadow-md"}`,children:i.jsxs("div",{className:"flex flex-col items-center gap-2",children:[i.jsx("i",{className:"ri-qr-code-line text-xl"}),i.jsx("span",{className:"text-sm",children:"제로페이"})]})})]}),k==="bank_transfer"&&i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-2",children:["입금자명 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:_,onChange:U=>N(U.target.value),placeholder:"입금자명을 입력해주세요",className:"w-full p-4 border-2 border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 transition-all duration-200 hover:border-gray-400"})]}),k==="zeropay"&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-4",children:[i.jsxs("div",{className:"flex items-center gap-2 text-blue-700 mb-2",children:[i.jsx("i",{className:"ri-information-line text-lg"}),i.jsx("span",{className:"font-semibold",children:"제로페이 결제 안내"})]}),i.jsx("p",{className:"text-sm text-blue-600",children:"주문 완료 후 제로페이 QR 코드를 통해 결제하실 수 있습니다."})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"주문 상품"})]}),i.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3 pr-2 mb-4",children:t.map(U=>i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-gray-800",children:U.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[(U.price||0).toLocaleString(),"원"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center bg-white border border-gray-200 rounded-full",children:[i.jsx("button",{onClick:()=>ye(U.id,U.quantity-1),className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-l-full transition-colors",children:i.jsx("i",{className:"ri-subtract-line text-sm"})}),i.jsx("span",{className:"px-3 py-1 text-sm font-medium text-gray-700 min-w-[2rem] text-center",children:U.quantity}),i.jsx("button",{onClick:()=>ye(U.id,U.quantity+1),className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-r-full transition-colors",children:i.jsx("i",{className:"ri-add-line text-sm"})})]}),i.jsx("button",{onClick:()=>F(U.id),className:"w-8 h-8 flex items-center justify-center text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-colors",title:"메뉴 삭제",children:i.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]},U.id))}),i.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:"상품 금액"}),i.jsxs("span",{className:"text-gray-800",children:[ne.toLocaleString(),"원"]})]}),o==="delivery"&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:"배달비"}),i.jsxs("span",{className:"text-gray-800",children:[G.toLocaleString(),"원"]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[i.jsx("span",{className:"font-bold text-lg text-gray-800",children:"총 결제 금액"}),i.jsxs("span",{className:"font-bold text-2xl text-orange-500",children:[H.toLocaleString(),"원"]})]})]})]})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 p-6 shadow-2xl",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx("button",{onClick:de,disabled:$||!xe,className:`w-full py-5 px-6 rounded-2xl font-bold text-xl whitespace-nowrap transition-all duration-300 shadow-xl ${$||!xe?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 hover:shadow-2xl transform hover:scale-[1.02] cursor-pointer"} text-white`,children:i.jsx("div",{className:"flex items-center justify-center gap-3",children:$?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}),i.jsx("span",{children:"주문 처리 중..."})]}):xe?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"ri-shopping-bag-line text-2xl"}),i.jsxs("span",{children:[H.toLocaleString(),"원 주문하기"]})]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"ri-information-line text-2xl"}),i.jsx("span",{children:"최소주문금액 미달"})]})})})})}),i.jsx(kn,{})]})}function _6(){const e=gt(),{orderId:t}=En(),[r,n]=w.useState(null),[s,o]=w.useState(!0),[u,d]=w.useState(!1);if(w.useEffect(()=>{(async()=>{if(!t){e("/stores");return}try{const{data:g,error:x}=await be.from("orders").select(`
            id,
            created_at,
            customer_name,
            customer_phone,
            depositor_name,
            delivery_address,
            delivery_time,
            pickup_time,
            special_requests,
            order_type,
            subtotal,
            delivery_fee,
            total,
            delivery_area_id,
            payment_method,
            stores (
              name,
              phone,
              bank_account,
              account_holder
            ),
            order_items (
              price,
              quantity,
              menus (
                name
              )
            ),
            daily_menu_orders (
              daily_menu_id,
              menu_id,
              quantity,
              daily_menus (
                menu_date,
                title
              ),
              menus (
                name,
                price
              )
            )
          `).eq("id",t).single();if(x){console.error("주문 정보 로드 오류:",x),e("/stores");return}n(g)}catch(g){console.error("주문 정보 로드 오류:",g),e("/stores")}finally{o(!1)}})()},[t,e]),s)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"주문 정보를 불러오는 중..."})]})});if(!r)return null;const h=()=>{r?.stores?.bank_account&&(navigator.clipboard.writeText(r.stores.bank_account),d(!0),setTimeout(()=>d(!1),2e3))};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100",children:[i.jsx(Nr,{}),i.jsxs("div",{className:"max-w-md mx-auto px-3 py-4 space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("i",{className:"ri-check-line text-2xl sm:text-3xl text-green-600"})}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"주문 완료!"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mb-3 sm:mb-4",children:["주문번호: ",r.id.slice(-8).toUpperCase()]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"입금 확인 후 조리가 시작됩니다"})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4",children:"주문 메뉴"}),i.jsx("div",{className:"space-y-2 sm:space-y-3",children:r.daily_menu_orders?.map((m,g)=>i.jsxs("div",{className:"flex justify-between items-start py-2",children:[i.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-900 font-medium block",children:m.menus.name}),i.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["× ",m.quantity,"개"]})]}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-800 font-semibold flex-shrink-0",children:[((m.menus?.price||0)*m.quantity).toLocaleString(),"원"]})]},g))}),i.jsxs("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"상품 금액"}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-800",children:[r.subtotal.toLocaleString(),"원"]})]}),r.order_type==="delivery"&&i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"배달비"}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-800",children:[(r.delivery_fee||r.total-r.subtotal||0).toLocaleString(),"원"]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[i.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:"총 결제 금액"}),i.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:[r.total.toLocaleString(),"원"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4",children:r.payment_method==="bank_transfer"?"입금 정보":"제로페이 결제"}),r.payment_method==="bank_transfer"?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 sm:p-4 mb-3 sm:mb-4",children:[i.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 mb-1 font-mono break-all",children:r.stores.bank_account}),i.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:["예금주: ",r.stores.account_holder]})]}),i.jsxs("button",{onClick:h,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 sm:py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 shadow-sm hover:shadow-md text-sm sm:text-base min-h-[48px]",children:[i.jsx("i",{className:"ri-file-copy-line text-base"}),"복사"]})]}):i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 rounded-xl p-6 mb-4 border border-blue-200",children:[i.jsx("div",{className:"text-sm text-blue-700 font-semibold mb-4",children:"제로페이 QR 코드입니다"}),i.jsx("div",{className:"bg-white rounded-xl p-4 shadow-lg inline-block",children:i.jsx("img",{src:"https://static.readdy.ai/image/912b0945f01d9fdb4ff4544659653c90/2d4890bd82abce85d430bd82d04df8d6.png",alt:"제로페이 QR 코드",className:"w-48 h-48 mx-auto"})}),i.jsx("div",{className:"text-xs text-blue-600 mt-3",children:"QR 코드를 스캔하여 결제를 완료해주세요"})]})})]}),i.jsxs("div",{className:"bg-green-50 rounded-2xl shadow-sm border border-green-100 p-4 sm:p-6",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-calendar-line text-green-600 text-base sm:text-lg"}),"픽업 시간"]}),i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.delivery_address&&i.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-2 sm:p-3 bg-white rounded-xl",children:[i.jsx("i",{className:"ri-map-pin-line text-green-600 mt-1 text-sm sm:text-base"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"배달 주소"}),i.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-semibold break-words",children:r.delivery_address})]})]}),r.delivery_time&&i.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-2 sm:p-3 bg-white rounded-xl",children:[i.jsx("i",{className:"ri-time-line text-green-600 mt-1 text-sm sm:text-base"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"배달 시간"}),i.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-bold break-words",children:(()=>{try{const m=r.delivery_time.split(" ");if(m.length>=3){const g=m[0],x=m.slice(1).join(" "),v=g.match(/^(\d{4})-(\d{2})-(\d{2})$/);if(v){const[,b,j,_]=v,N=parseInt(b),S=parseInt(j),O=parseInt(_);if(N>=2020&&N<=2030&&S>=1&&S<=12&&O>=1&&O<=31){const A=new Date(N,S-1,O);if(!isNaN(A.getTime())&&A.getFullYear()===N&&A.getMonth()===S-1&&A.getDate()===O)return`${A.toLocaleDateString("ko-KR",{month:"long",day:"numeric"})} ${x}`}}}return r.delivery_time}catch(m){return console.error("날짜 파싱 오류:",m),r.delivery_time}})()})]})]}),r.pickup_time&&i.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-2 sm:p-3 bg-white rounded-xl",children:[i.jsx("i",{className:"ri-time-line text-green-600 mt-1 text-sm sm:text-base"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"픽업 시간"}),i.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-bold break-words",children:r.pickup_time})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 text-center",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4",children:"문의 안내"}),i.jsx("p",{className:"text-gray-500 text-xs sm:text-sm mb-3 sm:mb-4",children:"주문 취소나 문의사항이 있으시면"}),i.jsx("a",{href:`tel:${r.stores.phone}`,className:"text-xl sm:text-2xl font-bold text-orange-600 hover:text-orange-700 transition-colors block mb-2",children:r.stores.phone}),i.jsx("p",{className:"text-gray-500 text-xs sm:text-sm mb-3 sm:mb-2",children:"로 연락해주세요"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[i.jsx("i",{className:"ri-information-line text-gray-600 text-sm sm:text-base"}),i.jsx("p",{className:"text-gray-700 text-sm sm:text-base font-medium",children:"입금 후 주문 상태는 밴드 글 링크에서 확인하세요"})]})]})]}),u&&i.jsx("div",{className:"fixed top-4 left-4 right-4 sm:left-auto sm:right-4 bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg z-50 text-sm font-medium text-center sm:text-left",children:"계좌번호가 복사되었습니다"}),i.jsx(kn,{})]})}const S6=async e=>{console.log("🔍 메뉴 조회 시작 - 매장 ID:",e);const{data:t,error:r}=await be.from("menus").select("*").eq("store_id",e).order("category",{ascending:!0}).order("name",{ascending:!0});if(r)throw console.error("❌ 메뉴 목록 가져오기 오류:",r),r;return console.log("✅ 메뉴 조회 성공:",t?.length||0,"개 메뉴"),t&&t.length>0&&console.log("📋 메뉴 목록:",t.map(n=>`${n.name} (${n.category})`)),t||[]},O6=async e=>{const{data:t,error:r}=await be.from("menus").insert({store_id:e.store_id,name:e.name,price:e.price,category:e.category,description:e.description||null,is_available:e.is_available??!0}).select().single();if(r)throw console.error("메뉴 생성 오류:",r),r;return t},A6=async(e,t)=>{const{data:r,error:n}=await be.from("menus").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw console.error("메뉴 수정 오류:",n),n;return r},E6=async e=>{const{error:t}=await be.from("menus").delete().eq("id",e);if(t)throw console.error("메뉴 삭제 오류:",t),t},k6=async e=>{const{data:t,error:r}=await be.from("user_stores").select(`
      stores (
        id,
        name,
        category,
        delivery_area,
        phone,
        business_hours_start,
        business_hours_end,
        order_cutoff_time,
        minimum_order_amount,
        pickup_time_slots,
        delivery_time_slots,
        bank_account,
        account_holder
      )
    `).eq("user_id",e).eq("role","owner").order("created_at",{ascending:!1});if(r)throw console.error("사용자 매장 목록 가져오기 오류:",r),r;return t?.map(n=>n.stores).filter(Boolean)||[]},kp=async e=>{const{data:t,error:r}=await be.from("user_stores").select(`
      store_id,
      stores (
        id,
        name,
        category,
        delivery_area,
        phone,
        business_hours_start,
        business_hours_end,
        order_cutoff_time,
        minimum_order_amount,
        pickup_time_slots,
        delivery_time_slots,
        bank_account,
        account_holder,
        created_at,
        updated_at
      )
    `).eq("user_id",e).eq("role","owner").order("created_at",{ascending:!1});if(r)throw console.error("사용자 소유 매장 목록 가져오기 오류:",r),r;return t?.map(n=>n.stores).filter(Boolean)||[]},T6=async e=>{const{data:t,error:r}=await be.from("orders").select(`
      *,
      users (
        name,
        phone,
        email
      ),
      order_items (
        quantity,
        price,
        menus (
          name
        )
      )
    `).eq("store_id",e).order("created_at",{ascending:!1});if(r)throw console.error("매장 주문 목록 가져오기 오류:",r),r;return t||[]},C6=async(e,t)=>{const{error:r}=await be.from("orders").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error("주문 상태 업데이트 오류:",r),r};class D6{cache=new Map;DEFAULT_TTL=300*1e3;set(t,r,n=this.DEFAULT_TTL){this.cache.set(t,{data:r,timestamp:Date.now(),ttl:n})}get(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>r.ttl?(this.cache.delete(t),null):r.data:null}has(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>r.ttl?(this.cache.delete(t),!1):!0:!1}delete(t){this.cache.delete(t)}clear(){this.cache.clear()}deletePattern(t){const r=new RegExp(t);for(const n of this.cache.keys())r.test(n)&&this.cache.delete(n)}}const uc=new D6,dc={STORES:"stores"},Oa=async()=>{console.log("📡 getStores API 호출 시작");const e=uc.get(dc.STORES);if(e)return console.log("✅ getStores 캐시에서 반환:",e.length,"개"),e;const{data:t,error:r}=await be.from("stores").select("*").order("created_at",{ascending:!1});if(r)throw console.error("❌ 매장 목록 가져오기 오류:",r),new Error(`매장 목록을 불러오는데 실패했습니다: ${r.message}`);const n=t||[];return console.log("✅ getStores API 응답:",n),uc.set(dc.STORES,n,300*1e3),n},bO=async e=>{if(!e)throw new Error("매장 ID가 필요합니다.");const{data:t,error:r}=await be.from("stores").select("*").eq("id",e).single();if(r)throw console.error("매장 정보 가져오기 오류:",r),new Error(`매장 정보를 불러오는데 실패했습니다: ${r.message}`);return t},P6=async(e,t)=>{if(!e.name?.trim())throw new Error("매장명을 입력해주세요.");if(!e.category?.trim())throw new Error("카테고리를 선택해주세요.");if(!e.delivery_area?.trim())throw new Error("배달지역을 입력해주세요.");if(!e.phone?.trim())throw new Error("전화번호를 입력해주세요.");if(!e.bank_account?.trim())throw new Error("계좌번호를 입력해주세요.");if(!e.account_holder?.trim())throw new Error("예금주명을 입력해주세요.");const r={...e,owner_id:null},{data:n,error:s}=await be.from("stores").insert(r).select().single();if(s)throw console.error("매장 생성 오류:",s),new Error(`매장 생성에 실패했습니다: ${s.message}`);return uc.delete(dc.STORES),n},Sx=async(e,t)=>{if(console.log("🔄 updateStore API 호출:",e,t),console.log("💰 최소주문금액 API 전송값:",t.minimum_order_amount),!e)throw new Error("매장 ID가 필요합니다.");if(t.name!==void 0&&!t.name?.trim())throw new Error("매장명을 입력해주세요.");if(t.category!==void 0&&!t.category?.trim())throw new Error("카테고리를 선택해주세요.");const{data:r,error:n}=await be.from("stores").update(t).eq("id",e).select().single();if(n)throw console.error("매장 수정 오류:",n),new Error(`매장 수정에 실패했습니다: ${n.message}`);return console.log("✅ updateStore API 응답:",r),console.log("💰 최소주문금액 API 응답값:",r?.minimum_order_amount),uc.delete(dc.STORES),r},M6=async e=>{if(!e)throw new Error("매장 ID가 필요합니다.");const{error:t}=await be.from("stores").delete().eq("id",e);if(t)throw console.error("매장 삭제 오류:",t),new Error(`매장 삭제에 실패했습니다: ${t.message}`);uc.delete(dc.STORES)},kf=async e=>{if(!e)throw new Error("매장 ID가 필요합니다.");const{data:t,error:r}=await be.from("menus").select("*").eq("store_id",e).order("category",{ascending:!0});if(r)throw console.error("메뉴 목록 가져오기 오류:",r),new Error(`메뉴 목록을 불러오는데 실패했습니다: ${r.message}`);return t||[]},Tp=async e=>{if(!e.store_id)throw new Error("매장 ID가 필요합니다.");if(!e.name?.trim())throw new Error("메뉴명을 입력해주세요.");if(!e.price||e.price<=0)throw new Error("올바른 가격을 입력해주세요.");console.log("📝 데이터베이스에 메뉴 저장 시작:",e);const t={...e,category:e.category||"인기메뉴"};console.log("💾 실제 저장할 데이터:",t);const{data:r,error:n}=await be.from("menus").insert(t).select().single();if(n)throw console.error("❌ 메뉴 생성 오류:",n),new Error(`메뉴 생성에 실패했습니다: ${n.message}`);return console.log("✅ 데이터베이스에 메뉴 저장 성공:",r),r},fc=async(e,t)=>{if(!e)throw new Error("메뉴 ID가 필요합니다.");if(t.name!==void 0&&!t.name?.trim())throw new Error("메뉴명을 입력해주세요.");if(t.price!==void 0&&t.price<=0)throw new Error("올바른 가격을 입력해주세요.");console.log("📝 메뉴 수정 시작:",{menuId:e,updateData:t});const{data:r,error:n}=await be.from("menus").update(t).eq("id",e).select().single();if(n)throw console.error("❌ 메뉴 수정 오류:",n),new Error(`메뉴 수정에 실패했습니다: ${n.message}`);return console.log("✅ 메뉴 수정 성공:",r),r},Cp=async e=>{if(!e)throw new Error("메뉴 ID가 필요합니다.");const{error:t}=await be.from("menus").delete().eq("id",e);if(t)throw console.error("메뉴 삭제 오류:",t),new Error(`메뉴 삭제에 실패했습니다: ${t.message}`)};function R6(){const e=gt(),{user:t,loading:r}=sr(),[n,s]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState("입금대기"),[m,g]=w.useState("today"),[x,v]=w.useState(""),[b,j]=w.useState(!1),[_,N]=w.useState(!1),[S,O]=w.useState(!1),[A,P]=w.useState("orders"),[k,D]=w.useState(""),[C,T]=w.useState(1),[$]=w.useState(15),[L,B]=w.useState(!1),[J,ie]=w.useState(null),W=["메인요리","국물류","김치류","젓갈류","나물류","조림류","특별반찬","인기메뉴","세트메뉴","월식메뉴"],[Z,z]=w.useState([]),[G,le]=w.useState(!1),[ge,I]=w.useState(!1),[te,ne]=w.useState(null),[H,oe]=w.useState("메인요리"),[xe,ue]=w.useState(new Set),[ye,F]=w.useState({name:"",description:"",price:"",category:"",is_available:!0}),[de,U]=w.useState(!1),[X,Y]=w.useState(!1),[fe,se]=w.useState({name:"",phone:"",address:"",description:"",business_hours_start:"",business_hours_end:"",order_deadline_hour:"",order_deadline_minute:"",delivery_area:"",delivery_fee:0}),{storeId:je}=En(),[_e,Se]=w.useState("");w.useEffect(()=>{je||(console.log("⚠️ storeId가 없어서 admin-dashboard로 리다이렉트"),e("/admin-dashboard"))},[je,e]);const[Re,Ut]=w.useState(null);w.useEffect(()=>{const R=pe=>{const Ne=pe.target;b&&!Ne.closest(".date-picker-container")&&j(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[b]),w.useEffect(()=>{const R=pe=>{const Ne=pe.target;_&&!Ne.closest(".period-dropdown-container")&&N(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[_]),w.useEffect(()=>{T(1)},[d,m,x,k]),w.useEffect(()=>{const R=pe=>{const{orderId:Ne,status:we}=pe.detail;console.log(`다른 페이지에서 주문 ${Ne} 상태가 ${we}로 변경됨. 데이터 새로고침 중...`),s(Ee=>Ee.map(Ie=>Ie.id===Ne?{...Ie,status:we}:Ie))};return window.addEventListener("orderStatusChanged",R),()=>{window.removeEventListener("orderStatusChanged",R)}},[]);const St=async()=>{if(t?.id)try{le(!0);let R=je;if(!R){if(t.role==="admin"){const{data:pe}=await be.from("user_stores").select(`
              stores (
                id,
                name,
                category,
                delivery_area,
                phone,
                business_hours_start,
                business_hours_end,
                pickup_time_slots,
                delivery_time_slots,
                bank_account,
                account_holder
              )
            `).eq("user_id",t.id).eq("role","owner");if(pe&&pe.length>0)R=pe[0].stores?.[0]?.id;else{console.log("관리하는 매장이 없습니다."),z([]);return}}else if(t.role==="super_admin"){const pe=await Oa();if(pe.length>0)R=pe[0].id;else{console.log("등록된 매장이 없습니다."),z([]);return}}}if(console.log("🎯 메뉴 로드 대상 매장 ID:",R),R){const pe=await kf(R);console.log("📋 로드된 메뉴 데이터:",pe),z(pe)}else console.log("⚠️ 매장 ID가 없어서 메뉴를 로드할 수 없습니다."),z([])}catch(R){console.error("❌ 메뉴 데이터 로드 실패:",R)}finally{le(!1)}};w.useEffect(()=>{A==="menus"&&t?.id&&St()},[A,t?.id]),w.useEffect(()=>{Re&&(console.log("🏪 currentStore 업데이트:",Re),console.log("💰 최소주문금액:",Re.minimum_order_amount))},[Re]);const qt=async()=>{if(je)try{console.log("🔍 매장 정보 로드 시도, storeId:",je);const{data:R,error:pe}=await be.from("stores").select("*").eq("id",je).single();if(pe){console.error("❌ 매장 정보 로드 실패:",pe);return}R?(Ut(R),Se(R.name),console.log("✅ 매장 정보 로드됨:",R)):console.log("⚠️ 매장 데이터 없음")}catch(R){console.error("❌ 매장 정보 로드 오류:",R)}else console.log("⚠️ storeId 없음")};w.useEffect(()=>{qt()},[je]);const pn=()=>{Re&&(se({name:Re.name||"",phone:Re.phone||"",address:Re.address||"",description:Re.description||"",business_hours_start:Re.business_hours_start||"",business_hours_end:Re.business_hours_end||"",order_deadline_hour:Re.order_deadline_hour||"",order_deadline_minute:Re.order_deadline_minute||"",delivery_area:Re.delivery_area||"",delivery_fee:Re.delivery_fee||0}),Y(!0))},mr=async R=>{if(R.preventDefault(),!!je)try{const{error:pe}=await be.from("stores").update({name:fe.name,phone:fe.phone,address:fe.address,description:fe.description,business_hours_start:fe.business_hours_start,business_hours_end:fe.business_hours_end,order_deadline_hour:fe.order_deadline_hour,order_deadline_minute:fe.order_deadline_minute,delivery_area:fe.delivery_area,delivery_fee:fe.delivery_fee,updated_at:new Date().toISOString()}).eq("id",je);if(pe)throw pe;await qt(),Y(!1),alert("매장 정보가 수정되었습니다.")}catch(pe){console.error("매장 정보 수정 실패:",pe),alert("매장 정보 수정에 실패했습니다.")}},Ul=async()=>{if(console.log("🔗 주문 링크 복사 시도"),console.log("🏪 URL storeId:",je),console.log("🏪 URL storeName:",_e),!je){console.error("❌ URL에 storeId가 없습니다");return}try{const R=`${window.location.origin}/menu/${je}`;console.log("🔗 복사할 링크:",R),await navigator.clipboard.writeText(R),U(!0),setTimeout(()=>{U(!1)},2e3),console.log("✅ 링크 복사 성공")}catch(R){console.error("❌ 링크 복사 실패:",R),alert("링크 복사에 실패했습니다. 다시 시도해주세요.")}};w.useEffect(()=>{if(!r){if(!t){e("/admin-login");return}if(t&&t.role!=="admin"&&t.role!=="super_admin"){e("/stores");return}}},[t,r,e]),w.useEffect(()=>{(async()=>{if(!(!t||t.role!=="admin"&&t.role!=="super_admin"))try{u(!0);let pe=[];if(t.role==="super_admin"&&je)pe=await yl(je),console.log(`매장 ${_e}의 주문:`,pe);else{console.log("🔍 getUserStores 호출, userId:",t.id);const we=await k6(t.id);if(console.log("🏪 사용자 매장 목록:",we),we.length===0){console.log("관리하는 매장이 없습니다."),s([]);return}for(const Ee of we){const Ie=await yl(Ee.id);console.log(`매장 ${Ee.name}의 주문:`,Ie),pe.push(...Ie)}pe.sort((Ee,Ie)=>new Date(Ie.created_at).getTime()-new Date(Ee.created_at).getTime()),we.length>0&&(console.log("🏪 현재 매장 설정:",we[0]),Ut(we[0]))}const Ne=await Promise.all(pe.map(async we=>{const{data:Ee}=await be.from("order_items").select(`
                *,
                menus (
                  id,
                  name
                )
              `).eq("order_id",we.id);return{...we,order_items:Ee||[]}}));s(Ne),console.log("로드된 주문 데이터:",Ne)}catch(pe){console.error("주문 데이터 로드 오류:",pe)}finally{u(!1)}})()},[t,je,_e]);const wi=(R,pe)=>{const Ne=n.find(Ee=>Ee.id===R),we=Ne?Kl(Ne,n):0;console.log("주문 상태 변경 요청:",{orderId:R,orderNumber:we,newStatus:pe}),ie({orderId:R,orderNumber:we,newStatus:pe}),B(!0)},ji=async()=>{if(J)try{const{orderId:R,newStatus:pe}=J;await Ep(R,pe),s(n.map(Ne=>Ne.id===R?{...Ne,status:pe}:Ne)),console.log(`주문 ${R} 상태가 ${pe}로 변경되었습니다.`),alert(`주문 상태가 ${pe}로 변경되었습니다.

고객은 주문 조회 링크에서 실시간으로 상태를 확인할 수 있습니다.`)}catch(R){console.error("주문 상태 변경 오류:",R),alert("주문 상태 변경에 실패했습니다.")}finally{B(!1),ie(null)}},gr=()=>{B(!1),ie(null)},Cn=R=>{confirm("정말로 주문을 취소하시겠습니까?")&&s(n.filter(pe=>pe.id!==R))},xr=()=>{const{logout:R}=sr();R(),e("/admin-login")},Wc=R=>{console.log("날짜 선택됨:",R),R?(v(R),g("custom")):(v(""),g("today")),T(1),j(!1),O(!1)},Xc=R=>{g(R),T(1),R!=="custom"&&v(""),O(!1)},Mr=R=>{if(R.delivery_time){const pe=R.delivery_time.match(/(\d{4}-\d{2}-\d{2})/);if(pe)return pe[1]}if(R.pickup_time){const pe=R.pickup_time.match(/(\d{4}-\d{2}-\d{2})/);if(pe)return pe[1]}return new Date(R.created_at).toISOString().split("T")[0]},xs=(R,pe,Ne)=>{const we=new Date,Ee=new Date(we.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),Ie=new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate());switch(pe){case"today":return R.filter(Rr=>Mr(Rr)===Ie.toISOString().split("T")[0]);case"yesterday":const We=new Date(Ie);We.setDate(We.getDate()-1);const wt=We.toISOString().split("T")[0];return R.filter(Rr=>Mr(Rr)===wt);case"week":const Si=new Date(Ie);Si.setDate(Ie.getDate()-Ie.getDay());const vr=Si.toISOString().split("T")[0];return R.filter(Rr=>{const Jt=Mr(Rr);return Jt>=vr&&Jt<=Ie.toISOString().split("T")[0]});case"month":const ys=new Date(Ie.getFullYear(),Ie.getMonth(),1).toISOString().split("T")[0];return R.filter(Rr=>{const Jt=Mr(Rr);return Jt>=ys&&Jt<=Ie.toISOString().split("T")[0]});case"custom":return!Ne||Ne===""?R:R.filter(Rr=>{const Jt=Mr(Rr);return console.log("날짜 비교:",{deliveryDate:Jt,customDate:Ne,match:Jt===Ne}),Jt===Ne});default:return R}},ps=R=>{const pe={};return R.forEach(Ne=>{Ne.order_items?.forEach(we=>{const Ee=we.menus.name;pe[Ee]=(pe[Ee]||0)+we.quantity})}),Object.entries(pe).map(([Ne,we])=>({name:Ne,count:we})).sort((Ne,we)=>we.count-Ne.count).slice(0,4)},Zr=R=>{const pe=R.filter(we=>we.order_type==="pickup"),Ne={};return pe.forEach(we=>{if(we.pickup_time){const Ee=we.pickup_time;Ne[Ee]=(Ne[Ee]||0)+1}}),Object.entries(Ne).map(([we,Ee])=>({time:we,orders:Ee})).sort((we,Ee)=>Ee.orders-we.orders)},Qn=R=>{const pe=R.filter(we=>we.order_type==="delivery"),Ne={};return pe.forEach(we=>{if(we.delivery_time){const Ee=we.delivery_time;Ne[Ee]=(Ne[Ee]||0)+1}}),Object.entries(Ne).map(([we,Ee])=>({time:we,orders:Ee})).sort((we,Ee)=>Ee.orders-we.orders)},Zn=R=>["일","월","화","수","목","금","토"].map((Ne,we)=>{const Ee=R.filter(We=>new Date(We.created_at).getDay()===we),Ie=Ee.reduce((We,wt)=>We+wt.total,0);return{name:Ne,orders:Ee.length,revenue:Ie}}),pt=xs(n,m,x);console.log("현재 필터 상태:",{selectedPeriod:m,selectedDate:x,totalOrders:n.length,filteredOrders:pt.length});const _r=pt.filter(R=>R.status===d).filter(R=>{if(!k.trim())return!0;const pe=k.toLowerCase();return R.depositor_name?.toLowerCase().includes(pe)||R.delivery_address?.toLowerCase().includes(pe)||R.customer_name?.toLowerCase().includes(pe)||R.customer_phone?.includes(k)}).sort((R,pe)=>new Date(pe.created_at).getTime()-new Date(R.created_at).getTime()),Ni=Z.filter(R=>R.category===H),Dn=Math.ceil(_r.length/$),ql=(C-1)*$,zl=ql+$,vs=_r.slice(ql,zl),_i=R=>{T(R),window.scrollTo({top:0,behavior:"smooth"})},Bl=()=>{const R=window.open("","_blank");if(!R)return;const pe=document.querySelector(".print-content");pe&&(R.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>주문 내역 프린트</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 0;
              padding: 20px;
              font-size: 12px;
              line-height: 1.4;
            }
            .print-header {
              text-align: center;
              margin-bottom: 20px;
              border-bottom: 2px solid #333;
              padding-bottom: 10px;
            }
            .print-order {
              margin-bottom: 15px;
              padding: 10px;
              border: 1px solid #ddd;
              page-break-inside: avoid;
            }
            .print-order-header {
              display: flex;
              justify-content: space-between;
              margin-bottom: 8px;
              font-weight: bold;
            }
            .print-order-details {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 10px;
              margin-bottom: 8px;
            }
            .print-order-items {
              margin-bottom: 8px;
            }
            .print-order-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 2px;
            }
            .print-order-total {
              text-align: right;
              font-weight: bold;
              border-top: 1px solid #ddd;
              padding-top: 5px;
            }
            @media print {
              body { margin: 0; padding: 15px; }
            }
          </style>
        </head>
        <body>
          ${pe.innerHTML}
        </body>
      </html>
    `),R.document.close(),R.focus(),R.addEventListener("afterprint",()=>{const Ne=R.document.createElement("div");Ne.innerHTML=`
        <div style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
          <button onclick="window.close()" style="
            background: #f97316; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 8px; 
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          ">
            <i class="ri-arrow-left-line" style="margin-right: 5px;"></i>
            뒤로가기
          </button>
        </div>
      `,R.document.body.appendChild(Ne)}),setTimeout(()=>{R.print()},500))},Qc=async R=>{if(R.preventDefault(),!!t?.id)try{let pe=je;if(!pe){if(t.role==="admin"){const{data:we}=await be.from("user_stores").select(`
              stores (
                id,
                name,
                category,
                delivery_area,
                phone,
                business_hours_start,
                business_hours_end,
                pickup_time_slots,
                delivery_time_slots,
                bank_account,
                account_holder
              )
            `).eq("user_id",t.id).eq("role","owner");if(we&&we.length>0)pe=we[0].stores?.[0]?.id;else{alert("관리하는 매장이 없습니다.");return}}else if(t.role==="super_admin"){const we=await Oa();if(we.length>0)pe=we[0].id;else{alert("등록된 매장이 없습니다.");return}}}const Ne={store_id:pe,name:ye.name,description:ye.description,price:parseFloat(ye.price)||0,category:ye.category,is_available:ye.is_available};te?await fc(te.id,Ne):await Tp(Ne),I(!1),ne(null),F({name:"",description:"",price:"",category:"",is_available:!0}),St()}catch(pe){console.error("❌ 메뉴 저장 실패:",pe),alert("메뉴 저장에 실패했습니다.")}},fh=async R=>{if(confirm("정말로 이 메뉴를 삭제하시겠습니까?"))try{await Cp(R),St()}catch(pe){console.error("❌ 메뉴 삭제 실패:",pe),alert("메뉴 삭제에 실패했습니다.")}},Pn=R=>{ue(pe=>{const Ne=new Set(pe);return Ne.has(R)?Ne.delete(R):Ne.add(R),Ne})},zt=async R=>{try{await fc(R.id,{is_available:!R.is_available}),St()}catch(pe){console.error("❌ 메뉴 상태 변경 실패:",pe),alert("메뉴 상태 변경에 실패했습니다.")}},Zt=ps(pt),pr=R=>{const Ne={today:"오늘",yesterday:"어제",week:"이번주",month:"이번달",custom:x||"선택한 날짜"}[m]||"전체";return R===""?Ne:`${Ne} ${R}`},Hl=R=>{switch(R){case"입금대기":return"bg-yellow-100 text-yellow-800";case"입금확인":return"bg-blue-100 text-blue-800";case"배달완료":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},hh=R=>R==="입금대기"||R==="입금확인",Kl=(R,pe)=>{const Ne=Mr(R),we=pe.filter(Ie=>Mr(Ie)===Ne),Ee=we.findIndex(Ie=>Ie.id===R.id);return we.length-Ee},Jn=(R,pe)=>{const Ne=R.reduce((vr,Mn)=>vr+Mn.total,0),we=R.length,Ee=we>0?Math.round(Ne/we):0;let Ie=0;const We=new Date,wt=new Date(We.getFullYear(),We.getMonth(),We.getDate());switch(pe){case"today":const vr=new Date(wt);vr.setDate(vr.getDate()-1),Ie=R.filter(Bt=>Mr(Bt)===vr.toISOString().split("T")[0]).reduce((Bt,vt)=>Bt+vt.total,0);break;case"yesterday":const ys=new Date(wt);ys.setDate(wt.getDate()-2),Ie=R.filter(Bt=>Mr(Bt)===ys.toISOString().split("T")[0]).reduce((Bt,vt)=>Bt+vt.total,0);break;case"week":const Jt=new Date(wt);Jt.setDate(wt.getDate()-wt.getDay()-7);const Zc=new Date(wt);Zc.setDate(wt.getDate()-wt.getDay()-1),Ie=R.filter(Bt=>{const vt=Mr(Bt);return vt>=Jt.toISOString().split("T")[0]&&vt<=Zc.toISOString().split("T")[0]}).reduce((Bt,vt)=>Bt+vt.total,0);break;case"month":const bs=new Date(wt.getFullYear(),wt.getMonth()-1,1),vn=new Date(wt.getFullYear(),wt.getMonth(),0);Ie=R.filter(Bt=>{const vt=Mr(Bt);return vt>=bs.toISOString().split("T")[0]&&vt<=vn.toISOString().split("T")[0]}).reduce((Bt,vt)=>Bt+vt.total,0);break}const Si=Ie>0?Math.round((Ne-Ie)/Ie*100):Ne>0?100:0;return{totalRevenue:Ne,totalOrders:we,averageOrderValue:Ee,revenueGrowthRate:Si}};return r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"인증 정보를 확인하는 중..."})]})}):!t||t.role!=="admin"&&t.role!=="super_admin"?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"관리자만 접근할 수 있는 페이지입니다."}),i.jsx("button",{onClick:()=>e("/stores"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"매장 목록으로 이동"})]})}):i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @media print {
            body * {
              visibility: hidden;
            }
            .print-content, .print-content * {
              visibility: visible;
            }
            .print-content {
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              background: white;
              padding: 20px;
              font-size: 12px;
              line-height: 1.4;
            }
            .print-header {
              text-align: center;
              margin-bottom: 20px;
              border-bottom: 2px solid #333;
              padding-bottom: 10px;
            }
            .print-order {
              margin-bottom: 15px;
              padding: 10px;
              border: 1px solid #ddd;
              page-break-inside: avoid;
            }
            .print-order-header {
              display: flex;
              justify-content: space-between;
              margin-bottom: 8px;
              font-weight: bold;
            }
            .print-order-details {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 10px;
              margin-bottom: 8px;
            }
            .print-order-items {
              margin-bottom: 8px;
            }
            .print-order-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 2px;
            }
            .print-order-total {
              text-align: right;
              font-weight: bold;
              border-top: 1px solid #ddd;
              padding-top: 5px;
            }
            .no-print {
              display: none !important;
            }
          }
          
          /* 모던 드롭다운 스타일 */
          .modern-select {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          }
          
          .modern-select option {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            font-weight: 500;
            padding: 12px 16px;
            background: white;
            color: #374151;
            border: none;
            font-size: 14px;
            line-height: 1.5;
          }
          
          .modern-select option:hover {
            background: #f9fafb;
            color: #111827;
          }
          
          .modern-select option:checked {
            background: #fef3c7;
            color: #92400e;
            font-weight: 600;
          }
        `}}),i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[i.jsx("div",{className:"bg-white shadow-sm border-b no-print",children:i.jsx("div",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>e(-1),className:"mr-3 p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"뒤로가기",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:_e?`${_e} 관리자`:"매장 관리자"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("button",{onClick:xr,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md flex items-center whitespace-nowrap cursor-pointer text-sm",children:[i.jsx("i",{className:"ri-logout-box-r-line mr-1.5 text-xs"}),"로그아웃"]})})]})})}),i.jsxs("div",{className:"p-4 lg:p-6 flex-1 max-w-7xl mx-auto w-full",children:[i.jsxs("div",{className:"flex space-x-2 sm:space-x-3 mb-6 no-print overflow-x-auto pb-1",children:[i.jsxs("button",{onClick:()=>P("orders"),className:`px-3 sm:px-6 py-3 rounded-lg text-sm sm:text-base font-medium transition-colors whitespace-nowrap flex-shrink-0 ${A==="orders"?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:"ri-file-list-3-line mr-2 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"주문 내역"}),i.jsx("span",{className:"sm:hidden",children:"주문"})]}),i.jsxs("button",{onClick:()=>P("menus"),className:`px-3 sm:px-6 py-3 rounded-lg text-sm sm:text-base font-medium transition-colors whitespace-nowrap flex-shrink-0 ${A==="menus"?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:"ri-restaurant-line mr-2 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"메뉴 관리"}),i.jsx("span",{className:"sm:hidden",children:"메뉴"})]}),i.jsxs("button",{onClick:()=>P("statistics"),className:`px-3 sm:px-6 py-3 rounded-lg text-sm sm:text-base font-medium transition-colors whitespace-nowrap flex-shrink-0 ${A==="statistics"?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:"ri-bar-chart-line mr-2 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"통계"}),i.jsx("span",{className:"sm:hidden",children:"통계"})]}),i.jsxs("button",{onClick:()=>P("store"),className:`px-3 sm:px-6 py-3 rounded-lg text-sm sm:text-base font-medium transition-colors whitespace-nowrap flex-shrink-0 ${A==="store"?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:"ri-store-line mr-2 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"매장 관리"}),i.jsx("span",{className:"sm:hidden",children:"매장"})]})]}),A==="orders"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"주문 내역"}),i.jsx("p",{className:"text-sm text-gray-600",children:"모든 주문 정보를 상세하게 확인할 수 있습니다"})]}),_r.length>0&&i.jsxs("button",{onClick:Bl,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm whitespace-nowrap cursor-pointer",children:[i.jsx("i",{className:"ri-printer-line"}),"프린트"]})]})}),i.jsxs("div",{className:"space-y-4 mb-6 no-print",children:[i.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 p-4 shadow-md",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("i",{className:"ri-search-line text-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"검색"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:k,onChange:R=>D(R.target.value),placeholder:"입금자명, 배달주소, 고객명, 전화번호로 검색...",className:"w-full px-4 py-3 pl-10 pr-4 bg-gray-50 border-0 rounded-xl text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:bg-white transition-all duration-200 hover:bg-gray-100"}),i.jsx("i",{className:"ri-search-line absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 p-4 shadow-md",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("i",{className:"ri-filter-3-line text-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"필터"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-calendar-line text-gray-500 text-sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"기간"})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[{key:"today",label:"오늘",icon:"ri-calendar-today-line"},{key:"yesterday",label:"어제",icon:"ri-calendar-check-line"},{key:"week",label:"이번주",icon:"ri-calendar-week-line"},{key:"month",label:"이번달",icon:"ri-calendar-month-line"}].map(R=>i.jsxs("button",{onClick:()=>Xc(R.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center gap-1 ${m===R.key?"bg-orange-500 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:[i.jsx("i",{className:`${R.icon} text-xs`}),i.jsx("span",{children:R.label})]},R.key))}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:()=>O(!S),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2 ${m==="custom"?"bg-orange-500 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:[i.jsx("i",{className:"ri-calendar-line"}),x||"날짜 선택"]}),m==="custom"&&x&&i.jsxs("button",{onClick:()=>{v(""),g("today")},className:"px-3 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[i.jsx("i",{className:"ri-close-line"}),i.jsx("span",{children:"초기화"})]})]}),S&&i.jsxs("div",{className:"bg-white border border-gray-300 rounded-xl p-4 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"날짜 선택"}),i.jsx("button",{onClick:()=>O(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("i",{className:"ri-close-line"})})]}),i.jsx("input",{type:"date",value:x||"",onChange:R=>{Wc(R.target.value),O(!1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-filter-line text-gray-500 text-sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"상태"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[{key:"입금대기",label:"입금대기",count:pt.filter(R=>R.status==="입금대기").length,icon:"ri-time-line"},{key:"입금확인",label:"입금확인",count:pt.filter(R=>R.status==="입금확인").length,icon:"ri-check-line"},{key:"배달완료",label:"배달완료",count:pt.filter(R=>R.status==="배달완료").length,icon:"ri-truck-line"}].map(R=>i.jsxs("button",{onClick:()=>h(R.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex flex-col items-center gap-1 ${d===R.key?"bg-gray-800 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("i",{className:`${R.icon} text-xs`}),i.jsx("span",{children:R.label})]}),i.jsxs("span",{className:"text-xs opacity-75",children:["(",R.count,")"]})]},R.key))})]})]})]})]}),vs.length>0&&!k&&i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"inline-flex items-center px-3 py-1.5 bg-gray-100 border border-gray-200 rounded-full",children:i.jsxs("span",{className:"text-gray-700 text-sm",children:[i.jsx("i",{className:"ri-calendar-line mr-1 text-orange-500"}),pr("")," ",_r.length,"개의 주문이 들어왔습니다"]})})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:o?i.jsx("div",{className:"col-span-full bg-white rounded-lg p-8 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"주문 데이터를 불러오는 중..."})]})}):vs.length===0?i.jsx("div",{className:"col-span-full bg-white rounded-lg p-8 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx("i",{className:"ri-shopping-cart-line text-4xl mb-4"}),i.jsx("p",{children:"선택한 조건에 해당하는 주문이 없습니다."})]})}):vs.map(R=>{const{date:pe,time:Ne}={date:new Date(R.created_at).toLocaleDateString("ko-KR"),time:new Date(R.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return i.jsx("div",{className:"bg-white rounded-lg shadow-md border-2 border-gray-300 hover:shadow-lg hover:border-orange-400 transition-all duration-200 overflow-hidden",children:i.jsxs("div",{className:"p-4 lg:p-5",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-3 gap-2",children:[i.jsxs("h3",{className:"font-semibold text-gray-800 text-lg",children:["주문번호: ",Kl(R,_r)]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap ${Hl(R.status)}`,children:R.status}),i.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap ${R.order_type==="delivery"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:R.order_type==="delivery"?"배달":"픽업"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 text-sm text-gray-600",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-calendar-line text-gray-400"}),i.jsxs("span",{children:["주문일시: ",pe," ",Ne]})]}),R.order_type==="delivery"&&R.delivery_address&&i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("i",{className:"ri-map-pin-line text-gray-400 mt-0.5"}),i.jsxs("span",{children:["배달주소: ",R.delivery_address]})]}),R.delivery_time&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-truck-line text-gray-400"}),i.jsxs("span",{children:["배달시간: ",R.delivery_time]})]}),R.pickup_time&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-store-line text-gray-400"}),i.jsxs("span",{children:["픽업시간: ",R.pickup_time]})]})]}),i.jsxs("div",{className:"space-y-2",children:[R.depositor_name&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-user-line text-gray-400"}),i.jsxs("span",{children:["입금자명: ",R.depositor_name]})]}),R.customer_name&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-user-3-line text-gray-400"}),i.jsxs("span",{children:["고객명: ",R.customer_name]})]}),R.customer_phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-phone-line text-gray-400"}),i.jsxs("span",{children:["연락처: ",R.customer_phone]})]})]})]})]}),i.jsxs("div",{className:"border-t pt-3",children:[i.jsx("div",{className:"space-y-1 mb-3",children:R.order_items?.map((we,Ee)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-600",children:[we.menus.name," x ",we.quantity]}),i.jsxs("span",{className:"text-gray-800",children:[(we.price*we.quantity).toLocaleString(),"원"]})]},Ee))||i.jsx("div",{className:"text-gray-500 text-sm",children:"주문 상품 정보 없음"})}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("span",{className:"font-semibold text-gray-800",children:"총 결제 금액"}),i.jsxs("span",{className:"font-bold text-lg text-orange-500",children:[R.total.toLocaleString(),"원"]})]})]}),R.special_requests&&i.jsx("div",{className:"mt-3 pt-3 border-t",children:i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-message-line mr-2"}),i.jsxs("span",{children:["요청사항: ",R.special_requests]})]})}),i.jsx("div",{className:"mt-4 pt-3 border-t",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[R.status==="입금대기"&&i.jsx(i.Fragment,{children:i.jsx("button",{onClick:()=>wi(R.id,"입금확인"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금확인"})}),R.status==="입금확인"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>wi(R.id,"입금대기"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금대기로"}),R.order_type==="delivery"&&i.jsx("button",{onClick:()=>wi(R.id,"배달완료"),className:"bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer shadow-md hover:shadow-lg transition-all duration-200",children:"배달완료"})]}),R.status==="배달완료"&&R.order_type==="delivery"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>wi(R.id,"입금대기"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금대기로"}),i.jsx("button",{onClick:()=>wi(R.id,"입금확인"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금확인으로"})]}),hh(R.status)&&i.jsx("button",{onClick:()=>Cn(R.id),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"주문취소"})]})})]})},R.id)})}),_r.length>0&&i.jsx("div",{className:"mt-6 flex justify-center no-print",children:Dn>1&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>_i(C-1),disabled:C===1,className:`px-3 py-2 rounded-lg text-sm ${C===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:i.jsx("i",{className:"ri-arrow-left-s-line"})}),(()=>{let pe=Math.max(1,C-Math.floor(2.5)),Ne=Math.min(Dn,pe+5-1);Ne-pe+1<5&&(pe=Math.max(1,Ne-5+1));const we=[];for(let Ee=pe;Ee<=Ne;Ee++)we.push(Ee);return we.map(Ee=>i.jsx("button",{onClick:()=>_i(Ee),className:`px-3 py-2 rounded-lg text-sm ${C===Ee?"bg-orange-500 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:Ee},Ee))})(),i.jsx("button",{onClick:()=>_i(C+1),disabled:C===Dn,className:`px-3 py-2 rounded-lg text-sm ${C===Dn?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:i.jsx("i",{className:"ri-arrow-right-s-line"})})]})}),_r.length>0&&i.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500 no-print",children:[ql+1,"-",Math.min(zl,_r.length)," / ",_r.length,"개 주문"]}),i.jsxs("div",{className:"print-content",style:{display:"none",visibility:"hidden"},children:[i.jsxs("div",{className:"print-header",children:[i.jsxs("h1",{style:{fontSize:"18px",margin:"0 0 5px 0"},children:[_e||"매장"," 주문 내역"]}),i.jsxs("p",{style:{margin:"0",fontSize:"14px"},children:[m==="today"?"오늘":m==="yesterday"?"어제":x||"전체"," 주문 목록"]}),i.jsxs("p",{style:{margin:"5px 0 0 0",fontSize:"12px"},children:["프린트 일시: ",new Date().toLocaleString("ko-KR")]})]}),_r.map(R=>{const{date:pe,time:Ne}={date:new Date(R.created_at).toLocaleDateString("ko-KR"),time:new Date(R.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return i.jsxs("div",{className:"print-order",children:[i.jsxs("div",{className:"print-order-header",children:[i.jsxs("span",{children:["주문번호: ",Kl(R,_r)]}),i.jsx("span",{children:R.status})]}),i.jsxs("div",{className:"print-order-details",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"주문일시:"})," ",pe," ",Ne]}),i.jsxs("div",{children:[i.jsx("strong",{children:"주문방식:"})," ",R.order_type==="delivery"?"배달":"픽업"]}),R.delivery_address&&i.jsxs("div",{children:[i.jsx("strong",{children:"배달주소:"})," ",R.delivery_address]}),R.delivery_time&&i.jsxs("div",{children:[i.jsx("strong",{children:"배달시간:"})," ",R.delivery_time]}),R.pickup_time&&i.jsxs("div",{children:[i.jsx("strong",{children:"픽업시간:"})," ",R.pickup_time]}),R.depositor_name&&i.jsxs("div",{children:[i.jsx("strong",{children:"입금자명:"})," ",R.depositor_name]}),R.customer_name&&i.jsxs("div",{children:[i.jsx("strong",{children:"고객명:"})," ",R.customer_name]}),R.customer_phone&&i.jsxs("div",{children:[i.jsx("strong",{children:"연락처:"})," ",R.customer_phone]}),R.special_requests&&i.jsxs("div",{children:[i.jsx("strong",{children:"요청사항:"})," ",R.special_requests]})]}),i.jsxs("div",{className:"print-order-items",children:[i.jsx("strong",{children:"주문 상품:"}),R.order_items?.map((we,Ee)=>i.jsxs("div",{className:"print-order-item",children:[i.jsxs("span",{children:[we.menus.name," x ",we.quantity]}),i.jsxs("span",{children:[(we.price*we.quantity).toLocaleString(),"원"]})]},Ee))||i.jsx("div",{children:"주문 상품 정보 없음"})]}),i.jsxs("div",{className:"print-order-total",children:["총 결제 금액: ",R.total.toLocaleString(),"원"]})]},R.id)})]})]}),A==="statistics"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"매장 통계"}),i.jsx("p",{className:"text-sm text-gray-600",children:"매장의 주문 현황과 매출 통계를 확인할 수 있습니다"})]})}),i.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 p-4 shadow-md mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("i",{className:"ri-calendar-check-line text-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"통계 기간"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[[{key:"today",label:"오늘",icon:"ri-calendar-today-line"},{key:"yesterday",label:"어제",icon:""},{key:"week",label:"이번주",icon:"ri-calendar-week-line"},{key:"month",label:"이번달",icon:"ri-calendar-month-line"}].map(R=>i.jsxs("button",{onClick:()=>Xc(R.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${m===R.key?"bg-orange-500 text-white shadow-md":"bg-gray-50 text-gray-600 hover:bg-orange-50 hover:text-orange-600 border border-gray-200"}`,children:[R.icon&&i.jsx("i",{className:`${R.icon} text-base ${m===R.key?"text-white":"text-gray-400"}`}),i.jsx("span",{children:R.label})]},R.key)),i.jsxs("div",{className:"relative date-picker-container",children:[i.jsxs("button",{onClick:R=>{R.stopPropagation(),console.log("날짜 선택 버튼 클릭됨, 현재 selectedPeriod:",m),j(!b)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${m==="custom"?"bg-orange-500 text-white shadow-md":"bg-gray-50 text-gray-600 hover:bg-orange-50 hover:text-orange-600 border border-gray-200"}`,children:[i.jsx("i",{className:`ri-calendar-line text-base ${m==="custom"?"text-white":"text-gray-400"}`}),i.jsx("span",{children:x||"날짜 선택"})]}),b&&i.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 p-3 min-w-[250px]",onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("i",{className:"ri-calendar-line text-orange-500 text-sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"날짜 선택"})]}),i.jsx("input",{type:"date",value:x||"",onChange:R=>{console.log("날짜 선택됨:",R.target.value),Wc(R.target.value)},className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",max:new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0],autoFocus:!0,placeholder:"날짜를 선택하세요"}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsx("button",{onClick:R=>{R.stopPropagation(),j(!1)},className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded transition-colors",children:"닫기"})})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-600",children:pr("총 매출")}),i.jsxs("p",{className:"text-lg font-bold text-green-600",children:[Jn(pt,m).totalRevenue.toLocaleString(),"원"]})]}),i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-green-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-600",children:pr("총 주문수")}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:Jn(pt,m).totalOrders.toLocaleString()})]}),i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-blue-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-600",children:pr("평균 주문액")}),i.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[Jn(pt,m).averageOrderValue.toLocaleString(),"원"]})]}),i.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-bar-chart-line text-purple-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-600",children:pr("매출 증가율")}),i.jsxs("p",{className:`text-lg font-bold ${Jn(pt,m).revenueGrowthRate>=0?"text-green-600":"text-red-600"}`,children:[Jn(pt,m).revenueGrowthRate>=0?"+":"",Jn(pt,m).revenueGrowthRate,"%"]})]}),i.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-trending-up-line text-orange-600"})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md border-2 border-gray-300",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-store-line text-orange-500"}),pr("픽업 시간대별 주문")]}),i.jsxs("div",{className:"space-y-3",children:[Zr(pt).map((R,pe)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:R.time}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full",children:i.jsx("div",{className:"h-2 bg-orange-500 rounded-full transition-all duration-300",style:{width:`${Zr(pt).length>0?R.orders/Math.max(...Zr(pt).map(Ne=>Ne.orders))*100:0}%`}})}),i.jsxs("span",{className:"text-sm font-medium text-gray-800 w-8 text-right",children:[R.orders,"건"]})]})]},pe)),Zr(pt).length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-4",children:[i.jsx("i",{className:"ri-store-line text-2xl mb-2"}),i.jsx("p",{className:"text-sm",children:"픽업 주문이 없습니다"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md border-2 border-gray-300",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-truck-line text-orange-500"}),pr("배달 시간대별 주문")]}),i.jsxs("div",{className:"space-y-3",children:[Qn(pt).map((R,pe)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:R.time}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full",children:i.jsx("div",{className:"h-2 bg-orange-500 rounded-full transition-all duration-300",style:{width:`${Qn(pt).length>0?R.orders/Math.max(...Qn(pt).map(Ne=>Ne.orders))*100:0}%`}})}),i.jsxs("span",{className:"text-sm font-medium text-gray-800 w-8 text-right",children:[R.orders,"건"]})]})]},pe)),Qn(pt).length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-4",children:[i.jsx("i",{className:"ri-truck-line text-2xl mb-2"}),i.jsx("p",{className:"text-sm",children:"배달 주문이 없습니다"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md border-2 border-gray-300 mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-calendar-line text-orange-500"}),"요일별 성과 (전체 기간)"]}),i.jsx("div",{className:"grid grid-cols-7 gap-2",children:Zn(n).map((R,pe)=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:R.name}),i.jsx("div",{className:"text-lg font-bold text-gray-800",children:R.orders}),i.jsxs("div",{className:"text-xs text-gray-500",children:[R.revenue.toLocaleString(),"원"]}),i.jsx("div",{className:"w-full h-1 bg-gray-200 rounded-full mt-2",children:i.jsx("div",{className:"h-1 bg-orange-500 rounded-full transition-all duration-300",style:{width:`${Zn(n).length>0?R.orders/Math.max(...Zn(n).map(Ne=>Ne.orders))*100:0}%`}})})]},pe))})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md border-2 border-gray-300",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:pr("인기 메뉴")}),i.jsx("div",{className:"space-y-3",children:Zt.length>0?Zt.map((R,pe)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:i.jsxs("span",{className:"text-orange-600 font-bold text-sm",children:["#",pe+1]})}),i.jsx("span",{className:"text-gray-800 font-medium",children:R.name})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("span",{className:"text-sm font-semibold text-orange-600 bg-orange-100 px-2 py-1 rounded-full",children:[R.count,"개"]})})]},pe)):i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx("i",{className:"ri-restaurant-line text-4xl mb-3 text-gray-300"}),i.jsx("p",{className:"text-lg",children:"주문된 메뉴가 없습니다"}),i.jsx("p",{className:"text-sm",children:"선택한 기간에 주문된 메뉴가 없습니다"})]})})]})]}),A==="menus"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"메뉴 관리"}),i.jsx("p",{className:"text-sm text-gray-600",children:"매장의 메뉴를 추가, 수정, 삭제할 수 있습니다"})]}),i.jsxs("button",{onClick:()=>{console.log("메뉴 추가 버튼 클릭됨"),ne(null),F({name:"",description:"",price:"",category:"",is_available:!0}),I(!0),console.log("showMenuModal 상태:",!0)},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm whitespace-nowrap cursor-pointer",children:[i.jsx("i",{className:"ri-add-line"}),"메뉴 추가"]})]})}),Z.length>0&&i.jsx("div",{className:"bg-white px-4 py-4 border-b shadow-sm mb-0",children:i.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-1",children:W.map(R=>Z.filter(Ne=>Ne.category===R).length===0?null:i.jsxs("button",{onClick:()=>oe(R),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 whitespace-nowrap ${H===R?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:`ri-restaurant-line mr-1.5 ${H===R?"text-white":"text-gray-600"}`}),R]},R))})}),G?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"메뉴를 불러오는 중..."})]}):Ni.length>0?i.jsx("div",{className:"space-y-4",children:W.map(R=>{const pe=Ni.filter(we=>H==="all"?we.category===R:!0);if(pe.length===0)return null;const Ne=xe.has(R);return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[i.jsxs("button",{onClick:()=>Pn(R),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-orange-400 to-orange-500 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-white text-lg"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800",children:R}),i.jsxs("p",{className:"text-sm text-gray-500",children:[pe.length,"개 메뉴"]})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:Ne?"접기":"펼치기"}),i.jsx("i",{className:`ri-arrow-down-s-line text-xl text-gray-400 transition-transform duration-300 ${Ne?"rotate-180":""}`})]})]}),i.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${Ne?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"px-6 pb-6",children:i.jsx("div",{className:"space-y-2",children:pe.map((we,Ee)=>i.jsx("div",{className:`px-4 py-4 hover:bg-gray-50 transition-colors duration-200 ${Ee!==Ni.length-1?"border-b border-gray-100":""}`,children:i.jsx("div",{className:"flex gap-4",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("h3",{className:"font-semibold text-black text-base truncate",children:we.name}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-black font-semibold text-base",children:[(we.price||0).toLocaleString(),"원"]})})]}),i.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2 leading-relaxed",children:we.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:`text-xs px-3 py-1.5 rounded-full font-medium flex items-center gap-1 ${we.is_available?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:[i.jsx("i",{className:`ri-${we.is_available?"check":"close"}-line text-xs`}),we.is_available?"주문가능":"품절"]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>zt(we),className:`w-8 h-8 rounded-full text-sm font-medium transition-all duration-200 flex items-center justify-center ${we.is_available?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:i.jsx("i",{className:`ri-${we.is_available?"check":"close"}-line text-sm`})}),i.jsx("button",{onClick:()=>{ne(we),F({name:we.name,description:we.description||"",price:we.price.toString(),category:we.category,is_available:we.is_available}),I(!0)},className:"w-8 h-8 rounded-full text-sm font-medium transition-all duration-200 flex items-center justify-center bg-white text-black border border-gray-300 hover:bg-gray-100",children:i.jsx("i",{className:"ri-edit-line text-sm"})}),i.jsx("button",{onClick:()=>{confirm("정말로 이 메뉴를 삭제하시겠습니까?")&&fh(we.id)},className:"w-8 h-8 rounded-full text-sm font-medium transition-all duration-200 flex items-center justify-center text-gray-500 hover:text-red-500 hover:bg-red-50",children:i.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]})]})})},we.id))})})})]},R)})}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-restaurant-line text-3xl text-orange-400"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"메뉴가 없습니다"}),i.jsx("p",{className:"text-gray-500",children:"이 카테고리에 등록된 메뉴가 없습니다."})]})]})]}),ge&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md border-2 border-gray-300 shadow-xl",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:te?"메뉴 수정":"메뉴 추가"}),i.jsxs("form",{onSubmit:Qc,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메뉴명 *"}),i.jsx("input",{type:"text",value:ye.name,onChange:R=>F({...ye,name:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"메뉴명을 입력하세요",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),i.jsx("textarea",{value:ye.description,onChange:R=>F({...ye,description:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"메뉴 설명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가격 *"}),i.jsx("input",{type:"number",value:ye.price,onChange:R=>F({...ye,price:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"가격을 입력하세요",min:"0",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리 *"}),i.jsxs("select",{value:ye.category,onChange:R=>F({...ye,category:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,children:[i.jsx("option",{value:"",children:"카테고리를 선택하세요"}),W.map(R=>i.jsx("option",{value:R,children:R},R))]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"is_available",checked:ye.is_available,onChange:R=>F({...ye,is_available:R.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),i.jsx("label",{htmlFor:"is_available",className:"ml-2 text-sm text-gray-700",children:"판매 가능"})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg font-medium",children:te?"수정하기":"추가하기"}),i.jsx("button",{type:"button",onClick:()=>{I(!1),ne(null),F({name:"",description:"",price:"",category:"",is_available:!0})},className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-3 px-4 rounded-lg font-medium",children:"취소"})]})]})]})}),A==="store"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6 px-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"매장 정보 관리"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"매장의 기본 정보를 확인하고 수정할 수 있습니다."})]}),i.jsx("div",{className:"mb-6 px-4",children:i.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-6 border border-gray-200",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:i.jsx("i",{className:"ri-share-line text-white text-xl"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"주문 링크 공유"}),i.jsx("p",{className:"text-sm text-gray-600",children:"고객들이 이 링크로 주문할 수 있습니다"})]}),i.jsx("div",{className:"bg-white rounded-xl p-4 mb-4 border-2 border-gray-300 shadow-md",children:i.jsx("div",{className:"font-mono text-sm text-gray-700 break-all",children:je?`${window.location.origin}/menu/${je}`:"로딩 중..."})}),i.jsx("button",{onClick:Ul,className:`w-full py-3 px-4 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center justify-center gap-2 ${de?"bg-green-500 hover:bg-green-600 text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:de?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"ri-check-line text-lg"}),i.jsx("span",{children:"복사 완료!"})]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"ri-file-copy-line text-lg"}),i.jsx("span",{children:"링크 복사하기"})]})})]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md border-2 border-gray-300 p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"매장 정보"}),i.jsxs("button",{onClick:pn,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[i.jsx("i",{className:"ri-edit-line"}),"수정"]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-store-line text-orange-500"}),"기본 정보"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"매장명"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:Re?.name||_e||"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:Re?.category||"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"전화번호"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:Re?.phone||"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달 지역"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:Re?.delivery_area||"로딩 중..."})})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-time-line text-orange-500"}),"운영 정보"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"운영시간"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:Re?.business_hours_start&&Re?.business_hours_end?`${Re.business_hours_start} - ${Re.business_hours_end}`:"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주문마감시간"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:Re?.order_cutoff_time||"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"최소주문금액"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:Re?.minimum_order_amount?`${Re.minimum_order_amount.toLocaleString()}원`:"로딩 중..."})})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-bank-line text-orange-500"}),"결제 정보"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"계좌번호"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900 font-mono",children:Re?.bank_account||"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"예금주"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:Re?.account_holder||"로딩 중..."})})]})]})]}),i.jsx("div",{className:"pt-4 border-t border-gray-200",children:i.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("i",{className:"ri-information-line text-blue-500 text-lg mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-blue-800 font-medium mb-2",children:"배달비 설정"}),i.jsx("p",{className:"text-sm text-blue-700 mb-3",children:'배달지역별 배달비 설정은 상단의 "배달비 설정" 탭에서 관리할 수 있습니다.'}),i.jsxs("button",{onClick:()=>e("/admin-dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors inline-flex items-center gap-2",children:[i.jsx("i",{className:"ri-truck-line"}),"배달비 설정으로 이동"]})]})]})})})]})]})]}),L&&J&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm w-full border-2 border-gray-300 shadow-xl",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-question-line text-2xl text-orange-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"주문상태 변경"}),i.jsxs("p",{className:"text-gray-600 mb-4",children:["주문 #",J.orderNumber,"의 상태를",i.jsx("br",{}),i.jsx("span",{className:"font-semibold text-orange-600",children:J.newStatus}),"로 변경하시겠습니까?"]}),i.jsx("div",{className:"bg-blue-100 border-l-4 border-blue-500 p-3 mb-6",children:i.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[i.jsx("i",{className:"ri-information-line mr-1"}),"고객 주문 조회 페이지에 실시간으로 반영됩니다"]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:gr,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{onClick:ji,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"확인"})]})]})})}),X&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border-2 border-gray-300 shadow-xl",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"매장 정보 수정"}),i.jsx("button",{onClick:()=>Y(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("i",{className:"ri-close-line text-xl"})})]}),i.jsxs("form",{onSubmit:mr,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"기본 정보"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"매장명"}),i.jsx("input",{type:"text",value:fe.name,onChange:R=>se({...fe,name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"전화번호"}),i.jsx("input",{type:"tel",value:fe.phone,onChange:R=>se({...fe,phone:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주소"}),i.jsx("input",{type:"text",value:fe.address,onChange:R=>se({...fe,address:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"매장 설명"}),i.jsx("textarea",{value:fe.description,onChange:R=>se({...fe,description:R.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"운영 정보"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"운영 시작시간"}),i.jsx("input",{type:"time",value:fe.business_hours_start,onChange:R=>se({...fe,business_hours_start:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"운영 종료시간"}),i.jsx("input",{type:"time",value:fe.business_hours_end,onChange:R=>se({...fe,business_hours_end:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주문마감시간 (시)"}),i.jsx("input",{type:"number",min:"0",max:"23",value:fe.order_deadline_hour,onChange:R=>se({...fe,order_deadline_hour:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주문마감시간 (분)"}),i.jsx("input",{type:"number",min:"0",max:"59",value:fe.order_deadline_minute,onChange:R=>se({...fe,order_deadline_minute:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"배달 정보"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달 지역"}),i.jsx("input",{type:"text",value:fe.delivery_area,onChange:R=>se({...fe,delivery_area:R.target.value}),placeholder:"예: 강남구, 서초구, 송파구",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"기본 배달비 (원)"}),i.jsx("input",{type:"number",min:"0",value:fe.delivery_fee,onChange:R=>se({...fe,delivery_fee:parseInt(R.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>Y(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"수정 완료"})]})]})]})})}),i.jsx(kn,{})]})]})}function $6({redirectType:e,storeId:t,className:r=""}){const[n,s]=w.useState(null),[o,u]=w.useState(!1);w.useEffect(()=>{const h=g=>{g.preventDefault(),s(g)},m=()=>{u(!0),s(null)};return window.addEventListener("beforeinstallprompt",h),window.addEventListener("appinstalled",m),window.matchMedia("(display-mode: standalone)").matches&&u(!0),()=>{window.removeEventListener("beforeinstallprompt",h),window.removeEventListener("appinstalled",m)}},[]);const d=async()=>{if(!n)return;if(Notification.permission==="default"){if(await Notification.requestPermission()!=="granted"){alert("알림 권한이 거부되었습니다. 브라우저 설정에서 알림을 허용해주세요.");return}}else if(Notification.permission==="denied"){alert("알림 권한이 거부되었습니다. 브라우저 설정에서 알림을 허용해주세요.");return}const h=new URL(window.location.href);h.searchParams.set("redirect",e),t&&h.searchParams.set("storeId",t),window.history.replaceState({},"",h.toString()),n.prompt();const{outcome:m}=await n.userChoice;console.log(m==="accepted"?"PWA 설치됨":"PWA 설치 취소됨"),s(null)};return o?i.jsx("div",{className:`text-center ${r}`,children:i.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-green-100 text-green-800 rounded-lg",children:[i.jsx("i",{className:"ri-check-line text-lg mr-2"}),"앱이 설치되었습니다"]})}):n?i.jsxs("button",{onClick:d,className:`inline-flex items-center px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors ${r}`,children:[i.jsx("i",{className:"ri-download-line text-lg mr-2"}),e==="admin"?"관리자 앱 설치":"메뉴 앱 설치"]}):i.jsx("div",{className:`text-center ${r}`,children:i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[i.jsx("i",{className:"ri-smartphone-line text-blue-600 text-xl mr-2"}),i.jsx("span",{className:"text-blue-800 font-semibold",children:"앱 설치 방법"})]}),i.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"갤럭시에서 푸시 알림을 받으려면 앱을 설치해주세요"}),i.jsx("div",{className:"text-xs text-blue-600",children:'브라우저 메뉴(⋮) → "홈 화면에 추가" → "추가"'})]})})}const L6=async()=>{try{if(typeof window<"u"&&window.OneSignal){console.log("OneSignal Player ID 가져오기 시도 (v16)...");for(let e=0;e<10;e++){console.log(`OneSignal Player ID 시도 ${e+1}/10...`);let t=null;if(window.OneSignal.User?.PushSubscription?.id&&(t=window.OneSignal.User.PushSubscription.id,console.log("방법 1로 Player ID 획득:",t)),!t&&window.OneSignal.User?.onesignalId&&(t=window.OneSignal.User.onesignalId,console.log("방법 2로 Player ID 획득:",t)),!t&&typeof window.OneSignal.getPlayerId=="function")try{t=await window.OneSignal.getPlayerId(),console.log("방법 3으로 Player ID 획득:",t)}catch(r){console.warn("getPlayerId 호출 실패:",r)}if(t&&t!==null&&t!==void 0)return console.log("✅ OneSignal Player ID 최종 획득:",t),t;await new Promise(r=>setTimeout(r,500))}return console.warn("❌ OneSignal Player ID를 찾을 수 없음 (v16) - 10회 시도 후 포기"),console.log("OneSignal 디버깅 정보:",{OneSignalExists:!!window.OneSignal,UserExists:!!window.OneSignal.User,PushSubscriptionExists:!!window.OneSignal.User?.PushSubscription,PushSubscriptionId:window.OneSignal.User?.PushSubscription?.id,OneSignalId:window.OneSignal.User?.onesignalId,OptedIn:window.OneSignal.User?.PushSubscription?.optedIn}),null}return null}catch(e){return console.error("OneSignal 사용자 ID 가져오기 실패 (v16):",e),null}},I6=async()=>{try{console.log("=== OneSignal 구독 시작 ==="),console.log("window.OneSignal 존재:",!!window.OneSignal),console.log("window.OneSignalInitialized:",!!window.OneSignalInitialized),console.log("브라우저 정보:",navigator.userAgent);let e=0;for(;e<50&&(!window.OneSignal||!window.OneSignalInitialized);)console.log(`OneSignal 초기화 대기 중... (${e+1}/50)`),await new Promise(n=>setTimeout(n,100)),e++;if(!window.OneSignal)return console.error("OneSignal이 초기화되지 않았습니다."),!1;if(console.log("OneSignal 초기화 완료, 구독 시도..."),/iPad|iPhone|iPod/.test(navigator.userAgent)){console.log("iOS 기기 감지, OneSignal v16 구독 시도...");try{console.log("iOS OneSignal v16 권한 요청..."),await window.OneSignal.Notifications.requestPermission(),console.log("iOS OneSignal v16 권한 요청 완료");try{await window.OneSignal.setExternalUserId("user_"+Date.now()),console.log("iOS OneSignal 사용자 등록 완료")}catch(n){console.warn("iOS OneSignal 사용자 등록 실패:",n)}console.log("iOS Player ID 설정 대기 중...");for(let n=0;n<20;n++){console.log(`iOS Player ID 확인 시도 ${n+1}/20...`);const s=window.OneSignal.User?.PushSubscription?.id,o=window.OneSignal.User?.PushSubscription?.optedIn;if(console.log(`시도 ${n+1} - Player ID:`,s,"OptedIn:",o),s&&o)return console.log("✅ iOS OneSignal 구독 성공, Player ID 확인됨"),!0;await new Promise(u=>setTimeout(u,1e3))}return console.error("❌ iOS OneSignal Player ID를 20초 동안 기다렸지만 설정되지 않았습니다."),console.log("iOS OneSignal 최종 상태:",{optedIn:window.OneSignal.User?.PushSubscription?.optedIn,playerId:window.OneSignal.User?.PushSubscription?.id,onesignalId:window.OneSignal.User?.onesignalId}),!1}catch(n){return console.error("iOS OneSignal 구독 실패:",n),!1}}console.log("Android/Desktop에서 OneSignal 구독 시도...");try{await window.OneSignal.setExternalUserId("user_"+Date.now()),console.log("OneSignal 사용자 등록 완료")}catch(n){console.warn("OneSignal 사용자 등록 실패:",n)}console.log("Android/Desktop OneSignal v16 푸시 알림 권한 요청...");try{await window.OneSignal.Notifications.requestPermission(),console.log("OneSignal v16 권한 요청 완료")}catch(n){console.error("OneSignal v16 권한 요청 실패:",n)}console.log("구독 상태 확인 대기 중..."),await new Promise(n=>setTimeout(n,2e3));const r=window.OneSignal.User?.PushSubscription?.optedIn||!1;return console.log("OneSignal v16 구독 활성화 결과:",r),console.log("=== OneSignal v16 구독 완료 ==="),r}catch(e){return console.error("OneSignal 구독 활성화 실패:",e),console.error("에러 상세:",e.message),!1}},U6=async e=>{try{typeof window<"u"&&window.OneSignal&&(window.OneSignal.User.addTag("user_id",e),console.log("OneSignal v16 사용자 태그 설정 완료:",e))}catch(t){console.error("OneSignal v16 사용자 태그 설정 실패:",t)}},q6=()=>typeof window<"u"&&!!window.OneSignal;function wO(){const{user:e}=sr(),[t,r]=w.useState(!1),[n,s]=w.useState(!1),[o,u]=w.useState("");w.useEffect(()=>{e&&d()},[e]);const d=async()=>{if(e)try{if("serviceWorker"in navigator&&"PushManager"in window){const x=await(await navigator.serviceWorker.ready).pushManager.getSubscription();r(!!x)}}catch(g){console.error("구독 상태 확인 실패:",g)}},h=()=>{const g=window.matchMedia("(display-mode: standalone)").matches,x=window.navigator.standalone===!0,v=document.referrer.includes("android-app://"),b=g||x||v;return console.log("PWA 감지 결과:",{isStandalone:g,isIOSStandalone:x,isAndroidApp:v,isPWA:b,userAgent:navigator.userAgent,referrer:document.referrer}),b},m=async()=>{if(e){s(!0),u("");try{if(t){if("serviceWorker"in navigator&&"PushManager"in window){const x=await(await navigator.serviceWorker.ready).pushManager.getSubscription();x&&await x.unsubscribe()}r(!1),u("푸시 알림이 비활성화되었습니다.")}else{if(q6()||console.warn("OneSignal이 아직 로드되지 않았습니다. 기본 알림으로 진행합니다."),!h()){u(`❌ PWA에서만 푸시 알림을 사용할 수 있습니다.

📱 갤럭시에서 앱 설치 방법:
1. 브라우저 메뉴(⋮) → "홈 화면에 추가" 클릭
2. "추가" 버튼 클릭
3. 홈 화면에서 앱 아이콘으로 접속

설치 후 다시 시도해주세요!`),s(!1);return}if(console.log("기본 알림 권한 요청..."),Notification.permission==="default"){if(await Notification.requestPermission()!=="granted"){u("알림 권한이 거부되었습니다. 브라우저 설정에서 알림을 허용해주세요."),s(!1);return}}else if(Notification.permission==="denied"){u("알림 권한이 거부되었습니다. 브라우저 설정에서 알림을 허용해주세요."),s(!1);return}console.log("알림 권한 허용됨, OneSignal 시도...");try{const g=/iPad|iPhone|iPod/.test(navigator.userAgent),x=g?3e4:15e3,v=new Promise((j,_)=>setTimeout(()=>_(new Error("OneSignal 타임아웃")),x)),b=await Promise.race([I6(),v]);if(console.log("OneSignal 구독 결과:",b),b){console.log("OneSignal Player ID 가져오기 시도...");const j=await L6();if(j)if(console.log("OneSignal Player ID 획득:",j),await m6(j,e.id)){if(console.log("✅ OneSignal Player ID 데이터베이스 저장 성공"),await U6(e.id),console.log("OneSignal 사용자 태그 설정 완료:",e.id),r(!0),u("✅ 푸시 알림이 활성화되었습니다! (OneSignal)"),"serviceWorker"in navigator)try{await(await navigator.serviceWorker.ready).showNotification("푸시 알림 활성화",{body:"새 주문이 들어오면 알림을 받을 수 있습니다!",icon:"/favicon.ico",badge:"/favicon.ico",vibrate:[200,100,200]}),console.log("✅ 테스트 알림 발송 성공")}catch(N){console.error("테스트 알림 발송 실패:",N)}return}else{console.error("❌ OneSignal Player ID 데이터베이스 저장 실패"),u("❌ OneSignal 설정 저장에 실패했습니다."),s(!1);return}else{console.error("❌ OneSignal Player ID를 가져올 수 없음"),u(g?"❌ iOS OneSignal 설정에 실패했습니다. 다시 시도해주세요.":"❌ OneSignal Player ID 설정에 실패했습니다."),s(!1);return}}else{console.error("❌ OneSignal 구독에 실패했습니다."),u(g?"❌ iOS OneSignal 구독에 실패했습니다. 브라우저 알림 설정을 확인해주세요.":"❌ OneSignal 구독에 실패했습니다."),s(!1);return}}catch(g){console.error("OneSignal 구독 실패:",g);const x=/iPad|iPhone|iPod/.test(navigator.userAgent);g.message.includes("타임아웃")?u(x?"❌ iOS OneSignal 타임아웃이 발생했습니다. 브라우저를 재시작하고 다시 시도해주세요.":"❌ OneSignal 타임아웃이 발생했습니다."):u("❌ OneSignal 설정에 실패했습니다: "+g.message),s(!1);return}}}catch(g){console.error("알림 설정 오류:",g),u("❌ 알림 설정에 실패했습니다: "+g.message)}finally{s(!1)}}};return e?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mb-4",children:h()&&i.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-lg text-sm",children:[i.jsx("i",{className:"ri-smartphone-line text-lg mr-2"}),"PWA 모드 (폰)"]})}),i.jsx("button",{onClick:m,disabled:n,className:`px-6 py-3 rounded-lg font-medium transition-all ${t?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"} ${n?"opacity-50 cursor-not-allowed":""}`,children:n?"처리중...":t?"푸시 알림 비활성화":"푸시 알림 활성화"}),o&&i.jsx("div",{className:`mt-3 text-sm whitespace-pre-line ${o.includes("✅")?"text-green-600":o.includes("❌")?"text-red-600":"text-blue-600"}`,children:o})]}):null}function z6(){const e=gt(),{user:t,loading:r}=sr(),[n,s]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState(null);w.useEffect(()=>{if(!r&&!t){e("/admin-login");return}if(!r&&t&&t.role!=="admin"){e("/stores");return}t&&t.role==="admin"&&m()},[t,r,e]),w.useEffect(()=>{const g=x=>{const v=x.detail;console.log("새 주문 알림:",v),"Notification"in window&&Notification.permission==="granted"&&new Notification("새 주문이 도착했습니다!",{body:`${v.customer_name}님이 주문하셨습니다.`,icon:"/icon-192x192.png",badge:"/icon-192x192.png"})};return window.addEventListener("newOrder",g),()=>{window.removeEventListener("newOrder",g)}},[]);const m=async()=>{try{u(!0);const g=await kp(t?.id);s(g)}catch(g){console.error("매장 정보 로드 실패:",g)}finally{u(!1)}};return r||o?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Nr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"관리자 대시보드"}),i.jsx("p",{className:"text-gray-600",children:"매장을 관리하고 주문을 확인하세요"})]}),n.length>0&&i.jsx(i.Fragment,{children:n.length>0&&i.jsxs("div",{className:"bg-white rounded-xl shadow-md border-2 border-gray-300 p-8 mb-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:n[0]?.name||"매장 정보 없음"}),i.jsx("p",{className:"text-gray-500",children:"장수반찬을 운영하고 계시군요! 🍽️"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[i.jsxs("button",{onClick:()=>e(`/admin/${n[0]?.id}/orders`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-shopping-cart-line text-lg text-blue-500"}),i.jsx("span",{children:"주문내역"})]}),i.jsxs("button",{onClick:()=>e(`/admin/${n[0]?.id}/menu`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-restaurant-line text-lg text-green-500"}),i.jsx("span",{children:"메뉴관리"})]}),i.jsxs("button",{onClick:()=>e(`/admin/${n[0]?.id}/daily-menu`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-calendar-line text-lg text-indigo-500"}),i.jsx("span",{children:"일일 주문서"})]}),i.jsxs("button",{onClick:()=>e(`/admin/${n[0]?.id}/analytics`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-bar-chart-line text-lg text-purple-500"}),i.jsx("span",{children:"성과분석"})]}),i.jsxs("button",{onClick:()=>e(`/admin/${n[0]?.id}/store`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-store-line text-lg text-orange-500"}),i.jsx("span",{children:"매장관리"})]}),i.jsxs("button",{onClick:()=>e(`/admin/delivery-settings/${n[0]?.id}`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-truck-line text-lg text-purple-500"}),i.jsx("span",{children:"배달비 설정"})]})]})]})}),i.jsx("div",{className:"text-center mb-8",children:i.jsx($6,{})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-md border-2 border-gray-300 p-8 mb-8",children:[i.jsx("div",{className:"text-center mb-6",children:i.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"알림 설정"})}),i.jsx(wO,{})]})]}),i.jsx(kn,{})]})}const B6=async()=>{try{const{data:e,error:t}=await be.from("stores").select("id, name, created_at");if(t)throw t;const r=e?.length||0,n=r,s=r*1e6,o=n*3e4;let u=0;return e?.forEach(d=>{const h=new Date(d.created_at),m=new Date,g=Math.max(0,(m.getFullYear()-h.getFullYear())*12+(m.getMonth()-h.getMonth()));u+=3e4*g}),{total_revenue:s+u,monthly_revenue:o,initial_revenue:s,monthly_fee_revenue:u,additional_revenue:0,active_contracts:n,total_contracts:r}}catch(e){throw console.error("수익 요약 조회 실패:",e),e}},H6=async()=>{try{const e=new Date,t=new Date(e.getTime()-720*60*60*1e3),r=new Date(e.getTime()-2160*60*60*1e3),{data:n,error:s}=await be.from("users").select("id").eq("role","admin");if(s)throw s;const{data:o,error:u}=await be.from("orders").select("user_id").gte("created_at",t.toISOString());if(u)throw u;const{data:d,error:h}=await be.from("orders").select("user_id").gte("created_at",r.toISOString());if(h)throw h;const m=n?.length||0,g=new Set(o?.map(j=>j.user_id)||[]),x=new Set(d?.map(j=>j.user_id)||[]).size,v=m-x,b=m>0?v/m*100:0;return{total_owners:m,active_owners:x,churned_owners:v,churn_rate:Math.round(b*100)/100,last_30_days_churn:g.size}}catch(e){throw console.error("사장님 이탈률 계산 실패:",e),e}};function jO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=jO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function Xe(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=jO(e))&&(n&&(n+=" "),n+=t);return n}var Rg={},$g={},C1;function K6(){return C1||(C1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})($g)),$g}var Lg={},D1;function NO(){return D1||(D1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Lg)),Lg}var Ig={},P1;function _O(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})(Ig)),Ig}var Ug={},M1;function Dp(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let o=0,u="",d="",h=!1;for(r.charCodeAt(0)===46&&(n.push(""),o++);o<s;){const m=r[o];d?m==="\\"&&o+1<s?(o++,u+=r[o]):m===d?d="":u+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,n.push(u),u=""):u+=m:m==="["?(h=!0,u&&(n.push(u),u="")):m==="."?u&&(n.push(u),u=""):u+=m,o++}return u&&n.push(u),n}e.toPath=t})(Ug)),Ug}var R1;function Pp(){return R1||(R1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K6(),r=NO(),n=_O(),s=Dp();function o(d,h,m){if(d==null)return m;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return m;const g=d[h];return g===void 0?r.isDeepKey(h)?o(d,s.toPath(h),m):m:g}case"number":case"symbol":{typeof h=="number"&&(h=n.toKey(h));const g=d[h];return g===void 0?m:g}default:{if(Array.isArray(h))return u(d,h,m);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return m;const g=d[h];return g===void 0?m:g}}}function u(d,h,m){if(h.length===0)return m;let g=d;for(let x=0;x<h.length;x++){if(g==null||t.isUnsafeProperty(h[x]))return m;g=g[h[x]]}return g===void 0?m:g}e.get=o})(Rg)),Rg}var qg,$1;function Y6(){return $1||($1=1,qg=Pp().get),qg}var G6=Y6();const bl=Vn(G6);var zg={exports:{}},nt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function V6(){if(L1)return nt;L1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function j(_){if(typeof _=="object"&&_!==null){var N=_.$$typeof;switch(N){case e:switch(_=_.type,_){case r:case s:case n:case h:case m:case v:return _;default:switch(_=_&&_.$$typeof,_){case u:case d:case x:case g:return _;case o:return _;default:return N}}case t:return N}}}return nt.ContextConsumer=o,nt.ContextProvider=u,nt.Element=e,nt.ForwardRef=d,nt.Fragment=r,nt.Lazy=x,nt.Memo=g,nt.Portal=t,nt.Profiler=s,nt.StrictMode=n,nt.Suspense=h,nt.SuspenseList=m,nt.isContextConsumer=function(_){return j(_)===o},nt.isContextProvider=function(_){return j(_)===u},nt.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},nt.isForwardRef=function(_){return j(_)===d},nt.isFragment=function(_){return j(_)===r},nt.isLazy=function(_){return j(_)===x},nt.isMemo=function(_){return j(_)===g},nt.isPortal=function(_){return j(_)===t},nt.isProfiler=function(_){return j(_)===s},nt.isStrictMode=function(_){return j(_)===n},nt.isSuspense=function(_){return j(_)===h},nt.isSuspenseList=function(_){return j(_)===m},nt.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===r||_===s||_===n||_===h||_===m||typeof _=="object"&&_!==null&&(_.$$typeof===x||_.$$typeof===g||_.$$typeof===u||_.$$typeof===o||_.$$typeof===d||_.$$typeof===b||_.getModuleId!==void 0)},nt.typeOf=j,nt}var I1;function F6(){return I1||(I1=1,zg.exports=V6()),zg.exports}var W6=F6(),Tr=e=>e===0?0:e>0?1:-1,Dr=e=>typeof e=="number"&&e!=+e,Xi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,ke=e=>(typeof e=="number"||e instanceof Number)&&!Dr(e),Hn=e=>ke(e)||typeof e=="string",X6=0,hc=e=>{var t=++X6;return"".concat(e||"").concat(t)},An=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!ke(t)&&typeof t!="string")return n;var o;if(Xi(t)){if(r==null)return n;var u=t.indexOf("%");o=r*parseFloat(t.slice(0,u))/100}else o=+t;return Dr(o)&&(o=n),s&&r!=null&&o>r&&(o=r),o},SO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ct(e,t,r){return ke(e)&&ke(t)?e+r*(t-e):t}function OO(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):bl(n,t))===r)}var dt=e=>e===null||typeof e>"u",kc=e=>dt(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Q6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Mp(e){if(typeof e!="string")return!1;var t=Q6;return t.includes(e)}var Z6=["viewBox","children"],U1=["points","pathLength"],Bg={svg:Z6,polygon:U1,polyline:U1},Rp=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Mp(s)&&(n[s]=(o=>r[s](r,o)))}),n},J6=(e,t,r)=>n=>(e(t,r,n),null),$p=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var o=e[s];Mp(s)&&typeof o=="function"&&(n||(n={}),n[s]=J6(o,t,r))}),n},e5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function AO(e){if(typeof e!="string")return!1;var t=e5;return t.includes(e)}function Ca(e){var t=Object.entries(e).filter(r=>{var[n]=r;return AO(n)});return Object.fromEntries(t)}var q1=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",z1=null,Hg=null,EO=e=>{if(e===z1&&Array.isArray(Hg))return Hg;var t=[];return w.Children.forEach(e,r=>{dt(r)||(W6.isFragment(r)?t=t.concat(EO(r.props.children)):t.push(r))}),Hg=t,z1=e,t};function t5(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>q1(s)):n=[q1(t)],EO(e).forEach(s=>{var o=bl(s,"type.displayName")||bl(s,"type.name");n.indexOf(o)!==-1&&r.push(s)}),r}var Tf=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,r5=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(s=n&&Bg?.[n])!==null&&s!==void 0?s:[],u=t.startsWith("data-"),d=typeof e!="function"&&(!!n&&o.includes(t)||AO(t)),h=!!r&&Mp(t);return u||d||h},ht=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(o=>{var u;r5((u=n)===null||u===void 0?void 0:u[o],o,t,r)&&(s[o]=n[o])}),s},n5=["children","width","height","viewBox","className","style","title","desc"];function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(null,arguments)}function a5(e,t){if(e==null)return{};var r,n,s=i5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function i5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kO=w.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:o,className:u,style:d,title:h,desc:m}=e,g=a5(e,n5),x=o||{width:n,height:s,x:0,y:0},v=Xe("recharts-surface",u);return w.createElement("svg",Ox({},ht(g,!0,"svg"),{className:v,width:n,height:s,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),w.createElement("title",null,h),w.createElement("desc",null,m),r)}),s5=["children","className"];function Ax(){return Ax=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ax.apply(null,arguments)}function l5(e,t){if(e==null)return{};var r,n,s=o5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function o5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var fr=w.forwardRef((e,t)=>{var{children:r,className:n}=e,s=l5(e,s5),o=Xe("recharts-layer",n);return w.createElement("g",Ax({className:o},ht(s,!0),{ref:t}),r)}),c5=w.createContext(null);function ot(e){return function(){return e}}const TO=Math.cos,Id=Math.sin,Tn=Math.sqrt,Ud=Math.PI,Cf=2*Ud,Ex=Math.PI,kx=2*Ex,Gi=1e-6,u5=kx-Gi;function CO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function d5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return CO;const r=10**t;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class f5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CO:d5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,o,u){this._append`C${+t},${+r},${+n},${+s},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,n,s,o){if(t=+t,r=+r,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,d=this._y1,h=n-t,m=s-r,g=u-t,x=d-r,v=g*g+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Gi)if(!(Math.abs(x*h-m*g)>Gi)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-u,j=s-d,_=h*h+m*m,N=b*b+j*j,S=Math.sqrt(_),O=Math.sqrt(v),A=o*Math.tan((Ex-Math.acos((_+v-N)/(2*S*O)))/2),P=A/O,k=A/S;Math.abs(P-1)>Gi&&this._append`L${t+P*g},${r+P*x}`,this._append`A${o},${o},0,0,${+(x*b>g*j)},${this._x1=t+k*h},${this._y1=r+k*m}`}}arc(t,r,n,s,o,u){if(t=+t,r=+r,n=+n,u=!!u,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),h=n*Math.sin(s),m=t+d,g=r+h,x=1^u,v=u?s-o:o-s;this._x1===null?this._append`M${m},${g}`:(Math.abs(this._x1-m)>Gi||Math.abs(this._y1-g)>Gi)&&this._append`L${m},${g}`,n&&(v<0&&(v=v%kx+kx),v>u5?this._append`A${n},${n},0,1,${x},${t-d},${r-h}A${n},${n},0,1,${x},${this._x1=m},${this._y1=g}`:v>Gi&&this._append`A${n},${n},0,${+(v>=Ex)},${x},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function Lp(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new f5(t)}function Ip(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DO(e){this._context=e}DO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Df(e){return new DO(e)}function PO(e){return e[0]}function MO(e){return e[1]}function RO(e,t){var r=ot(!0),n=null,s=Df,o=null,u=Lp(d);e=typeof e=="function"?e:e===void 0?PO:ot(e),t=typeof t=="function"?t:t===void 0?MO:ot(t);function d(h){var m,g=(h=Ip(h)).length,x,v=!1,b;for(n==null&&(o=s(b=u())),m=0;m<=g;++m)!(m<g&&r(x=h[m],m,h))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(x,m,h),+t(x,m,h));if(b)return o=null,b+""||null}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:ot(+h),d):e},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:ot(+h),d):t},d.defined=function(h){return arguments.length?(r=typeof h=="function"?h:ot(!!h),d):r},d.curve=function(h){return arguments.length?(s=h,n!=null&&(o=s(n)),d):s},d.context=function(h){return arguments.length?(h==null?n=o=null:o=s(n=h),d):n},d}function md(e,t,r){var n=null,s=ot(!0),o=null,u=Df,d=null,h=Lp(m);e=typeof e=="function"?e:e===void 0?PO:ot(+e),t=typeof t=="function"?t:ot(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?MO:ot(+r);function m(x){var v,b,j,_=(x=Ip(x)).length,N,S=!1,O,A=new Array(_),P=new Array(_);for(o==null&&(d=u(O=h())),v=0;v<=_;++v){if(!(v<_&&s(N=x[v],v,x))===S)if(S=!S)b=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=v-1;j>=b;--j)d.point(A[j],P[j]);d.lineEnd(),d.areaEnd()}S&&(A[v]=+e(N,v,x),P[v]=+t(N,v,x),d.point(n?+n(N,v,x):A[v],r?+r(N,v,x):P[v]))}if(O)return d=null,O+""||null}function g(){return RO().defined(s).curve(u).context(o)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:ot(+x),n=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:ot(+x),m):e},m.x1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:ot(+x),m):n},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:ot(+x),r=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:ot(+x),m):t},m.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:ot(+x),m):r},m.lineX0=m.lineY0=function(){return g().x(e).y(t)},m.lineY1=function(){return g().x(e).y(r)},m.lineX1=function(){return g().x(n).y(t)},m.defined=function(x){return arguments.length?(s=typeof x=="function"?x:ot(!!x),m):s},m.curve=function(x){return arguments.length?(u=x,o!=null&&(d=u(o)),m):u},m.context=function(x){return arguments.length?(x==null?o=d=null:d=u(o=x),m):o},m}class $O{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function h5(e){return new $O(e,!0)}function m5(e){return new $O(e,!1)}const Up={draw(e,t){const r=Tn(t/Ud);e.moveTo(r,0),e.arc(0,0,r,0,Cf)}},g5={draw(e,t){const r=Tn(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},LO=Tn(1/3),x5=LO*2,p5={draw(e,t){const r=Tn(t/x5),n=r*LO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},v5={draw(e,t){const r=Tn(t),n=-r/2;e.rect(n,n,r,r)}},y5=.8908130915292852,IO=Id(Ud/10)/Id(7*Ud/10),b5=Id(Cf/10)*IO,w5=-TO(Cf/10)*IO,j5={draw(e,t){const r=Tn(t*y5),n=b5*r,s=w5*r;e.moveTo(0,-r),e.lineTo(n,s);for(let o=1;o<5;++o){const u=Cf*o/5,d=TO(u),h=Id(u);e.lineTo(h*r,-d*r),e.lineTo(d*n-h*s,h*n+d*s)}e.closePath()}},Kg=Tn(3),N5={draw(e,t){const r=-Tn(t/(Kg*3));e.moveTo(0,r*2),e.lineTo(-Kg*r,-r),e.lineTo(Kg*r,-r),e.closePath()}},cn=-.5,un=Tn(3)/2,Tx=1/Tn(12),_5=(Tx/2+1)*3,S5={draw(e,t){const r=Tn(t/_5),n=r/2,s=r*Tx,o=n,u=r*Tx+r,d=-o,h=u;e.moveTo(n,s),e.lineTo(o,u),e.lineTo(d,h),e.lineTo(cn*n-un*s,un*n+cn*s),e.lineTo(cn*o-un*u,un*o+cn*u),e.lineTo(cn*d-un*h,un*d+cn*h),e.lineTo(cn*n+un*s,cn*s-un*n),e.lineTo(cn*o+un*u,cn*u-un*o),e.lineTo(cn*d+un*h,cn*h-un*d),e.closePath()}};function O5(e,t){let r=null,n=Lp(s);e=typeof e=="function"?e:ot(e||Up),t=typeof t=="function"?t:ot(t===void 0?64:+t);function s(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:ot(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:ot(+o),s):t},s.context=function(o){return arguments.length?(r=o??null,s):r},s}function qd(){}function zd(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function UO(e){this._context=e}UO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zd(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A5(e){return new UO(e)}function qO(e){this._context=e}qO.prototype={areaStart:qd,areaEnd:qd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E5(e){return new qO(e)}function zO(e){this._context=e}zO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:zd(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k5(e){return new zO(e)}function BO(e){this._context=e}BO.prototype={areaStart:qd,areaEnd:qd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function T5(e){return new BO(e)}function B1(e){return e<0?-1:1}function H1(e,t,r){var n=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(n||s<0&&-0),u=(r-e._y1)/(s||n<0&&-0),d=(o*s+u*n)/(n+s);return(B1(o)+B1(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(d))||0}function K1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Yg(e,t,r){var n=e._x0,s=e._y0,o=e._x1,u=e._y1,d=(o-n)/3;e._context.bezierCurveTo(n+d,s+d*t,o-d,u-d*r,o,u)}function Bd(e){this._context=e}Bd.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Yg(this,this._t0,K1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Yg(this,K1(this,r=H1(this,e,t)),r);break;default:Yg(this,this._t0,r=H1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HO(e){this._context=new KO(e)}(HO.prototype=Object.create(Bd.prototype)).point=function(e,t){Bd.prototype.point.call(this,t,e)};function KO(e){this._context=e}KO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,o){this._context.bezierCurveTo(t,e,n,r,o,s)}};function C5(e){return new Bd(e)}function D5(e){return new HO(e)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Y1(e),s=Y1(t),o=0,u=1;u<r;++o,++u)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y1(e){var t,r=e.length-1,n,s=new Array(r),o=new Array(r),u=new Array(r);for(s[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/o[t-1],o[t]-=n,u[t]-=n*u[t-1];for(s[r-1]=u[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(u[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function P5(e){return new YO(e)}function Pf(e,t){this._context=e,this._t=t}Pf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function M5(e){return new Pf(e,.5)}function R5(e){return new Pf(e,0)}function $5(e){return new Pf(e,1)}function wl(e,t){if((u=e.length)>1)for(var r=1,n,s,o=e[t[0]],u,d=o.length;r<u;++r)for(s=o,o=e[t[r]],n=0;n<d;++n)o[n][1]+=o[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Cx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function L5(e,t){return e[t]}function I5(e){const t=[];return t.key=e,t}function U5(){var e=ot([]),t=Cx,r=wl,n=L5;function s(o){var u=Array.from(e.apply(this,arguments),I5),d,h=u.length,m=-1,g;for(const x of o)for(d=0,++m;d<h;++d)(u[d][m]=[0,+n(x,u[d].key,m,o)]).data=x;for(d=0,g=Ip(t(u));d<h;++d)u[g[d]].index=d;return r(u,g),u}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ot(Array.from(o)),s):e},s.value=function(o){return arguments.length?(n=typeof o=="function"?o:ot(+o),s):n},s.order=function(o){return arguments.length?(t=o==null?Cx:typeof o=="function"?o:ot(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(r=o??wl,s):r},s}function q5(e,t){if((n=e.length)>0){for(var r,n,s=0,o=e[0].length,u;s<o;++s){for(u=r=0;r<n;++r)u+=e[r][s][1]||0;if(u)for(r=0;r<n;++r)e[r][s][1]/=u}wl(e,t)}}function z5(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,o=n.length;r<o;++r){for(var u=0,d=0;u<s;++u)d+=e[u][r][1]||0;n[r][1]+=n[r][0]=-d/2}wl(e,t)}}function B5(e,t){if(!(!((u=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,o,u;n<o;++n){for(var d=0,h=0,m=0;d<u;++d){for(var g=e[t[d]],x=g[n][1]||0,v=g[n-1][1]||0,b=(x-v)/2,j=0;j<d;++j){var _=e[t[j]],N=_[n][1]||0,S=_[n-1][1]||0;b+=N-S}h+=x,m+=b*x}s[n-1][1]+=s[n-1][0]=r,h&&(r-=m/h)}s[n-1][1]+=s[n-1][0]=r,wl(e,t)}}var H5=["type","size","sizeType"];function Dx(){return Dx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Dx.apply(null,arguments)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){K5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K5(e,t,r){return(t=Y5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5(e){var t=G5(e,"string");return typeof t=="symbol"?t:t+""}function G5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V5(e,t){if(e==null)return{};var r,n,s=F5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function F5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GO={symbolCircle:Up,symbolCross:g5,symbolDiamond:p5,symbolSquare:v5,symbolStar:j5,symbolTriangle:N5,symbolWye:S5},W5=Math.PI/180,X5=e=>{var t="symbol".concat(kc(e));return GO[t]||Up},Q5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*W5;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Z5=(e,t)=>{GO["symbol".concat(kc(e))]=t},VO=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=V5(e,H5),o=V1(V1({},s),{},{type:t,size:r,sizeType:n}),u="circle";typeof t=="string"&&(u=t);var d=()=>{var v=X5(u),b=O5().type(v).size(Q5(r,n,u));return b()},{className:h,cx:m,cy:g}=o,x=ht(o,!0);return m===+m&&g===+g&&r===+r?w.createElement("path",Dx({},x,{className:Xe("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};VO.registerSymbol=Z5;var Gg={},Vg={},F1;function J5(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let o=0;o<r.length;o++){const u=r[o],d=n(u);s.has(d)||s.set(d,u)}return Array.from(s.values())}e.uniqBy=t})(Vg)),Vg}var Fg={},W1;function FO(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Fg)),Fg}var Wg={},Xg={},Qg={},X1;function eR(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Qg)),Qg}var Q1;function qp(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eR();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Xg)),Xg}var Zg={},Z1;function tR(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Zg)),Zg}var J1;function rR(){return J1||(J1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qp(),r=tR();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(Wg)),Wg}var Jg={},e0={},eN;function nR(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Pp();function r(n){return function(s){return t.get(s,n)}}e.property=r})(e0)),e0}var t0={},r0={},n0={},a0={},tN;function WO(){return tN||(tN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(a0)),a0}var i0={},rN;function XO(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(i0)),i0}var s0={},nN;function QO(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(s0)),s0}var aN;function aR(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zp(),r=WO(),n=XO(),s=QO();function o(x,v,b){return typeof b!="function"?t.isMatch(x,v):u(x,v,function j(_,N,S,O,A,P){const k=b(_,N,S,O,A,P);return k!==void 0?!!k:u(_,N,j,P)},new Map)}function u(x,v,b,j){if(v===x)return!0;switch(typeof v){case"object":return d(x,v,b,j);case"function":return Object.keys(v).length>0?u(x,{...v},b,j):s.eq(x,v);default:return r.isObject(x)?typeof v=="string"?v==="":!0:s.eq(x,v)}}function d(x,v,b,j){if(v==null)return!0;if(Array.isArray(v))return m(x,v,b,j);if(v instanceof Map)return h(x,v,b,j);if(v instanceof Set)return g(x,v,b,j);const _=Object.keys(v);if(x==null)return _.length===0;if(_.length===0)return!0;if(j&&j.has(v))return j.get(v)===x;j&&j.set(v,x);try{for(let N=0;N<_.length;N++){const S=_[N];if(!n.isPrimitive(x)&&!(S in x)||v[S]===void 0&&x[S]!==void 0||v[S]===null&&x[S]!==null||!b(x[S],v[S],S,x,v,j))return!1}return!0}finally{j&&j.delete(v)}}function h(x,v,b,j){if(v.size===0)return!0;if(!(x instanceof Map))return!1;for(const[_,N]of v.entries()){const S=x.get(_);if(b(S,N,_,x,v,j)===!1)return!1}return!0}function m(x,v,b,j){if(v.length===0)return!0;if(!Array.isArray(x))return!1;const _=new Set;for(let N=0;N<v.length;N++){const S=v[N];let O=!1;for(let A=0;A<x.length;A++){if(_.has(A))continue;const P=x[A];let k=!1;if(b(P,S,N,x,v,j)&&(k=!0),k){_.add(A),O=!0;break}}if(!O)return!1}return!0}function g(x,v,b,j){return v.size===0?!0:x instanceof Set?m([...x],[...v],b,j):!1}e.isMatchWith=o,e.isSetMatch=g})(n0)),n0}var iN;function zp(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(r0)),r0}var l0={},o0={},c0={},sN;function iR(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(c0)),c0}var u0={},lN;function ZO(){return lN||(lN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(u0)),u0}var d0={},oN;function JO(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",o="[object Arguments]",u="[object Symbol]",d="[object Date]",h="[object Map]",m="[object Set]",g="[object Array]",x="[object Function]",v="[object ArrayBuffer]",b="[object Object]",j="[object Error]",_="[object DataView]",N="[object Uint8Array]",S="[object Uint8ClampedArray]",O="[object Uint16Array]",A="[object Uint32Array]",P="[object BigUint64Array]",k="[object Int8Array]",D="[object Int16Array]",C="[object Int32Array]",T="[object BigInt64Array]",$="[object Float32Array]",L="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=g,e.bigInt64ArrayTag=T,e.bigUint64ArrayTag=P,e.booleanTag=s,e.dataViewTag=_,e.dateTag=d,e.errorTag=j,e.float32ArrayTag=$,e.float64ArrayTag=L,e.functionTag=x,e.int16ArrayTag=D,e.int32ArrayTag=C,e.int8ArrayTag=k,e.mapTag=h,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=u,e.uint16ArrayTag=O,e.uint32ArrayTag=A,e.uint8ArrayTag=N,e.uint8ClampedArrayTag=S})(d0)),d0}var f0={},cN;function sR(){return cN||(cN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(f0)),f0}var uN;function eA(){return uN||(uN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iR(),r=ZO(),n=JO(),s=XO(),o=sR();function u(g,x){return d(g,void 0,g,new Map,x)}function d(g,x,v,b=new Map,j=void 0){const _=j?.(g,x,v,b);if(_!==void 0)return _;if(s.isPrimitive(g))return g;if(b.has(g))return b.get(g);if(Array.isArray(g)){const N=new Array(g.length);b.set(g,N);for(let S=0;S<g.length;S++)N[S]=d(g[S],S,v,b,j);return Object.hasOwn(g,"index")&&(N.index=g.index),Object.hasOwn(g,"input")&&(N.input=g.input),N}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const N=new RegExp(g.source,g.flags);return N.lastIndex=g.lastIndex,N}if(g instanceof Map){const N=new Map;b.set(g,N);for(const[S,O]of g)N.set(S,d(O,S,v,b,j));return N}if(g instanceof Set){const N=new Set;b.set(g,N);for(const S of g)N.add(d(S,void 0,v,b,j));return N}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(o.isTypedArray(g)){const N=new(Object.getPrototypeOf(g)).constructor(g.length);b.set(g,N);for(let S=0;S<g.length;S++)N[S]=d(g[S],S,v,b,j);return N}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const N=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return b.set(g,N),h(N,g,v,b,j),N}if(typeof File<"u"&&g instanceof File){const N=new File([g],g.name,{type:g.type});return b.set(g,N),h(N,g,v,b,j),N}if(g instanceof Blob){const N=new Blob([g],{type:g.type});return b.set(g,N),h(N,g,v,b,j),N}if(g instanceof Error){const N=new g.constructor;return b.set(g,N),N.message=g.message,N.name=g.name,N.stack=g.stack,N.cause=g.cause,h(N,g,v,b,j),N}if(typeof g=="object"&&m(g)){const N=Object.create(Object.getPrototypeOf(g));return b.set(g,N),h(N,g,v,b,j),N}return g}function h(g,x,v=g,b,j){const _=[...Object.keys(x),...t.getSymbols(x)];for(let N=0;N<_.length;N++){const S=_[N],O=Object.getOwnPropertyDescriptor(g,S);(O==null||O.writable)&&(g[S]=d(x[S],S,v,b,j))}}function m(g){switch(r.getTag(g)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=d,e.copyProperties=h})(o0)),o0}var dN;function lR(){return dN||(dN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eA();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(l0)),l0}var fN;function oR(){return fN||(fN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zp(),r=lR();function n(s){return s=r.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=n})(t0)),t0}var h0={},m0={},g0={},hN;function cR(){return hN||(hN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eA(),r=JO();function n(s,o){return t.cloneDeepWith(s,(u,d,h,m)=>{const g=o?.(u,d,h,m);if(g!==void 0)return g;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const x=new s.constructor(s?.valueOf());return t.copyProperties(x,s),x}case r.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=n})(g0)),g0}var mN;function uR(){return mN||(mN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cR();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(m0)),m0}var x0={},p0={},gN;function tA(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(p0)),p0}var v0={},xN;function dR(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(v0)),v0}var pN;function fR(){return pN||(pN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NO(),r=tA(),n=dR(),s=Dp();function o(u,d){let h;if(Array.isArray(d)?h=d:typeof d=="string"&&t.isDeepKey(d)&&u?.[d]==null?h=s.toPath(d):h=[d],h.length===0)return!1;let m=u;for(let g=0;g<h.length;g++){const x=h[g];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=o})(x0)),x0}var vN;function hR(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zp(),r=_O(),n=uR(),s=Pp(),o=fR();function u(d,h){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return h=n.cloneDeep(h),function(m){const g=s.get(m,d);return g===void 0?o.has(m,d):h===void 0?g===void 0:t.isMatch(g,h)}}e.matchesProperty=u})(h0)),h0}var yN;function mR(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FO(),r=nR(),n=oR(),s=hR();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?s.matchesProperty(u[0],u[1]):n.matches(u);case"string":case"symbol":case"number":return r.property(u)}}e.iteratee=o})(Jg)),Jg}var bN;function gR(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J5(),r=FO(),n=rR(),s=mR();function o(u,d=r.identity){return n.isArrayLikeObject(u)?t.uniqBy(Array.from(u),s.iteratee(d)):[]}e.uniqBy=o})(Gg)),Gg}var y0,wN;function xR(){return wN||(wN=1,y0=gR().uniqBy),y0}var pR=xR();const jN=Vn(pR);function vR(e,t,r){return t===!0?jN(e,r):typeof t=="function"?jN(e,t):e}var b0={exports:{}},w0={},j0={exports:{}},N0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN;function yR(){if(NN)return N0;NN=1;var e=Al();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function d(x,v){var b=v(),j=n({inst:{value:b,getSnapshot:v}}),_=j[0].inst,N=j[1];return o(function(){_.value=b,_.getSnapshot=v,h(_)&&N({inst:_})},[x,b,v]),s(function(){return h(_)&&N({inst:_}),x(function(){h(_)&&N({inst:_})})},[x]),u(b),b}function h(x){var v=x.getSnapshot;x=x.value;try{var b=v();return!r(x,b)}catch{return!0}}function m(x,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return N0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,N0}var _N;function bR(){return _N||(_N=1,j0.exports=yR()),j0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function wR(){if(SN)return w0;SN=1;var e=Al(),t=bR();function r(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,d=e.useMemo,h=e.useDebugValue;return w0.useSyncExternalStoreWithSelector=function(m,g,x,v,b){var j=o(null);if(j.current===null){var _={hasValue:!1,value:null};j.current=_}else _=j.current;j=d(function(){function S(D){if(!O){if(O=!0,A=D,D=v(D),b!==void 0&&_.hasValue){var C=_.value;if(b(C,D))return P=C}return P=D}if(C=P,n(A,D))return C;var T=v(D);return b!==void 0&&b(C,T)?(A=D,C):(A=D,P=T)}var O=!1,A,P,k=x===void 0?null:x;return[function(){return S(g())},k===null?void 0:function(){return S(k())}]},[g,x,v,b]);var N=s(m,j[0],j[1]);return u(function(){_.hasValue=!0,_.value=N},[N]),h(N),N},w0}var ON;function jR(){return ON||(ON=1,b0.exports=wR()),b0.exports}var NR=jR(),Bp=w.createContext(null),_R=e=>e,Ft=()=>{var e=w.useContext(Bp);return e?e.store.dispatch:_R},Pd=()=>{},SR=()=>Pd,OR=(e,t)=>e===t;function Ce(e){var t=w.useContext(Bp);return NR.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:SR,t?t.store.getState:Pd,t?t.store.getState:Pd,t?e:Pd,OR)}function AR(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ER(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function kR(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var AN=e=>Array.isArray(e)?e:[e];function TR(e){const t=Array.isArray(e[0])?e[0]:e;return kR(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function CR(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var DR=class{constructor(e){this.value=e}deref(){return this.value}},PR=typeof WeakRef<"u"?WeakRef:DR,MR=0,EN=1;function gd(){return{s:MR,v:void 0,o:null,p:null}}function rA(e,t={}){let r=gd();const{resultEqualityCheck:n}=t;let s,o=0;function u(){let d=r;const{length:h}=arguments;for(let x=0,v=h;x<v;x++){const b=arguments[x];if(typeof b=="function"||typeof b=="object"&&b!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const _=j.get(b);_===void 0?(d=gd(),j.set(b,d)):d=_}else{let j=d.p;j===null&&(d.p=j=new Map);const _=j.get(b);_===void 0?(d=gd(),j.set(b,d)):d=_}}const m=d;let g;if(d.s===EN)g=d.v;else if(g=e.apply(null,arguments),o++,n){const x=s?.deref?.()??s;x!=null&&n(x,g)&&(g=x,o!==0&&o--),s=typeof g=="object"&&g!==null||typeof g=="function"?new PR(g):g}return m.s=EN,m.v=g,g}return u.clearCache=()=>{r=gd(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function RR(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let o=0,u=0,d,h={},m=s.pop();typeof m=="object"&&(h=m,m=s.pop()),AR(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const g={...r,...h},{memoize:x,memoizeOptions:v=[],argsMemoize:b=rA,argsMemoizeOptions:j=[]}=g,_=AN(v),N=AN(j),S=TR(s),O=x(function(){return o++,m.apply(null,arguments)},..._),A=b(function(){u++;const k=CR(S,arguments);return d=O.apply(null,k),d},...N);return Object.assign(A,{resultFunc:m,memoizedResultFunc:O,dependencies:S,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:x,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var ce=RR(rA),$R=Object.assign((e,t=ce)=>{ER(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((u,d,h)=>(u[r[h]]=d,u),{}))},{withTypes:()=>$R}),_0={},S0={},O0={},kN;function LR(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,o)=>{if(n!==s){const u=t(n),d=t(s);if(u===d&&u===0){if(n<s)return o==="desc"?1:-1;if(n>s)return o==="desc"?-1:1}return o==="desc"?d-u:u-d}return 0};e.compareValues=r})(O0)),O0}var A0={},E0={},TN;function nA(){return TN||(TN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(E0)),E0}var CN;function IR(){return CN||(CN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nA(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=s})(A0)),A0}var DN;function UR(){return DN||(DN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LR(),r=IR(),n=Dp();function s(o,u,d,h){if(o==null)return[];d=h?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const m=(b,j)=>{let _=b;for(let N=0;N<j.length&&_!=null;++N)_=_[j[N]];return _},g=(b,j)=>j==null||b==null?j:typeof b=="object"&&"key"in b?Object.hasOwn(j,b.key)?j[b.key]:m(j,b.path):typeof b=="function"?b(j):Array.isArray(b)?m(j,b):typeof j=="object"?j[b]:j,x=u.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return o.map(b=>({original:b,criteria:x.map(j=>g(j,b))})).slice().sort((b,j)=>{for(let _=0;_<x.length;_++){const N=t.compareValues(b.criteria[_],j.criteria[_],d[_]);if(N!==0)return N}return 0}).map(b=>b.original)}e.orderBy=s})(S0)),S0}var k0={},PN;function qR(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],o=Math.floor(n),u=(d,h)=>{for(let m=0;m<d.length;m++){const g=d[m];Array.isArray(g)&&h<o?u(g,h+1):s.push(g)}};return u(r,0),s}e.flatten=t})(k0)),k0}var T0={},MN;function aA(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tA(),r=qp(),n=WO(),s=QO();function o(u,d,h){return n.isObject(h)&&(typeof d=="number"&&r.isArrayLike(h)&&t.isIndex(d)&&d<h.length||typeof d=="string"&&d in h)?s.eq(h[d],u):!1}e.isIterateeCall=o})(T0)),T0}var RN;function zR(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UR(),r=qR(),n=aA();function s(o,...u){const d=u.length;return d>1&&n.isIterateeCall(o,u[0],u[1])?u=[]:d>2&&n.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,r.flatten(u),["asc"])}e.sortBy=s})(_0)),_0}var C0,$N;function BR(){return $N||($N=1,C0=zR().sortBy),C0}var HR=BR();const Mf=Vn(HR);var iA=e=>e.legend.settings,KR=e=>e.legend.size,YR=e=>e.legend.payload;ce([YR,iA],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?Mf(n,r):n});var xd=1;function GR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>xd||Math.abs(u.left-t.left)>xd||Math.abs(u.top-t.top)>xd||Math.abs(u.width-t.width)>xd)&&r({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function nr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VR=typeof Symbol=="function"&&Symbol.observable||"@@observable",LN=VR,D0=()=>Math.random().toString(36).substring(7).split("").join("."),FR={INIT:`@@redux/INIT${D0()}`,REPLACE:`@@redux/REPLACE${D0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${D0()}`},Hd=FR;function Hp(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function sA(e,t,r){if(typeof e!="function")throw new Error(nr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(nr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(nr(1));return r(sA)(e,t)}let n=e,s=t,o=new Map,u=o,d=0,h=!1;function m(){u===o&&(u=new Map,o.forEach((N,S)=>{u.set(S,N)}))}function g(){if(h)throw new Error(nr(3));return s}function x(N){if(typeof N!="function")throw new Error(nr(4));if(h)throw new Error(nr(5));let S=!0;m();const O=d++;return u.set(O,N),function(){if(S){if(h)throw new Error(nr(6));S=!1,m(),u.delete(O),o=null}}}function v(N){if(!Hp(N))throw new Error(nr(7));if(typeof N.type>"u")throw new Error(nr(8));if(typeof N.type!="string")throw new Error(nr(17));if(h)throw new Error(nr(9));try{h=!0,s=n(s,N)}finally{h=!1}return(o=u).forEach(O=>{O()}),N}function b(N){if(typeof N!="function")throw new Error(nr(10));n=N,v({type:Hd.REPLACE})}function j(){const N=x;return{subscribe(S){if(typeof S!="object"||S===null)throw new Error(nr(11));function O(){const P=S;P.next&&P.next(g())}return O(),{unsubscribe:N(O)}},[LN](){return this}}}return v({type:Hd.INIT}),{dispatch:v,subscribe:x,getState:g,replaceReducer:b,[LN]:j}}function WR(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Hd.INIT})>"u")throw new Error(nr(12));if(typeof r(void 0,{type:Hd.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(nr(13))})}function lA(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(r[u]=e[u])}const n=Object.keys(r);let s;try{WR(r)}catch(o){s=o}return function(u={},d){if(s)throw s;let h=!1;const m={};for(let g=0;g<n.length;g++){const x=n[g],v=r[x],b=u[x],j=v(b,d);if(typeof j>"u")throw d&&d.type,new Error(nr(14));m[x]=j,h=h||j!==b}return h=h||n.length!==Object.keys(u).length,h?m:u}}function Kd(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function XR(...e){return t=>(r,n)=>{const s=t(r,n);let o=()=>{throw new Error(nr(15))};const u={getState:s.getState,dispatch:(h,...m)=>o(h,...m)},d=e.map(h=>h(u));return o=Kd(...d)(s.dispatch),{...s,dispatch:o}}}function oA(e){return Hp(e)&&"type"in e&&typeof e.type=="string"}var cA=Symbol.for("immer-nothing"),IN=Symbol.for("immer-draftable"),Wr=Symbol.for("immer-state");function _n(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var jl=Object.getPrototypeOf;function is(e){return!!e&&!!e[Wr]}function Aa(e){return e?uA(e)||Array.isArray(e)||!!e[IN]||!!e.constructor?.[IN]||Tc(e)||$f(e):!1}var QR=Object.prototype.constructor.toString();function uA(e){if(!e||typeof e!="object")return!1;const t=jl(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===QR}function Yd(e,t){Rf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Rf(e){const t=e[Wr];return t?t.type_:Array.isArray(e)?1:Tc(e)?2:$f(e)?3:0}function Px(e,t){return Rf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function dA(e,t,r){const n=Rf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ZR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Tc(e){return e instanceof Map}function $f(e){return e instanceof Set}function Vi(e){return e.copy_||e.base_}function Mx(e,t){if(Tc(e))return new Map(e);if($f(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=uA(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Wr];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const u=s[o],d=n[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[u]})}return Object.create(jl(e),n)}else{const n=jl(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Kp(e,t=!1){return Lf(e)||is(e)||!Aa(e)||(Rf(e)>1&&Object.defineProperties(e,{set:{value:pd},add:{value:pd},clear:{value:pd},delete:{value:pd}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Kp(r,!0))),e}function pd(){_n(2)}function Lf(e){return Object.isFrozen(e)}var JR={};function ss(e){const t=JR[e];return t||_n(0,e),t}var mc;function fA(){return mc}function e$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UN(e,t){t&&(ss("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Rx(e){$x(e),e.drafts_.forEach(t$),e.drafts_=null}function $x(e){e===mc&&(mc=e.parent_)}function qN(e){return mc=e$(mc,e)}function t$(e){const t=e[Wr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Wr].modified_&&(Rx(t),_n(4)),Aa(e)&&(e=Gd(t,e),t.parent_||Vd(t,e)),t.patches_&&ss("Patches").generateReplacementPatches_(r[Wr].base_,e,t.patches_,t.inversePatches_)):e=Gd(t,r,[]),Rx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==cA?e:void 0}function Gd(e,t,r){if(Lf(t))return t;const n=t[Wr];if(!n)return Yd(t,(s,o)=>BN(e,n,t,s,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Vd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let o=s,u=!1;n.type_===3&&(o=new Set(s),s.clear(),u=!0),Yd(o,(d,h)=>BN(e,n,s,d,h,r,u)),Vd(e,s,!1),r&&e.patches_&&ss("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function BN(e,t,r,n,s,o,u){if(is(s)){const d=o&&t&&t.type_!==3&&!Px(t.assigned_,n)?o.concat(n):void 0,h=Gd(e,s,d);if(dA(r,n,h),is(h))e.canAutoFreeze_=!1;else return}else u&&r.add(s);if(Aa(s)&&!Lf(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Gd(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Tc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Vd(e,s)}}function Vd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Kp(t,r)}function r$(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:fA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=Yp;r&&(s=[n],o=gc);const{revoke:u,proxy:d}=Proxy.revocable(s,o);return n.draft_=d,n.revoke_=u,d}var Yp={get(e,t){if(t===Wr)return e;const r=Vi(e);if(!Px(r,t))return n$(e,r,t);const n=r[t];return e.finalized_||!Aa(n)?n:n===P0(e.base_,t)?(M0(e),e.copy_[t]=Ix(n,e)):n},has(e,t){return t in Vi(e)},ownKeys(e){return Reflect.ownKeys(Vi(e))},set(e,t,r){const n=hA(Vi(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=P0(Vi(e),t),o=s?.[Wr];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZR(r,s)&&(r!==void 0||Px(e.base_,t)))return!0;M0(e),Lx(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return P0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,M0(e),Lx(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Vi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){_n(11)},getPrototypeOf(e){return jl(e.base_)},setPrototypeOf(){_n(12)}},gc={};Yd(Yp,(e,t)=>{gc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});gc.deleteProperty=function(e,t){return gc.set.call(this,e,t,void 0)};gc.set=function(e,t,r){return Yp.set.call(this,e[0],t,r,e[0])};function P0(e,t){const r=e[Wr];return(r?Vi(r):e)[t]}function n$(e,t,r){const n=hA(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function hA(e,t){if(!(t in e))return;let r=jl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=jl(r)}}function Lx(e){e.modified_||(e.modified_=!0,e.parent_&&Lx(e.parent_))}function M0(e){e.copy_||(e.copy_=Mx(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var a$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const u=this;return function(h=o,...m){return u.produce(h,g=>r.call(this,g,...m))}}typeof r!="function"&&_n(6),n!==void 0&&typeof n!="function"&&_n(7);let s;if(Aa(t)){const o=qN(this),u=Ix(t,void 0);let d=!0;try{s=r(u),d=!1}finally{d?Rx(o):$x(o)}return UN(o,n),zN(s,o)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===cA&&(s=void 0),this.autoFreeze_&&Kp(s,!0),n){const o=[],u=[];ss("Patches").generateReplacementPatches_(t,s,o,u),n(o,u)}return s}else _n(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(u,...d)=>this.produceWithPatches(u,h=>t(h,...d));let n,s;return[this.produce(t,r,(u,d)=>{n=u,s=d}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Aa(e)||_n(8),is(e)&&(e=ja(e));const t=qN(this),r=Ix(e,void 0);return r[Wr].isManual_=!0,$x(t),r}finishDraft(e,t){const r=e&&e[Wr];(!r||!r.isManual_)&&_n(9);const{scope_:n}=r;return UN(n,t),zN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=ss("Patches").applyPatches_;return is(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Ix(e,t){const r=Tc(e)?ss("MapSet").proxyMap_(e,t):$f(e)?ss("MapSet").proxySet_(e,t):r$(e,t);return(t?t.scope_:fA()).drafts_.push(r),r}function ja(e){return is(e)||_n(10,e),mA(e)}function mA(e){if(!Aa(e)||Lf(e))return e;const t=e[Wr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Mx(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Mx(e,!0);return Yd(r,(n,s)=>{dA(r,n,mA(s))}),t&&(t.finalized_=!1),r}var i$=new a$,gA=i$.produce;function xA(e){return({dispatch:r,getState:n})=>s=>o=>typeof o=="function"?o(r,n,e):s(o)}var s$=xA(),l$=xA,o$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Kd:Kd.apply(null,arguments)};function mn(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Fr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>oA(n)&&n.type===e,r}var pA=class Qo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Qo.prototype)}static get[Symbol.species](){return Qo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Qo(...t[0].concat(this)):new Qo(...t.concat(this))}};function HN(e){return Aa(e)?gA(e,()=>{}):e}function vd(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function c$(e){return typeof e=="boolean"}var u$=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let u=new pA;return r&&(c$(r)?u.push(s$):u.push(l$(r.extraArgument))),u},d$="RTK_autoBatch",KN=e=>t=>{setTimeout(t,e)},f$=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,o=!1,u=!1;const d=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KN(10):e.type==="callback"?e.queueNotification:KN(e.timeout),m=()=>{u=!1,o&&(o=!1,d.forEach(g=>g()))};return Object.assign({},n,{subscribe(g){const x=()=>s&&g(),v=n.subscribe(x);return d.add(g),()=>{v(),d.delete(g)}},dispatch(g){try{return s=!g?.meta?.[d$],o=!s,o&&(u||(u=!0,h(m))),n.dispatch(g)}finally{s=!0}}})},h$=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new pA(e);return n&&s.push(f$(typeof n=="object"?n:void 0)),s};function m$(e){const t=u$(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(Hp(r))d=lA(r);else throw new Error(Fr(1));let h;typeof n=="function"?h=n(t):h=t();let m=Kd;s&&(m=o$({trace:!1,...typeof s=="object"&&s}));const g=XR(...h),x=h$(g);let v=typeof u=="function"?u(x):x();const b=m(...v);return sA(d,o,b)}function vA(e){const t={},r=[];let n;const s={addCase(o,u){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(Fr(28));if(d in t)throw new Error(Fr(29));return t[d]=u,s},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&r.push({matcher:o.settled,reducer:u.settled}),s},addMatcher(o,u){return r.push({matcher:o,reducer:u}),s},addDefaultCase(o){return n=o,s}};return e(s),[t,r,n]}function g$(e){return typeof e=="function"}function x$(e,t){let[r,n,s]=vA(t),o;if(g$(e))o=()=>HN(e());else{const d=HN(e);o=()=>d}function u(d=o(),h){let m=[r[h.type],...n.filter(({matcher:g})=>g(h)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[s]),m.reduce((g,x)=>{if(x)if(is(g)){const b=x(g,h);return b===void 0?g:b}else{if(Aa(g))return gA(g,v=>x(v,h));{const v=x(g,h);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return g},d)}return u.getInitialState=o,u}var p$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",v$=(e=21)=>{let t="",r=e;for(;r--;)t+=p$[Math.random()*64|0];return t},y$=Symbol.for("rtk-slice-createasyncthunk");function b$(e,t){return`${e}/${t}`}function w$({creators:e}={}){const t=e?.asyncThunk?.[y$];return function(n){const{name:s,reducerPath:o=s}=n;if(!s)throw new Error(Fr(11));const u=(typeof n.reducers=="function"?n.reducers(N$()):n.reducers)||{},d=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,P){const k=typeof A=="string"?A:A.type;if(!k)throw new Error(Fr(12));if(k in h.sliceCaseReducersByType)throw new Error(Fr(13));return h.sliceCaseReducersByType[k]=P,m},addMatcher(A,P){return h.sliceMatchers.push({matcher:A,reducer:P}),m},exposeAction(A,P){return h.actionCreators[A]=P,m},exposeCaseReducer(A,P){return h.sliceCaseReducersByName[A]=P,m}};d.forEach(A=>{const P=u[A],k={reducerName:A,type:b$(s,A),createNotation:typeof n.reducers=="function"};S$(P)?A$(k,P,m,t):_$(k,P,m)});function g(){const[A={},P=[],k=void 0]=typeof n.extraReducers=="function"?vA(n.extraReducers):[n.extraReducers],D={...A,...h.sliceCaseReducersByType};return x$(n.initialState,C=>{for(let T in D)C.addCase(T,D[T]);for(let T of h.sliceMatchers)C.addMatcher(T.matcher,T.reducer);for(let T of P)C.addMatcher(T.matcher,T.reducer);k&&C.addDefaultCase(k)})}const x=A=>A,v=new Map,b=new WeakMap;let j;function _(A,P){return j||(j=g()),j(A,P)}function N(){return j||(j=g()),j.getInitialState()}function S(A,P=!1){function k(C){let T=C[A];return typeof T>"u"&&P&&(T=vd(b,k,N)),T}function D(C=x){const T=vd(v,P,()=>new WeakMap);return vd(T,C,()=>{const $={};for(const[L,B]of Object.entries(n.selectors??{}))$[L]=j$(B,C,()=>vd(b,C,N),P);return $})}return{reducerPath:A,getSelectors:D,get selectors(){return D(k)},selectSlice:k}}const O={name:s,reducer:_,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:N,...S(o),injectInto(A,{reducerPath:P,...k}={}){const D=P??o;return A.inject({reducerPath:D,reducer:_},k),{...O,...S(D,!0)}}};return O}}function j$(e,t,r,n){function s(o,...u){let d=t(o);return typeof d>"u"&&n&&(d=r()),e(d,...u)}return s.unwrapped=e,s}var Xr=w$();function N$(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function _$({type:e,reducerName:t,createNotation:r},n,s){let o,u;if("reducer"in n){if(r&&!O$(n))throw new Error(Fr(17));o=n.reducer,u=n.prepare}else o=n;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?mn(e,u):mn(e))}function S$(e){return e._reducerDefinitionType==="asyncThunk"}function O$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function A$({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Fr(18));const{payloadCreator:o,fulfilled:u,pending:d,rejected:h,settled:m,options:g}=r,x=s(e,o,g);n.exposeAction(t,x),u&&n.addCase(x.fulfilled,u),d&&n.addCase(x.pending,d),h&&n.addCase(x.rejected,h),m&&n.addMatcher(x.settled,m),n.exposeCaseReducer(t,{fulfilled:u||yd,pending:d||yd,rejected:h||yd,settled:m||yd})}function yd(){}var E$="task",yA="listener",bA="completed",Gp="cancelled",k$=`task-${Gp}`,T$=`task-${bA}`,Ux=`${yA}-${Gp}`,C$=`${yA}-${bA}`,If=class{constructor(e){this.code=e,this.message=`${E$} ${Gp} (reason: ${e})`}name="TaskAbortError";message},Vp=(e,t)=>{if(typeof e!="function")throw new TypeError(Fr(32))},Fd=()=>{},wA=(e,t=Fd)=>(e.catch(t),e),jA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),es=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},ts=e=>{if(e.aborted){const{reason:t}=e;throw new If(t)}};function NA(e,t){let r=Fd;return new Promise((n,s)=>{const o=()=>s(new If(e.reason));if(e.aborted){o();return}r=jA(e,o),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Fd})}var D$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof If?"cancelled":"rejected",error:r}}finally{t?.()}},Wd=e=>t=>wA(NA(e,t).then(r=>(ts(e),r))),_A=e=>{const t=Wd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:gl}=Object,YN={},Uf="listenerMiddleware",P$=(e,t)=>{const r=n=>jA(e,()=>es(n,e.reason));return(n,s)=>{Vp(n);const o=new AbortController;r(o);const u=D$(async()=>{ts(e),ts(o.signal);const d=await n({pause:Wd(o.signal),delay:_A(o.signal),signal:o.signal});return ts(o.signal),d},()=>es(o,T$));return s?.autoJoin&&t.push(u.catch(Fd)),{result:Wd(e)(u),cancel(){es(o,k$)}}}},M$=(e,t)=>{const r=async(n,s)=>{ts(t);let o=()=>{};const d=[new Promise((h,m)=>{let g=e({predicate:n,effect:(x,v)=>{v.unsubscribe(),h([x,v.getState(),v.getOriginalState()])}});o=()=>{g(),m()}})];s!=null&&d.push(new Promise(h=>setTimeout(h,s,null)));try{const h=await NA(t,Promise.race(d));return ts(t),h}finally{o()}};return(n,s)=>wA(r(n,s))},SA=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:o}=e;if(t)s=mn(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Fr(21));return Vp(o),{predicate:s,type:t,effect:o}},OA=gl(e=>{const{type:t,predicate:r,effect:n}=SA(e);return{id:v$(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Fr(22))}}},{withTypes:()=>OA}),GN=(e,t)=>{const{type:r,effect:n,predicate:s}=SA(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===s)&&o.effect===n)},qx=e=>{e.pending.forEach(t=>{es(t,Ux)})},R$=e=>()=>{e.forEach(qx),e.clear()},VN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},AA=gl(mn(`${Uf}/add`),{withTypes:()=>AA}),$$=mn(`${Uf}/removeAll`),EA=gl(mn(`${Uf}/remove`),{withTypes:()=>EA}),L$=(...e)=>{console.error(`${Uf}/error`,...e)},Cc=(e={})=>{const t=new Map,{extra:r,onError:n=L$}=e;Vp(n);const s=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x?.cancelActive&&qx(g)}),o=g=>{const x=GN(t,g)??OA(g);return s(x)};gl(o,{withTypes:()=>o});const u=g=>{const x=GN(t,g);return x&&(x.unsubscribe(),g.cancelActive&&qx(x)),!!x};gl(u,{withTypes:()=>u});const d=async(g,x,v,b)=>{const j=new AbortController,_=M$(o,j.signal),N=[];try{g.pending.add(j),await Promise.resolve(g.effect(x,gl({},v,{getOriginalState:b,condition:(S,O)=>_(S,O).then(Boolean),take:_,delay:_A(j.signal),pause:Wd(j.signal),extra:r,signal:j.signal,fork:P$(j.signal,N),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((S,O,A)=>{S!==j&&(es(S,Ux),A.delete(S))})},cancel:()=>{es(j,Ux),g.pending.delete(j)},throwIfCancelled:()=>{ts(j.signal)}})))}catch(S){S instanceof If||VN(n,S,{raisedBy:"effect"})}finally{await Promise.all(N),es(j,C$),g.pending.delete(j)}},h=R$(t);return{middleware:g=>x=>v=>{if(!oA(v))return x(v);if(AA.match(v))return o(v.payload);if($$.match(v)){h();return}if(EA.match(v))return u(v.payload);let b=g.getState();const j=()=>{if(b===YN)throw new Error(Fr(23));return b};let _;try{if(_=x(v),t.size>0){const N=g.getState(),S=Array.from(t.values());for(const O of S){let A=!1;try{A=O.predicate(v,N,b)}catch(P){A=!1,VN(n,P,{raisedBy:"predicate"})}A&&d(O,v,g,j)}}}finally{b=YN}return _},startListening:o,stopListening:u,clearListeners:h}};function Fr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var I$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},kA=Xr({name:"chartLayout",initialState:I$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:U$,setLayout:q$,setChartSize:z$,setScale:B$}=kA.actions,H$=kA.reducer;function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){K$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K$(e,t,r){return(t=Y$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$(e){var t=G$(e,"string");return typeof t=="symbol"?t:t+""}function G$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Xd=Math.PI/180,V$=e=>e*180/Math.PI,ir=(e,t,r,n)=>({x:e+Math.cos(-Xd*n)*r,y:t+Math.sin(-Xd*n)*r}),F$=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},W$=(e,t)=>{var{x:r,y:n}=e,{x:s,y:o}=t;return Math.sqrt((r-s)**2+(n-o)**2)},X$=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:o}=t,u=W$({x:r,y:n},{x:s,y:o});if(u<=0)return{radius:u,angle:0};var d=(r-s)/u,h=Math.acos(d);return n>o&&(h=2*Math.PI-h),{radius:u,angle:V$(h),angleInRadian:h}},Q$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),o=Math.min(n,s);return{startAngle:t-o*360,endAngle:r-o*360}},Z$=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),o=Math.floor(n/360),u=Math.min(s,o);return e+u*360},J$=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:o}=X$({x:r,y:n},t),{innerRadius:u,outerRadius:d}=t;if(s<u||s>d||s===0)return null;var{startAngle:h,endAngle:m}=Q$(t),g=o,x;if(h<=m){for(;g>m;)g-=360;for(;g<h;)g+=360;x=g>=h&&g<=m}else{for(;g>h;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=h}return x?WN(WN({},t),{},{radius:s,angle:Z$(g,t)}):null};function TA(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fn(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){eL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function eL(e,t,r){return(t=tL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function tL(e){var t=rL(e,"string");return typeof t=="symbol"?t:t+""}function rL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Et(e,t,r){return dt(e)||dt(t)?r:Hn(t)?bl(e,t,r):typeof t=="function"?t(e):r}var nL=(e,t,r,n,s)=>{var o,u=-1,d=(o=t?.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var h=0;h<d;h++){var m=h>0?r[h-1].coordinate:r[d-1].coordinate,g=r[h].coordinate,x=h>=d-1?r[0].coordinate:r[h+1].coordinate,v=void 0;if(Tr(g-m)!==Tr(x-g)){var b=[];if(Tr(x-g)===Tr(s[1]-s[0])){v=x;var j=g+s[1]-s[0];b[0]=Math.min(j,(j+m)/2),b[1]=Math.max(j,(j+m)/2)}else{v=m;var _=x+s[1]-s[0];b[0]=Math.min(g,(_+g)/2),b[1]=Math.max(g,(_+g)/2)}var N=[Math.min(g,(v+g)/2),Math.max(g,(v+g)/2)];if(e>N[0]&&e<=N[1]||e>=b[0]&&e<=b[1]){({index:u}=r[h]);break}}else{var S=Math.min(m,x),O=Math.max(m,x);if(e>(S+g)/2&&e<=(O+g)/2){({index:u}=r[h]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:u}=t[A]);break}}return u},aL=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:o,verticalAlign:u,layout:d}=t;if((d==="vertical"||d==="horizontal"&&u==="middle")&&o!=="center"&&ke(e[o]))return fn(fn({},e),{},{[o]:e[o]+(n||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&u!=="middle"&&ke(e[u]))return fn(fn({},e),{},{[u]:e[u]+(s||0)})}return e},Xn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",CA=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var s,o,u=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===r&&(o=!0),d.coordinate));return s||u.push(t),o||u.push(r),u},DA=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:o,scale:u,realScaleType:d,isCategorical:h,categoricalDomain:m,tickCount:g,ticks:x,niceTicks:v,axisType:b}=e;if(!u)return null;var j=d==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,_=s==="category"&&u.bandwidth?u.bandwidth()/j:0;if(_=b==="angleAxis"&&o&&o.length>=2?Tr(o[0]-o[1])*2*_:_,x||v){var N=(x||v||[]).map((S,O)=>{var A=n?n.indexOf(S):S;return{coordinate:u(A)+_,value:S,offset:_,index:O}});return N.filter(S=>!Dr(S.coordinate))}return h&&m?m.map((S,O)=>({coordinate:u(S)+_,value:S,index:O,offset:_})):u.ticks&&g!=null?u.ticks(g).map((S,O)=>({coordinate:u(S)+_,value:S,offset:_,index:O})):u.domain().map((S,O)=>({coordinate:u(S)+_,value:n?n[S]:S,index:O,offset:_}))},QN=1e-4,iL=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-QN,o=Math.max(n[0],n[1])+QN,u=e(t[0]),d=e(t[r-1]);(u<s||u>o||d<s||d>o)&&e.domain([t[0],t[r-1]])}},sL=(e,t)=>{if(!t||t.length!==2||!ke(t[0])||!ke(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!ke(e[0])||e[0]<r)&&(s[0]=r),(!ke(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},lL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0,u=0;u<t;++u){var d=Dr(e[u][r][1])?e[u][r][0]:e[u][r][1];d>=0?(e[u][r][0]=s,e[u][r][1]=s+d,s=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+d,o=e[u][r][1])}},oL=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0;o<t;++o){var u=Dr(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=s,e[o][r][1]=s+u,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},cL={sign:lL,expand:q5,none:wl,silhouette:z5,wiggle:B5,positive:oL},uL=(e,t,r)=>{var n=cL[r],s=U5().keys(t).value((o,u)=>+Et(o,u,0)).order(Cx).offset(n);return s(e)};function PA(e){return e==null?void 0:String(e)}function Qd(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!dt(s[t.dataKey])){var d=OO(r,"value",s[t.dataKey]);if(d)return d.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var h=Et(s,dt(u)?t.dataKey:u);return dt(h)?null:t.scale(h)}var ZN=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:o,index:u}=e;if(t.type==="category")return r[u]?r[u].coordinate+n:null;var d=Et(o,t.dataKey,t.scale.domain()[u]);return dt(d)?null:t.scale(d)-s/2+n},dL=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},fL=e=>{var t=e.flat(2).filter(ke);return[Math.min(...t),Math.max(...t)]},hL=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],mL=(e,t,r)=>{if(e!=null)return hL(Object.keys(e).reduce((n,s)=>{var o=e[s],{stackedData:u}=o,d=u.reduce((h,m)=>{var g=TA(m,t,r),x=fL(g);return[Math.min(h[0],x[0]),Math.max(h[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},JN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ls=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=Mf(t,g=>g.coordinate),o=1/0,u=1,d=s.length;u<d;u++){var h=s[u],m=s[u-1];o=Math.min((h.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function t_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:o}=e;return fn(fn({},t),{},{dataKey:r,payload:n,value:s,name:o})}function Tl(e,t){if(e)return String(e);if(typeof t=="string")return t}function gL(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var o=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return o?{x:e,y:t}:null}return n?J$({x:e,y:t},n):null}var xL=(e,t,r,n)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,{radius:u}=n;return fn(fn(fn({},n),ir(n.cx,n.cy,u,o)),{},{angle:o,radius:u})}var d=s.coordinate,{angle:h}=n;return fn(fn(fn({},n),ir(n.cx,n.cy,d,h)),{},{angle:h,radius:d})}return{x:0,y:0}},pL=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Da=e=>e.layout.width,Pa=e=>e.layout.height,vL=e=>e.layout.scale,MA=e=>e.layout.margin,qf=ce(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),zf=ce(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),yL="data-recharts-item-index",bL="data-recharts-item-data-key",Dc=60;function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function bd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){wL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wL(e,t,r){return(t=jL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jL(e){var t=NL(e,"string");return typeof t=="symbol"?t:t+""}function NL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _L=e=>e.brush.height;function SL(e){var t=zf(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Dc;return r+s}return r},0)}function OL(e){var t=zf(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Dc;return r+s}return r},0)}function AL(e){var t=qf(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function EL(e){var t=qf(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Wt=ce([Da,Pa,MA,_L,SL,OL,AL,EL,iA,KR],(e,t,r,n,s,o,u,d,h,m)=>{var g={left:(r.left||0)+s,right:(r.right||0)+o},x={top:(r.top||0)+u,bottom:(r.bottom||0)+d},v=bd(bd({},x),g),b=v.bottom;v.bottom+=n,v=aL(v,h,m);var j=e-v.left-v.right,_=t-v.top-v.bottom;return bd(bd({brushBottom:b},v),{},{width:Math.max(j,0),height:Math.max(_,0)})}),kL=ce(Wt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Fp=ce(Da,Pa,(e,t)=>({x:0,y:0,width:e,height:t})),TL=w.createContext(null),hr=()=>w.useContext(TL)!=null,Bf=e=>e.brush,Hf=ce([Bf,Wt,MA],(e,t,r)=>({height:e.height,x:ke(e.x)?e.x:t.left,y:ke(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:ke(e.width)?e.width:t.width})),Wp=()=>{var e,t=hr(),r=Ce(kL),n=Ce(Hf),s=(e=Ce(Bf))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},CL={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RA=()=>{var e;return(e=Ce(Wt))!==null&&e!==void 0?e:CL},$A=()=>Ce(Da),LA=()=>Ce(Pa),Ye=e=>e.layout.layoutType,Pc=()=>Ce(Ye),DL={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},IA=Xr({name:"legend",initialState:DL,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=ja(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:gF,setLegendSettings:xF,addLegendPayload:PL,removeLegendPayload:ML}=IA.actions,RL=IA.reducer;function zx(){return zx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},zx.apply(null,arguments)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function R0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){$L(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $L(e,t,r){return(t=LL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function LL(e){var t=IL(e,"string");return typeof t=="symbol"?t:t+""}function IL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function UL(e){return Array.isArray(e)&&Hn(e[0])&&Hn(e[1])?e.join(" ~ "):e}var qL=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:o,formatter:u,itemSorter:d,wrapperClassName:h,labelClassName:m,label:g,labelFormatter:x,accessibilityLayer:v=!1}=e,b=()=>{if(o&&o.length){var k={padding:0,margin:0},D=(d?Mf(o,d):o).map((C,T)=>{if(C.type==="none")return null;var $=C.formatter||u||UL,{value:L,name:B}=C,J=L,ie=B;if($){var W=$(L,B,C,T,o);if(Array.isArray(W))[J,ie]=W;else if(W!=null)J=W;else return null}var Z=R0({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(T),style:Z},Hn(ie)?w.createElement("span",{className:"recharts-tooltip-item-name"},ie):null,Hn(ie)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},J),w.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:k},D)}return null},j=R0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),_=R0({margin:0},s),N=!dt(g),S=N?g:"",O=Xe("recharts-default-tooltip",h),A=Xe("recharts-tooltip-label",m);N&&x&&o!==void 0&&o!==null&&(S=x(g,o));var P=v?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",zx({className:O,style:j},P),w.createElement("p",{className:A,style:_},w.isValidElement(S)?S:"".concat(S)),b())},Bo="recharts-tooltip-wrapper",zL={visibility:"hidden"};function BL(e){var{coordinate:t,translateX:r,translateY:n}=e;return Xe(Bo,{["".concat(Bo,"-right")]:ke(r)&&t&&ke(t.x)&&r>=t.x,["".concat(Bo,"-left")]:ke(r)&&t&&ke(t.x)&&r<t.x,["".concat(Bo,"-bottom")]:ke(n)&&t&&ke(t.y)&&n>=t.y,["".concat(Bo,"-top")]:ke(n)&&t&&ke(t.y)&&n<t.y})}function a_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:o,reverseDirection:u,tooltipDimension:d,viewBox:h,viewBoxDimension:m}=e;if(o&&ke(o[n]))return o[n];var g=r[n]-d-(s>0?s:0),x=r[n]+s;if(t[n])return u[n]?g:x;var v=h[n];if(v==null)return 0;if(u[n]){var b=g,j=v;return b<j?Math.max(x,v):Math.max(g,v)}if(m==null)return 0;var _=x+d,N=v+m;return _>N?Math.max(g,v):Math.max(x,v)}function HL(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function KL(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:o,tooltipBox:u,useTranslate3d:d,viewBox:h}=e,m,g,x;return u.height>0&&u.width>0&&r?(g=a_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),x=a_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),m=HL({translateX:g,translateY:x,useTranslate3d:d})):m=zL,{cssProperties:m,cssClasses:BL({translateX:g,translateY:x,coordinate:r})}}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){Bx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Bx(e,t,r){return(t=YL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YL(e){var t=GL(e,"string");return typeof t=="symbol"?t:t+""}function GL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class VL extends w.PureComponent{constructor(){super(...arguments),Bx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Bx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:o,coordinate:u,hasPayload:d,isAnimationActive:h,offset:m,position:g,reverseDirection:x,useTranslate3d:v,viewBox:b,wrapperStyle:j,lastBoundingBox:_,innerRef:N,hasPortalFromProps:S}=this.props,{cssClasses:O,cssProperties:A}=KL({allowEscapeViewBox:r,coordinate:u,offsetTopLeft:m,position:g,reverseDirection:x,tooltipBox:{height:_.height,width:_.width},useTranslate3d:v,viewBox:b}),P=S?{}:wd(wd({transition:h&&t?"transform ".concat(n,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),k=wd(wd({},P),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},j);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:O,style:k,ref:N},o)}}var FL=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),fs={isSsr:FL()},UA=()=>Ce(e=>e.rootProps.accessibilityLayer);function lr(e){return Number.isFinite(e)}function Zd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){WL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function WL(e,t,r){return(t=XL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function XL(e){var t=QL(e,"string");return typeof t=="symbol"?t:t+""}function QL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o_={curveBasisClosed:E5,curveBasisOpen:k5,curveBasis:A5,curveBumpX:h5,curveBumpY:m5,curveLinearClosed:T5,curveLinear:Df,curveMonotoneX:C5,curveMonotoneY:D5,curveNatural:P5,curveStep:M5,curveStepAfter:$5,curveStepBefore:R5},jd=e=>lr(e.x)&&lr(e.y),Ho=e=>e.x,Ko=e=>e.y,ZL=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(kc(e));return(r==="curveMonotone"||r==="curveBump")&&t?o_["".concat(r).concat(t==="vertical"?"Y":"X")]:o_[r]||Df},JL=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:o=!1}=e,u=ZL(t,s),d=o?r.filter(jd):r,h;if(Array.isArray(n)){var m=o?n.filter(x=>jd(x)):n,g=d.map((x,v)=>l_(l_({},x),{},{base:m[v]}));return s==="vertical"?h=md().y(Ko).x1(Ho).x0(x=>x.base.x):h=md().x(Ho).y1(Ko).y0(x=>x.base.y),h.defined(jd).curve(u),h(g)}return s==="vertical"&&ke(n)?h=md().y(Ko).x1(Ho).x0(n):ke(n)?h=md().x(Ho).y1(Ko).y0(n):h=RO().x(Ho).y(Ko),h.defined(jd).curve(u),h(d)},rc=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var o=r&&r.length?JL(e):n;return w.createElement("path",Hx({},Ca(e),Rp(e),{className:Xe("recharts-curve",t),d:o===null?void 0:o,ref:s}))},e8=["x","y","top","left","width","height","className"];function Kx(){return Kx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Kx.apply(null,arguments)}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function t8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){r8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r8(e,t,r){return(t=n8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n8(e){var t=a8(e,"string");return typeof t=="symbol"?t:t+""}function a8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i8(e,t){if(e==null)return{};var r,n,s=s8(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function s8(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var l8=(e,t,r,n,s,o)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),o8=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:o=0,height:u=0,className:d}=e,h=i8(e,e8),m=t8({x:t,y:r,top:n,left:s,width:o,height:u},h);return!ke(t)||!ke(r)||!ke(o)||!ke(u)||!ke(n)||!ke(s)?null:w.createElement("path",Kx({},ht(m,!0),{className:Xe("recharts-cross",d),d:l8(t,r,o,u,n,s)}))};function c8(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function u8(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){d8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d8(e,t,r){return(t=f8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f8(e){var t=h8(e,"string");return typeof t=="symbol"?t:t+""}function h8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Qr(e,t){var r=u8({},e),n=t,s=Object.keys(t),o=s.reduce((u,d)=>(u[d]===void 0&&n[d]!==void 0&&(u[d]=n[d]),u),r);return o}function m8(){}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function f_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){g8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function g8(e,t,r){return(t=x8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function x8(e){var t=p8(e,"string");return typeof t=="symbol"?t:t+""}function p8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var v8=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qA=(e,t,r)=>e.map(n=>"".concat(v8(n)," ").concat(t,"ms ").concat(r)).join(","),y8=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),xc=(e,t)=>Object.keys(t).reduce((r,n)=>f_(f_({},r),{},{[n]:e(n,t[n])}),{});function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ar(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){b8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function b8(e,t,r){return(t=w8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function w8(e){var t=j8(e,"string");return typeof t=="symbol"?t:t+""}function j8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Jd=(e,t,r)=>e+(t-e)*r,Yx=e=>{var{from:t,to:r}=e;return t!==r},zA=(e,t,r)=>{var n=xc((s,o)=>{if(Yx(o)){var[u,d]=e(o.from,o.to,o.velocity);return ar(ar({},o),{},{from:u,velocity:d})}return o},t);return r<1?xc((s,o)=>Yx(o)?ar(ar({},o),{},{velocity:Jd(o.velocity,n[s].velocity,r),from:Jd(o.from,n[s].from,r)}):o,t):zA(e,n,r-1)};function N8(e,t,r,n,s,o){var u,d=n.reduce((v,b)=>ar(ar({},v),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),h=()=>xc((v,b)=>b.from,d),m=()=>!Object.values(d).filter(Yx).length,g=null,x=v=>{u||(u=v);var b=v-u,j=b/r.dt;d=zA(r,d,j),s(ar(ar(ar({},e),t),h())),u=v,m()||(g=o.setTimeout(x))};return()=>(g=o.setTimeout(x),()=>{g()})}function _8(e,t,r,n,s,o,u){var d=null,h=s.reduce((x,v)=>ar(ar({},x),{},{[v]:[e[v],t[v]]}),{}),m,g=x=>{m||(m=x);var v=(x-m)/n,b=xc((_,N)=>Jd(...N,r(v)),h);if(o(ar(ar(ar({},e),t),b)),v<1)d=u.setTimeout(g);else{var j=xc((_,N)=>Jd(...N,r(1)),h);o(ar(ar(ar({},e),t),j))}};return()=>(d=u.setTimeout(g),()=>{d()})}const S8=(e,t,r,n,s,o)=>{var u=y8(e,t);return r.isStepper===!0?N8(e,t,r,u,s,o):_8(e,t,r,n,u,s,o)};var ef=1e-4,BA=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],HA=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),m_=(e,t)=>r=>{var n=BA(e,t);return HA(n,r)},O8=(e,t)=>r=>{var n=BA(e,t),s=[...n.map((o,u)=>o*u).slice(1),0];return HA(s,r)},g_=function(){for(var t,r,n,s,o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];if(u.length===1)switch(u[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var h=u[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([t,n,r,s]=h[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else u.length===4&&([t,n,r,s]=u);var m=m_(t,r),g=m_(n,s),x=O8(t,r),v=j=>j>1?1:j<0?0:j,b=j=>{for(var _=j>1?1:j,N=_,S=0;S<8;++S){var O=m(N)-_,A=x(N);if(Math.abs(O-_)<ef||A<ef)return g(N);N=v(N-O/A)}return g(N)};return b.isStepper=!1,b},A8=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,o=(u,d,h)=>{var m=-(u-d)*r,g=h*n,x=h+(m-g)*s/1e3,v=h*s/1e3+u;return Math.abs(v-d)<ef&&Math.abs(x)<ef?[d,0]:[v,x]};return o.isStepper=!0,o.dt=s,o},E8=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return g_(e);case"spring":return A8();default:if(e.split("(")[0]==="cubic-bezier")return g_(e)}return typeof e=="function"?e:null};function k8(e){var t,r=()=>null,n=!1,s=null,o=u=>{if(!n){if(Array.isArray(u)){if(!u.length)return;var d=u,[h,...m]=d;if(typeof h=="number"){s=e.setTimeout(o.bind(null,m),h);return}o(h),s=e.setTimeout(o.bind(null,m));return}typeof u=="string"&&(t=u,r(t)),typeof u=="object"&&(t=u,r(t)),typeof u=="function"&&u()}};return{stop:()=>{n=!0},start:u=>{n=!1,s&&(s(),s=null),o(u)},subscribe:u=>(r=u,()=>{r=()=>null}),getTimeoutController:()=>e}}class T8{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,o=u=>{u-n>=r?t(u):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{cancelAnimationFrame(s)}}}function C8(){return k8(new T8)}var D8=w.createContext(C8);function P8(e,t){var r=w.useContext(D8);return w.useMemo(()=>t??r(e),[e,t,r])}var M8={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},x_={t:0},$0={t:1};function Mc(e){var t=Qr(e,M8),{isActive:r,canBegin:n,duration:s,easing:o,begin:u,onAnimationEnd:d,onAnimationStart:h,children:m}=t,g=P8(t.animationId,t.animationManager),[x,v]=w.useState(r?x_:$0),b=w.useRef(null);return w.useEffect(()=>{r||v($0)},[r]),w.useEffect(()=>{if(!r||!n)return m8;var j=S8(x_,$0,E8(o),s,v,g.getTimeoutController()),_=()=>{b.current=j()};return g.start([h,u,_,s,d]),()=>{g.stop(),b.current&&b.current(),d()}},[r,n,s,o,u,h,d,g]),m(x.t)}function Rc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(hc(t)),n=w.useRef(e);return n.current!==e&&(r.current=hc(t),n.current=e),r.current}function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function v_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){R8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function R8(e,t,r){return(t=$8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $8(e){var t=L8(e,"string");return typeof t=="symbol"?t:t+""}function L8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tf(){return tf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},tf.apply(null,arguments)}var y_=(e,t,r,n,s)=>{var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),u=n>=0?1:-1,d=r>=0?1:-1,h=n>=0&&r>=0||n<0&&r<0?1:0,m;if(o>0&&s instanceof Array){for(var g=[0,0,0,0],x=0,v=4;x<v;x++)g[x]=s[x]>o?o:s[x];m="M".concat(e,",").concat(t+u*g[0]),g[0]>0&&(m+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(h,",").concat(e+d*g[0],",").concat(t)),m+="L ".concat(e+r-d*g[1],",").concat(t),g[1]>0&&(m+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(t+u*g[1])),m+="L ".concat(e+r,",").concat(t+n-u*g[2]),g[2]>0&&(m+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(h,`,
        `).concat(e+r-d*g[2],",").concat(t+n)),m+="L ".concat(e+d*g[3],",").concat(t+n),g[3]>0&&(m+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(t+n-u*g[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var b=Math.min(o,s);m="M ".concat(e,",").concat(t+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+r-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+r,",").concat(t+u*b,`
            L `).concat(e+r,",").concat(t+n-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+r-d*b,",").concat(t+n,`
            L `).concat(e+d*b,",").concat(t+n,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e,",").concat(t+n-u*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},I8={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KA=e=>{var t=Qr(e,I8),r=w.useRef(null),[n,s]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var W=r.current.getTotalLength();W&&s(W)}catch{}},[]);var{x:o,y:u,width:d,height:h,radius:m,className:g}=t,{animationEasing:x,animationDuration:v,animationBegin:b,isAnimationActive:j,isUpdateAnimationActive:_}=t,N=w.useRef(d),S=w.useRef(h),O=w.useRef(o),A=w.useRef(u),P=w.useMemo(()=>({x:o,y:u,width:d,height:h,radius:m}),[o,u,d,h,m]),k=Rc(P,"rectangle-");if(o!==+o||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var D=Xe("recharts-rectangle",g);if(!_)return w.createElement("path",tf({},ht(t,!0),{className:D,d:y_(o,u,d,h,m)}));var C=N.current,T=S.current,$=O.current,L=A.current,B="0px ".concat(n===-1?1:n,"px"),J="".concat(n,"px 0px"),ie=qA(["strokeDasharray"],v,typeof x=="string"?x:void 0);return w.createElement(Mc,{animationId:k,key:k,canBegin:n>0,duration:v,easing:x,isActive:_,begin:b},W=>{var Z=ct(C,d,W),z=ct(T,h,W),G=ct($,o,W),le=ct(L,u,W);r.current&&(N.current=Z,S.current=z,O.current=G,A.current=le);var ge;return j?W>0?ge={transition:ie,strokeDasharray:J}:ge={strokeDasharray:B}:ge={strokeDasharray:J},w.createElement("path",tf({},ht(t,!0),{className:D,d:y_(G,le,Z,z,m),ref:r,style:v_(v_({},ge),t.style)}))})};function YA(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:o}=e,u=ir(t,r,n,s),d=ir(t,r,n,o);return{points:[u,d],cx:t,cy:r,radius:n,startAngle:s,endAngle:o}}function Gx(){return Gx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Gx.apply(null,arguments)}var U8=(e,t)=>{var r=Tr(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},Nd=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:o,isExternal:u,cornerRadius:d,cornerIsExternal:h}=e,m=d*(u?1:-1)+n,g=Math.asin(d/m)/Xd,x=h?s:s+o*g,v=ir(t,r,m,x),b=ir(t,r,n,x),j=h?s-o*g:s,_=ir(t,r,m*Math.cos(g*Xd),j);return{center:v,circleTangency:b,lineTangency:_,theta:g}},GA=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:o,endAngle:u}=e,d=U8(o,u),h=o+d,m=ir(t,r,s,o),g=ir(t,r,s,h),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>h),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(n>0){var v=ir(t,r,n,o),b=ir(t,r,n,h);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(t,",").concat(r," Z");return x},q8=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}=e,g=Tr(m-h),{circleTangency:x,lineTangency:v,theta:b}=Nd({cx:t,cy:r,radius:s,angle:h,sign:g,cornerRadius:o,cornerIsExternal:d}),{circleTangency:j,lineTangency:_,theta:N}=Nd({cx:t,cy:r,radius:s,angle:m,sign:-g,cornerRadius:o,cornerIsExternal:d}),S=d?Math.abs(h-m):Math.abs(h-m)-b-N;if(S<0)return u?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):GA({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:h,endAngle:m});var O="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(g<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(_.x,",").concat(_.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:P,theta:k}=Nd({cx:t,cy:r,radius:n,angle:h,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:D,lineTangency:C,theta:T}=Nd({cx:t,cy:r,radius:n,angle:m,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),$=d?Math.abs(h-m):Math.abs(h-m)-k-T;if($<0&&o===0)return"".concat(O,"L").concat(t,",").concat(r,"Z");O+="L".concat(C.x,",").concat(C.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(n,",").concat(n,",0,").concat(+($>180),",").concat(+(g>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(P.x,",").concat(P.y,"Z")}else O+="L".concat(t,",").concat(r,"Z");return O},z8={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VA=e=>{var t=Qr(e,z8),{cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:u,forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:g,className:x}=t;if(o<s||m===g)return null;var v=Xe("recharts-sector",x),b=o-s,j=An(u,b,0,!0),_;return j>0&&Math.abs(m-g)<360?_=q8({cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:Math.min(j,b/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:g}):_=GA({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:m,endAngle:g}),w.createElement("path",Gx({},ht(t,!0),{className:v,d:_}))};function B8(e,t,r){var n,s,o,u;if(e==="horizontal")n=t.x,o=n,s=r.top,u=r.top+r.height;else if(e==="vertical")s=t.y,u=s,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:h,innerRadius:m,outerRadius:g,angle:x}=t,v=ir(d,h,m,x),b=ir(d,h,g,x);n=v.x,s=v.y,o=b.x,u=b.y}else return YA(t);return[{x:n,y:s},{x:o,y:u}]}var L0={},I0={},U0={},b_;function H8(){return b_||(b_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nA();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(U0)),U0}var w_;function K8(){return w_||(w_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=H8();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})(I0)),I0}var j_;function Y8(){return j_||(j_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aA(),r=K8();function n(s,o,u){u&&typeof u!="number"&&t.isIterateeCall(s,o,u)&&(o=u=void 0),s=r.toFinite(s),o===void 0?(o=s,s=0):o=r.toFinite(o),u=u===void 0?s<o?1:-1:r.toFinite(u);const d=Math.max(Math.ceil((o-s)/(u||1)),0),h=new Array(d);for(let m=0;m<d;m++)h[m]=s,s+=u;return h}e.range=n})(L0)),L0}var q0,N_;function G8(){return N_||(N_=1,q0=Y8().range),q0}var V8=G8();const FA=Vn(V8);function ui(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function F8(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Xp(e){let t,r,n;e.length!==2?(t=ui,r=(d,h)=>ui(e(d),h),n=(d,h)=>e(d)-h):(t=e===ui||e===F8?e:W8,r=e,n=e);function s(d,h,m=0,g=d.length){if(m<g){if(t(h,h)!==0)return g;do{const x=m+g>>>1;r(d[x],h)<0?m=x+1:g=x}while(m<g)}return m}function o(d,h,m=0,g=d.length){if(m<g){if(t(h,h)!==0)return g;do{const x=m+g>>>1;r(d[x],h)<=0?m=x+1:g=x}while(m<g)}return m}function u(d,h,m=0,g=d.length){const x=s(d,h,m,g-1);return x>m&&n(d[x-1],h)>-n(d[x],h)?x-1:x}return{left:s,center:u,right:o}}function W8(){return 0}function WA(e){return e===null?NaN:+e}function*X8(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const Q8=Xp(ui),$c=Q8.right;Xp(WA).center;class __ extends Map{constructor(t,r=eI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(S_(this,t))}has(t){return super.has(S_(this,t))}set(t,r){return super.set(Z8(this,t),r)}delete(t){return super.delete(J8(this,t))}}function S_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function Z8({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function J8({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function eI(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tI(e=ui){if(e===ui)return XA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function XA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rI=Math.sqrt(50),nI=Math.sqrt(10),aI=Math.sqrt(2);function rf(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),u=o>=rI?10:o>=nI?5:o>=aI?2:1;let d,h,m;return s<0?(m=Math.pow(10,-s)/u,d=Math.round(e*m),h=Math.round(t*m),d/m<e&&++d,h/m>t&&--h,m=-m):(m=Math.pow(10,s)*u,d=Math.round(e/m),h=Math.round(t/m),d*m<e&&++d,h*m>t&&--h),h<d&&.5<=r&&r<2?rf(e,t,r*2):[d,h,m]}function Vx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,o,u]=n?rf(t,e,r):rf(e,t,r);if(!(o>=s))return[];const d=o-s+1,h=new Array(d);if(n)if(u<0)for(let m=0;m<d;++m)h[m]=(o-m)/-u;else for(let m=0;m<d;++m)h[m]=(o-m)*u;else if(u<0)for(let m=0;m<d;++m)h[m]=(s+m)/-u;else for(let m=0;m<d;++m)h[m]=(s+m)*u;return h}function Fx(e,t,r){return t=+t,e=+e,r=+r,rf(e,t,r)[2]}function Wx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Fx(t,e,r):Fx(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function O_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function A_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QA(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?XA:tI(s);n>r;){if(n-r>600){const h=n-r+1,m=t-r+1,g=Math.log(h),x=.5*Math.exp(2*g/3),v=.5*Math.sqrt(g*x*(h-x)/h)*(m-h/2<0?-1:1),b=Math.max(r,Math.floor(t-m*x/h+v)),j=Math.min(n,Math.floor(t+(h-m)*x/h+v));QA(e,t,b,j,s)}const o=e[t];let u=r,d=n;for(Yo(e,r,t),s(e[n],o)>0&&Yo(e,r,n);u<d;){for(Yo(e,u,d),++u,--d;s(e[u],o)<0;)++u;for(;s(e[d],o)>0;)--d}s(e[r],o)===0?Yo(e,r,d):(++d,Yo(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function Yo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function iI(e,t,r){if(e=Float64Array.from(X8(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return A_(e);if(t>=1)return O_(e);var n,s=(n-1)*t,o=Math.floor(s),u=O_(QA(e,o).subarray(0,o+1)),d=A_(e.subarray(o+1));return u+(d-u)*(s-o)}}function sI(e,t,r=WA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,o=Math.floor(s),u=+r(e[o],o,e),d=+r(e[o+1],o+1,e);return u+(d-u)*(s-o)}}function lI(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(s);++n<s;)o[n]=e+n*r;return o}function xn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ma(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Xx=Symbol("implicit");function Qp(){var e=new __,t=[],r=[],n=Xx;function s(o){let u=e.get(o);if(u===void 0){if(n!==Xx)return n;e.set(o,u=t.push(o)-1)}return r[u%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new __;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Qp(t,r).unknown(n)},xn.apply(s,arguments),s}function Zp(){var e=Qp().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,o,u,d=!1,h=0,m=0,g=.5;delete e.unknown;function x(){var v=t().length,b=s<n,j=b?s:n,_=b?n:s;o=(_-j)/Math.max(1,v-h+m*2),d&&(o=Math.floor(o)),j+=(_-j-o*(v-h))*g,u=o*(1-h),d&&(j=Math.round(j),u=Math.round(u));var N=lI(v).map(function(S){return j+o*S});return r(b?N.reverse():N)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([n,s]=v,n=+n,s=+s,x()):[n,s]},e.rangeRound=function(v){return[n,s]=v,n=+n,s=+s,d=!0,x()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(v){return arguments.length?(d=!!v,x()):d},e.padding=function(v){return arguments.length?(h=Math.min(1,m=+v),x()):h},e.paddingInner=function(v){return arguments.length?(h=Math.min(1,v),x()):h},e.paddingOuter=function(v){return arguments.length?(m=+v,x()):m},e.align=function(v){return arguments.length?(g=Math.max(0,Math.min(1,v)),x()):g},e.copy=function(){return Zp(t(),[n,s]).round(d).paddingInner(h).paddingOuter(m).align(g)},xn.apply(x(),arguments)}function ZA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ZA(t())},e}function oI(){return ZA(Zp.apply(null,arguments).paddingInner(1))}function Jp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function JA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Lc(){}var pc=.7,nf=1/pc,xl="\\s*([+-]?\\d+)\\s*",vc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Bn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cI=/^#([0-9a-f]{3,8})$/,uI=new RegExp(`^rgb\\(${xl},${xl},${xl}\\)$`),dI=new RegExp(`^rgb\\(${Bn},${Bn},${Bn}\\)$`),fI=new RegExp(`^rgba\\(${xl},${xl},${xl},${vc}\\)$`),hI=new RegExp(`^rgba\\(${Bn},${Bn},${Bn},${vc}\\)$`),mI=new RegExp(`^hsl\\(${vc},${Bn},${Bn}\\)$`),gI=new RegExp(`^hsla\\(${vc},${Bn},${Bn},${vc}\\)$`),E_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Jp(Lc,yc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k_,formatHex:k_,formatHex8:xI,formatHsl:pI,formatRgb:T_,toString:T_});function k_(){return this.rgb().formatHex()}function xI(){return this.rgb().formatHex8()}function pI(){return eE(this).formatHsl()}function T_(){return this.rgb().formatRgb()}function yc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=cI.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?C_(t):r===3?new Cr(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?_d(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?_d(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uI.exec(e))?new Cr(t[1],t[2],t[3],1):(t=dI.exec(e))?new Cr(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fI.exec(e))?_d(t[1],t[2],t[3],t[4]):(t=hI.exec(e))?_d(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mI.exec(e))?M_(t[1],t[2]/100,t[3]/100,1):(t=gI.exec(e))?M_(t[1],t[2]/100,t[3]/100,t[4]):E_.hasOwnProperty(e)?C_(E_[e]):e==="transparent"?new Cr(NaN,NaN,NaN,0):null}function C_(e){return new Cr(e>>16&255,e>>8&255,e&255,1)}function _d(e,t,r,n){return n<=0&&(e=t=r=NaN),new Cr(e,t,r,n)}function vI(e){return e instanceof Lc||(e=yc(e)),e?(e=e.rgb(),new Cr(e.r,e.g,e.b,e.opacity)):new Cr}function Qx(e,t,r,n){return arguments.length===1?vI(e):new Cr(e,t,r,n??1)}function Cr(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Jp(Cr,Qx,JA(Lc,{brighter(e){return e=e==null?nf:Math.pow(nf,e),new Cr(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?pc:Math.pow(pc,e),new Cr(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Cr(rs(this.r),rs(this.g),rs(this.b),af(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D_,formatHex:D_,formatHex8:yI,formatRgb:P_,toString:P_}));function D_(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}`}function yI(){return`#${Qi(this.r)}${Qi(this.g)}${Qi(this.b)}${Qi((isNaN(this.opacity)?1:this.opacity)*255)}`}function P_(){const e=af(this.opacity);return`${e===1?"rgb(":"rgba("}${rs(this.r)}, ${rs(this.g)}, ${rs(this.b)}${e===1?")":`, ${e})`}`}function af(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function rs(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Qi(e){return e=rs(e),(e<16?"0":"")+e.toString(16)}function M_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Sn(e,t,r,n)}function eE(e){if(e instanceof Sn)return new Sn(e.h,e.s,e.l,e.opacity);if(e instanceof Lc||(e=yc(e)),!e)return new Sn;if(e instanceof Sn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),o=Math.max(t,r,n),u=NaN,d=o-s,h=(o+s)/2;return d?(t===o?u=(r-n)/d+(r<n)*6:r===o?u=(n-t)/d+2:u=(t-r)/d+4,d/=h<.5?o+s:2-o-s,u*=60):d=h>0&&h<1?0:u,new Sn(u,d,h,e.opacity)}function bI(e,t,r,n){return arguments.length===1?eE(e):new Sn(e,t,r,n??1)}function Sn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Jp(Sn,bI,JA(Lc,{brighter(e){return e=e==null?nf:Math.pow(nf,e),new Sn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?pc:Math.pow(pc,e),new Sn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Cr(z0(e>=240?e-240:e+120,s,n),z0(e,s,n),z0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new Sn(R_(this.h),Sd(this.s),Sd(this.l),af(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=af(this.opacity);return`${e===1?"hsl(":"hsla("}${R_(this.h)}, ${Sd(this.s)*100}%, ${Sd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R_(e){return e=(e||0)%360,e<0?e+360:e}function Sd(e){return Math.max(0,Math.min(1,e||0))}function z0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const ev=e=>()=>e;function wI(e,t){return function(r){return e+r*t}}function jI(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function NI(e){return(e=+e)==1?tE:function(t,r){return r-t?jI(t,r,e):ev(isNaN(t)?r:t)}}function tE(e,t){var r=t-e;return r?wI(e,r):ev(isNaN(e)?t:e)}const $_=(function e(t){var r=NI(t);function n(s,o){var u=r((s=Qx(s)).r,(o=Qx(o)).r),d=r(s.g,o.g),h=r(s.b,o.b),m=tE(s.opacity,o.opacity);return function(g){return s.r=u(g),s.g=d(g),s.b=h(g),s.opacity=m(g),s+""}}return n.gamma=e,n})(1);function _I(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(o){for(s=0;s<r;++s)n[s]=e[s]*(1-o)+t[s]*o;return n}}function SI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function OI(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),o=new Array(r),u;for(u=0;u<n;++u)s[u]=Cl(e[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(d){for(u=0;u<n;++u)o[u]=s[u](d);return o}}function AI(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function sf(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function EI(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=Cl(e[s],t[s]):n[s]=t[s];return function(o){for(s in r)n[s]=r[s](o);return n}}var Zx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,B0=new RegExp(Zx.source,"g");function kI(e){return function(){return e}}function TI(e){return function(t){return e(t)+""}}function CI(e,t){var r=Zx.lastIndex=B0.lastIndex=0,n,s,o,u=-1,d=[],h=[];for(e=e+"",t=t+"";(n=Zx.exec(e))&&(s=B0.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),d[u]?d[u]+=o:d[++u]=o),(n=n[0])===(s=s[0])?d[u]?d[u]+=s:d[++u]=s:(d[++u]=null,h.push({i:u,x:sf(n,s)})),r=B0.lastIndex;return r<t.length&&(o=t.slice(r),d[u]?d[u]+=o:d[++u]=o),d.length<2?h[0]?TI(h[0].x):kI(t):(t=h.length,function(m){for(var g=0,x;g<t;++g)d[(x=h[g]).i]=x.x(m);return d.join("")})}function Cl(e,t){var r=typeof t,n;return t==null||r==="boolean"?ev(t):(r==="number"?sf:r==="string"?(n=yc(t))?(t=n,$_):CI:t instanceof yc?$_:t instanceof Date?AI:SI(t)?_I:Array.isArray(t)?OI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?EI:sf)(e,t)}function tv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function DI(e,t){t===void 0&&(t=e,e=Cl);for(var r=0,n=t.length-1,s=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(s,s=t[++r]);return function(u){var d=Math.max(0,Math.min(n-1,Math.floor(u*=n)));return o[d](u-d)}}function PI(e){return function(){return e}}function lf(e){return+e}var L_=[0,1];function jr(e){return e}function Jx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:PI(isNaN(t)?NaN:.5)}function MI(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function RI(e,t,r){var n=e[0],s=e[1],o=t[0],u=t[1];return s<n?(n=Jx(s,n),o=r(u,o)):(n=Jx(n,s),o=r(o,u)),function(d){return o(n(d))}}function $I(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),o=new Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)s[u]=Jx(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(d){var h=$c(e,d,1,n)-1;return o[h](s[h](d))}}function Ic(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Kf(){var e=L_,t=L_,r=Cl,n,s,o,u=jr,d,h,m;function g(){var v=Math.min(e.length,t.length);return u!==jr&&(u=MI(e[0],e[v-1])),d=v>2?$I:RI,h=m=null,x}function x(v){return v==null||isNaN(v=+v)?o:(h||(h=d(e.map(n),t,r)))(n(u(v)))}return x.invert=function(v){return u(s((m||(m=d(t,e.map(n),sf)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,lf),g()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),g()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),r=tv,g()},x.clamp=function(v){return arguments.length?(u=v?!0:jr,g()):u!==jr},x.interpolate=function(v){return arguments.length?(r=v,g()):r},x.unknown=function(v){return arguments.length?(o=v,x):o},function(v,b){return n=v,s=b,g()}}function rv(){return Kf()(jr,jr)}function LI(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function of(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function Nl(e){return e=of(Math.abs(e)),e?e[1]:NaN}function II(e,t){return function(r,n){for(var s=r.length,o=[],u=0,d=e[0],h=0;s>0&&d>0&&(h+d+1>n&&(d=Math.max(1,n-h)),o.push(r.substring(s-=d,s+d)),!((h+=d+1)>n));)d=e[u=(u+1)%e.length];return o.reverse().join(t)}}function UI(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var qI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function bc(e){if(!(t=qI.exec(e)))throw new Error("invalid format: "+e);var t;return new nv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}bc.prototype=nv.prototype;function nv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}nv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zI(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var rE;function BI(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],s=r[1],o=s-(rE=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,u=n.length;return o===u?n:o>u?n+new Array(o-u+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+of(e,Math.max(0,t+o-1))[0]}function I_(e,t){var r=of(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const U_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:LI,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I_(e*100,t),r:I_,s:BI,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function q_(e){return e}var z_=Array.prototype.map,B_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function HI(e){var t=e.grouping===void 0||e.thousands===void 0?q_:II(z_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?q_:UI(z_.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function m(x){x=bc(x);var v=x.fill,b=x.align,j=x.sign,_=x.symbol,N=x.zero,S=x.width,O=x.comma,A=x.precision,P=x.trim,k=x.type;k==="n"?(O=!0,k="g"):U_[k]||(A===void 0&&(A=12),P=!0,k="g"),(N||v==="0"&&b==="=")&&(N=!0,v="0",b="=");var D=_==="$"?r:_==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():"",C=_==="$"?n:/[%p]/.test(k)?u:"",T=U_[k],$=/[defgprs%]/.test(k);A=A===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function L(B){var J=D,ie=C,W,Z,z;if(k==="c")ie=T(B)+ie,B="";else{B=+B;var G=B<0||1/B<0;if(B=isNaN(B)?h:T(Math.abs(B),A),P&&(B=zI(B)),G&&+B==0&&j!=="+"&&(G=!1),J=(G?j==="("?j:d:j==="-"||j==="("?"":j)+J,ie=(k==="s"?B_[8+rE/3]:"")+ie+(G&&j==="("?")":""),$){for(W=-1,Z=B.length;++W<Z;)if(z=B.charCodeAt(W),48>z||z>57){ie=(z===46?s+B.slice(W+1):B.slice(W))+ie,B=B.slice(0,W);break}}}O&&!N&&(B=t(B,1/0));var le=J.length+B.length+ie.length,ge=le<S?new Array(S-le+1).join(v):"";switch(O&&N&&(B=t(ge+B,ge.length?S-ie.length:1/0),ge=""),b){case"<":B=J+B+ie+ge;break;case"=":B=J+ge+B+ie;break;case"^":B=ge.slice(0,le=ge.length>>1)+J+B+ie+ge.slice(le);break;default:B=ge+J+B+ie;break}return o(B)}return L.toString=function(){return x+""},L}function g(x,v){var b=m((x=bc(x),x.type="f",x)),j=Math.max(-8,Math.min(8,Math.floor(Nl(v)/3)))*3,_=Math.pow(10,-j),N=B_[8+j/3];return function(S){return b(_*S)+N}}return{format:m,formatPrefix:g}}var Od,av,nE;KI({thousands:",",grouping:[3],currency:["$",""]});function KI(e){return Od=HI(e),av=Od.format,nE=Od.formatPrefix,Od}function YI(e){return Math.max(0,-Nl(Math.abs(e)))}function GI(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Nl(t)/3)))*3-Nl(Math.abs(e)))}function VI(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Nl(t)-Nl(e))+1}function aE(e,t,r,n){var s=Wx(e,t,r),o;switch(n=bc(n??",f"),n.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=GI(s,u))&&(n.precision=o),nE(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=VI(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=YI(s))&&(n.precision=o-(n.type==="%")*2);break}}return av(n)}function gi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Vx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return aE(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,o=n.length-1,u=n[s],d=n[o],h,m,g=10;for(d<u&&(m=u,u=d,d=m,m=s,s=o,o=m);g-- >0;){if(m=Fx(u,d,r),m===h)return n[s]=u,n[o]=d,t(n);if(m>0)u=Math.floor(u/m)*m,d=Math.ceil(d/m)*m;else if(m<0)u=Math.ceil(u*m)/m,d=Math.floor(d*m)/m;else break;h=m}return e},e}function iE(){var e=rv();return e.copy=function(){return Ic(e,iE())},xn.apply(e,arguments),gi(e)}function sE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,lf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return sE(e).unknown(t)},e=arguments.length?Array.from(e,lf):[0,1],gi(r)}function lE(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],o=e[n],u;return o<s&&(u=r,r=n,n=u,u=s,s=o,o=u),e[r]=t.floor(s),e[n]=t.ceil(o),e}function H_(e){return Math.log(e)}function K_(e){return Math.exp(e)}function FI(e){return-Math.log(-e)}function WI(e){return-Math.exp(-e)}function XI(e){return isFinite(e)?+("1e"+e):e<0?0:e}function QI(e){return e===10?XI:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ZI(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Y_(e){return(t,r)=>-e(-t,r)}function iv(e){const t=e(H_,K_),r=t.domain;let n=10,s,o;function u(){return s=ZI(n),o=QI(n),r()[0]<0?(s=Y_(s),o=Y_(o),e(FI,WI)):e(H_,K_),t}return t.base=function(d){return arguments.length?(n=+d,u()):n},t.domain=function(d){return arguments.length?(r(d),u()):r()},t.ticks=d=>{const h=r();let m=h[0],g=h[h.length-1];const x=g<m;x&&([m,g]=[g,m]);let v=s(m),b=s(g),j,_;const N=d==null?10:+d;let S=[];if(!(n%1)&&b-v<N){if(v=Math.floor(v),b=Math.ceil(b),m>0){for(;v<=b;++v)for(j=1;j<n;++j)if(_=v<0?j/o(-v):j*o(v),!(_<m)){if(_>g)break;S.push(_)}}else for(;v<=b;++v)for(j=n-1;j>=1;--j)if(_=v>0?j/o(-v):j*o(v),!(_<m)){if(_>g)break;S.push(_)}S.length*2<N&&(S=Vx(m,g,N))}else S=Vx(v,b,Math.min(b-v,N)).map(o);return x?S.reverse():S},t.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=n===10?"s":","),typeof h!="function"&&(!(n%1)&&(h=bc(h)).precision==null&&(h.trim=!0),h=av(h)),d===1/0)return h;const m=Math.max(1,n*d/t.ticks().length);return g=>{let x=g/o(Math.round(s(g)));return x*n<n-.5&&(x*=n),x<=m?h(g):""}},t.nice=()=>r(lE(r(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),t}function oE(){const e=iv(Kf()).domain([1,10]);return e.copy=()=>Ic(e,oE()).base(e.base()),xn.apply(e,arguments),e}function G_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function V_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function sv(e){var t=1,r=e(G_(t),V_(t));return r.constant=function(n){return arguments.length?e(G_(t=+n),V_(t)):t},gi(r)}function cE(){var e=sv(Kf());return e.copy=function(){return Ic(e,cE()).constant(e.constant())},xn.apply(e,arguments)}function F_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function JI(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eU(e){return e<0?-e*e:e*e}function lv(e){var t=e(jr,jr),r=1;function n(){return r===1?e(jr,jr):r===.5?e(JI,eU):e(F_(r),F_(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},gi(t)}function ov(){var e=lv(Kf());return e.copy=function(){return Ic(e,ov()).exponent(e.exponent())},xn.apply(e,arguments),e}function tU(){return ov.apply(null,arguments).exponent(.5)}function W_(e){return Math.sign(e)*e*e}function rU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function uE(){var e=rv(),t=[0,1],r=!1,n;function s(o){var u=rU(e(o));return isNaN(u)?n:r?Math.round(u):u}return s.invert=function(o){return e.invert(W_(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,lf)).map(W_)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return uE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},xn.apply(s,arguments),gi(s)}function dE(){var e=[],t=[],r=[],n;function s(){var u=0,d=Math.max(1,t.length);for(r=new Array(d-1);++u<d;)r[u-1]=sI(e,u/d);return o}function o(u){return u==null||isNaN(u=+u)?n:t[$c(r,u)]}return o.invertExtent=function(u){var d=t.indexOf(u);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let d of u)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(ui),s()},o.range=function(u){return arguments.length?(t=Array.from(u),s()):t.slice()},o.unknown=function(u){return arguments.length?(n=u,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return dE().domain(e).range(t).unknown(n)},xn.apply(o,arguments)}function fE(){var e=0,t=1,r=1,n=[.5],s=[0,1],o;function u(h){return h!=null&&h<=h?s[$c(n,h,0,r)]:o}function d(){var h=-1;for(n=new Array(r);++h<r;)n[h]=((h+1)*t-(h-r)*e)/(r+1);return u}return u.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,d()):[e,t]},u.range=function(h){return arguments.length?(r=(s=Array.from(h)).length-1,d()):s.slice()},u.invertExtent=function(h){var m=s.indexOf(h);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},u.unknown=function(h){return arguments.length&&(o=h),u},u.thresholds=function(){return n.slice()},u.copy=function(){return fE().domain([e,t]).range(s).unknown(o)},xn.apply(gi(u),arguments)}function hE(){var e=[.5],t=[0,1],r,n=1;function s(o){return o!=null&&o<=o?t[$c(e,o,0,n)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return hE().domain(e).range(t).unknown(r)},xn.apply(s,arguments)}const H0=new Date,K0=new Date;function Lt(e,t,r,n){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const u=s(o),d=s.ceil(o);return o-u<d-o?u:d},s.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),s.range=(o,u,d)=>{const h=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<u)||!(d>0))return h;let m;do h.push(m=new Date(+o)),t(o,d),e(o);while(m<o&&o<u);return h},s.filter=o=>Lt(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,d)=>{if(u>=u)if(d<0)for(;++d<=0;)for(;t(u,-1),!o(u););else for(;--d>=0;)for(;t(u,1),!o(u););}),r&&(s.count=(o,u)=>(H0.setTime(+o),K0.setTime(+u),e(H0),e(K0),Math.floor(r(H0,K0))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?u=>n(u)%o===0:u=>s.count(0,u)%o===0):s)),s}const cf=Lt(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);cf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Lt(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):cf);cf.range;const va=1e3,hn=va*60,ya=hn*60,Ea=ya*24,cv=Ea*7,X_=Ea*30,Y0=Ea*365,Zi=Lt(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*va)},(e,t)=>(t-e)/va,e=>e.getUTCSeconds());Zi.range;const uv=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*va)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getMinutes());uv.range;const dv=Lt(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*hn)},(e,t)=>(t-e)/hn,e=>e.getUTCMinutes());dv.range;const fv=Lt(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*va-e.getMinutes()*hn)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getHours());fv.range;const hv=Lt(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ya)},(e,t)=>(t-e)/ya,e=>e.getUTCHours());hv.range;const Uc=Lt(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*hn)/Ea,e=>e.getDate()-1);Uc.range;const Yf=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ea,e=>e.getUTCDate()-1);Yf.range;const mE=Lt(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ea,e=>Math.floor(e/Ea));mE.range;function hs(e){return Lt(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*hn)/cv)}const Gf=hs(0),uf=hs(1),nU=hs(2),aU=hs(3),_l=hs(4),iU=hs(5),sU=hs(6);Gf.range;uf.range;nU.range;aU.range;_l.range;iU.range;sU.range;function ms(e){return Lt(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/cv)}const Vf=ms(0),df=ms(1),lU=ms(2),oU=ms(3),Sl=ms(4),cU=ms(5),uU=ms(6);Vf.range;df.range;lU.range;oU.range;Sl.range;cU.range;uU.range;const mv=Lt(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());mv.range;const gv=Lt(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());gv.range;const ka=Lt(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ka.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});ka.range;const Ta=Lt(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Ta.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Lt(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Ta.range;function gE(e,t,r,n,s,o){const u=[[Zi,1,va],[Zi,5,5*va],[Zi,15,15*va],[Zi,30,30*va],[o,1,hn],[o,5,5*hn],[o,15,15*hn],[o,30,30*hn],[s,1,ya],[s,3,3*ya],[s,6,6*ya],[s,12,12*ya],[n,1,Ea],[n,2,2*Ea],[r,1,cv],[t,1,X_],[t,3,3*X_],[e,1,Y0]];function d(m,g,x){const v=g<m;v&&([m,g]=[g,m]);const b=x&&typeof x.range=="function"?x:h(m,g,x),j=b?b.range(m,+g+1):[];return v?j.reverse():j}function h(m,g,x){const v=Math.abs(g-m)/x,b=Xp(([,,N])=>N).right(u,v);if(b===u.length)return e.every(Wx(m/Y0,g/Y0,x));if(b===0)return cf.every(Math.max(Wx(m,g,x),1));const[j,_]=u[v/u[b-1][2]<u[b][2]/v?b-1:b];return j.every(_)}return[d,h]}const[dU,fU]=gE(Ta,gv,Vf,mE,hv,dv),[hU,mU]=gE(ka,mv,Gf,Uc,fv,uv);function G0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function V0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Go(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function gU(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,o=e.days,u=e.shortDays,d=e.months,h=e.shortMonths,m=Vo(s),g=Fo(s),x=Vo(o),v=Fo(o),b=Vo(u),j=Fo(u),_=Vo(d),N=Fo(d),S=Vo(h),O=Fo(h),A={a:G,A:le,b:ge,B:I,c:null,d:rS,e:rS,f:IU,g:FU,G:XU,H:RU,I:$U,j:LU,L:xE,m:UU,M:qU,p:te,q:ne,Q:iS,s:sS,S:zU,u:BU,U:HU,V:KU,w:YU,W:GU,x:null,X:null,y:VU,Y:WU,Z:QU,"%":aS},P={a:H,A:oe,b:xe,B:ue,c:null,d:nS,e:nS,f:tq,g:dq,G:hq,H:ZU,I:JU,j:eq,L:vE,m:rq,M:nq,p:ye,q:F,Q:iS,s:sS,S:aq,u:iq,U:sq,V:lq,w:oq,W:cq,x:null,X:null,y:uq,Y:fq,Z:mq,"%":aS},k={a:L,A:B,b:J,B:ie,c:W,d:eS,e:eS,f:CU,g:J_,G:Z_,H:tS,I:tS,j:AU,L:TU,m:OU,M:EU,p:$,q:SU,Q:PU,s:MU,S:kU,u:bU,U:wU,V:jU,w:yU,W:NU,x:Z,X:z,y:J_,Y:Z_,Z:_U,"%":DU};A.x=D(r,A),A.X=D(n,A),A.c=D(t,A),P.x=D(r,P),P.X=D(n,P),P.c=D(t,P);function D(de,U){return function(X){var Y=[],fe=-1,se=0,je=de.length,_e,Se,Re;for(X instanceof Date||(X=new Date(+X));++fe<je;)de.charCodeAt(fe)===37&&(Y.push(de.slice(se,fe)),(Se=Q_[_e=de.charAt(++fe)])!=null?_e=de.charAt(++fe):Se=_e==="e"?" ":"0",(Re=U[_e])&&(_e=Re(X,Se)),Y.push(_e),se=fe+1);return Y.push(de.slice(se,fe)),Y.join("")}}function C(de,U){return function(X){var Y=Go(1900,void 0,1),fe=T(Y,de,X+="",0),se,je;if(fe!=X.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(U&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(se=V0(Go(Y.y,0,1)),je=se.getUTCDay(),se=je>4||je===0?df.ceil(se):df(se),se=Yf.offset(se,(Y.V-1)*7),Y.y=se.getUTCFullYear(),Y.m=se.getUTCMonth(),Y.d=se.getUTCDate()+(Y.w+6)%7):(se=G0(Go(Y.y,0,1)),je=se.getDay(),se=je>4||je===0?uf.ceil(se):uf(se),se=Uc.offset(se,(Y.V-1)*7),Y.y=se.getFullYear(),Y.m=se.getMonth(),Y.d=se.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),je="Z"in Y?V0(Go(Y.y,0,1)).getUTCDay():G0(Go(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(je+5)%7:Y.w+Y.U*7-(je+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,V0(Y)):G0(Y)}}function T(de,U,X,Y){for(var fe=0,se=U.length,je=X.length,_e,Se;fe<se;){if(Y>=je)return-1;if(_e=U.charCodeAt(fe++),_e===37){if(_e=U.charAt(fe++),Se=k[_e in Q_?U.charAt(fe++):_e],!Se||(Y=Se(de,X,Y))<0)return-1}else if(_e!=X.charCodeAt(Y++))return-1}return Y}function $(de,U,X){var Y=m.exec(U.slice(X));return Y?(de.p=g.get(Y[0].toLowerCase()),X+Y[0].length):-1}function L(de,U,X){var Y=b.exec(U.slice(X));return Y?(de.w=j.get(Y[0].toLowerCase()),X+Y[0].length):-1}function B(de,U,X){var Y=x.exec(U.slice(X));return Y?(de.w=v.get(Y[0].toLowerCase()),X+Y[0].length):-1}function J(de,U,X){var Y=S.exec(U.slice(X));return Y?(de.m=O.get(Y[0].toLowerCase()),X+Y[0].length):-1}function ie(de,U,X){var Y=_.exec(U.slice(X));return Y?(de.m=N.get(Y[0].toLowerCase()),X+Y[0].length):-1}function W(de,U,X){return T(de,t,U,X)}function Z(de,U,X){return T(de,r,U,X)}function z(de,U,X){return T(de,n,U,X)}function G(de){return u[de.getDay()]}function le(de){return o[de.getDay()]}function ge(de){return h[de.getMonth()]}function I(de){return d[de.getMonth()]}function te(de){return s[+(de.getHours()>=12)]}function ne(de){return 1+~~(de.getMonth()/3)}function H(de){return u[de.getUTCDay()]}function oe(de){return o[de.getUTCDay()]}function xe(de){return h[de.getUTCMonth()]}function ue(de){return d[de.getUTCMonth()]}function ye(de){return s[+(de.getUTCHours()>=12)]}function F(de){return 1+~~(de.getUTCMonth()/3)}return{format:function(de){var U=D(de+="",A);return U.toString=function(){return de},U},parse:function(de){var U=C(de+="",!1);return U.toString=function(){return de},U},utcFormat:function(de){var U=D(de+="",P);return U.toString=function(){return de},U},utcParse:function(de){var U=C(de+="",!0);return U.toString=function(){return de},U}}}var Q_={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,xU=/^%/,pU=/[\\^$*+?|[\]().{}]/g;function Ve(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",o=s.length;return n+(o<r?new Array(r-o+1).join(t)+s:s)}function vU(e){return e.replace(pU,"\\$&")}function Vo(e){return new RegExp("^(?:"+e.map(vU).join("|")+")","i")}function Fo(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function yU(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function bU(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function NU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Z_(e,t,r){var n=Xt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function J_(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _U(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function SU(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function OU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function eS(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function AU(e,t,r){var n=Xt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function tS(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function EU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function kU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function TU(e,t,r){var n=Xt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function CU(e,t,r){var n=Xt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function DU(e,t,r){var n=xU.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function PU(e,t,r){var n=Xt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function MU(e,t,r){var n=Xt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function rS(e,t){return Ve(e.getDate(),t,2)}function RU(e,t){return Ve(e.getHours(),t,2)}function $U(e,t){return Ve(e.getHours()%12||12,t,2)}function LU(e,t){return Ve(1+Uc.count(ka(e),e),t,3)}function xE(e,t){return Ve(e.getMilliseconds(),t,3)}function IU(e,t){return xE(e,t)+"000"}function UU(e,t){return Ve(e.getMonth()+1,t,2)}function qU(e,t){return Ve(e.getMinutes(),t,2)}function zU(e,t){return Ve(e.getSeconds(),t,2)}function BU(e){var t=e.getDay();return t===0?7:t}function HU(e,t){return Ve(Gf.count(ka(e)-1,e),t,2)}function pE(e){var t=e.getDay();return t>=4||t===0?_l(e):_l.ceil(e)}function KU(e,t){return e=pE(e),Ve(_l.count(ka(e),e)+(ka(e).getDay()===4),t,2)}function YU(e){return e.getDay()}function GU(e,t){return Ve(uf.count(ka(e)-1,e),t,2)}function VU(e,t){return Ve(e.getFullYear()%100,t,2)}function FU(e,t){return e=pE(e),Ve(e.getFullYear()%100,t,2)}function WU(e,t){return Ve(e.getFullYear()%1e4,t,4)}function XU(e,t){var r=e.getDay();return e=r>=4||r===0?_l(e):_l.ceil(e),Ve(e.getFullYear()%1e4,t,4)}function QU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ve(t/60|0,"0",2)+Ve(t%60,"0",2)}function nS(e,t){return Ve(e.getUTCDate(),t,2)}function ZU(e,t){return Ve(e.getUTCHours(),t,2)}function JU(e,t){return Ve(e.getUTCHours()%12||12,t,2)}function eq(e,t){return Ve(1+Yf.count(Ta(e),e),t,3)}function vE(e,t){return Ve(e.getUTCMilliseconds(),t,3)}function tq(e,t){return vE(e,t)+"000"}function rq(e,t){return Ve(e.getUTCMonth()+1,t,2)}function nq(e,t){return Ve(e.getUTCMinutes(),t,2)}function aq(e,t){return Ve(e.getUTCSeconds(),t,2)}function iq(e){var t=e.getUTCDay();return t===0?7:t}function sq(e,t){return Ve(Vf.count(Ta(e)-1,e),t,2)}function yE(e){var t=e.getUTCDay();return t>=4||t===0?Sl(e):Sl.ceil(e)}function lq(e,t){return e=yE(e),Ve(Sl.count(Ta(e),e)+(Ta(e).getUTCDay()===4),t,2)}function oq(e){return e.getUTCDay()}function cq(e,t){return Ve(df.count(Ta(e)-1,e),t,2)}function uq(e,t){return Ve(e.getUTCFullYear()%100,t,2)}function dq(e,t){return e=yE(e),Ve(e.getUTCFullYear()%100,t,2)}function fq(e,t){return Ve(e.getUTCFullYear()%1e4,t,4)}function hq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?Sl(e):Sl.ceil(e),Ve(e.getUTCFullYear()%1e4,t,4)}function mq(){return"+0000"}function aS(){return"%"}function iS(e){return+e}function sS(e){return Math.floor(+e/1e3)}var ul,bE,wE;gq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gq(e){return ul=gU(e),bE=ul.format,ul.parse,wE=ul.utcFormat,ul.utcParse,ul}function xq(e){return new Date(e)}function pq(e){return e instanceof Date?+e:+new Date(+e)}function xv(e,t,r,n,s,o,u,d,h,m){var g=rv(),x=g.invert,v=g.domain,b=m(".%L"),j=m(":%S"),_=m("%I:%M"),N=m("%I %p"),S=m("%a %d"),O=m("%b %d"),A=m("%B"),P=m("%Y");function k(D){return(h(D)<D?b:d(D)<D?j:u(D)<D?_:o(D)<D?N:n(D)<D?s(D)<D?S:O:r(D)<D?A:P)(D)}return g.invert=function(D){return new Date(x(D))},g.domain=function(D){return arguments.length?v(Array.from(D,pq)):v().map(xq)},g.ticks=function(D){var C=v();return e(C[0],C[C.length-1],D??10)},g.tickFormat=function(D,C){return C==null?k:m(C)},g.nice=function(D){var C=v();return(!D||typeof D.range!="function")&&(D=t(C[0],C[C.length-1],D??10)),D?v(lE(C,D)):g},g.copy=function(){return Ic(g,xv(e,t,r,n,s,o,u,d,h,m))},g}function vq(){return xn.apply(xv(hU,mU,ka,mv,Gf,Uc,fv,uv,Zi,bE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yq(){return xn.apply(xv(dU,fU,Ta,gv,Vf,Yf,hv,dv,Zi,wE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ff(){var e=0,t=1,r,n,s,o,u=jr,d=!1,h;function m(x){return x==null||isNaN(x=+x)?h:u(s===0?.5:(x=(o(x)-r)*s,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,r=o(e=+e),n=o(t=+t),s=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(v){var b,j;return arguments.length?([b,j]=v,u=x(b,j),m):[u(0),u(1)]}}return m.range=g(Cl),m.rangeRound=g(tv),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return o=x,r=x(e),n=x(t),s=r===n?0:1/(n-r),m}}function xi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jE(){var e=gi(Ff()(jr));return e.copy=function(){return xi(e,jE())},Ma.apply(e,arguments)}function NE(){var e=iv(Ff()).domain([1,10]);return e.copy=function(){return xi(e,NE()).base(e.base())},Ma.apply(e,arguments)}function _E(){var e=sv(Ff());return e.copy=function(){return xi(e,_E()).constant(e.constant())},Ma.apply(e,arguments)}function pv(){var e=lv(Ff());return e.copy=function(){return xi(e,pv()).exponent(e.exponent())},Ma.apply(e,arguments)}function bq(){return pv.apply(null,arguments).exponent(.5)}function SE(){var e=[],t=jr;function r(n){if(n!=null&&!isNaN(n=+n))return t(($c(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(ui),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,o)=>iI(e,o/n))},r.copy=function(){return SE(t).domain(e)},Ma.apply(r,arguments)}function Wf(){var e=0,t=.5,r=1,n=1,s,o,u,d,h,m=jr,g,x=!1,v;function b(_){return isNaN(_=+_)?v:(_=.5+((_=+g(_))-o)*(n*_<n*o?d:h),m(x?Math.max(0,Math.min(1,_)):_))}b.domain=function(_){return arguments.length?([e,t,r]=_,s=g(e=+e),o=g(t=+t),u=g(r=+r),d=s===o?0:.5/(o-s),h=o===u?0:.5/(u-o),n=o<s?-1:1,b):[e,t,r]},b.clamp=function(_){return arguments.length?(x=!!_,b):x},b.interpolator=function(_){return arguments.length?(m=_,b):m};function j(_){return function(N){var S,O,A;return arguments.length?([S,O,A]=N,m=DI(_,[S,O,A]),b):[m(0),m(.5),m(1)]}}return b.range=j(Cl),b.rangeRound=j(tv),b.unknown=function(_){return arguments.length?(v=_,b):v},function(_){return g=_,s=_(e),o=_(t),u=_(r),d=s===o?0:.5/(o-s),h=o===u?0:.5/(u-o),n=o<s?-1:1,b}}function OE(){var e=gi(Wf()(jr));return e.copy=function(){return xi(e,OE())},Ma.apply(e,arguments)}function AE(){var e=iv(Wf()).domain([.1,1,10]);return e.copy=function(){return xi(e,AE()).base(e.base())},Ma.apply(e,arguments)}function EE(){var e=sv(Wf());return e.copy=function(){return xi(e,EE()).constant(e.constant())},Ma.apply(e,arguments)}function vv(){var e=lv(Wf());return e.copy=function(){return xi(e,vv()).exponent(e.exponent())},Ma.apply(e,arguments)}function wq(){return vv.apply(null,arguments).exponent(.5)}const Zo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Zp,scaleDiverging:OE,scaleDivergingLog:AE,scaleDivergingPow:vv,scaleDivergingSqrt:wq,scaleDivergingSymlog:EE,scaleIdentity:sE,scaleImplicit:Xx,scaleLinear:iE,scaleLog:oE,scaleOrdinal:Qp,scalePoint:oI,scalePow:ov,scaleQuantile:dE,scaleQuantize:fE,scaleRadial:uE,scaleSequential:jE,scaleSequentialLog:NE,scaleSequentialPow:pv,scaleSequentialQuantile:SE,scaleSequentialSqrt:bq,scaleSequentialSymlog:_E,scaleSqrt:tU,scaleSymlog:cE,scaleThreshold:hE,scaleTime:vq,scaleUtc:yq,tickFormat:aE},Symbol.toStringTag,{value:"Module"}));var pi=e=>e.chartData,jq=ce([pi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),qc=(e,t,r,n)=>n?jq(e):pi(e);function Ol(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(lr(t)&&lr(r))return!0}return!1}function lS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Nq(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,o;if(lr(r))s=r;else if(typeof r=="function")return;if(lr(n))o=n;else if(typeof n=="function")return;var u=[s,o];if(Ol(u))return u}}function _q(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Ol(n))return lS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,u,d;if(s==="auto")t!=null&&(u=Math.min(...t));else if(ke(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[0]))}catch{}else if(typeof s=="string"&&JN.test(s)){var h=JN.exec(s);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[0]-m}}else u=t?.[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(ke(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t?.[1]))}catch{}else if(typeof o=="string"&&e_.test(o)){var g=e_.exec(o);if(g==null||t==null)d=void 0;else{var x=+g[1];d=t[1]+x}}else d=t?.[1];var v=[u,d];if(Ol(v))return t==null?v:lS(v,t,r)}}}var Dl=1e9,Sq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},bv,mt=!0,gn="[DecimalError] ",ns=gn+"Invalid argument: ",yv=gn+"Exponent out of range: ",Pl=Math.floor,Fi=Math.pow,Oq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Vr,Vt=1e7,ut=7,kE=9007199254740991,ff=Pl(kE/ut),Oe={};Oe.absoluteValue=Oe.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Oe.comparedTo=Oe.cmp=function(e){var t,r,n,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===s?0:n>s^o.s<0?1:-1};Oe.decimalPlaces=Oe.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ut;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Oe.dividedBy=Oe.div=function(e){return Na(this,new this.constructor(e))};Oe.dividedToIntegerBy=Oe.idiv=function(e){var t=this,r=t.constructor;return it(Na(t,new r(e),0,1),r.precision)};Oe.equals=Oe.eq=function(e){return!this.cmp(e)};Oe.exponent=function(){return kt(this)};Oe.greaterThan=Oe.gt=function(e){return this.cmp(e)>0};Oe.greaterThanOrEqualTo=Oe.gte=function(e){return this.cmp(e)>=0};Oe.isInteger=Oe.isint=function(){return this.e>this.d.length-2};Oe.isNegative=Oe.isneg=function(){return this.s<0};Oe.isPositive=Oe.ispos=function(){return this.s>0};Oe.isZero=function(){return this.s===0};Oe.lessThan=Oe.lt=function(e){return this.cmp(e)<0};Oe.lessThanOrEqualTo=Oe.lte=function(e){return this.cmp(e)<1};Oe.logarithm=Oe.log=function(e){var t,r=this,n=r.constructor,s=n.precision,o=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Vr))throw Error(gn+"NaN");if(r.s<1)throw Error(gn+(r.s?"NaN":"-Infinity"));return r.eq(Vr)?new n(0):(mt=!1,t=Na(wc(r,o),wc(e,o),o),mt=!0,it(t,s))};Oe.minus=Oe.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DE(t,e):TE(t,(e.s=-e.s,e))};Oe.modulo=Oe.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(gn+"NaN");return r.s?(mt=!1,t=Na(r,e,0,1).times(e),mt=!0,r.minus(t)):it(new n(r),s)};Oe.naturalExponential=Oe.exp=function(){return CE(this)};Oe.naturalLogarithm=Oe.ln=function(){return wc(this)};Oe.negated=Oe.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Oe.plus=Oe.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?TE(t,e):DE(t,(e.s=-e.s,e))};Oe.precision=Oe.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(ns+e);if(t=kt(s)+1,n=s.d.length-1,r=n*ut+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Oe.squareRoot=Oe.sqrt=function(){var e,t,r,n,s,o,u,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(gn+"NaN")}for(e=kt(d),mt=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=zn(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Pl((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new h(t)):n=new h(s.toString()),r=h.precision,s=u=r+3;;)if(o=n,n=o.plus(Na(d,o,u+2)).times(.5),zn(o.d).slice(0,u)===(t=zn(n.d)).slice(0,u)){if(t=t.slice(u-3,u+1),s==u&&t=="4999"){if(it(o,r+1,0),o.times(o).eq(d)){n=o;break}}else if(t!="9999")break;u+=4}return mt=!0,it(n,r)};Oe.times=Oe.mul=function(e){var t,r,n,s,o,u,d,h,m,g=this,x=g.constructor,v=g.d,b=(e=new x(e)).d;if(!g.s||!e.s)return new x(0);for(e.s*=g.s,r=g.e+e.e,h=v.length,m=b.length,h<m&&(o=v,v=b,b=o,u=h,h=m,m=u),o=[],u=h+m,n=u;n--;)o.push(0);for(n=m;--n>=0;){for(t=0,s=h+n;s>n;)d=o[s]+b[n]*v[s-n-1]+t,o[s--]=d%Vt|0,t=d/Vt|0;o[s]=(o[s]+t)%Vt|0}for(;!o[--u];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,mt?it(e,x.precision):e};Oe.toDecimalPlaces=Oe.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Kn(e,0,Dl),t===void 0?t=n.rounding:Kn(t,0,8),it(r,e+kt(r)+1,t))};Oe.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=os(n,!0):(Kn(e,0,Dl),t===void 0?t=s.rounding:Kn(t,0,8),n=it(new s(n),e+1,t),r=os(n,!0,e+1)),r};Oe.toFixed=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?os(s):(Kn(e,0,Dl),t===void 0?t=o.rounding:Kn(t,0,8),n=it(new o(s),e+kt(s)+1,t),r=os(n.abs(),!1,e+kt(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Oe.toInteger=Oe.toint=function(){var e=this,t=e.constructor;return it(new t(e),kt(e)+1,t.rounding)};Oe.toNumber=function(){return+this};Oe.toPower=Oe.pow=function(e){var t,r,n,s,o,u,d=this,h=d.constructor,m=12,g=+(e=new h(e));if(!e.s)return new h(Vr);if(d=new h(d),!d.s){if(e.s<1)throw Error(gn+"Infinity");return d}if(d.eq(Vr))return d;if(n=h.precision,e.eq(Vr))return it(d,n);if(t=e.e,r=e.d.length-1,u=t>=r,o=d.s,u){if((r=g<0?-g:g)<=kE){for(s=new h(Vr),t=Math.ceil(n/ut+4),mt=!1;r%2&&(s=s.times(d),cS(s.d,t)),r=Pl(r/2),r!==0;)d=d.times(d),cS(d.d,t);return mt=!0,e.s<0?new h(Vr).div(s):it(s,n)}}else if(o<0)throw Error(gn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,mt=!1,s=e.times(wc(d,n+m)),mt=!0,s=CE(s),s.s=o,s};Oe.toPrecision=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?(r=kt(s),n=os(s,r<=o.toExpNeg||r>=o.toExpPos)):(Kn(e,1,Dl),t===void 0?t=o.rounding:Kn(t,0,8),s=it(new o(s),e,t),r=kt(s),n=os(s,e<=r||r<=o.toExpNeg,e)),n};Oe.toSignificantDigits=Oe.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Kn(e,1,Dl),t===void 0?t=n.rounding:Kn(t,0,8)),it(new n(r),e,t)};Oe.toString=Oe.valueOf=Oe.val=Oe.toJSON=Oe[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=kt(e),r=e.constructor;return os(e,t<=r.toExpNeg||t>=r.toExpPos)};function TE(e,t){var r,n,s,o,u,d,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),mt?it(t,x):t;if(h=e.d,m=t.d,u=e.e,s=t.e,h=h.slice(),o=u-s,o){for(o<0?(n=h,o=-o,d=m.length):(n=m,s=u,d=h.length),u=Math.ceil(x/ut),d=u>d?u+1:d+1,o>d&&(o=d,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(d=h.length,o=m.length,d-o<0&&(o=d,n=m,m=h,h=n),r=0;o;)r=(h[--o]=h[o]+m[o]+r)/Vt|0,h[o]%=Vt;for(r&&(h.unshift(r),++s),d=h.length;h[--d]==0;)h.pop();return t.d=h,t.e=s,mt?it(t,x):t}function Kn(e,t,r){if(e!==~~e||e<t||e>r)throw Error(ns+e)}function zn(e){var t,r,n,s=e.length-1,o="",u=e[0];if(s>0){for(o+=u,t=1;t<s;t++)n=e[t]+"",r=ut-n.length,r&&(o+=si(r)),o+=n;u=e[t],n=u+"",r=ut-n.length,r&&(o+=si(r))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var Na=(function(){function e(n,s){var o,u=0,d=n.length;for(n=n.slice();d--;)o=n[d]*s+u,n[d]=o%Vt|0,u=o/Vt|0;return u&&n.unshift(u),n}function t(n,s,o,u){var d,h;if(o!=u)h=o>u?1:-1;else for(d=h=0;d<o;d++)if(n[d]!=s[d]){h=n[d]>s[d]?1:-1;break}return h}function r(n,s,o){for(var u=0;o--;)n[o]-=u,u=n[o]<s[o]?1:0,n[o]=u*Vt+n[o]-s[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,o,u){var d,h,m,g,x,v,b,j,_,N,S,O,A,P,k,D,C,T,$=n.constructor,L=n.s==s.s?1:-1,B=n.d,J=s.d;if(!n.s)return new $(n);if(!s.s)throw Error(gn+"Division by zero");for(h=n.e-s.e,C=J.length,k=B.length,b=new $(L),j=b.d=[],m=0;J[m]==(B[m]||0);)++m;if(J[m]>(B[m]||0)&&--h,o==null?O=o=$.precision:u?O=o+(kt(n)-kt(s))+1:O=o,O<0)return new $(0);if(O=O/ut+2|0,m=0,C==1)for(g=0,J=J[0],O++;(m<k||g)&&O--;m++)A=g*Vt+(B[m]||0),j[m]=A/J|0,g=A%J|0;else{for(g=Vt/(J[0]+1)|0,g>1&&(J=e(J,g),B=e(B,g),C=J.length,k=B.length),P=C,_=B.slice(0,C),N=_.length;N<C;)_[N++]=0;T=J.slice(),T.unshift(0),D=J[0],J[1]>=Vt/2&&++D;do g=0,d=t(J,_,C,N),d<0?(S=_[0],C!=N&&(S=S*Vt+(_[1]||0)),g=S/D|0,g>1?(g>=Vt&&(g=Vt-1),x=e(J,g),v=x.length,N=_.length,d=t(x,_,v,N),d==1&&(g--,r(x,C<v?T:J,v))):(g==0&&(d=g=1),x=J.slice()),v=x.length,v<N&&x.unshift(0),r(_,x,N),d==-1&&(N=_.length,d=t(J,_,C,N),d<1&&(g++,r(_,C<N?T:J,N))),N=_.length):d===0&&(g++,_=[0]),j[m++]=g,d&&_[0]?_[N++]=B[P]||0:(_=[B[P]],N=1);while((P++<k||_[0]!==void 0)&&O--)}return j[0]||j.shift(),b.e=h,it(b,u?o+kt(b)+1:o)}})();function CE(e,t){var r,n,s,o,u,d,h=0,m=0,g=e.constructor,x=g.precision;if(kt(e)>16)throw Error(yv+kt(e));if(!e.s)return new g(Vr);for(mt=!1,d=x,u=new g(.03125);e.abs().gte(.1);)e=e.times(u),m+=5;for(n=Math.log(Fi(2,m))/Math.LN10*2+5|0,d+=n,r=s=o=new g(Vr),g.precision=d;;){if(s=it(s.times(e),d),r=r.times(++h),u=o.plus(Na(s,r,d)),zn(u.d).slice(0,d)===zn(o.d).slice(0,d)){for(;m--;)o=it(o.times(o),d);return g.precision=x,t==null?(mt=!0,it(o,x)):o}o=u}}function kt(e){for(var t=e.e*ut,r=e.d[0];r>=10;r/=10)t++;return t}function F0(e,t,r){if(t>e.LN10.sd())throw mt=!0,r&&(e.precision=r),Error(gn+"LN10 precision limit exceeded");return it(new e(e.LN10),t)}function si(e){for(var t="";e--;)t+="0";return t}function wc(e,t){var r,n,s,o,u,d,h,m,g,x=1,v=10,b=e,j=b.d,_=b.constructor,N=_.precision;if(b.s<1)throw Error(gn+(b.s?"NaN":"-Infinity"));if(b.eq(Vr))return new _(0);if(t==null?(mt=!1,m=N):m=t,b.eq(10))return t==null&&(mt=!0),F0(_,m);if(m+=v,_.precision=m,r=zn(j),n=r.charAt(0),o=kt(b),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=zn(b.d),n=r.charAt(0),x++;o=kt(b),n>1?(b=new _("0."+r),o++):b=new _(n+"."+r.slice(1))}else return h=F0(_,m+2,N).times(o+""),b=wc(new _(n+"."+r.slice(1)),m-v).plus(h),_.precision=N,t==null?(mt=!0,it(b,N)):b;for(d=u=b=Na(b.minus(Vr),b.plus(Vr),m),g=it(b.times(b),m),s=3;;){if(u=it(u.times(g),m),h=d.plus(Na(u,new _(s),m)),zn(h.d).slice(0,m)===zn(d.d).slice(0,m))return d=d.times(2),o!==0&&(d=d.plus(F0(_,m+2,N).times(o+""))),d=Na(d,new _(x),m),_.precision=N,t==null?(mt=!0,it(d,N)):d;d=h,s+=2}}function oS(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Pl(r/ut),e.d=[],n=(r+1)%ut,r<0&&(n+=ut),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=ut;n<s;)e.d.push(+t.slice(n,n+=ut));t=t.slice(n),n=ut-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),mt&&(e.e>ff||e.e<-ff))throw Error(yv+r)}else e.s=0,e.e=0,e.d=[0];return e}function it(e,t,r){var n,s,o,u,d,h,m,g,x=e.d;for(u=1,o=x[0];o>=10;o/=10)u++;if(n=t-u,n<0)n+=ut,s=t,m=x[g=0];else{if(g=Math.ceil((n+1)/ut),o=x.length,g>=o)return e;for(m=o=x[g],u=1;o>=10;o/=10)u++;n%=ut,s=n-ut+u}if(r!==void 0&&(o=Fi(10,u-s-1),d=m/o%10|0,h=t<0||x[g+1]!==void 0||m%o,h=r<4?(d||h)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||h||r==6&&(n>0?s>0?m/Fi(10,u-s):0:x[g-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return h?(o=kt(e),x.length=1,t=t-o-1,x[0]=Fi(10,(ut-t%ut)%ut),e.e=Pl(-t/ut)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(n==0?(x.length=g,o=1,g--):(x.length=g+1,o=Fi(10,ut-n),x[g]=s>0?(m/Fi(10,u-s)%Fi(10,s)|0)*o:0),h)for(;;)if(g==0){(x[0]+=o)==Vt&&(x[0]=1,++e.e);break}else{if(x[g]+=o,x[g]!=Vt)break;x[g--]=0,o=1}for(n=x.length;x[--n]===0;)x.pop();if(mt&&(e.e>ff||e.e<-ff))throw Error(yv+kt(e));return e}function DE(e,t){var r,n,s,o,u,d,h,m,g,x,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),mt?it(t,b):t;if(h=e.d,x=t.d,n=t.e,m=e.e,h=h.slice(),u=m-n,u){for(g=u<0,g?(r=h,u=-u,d=x.length):(r=x,n=m,d=h.length),s=Math.max(Math.ceil(b/ut),d)+2,u>s&&(u=s,r.length=1),r.reverse(),s=u;s--;)r.push(0);r.reverse()}else{for(s=h.length,d=x.length,g=s<d,g&&(d=s),s=0;s<d;s++)if(h[s]!=x[s]){g=h[s]<x[s];break}u=0}for(g&&(r=h,h=x,x=r,t.s=-t.s),d=h.length,s=x.length-d;s>0;--s)h[d++]=0;for(s=x.length;s>u;){if(h[--s]<x[s]){for(o=s;o&&h[--o]===0;)h[o]=Vt-1;--h[o],h[s]+=Vt}h[s]-=x[s]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(t.d=h,t.e=n,mt?it(t,b):t):new v(0)}function os(e,t,r){var n,s=kt(e),o=zn(e.d),u=o.length;return t?(r&&(n=r-u)>0?o=o.charAt(0)+"."+o.slice(1)+si(n):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+si(-s-1)+o,r&&(n=r-u)>0&&(o+=si(n))):s>=u?(o+=si(s+1-u),r&&(n=r-s-1)>0&&(o=o+"."+si(n))):((n=s+1)<u&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-u)>0&&(s+1===u&&(o+="."),o+=si(n))),e.s<0?"-"+o:o}function cS(e,t){if(e.length>t)return e.length=t,!0}function PE(e){var t,r,n;function s(o){var u=this;if(!(u instanceof s))return new s(o);if(u.constructor=s,o instanceof s){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(ns+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return oS(u,o.toString())}else if(typeof o!="string")throw Error(ns+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,Oq.test(o))oS(u,o);else throw Error(ns+o)}if(s.prototype=Oe,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=PE,s.config=s.set=Aq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Aq(e){if(!e||typeof e!="object")throw Error(gn+"Object expected");var t,r,n,s=["precision",1,Dl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Pl(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(ns+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(ns+r+": "+n);return this}var bv=PE(Sq);Vr=new bv(1);const Je=bv;var Eq=e=>e,ME={},RE=e=>e===ME,uS=e=>function t(){return arguments.length===0||arguments.length===1&&RE(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},$E=(e,t)=>e===1?t:uS(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var o=n.filter(u=>u!==ME).length;return o>=e?t(...n):$E(e-o,uS(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var m=n.map(g=>RE(g)?d.shift():g);return t(...m,...d)}))}),Xf=e=>$E(e.length,e),ep=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},kq=Xf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Tq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Eq;var s=r.reverse(),o=s[0],u=s.slice(1);return function(){return u.reduce((d,h)=>h(d),o(...arguments))}},tp=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),LE=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t&&s.every((u,d)=>{var h;return u===((h=t)===null||h===void 0?void 0:h[d])})||(t=s,r=e(...s)),r}};function IE(e){var t;return e===0?t=1:t=Math.floor(new Je(e).abs().log(10).toNumber())+1,t}function UE(e,t,r){for(var n=new Je(e),s=0,o=[];n.lt(t)&&s<1e5;)o.push(n.toNumber()),n=n.add(r),s++;return o}Xf((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});Xf((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Xf((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var qE=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},zE=(e,t,r)=>{if(e.lte(0))return new Je(0);var n=IE(e.toNumber()),s=new Je(10).pow(n),o=e.div(s),u=n!==1?.05:.1,d=new Je(Math.ceil(o.div(u).toNumber())).add(r).mul(u),h=d.mul(s);return t?new Je(h.toNumber()):new Je(Math.ceil(h.toNumber()))},Cq=(e,t,r)=>{var n=new Je(1),s=new Je(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(n=new Je(10).pow(IE(e)-1),s=new Je(Math.floor(s.div(n).toNumber())).mul(n)):o>1&&(s=new Je(Math.floor(e)))}else e===0?s=new Je(Math.floor((t-1)/2)):r||(s=new Je(Math.floor(e)));var u=Math.floor((t-1)/2),d=Tq(kq(h=>s.add(new Je(h-u).mul(n)).toNumber()),ep);return d(0,t)},BE=function(t,r,n,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Je(0),tickMin:new Je(0),tickMax:new Je(0)};var u=zE(new Je(r).sub(t).div(n-1),s,o),d;t<=0&&r>=0?d=new Je(0):(d=new Je(t).add(r).div(2),d=d.sub(new Je(d).mod(u)));var h=Math.ceil(d.sub(t).div(u).toNumber()),m=Math.ceil(new Je(r).sub(d).div(u).toNumber()),g=h+m+1;return g>n?BE(t,r,n,s,o+1):(g<n&&(m=r>0?m+(n-g):m,h=r>0?h:h+(n-g)),{step:u,tickMin:d.sub(new Je(h).mul(u)),tickMax:d.add(new Je(m).mul(u))})};function Dq(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),[u,d]=qE([t,r]);if(u===-1/0||d===1/0){var h=d===1/0?[u,...ep(0,n-1).map(()=>1/0)]:[...ep(0,n-1).map(()=>-1/0),d];return t>r?tp(h):h}if(u===d)return Cq(u,n,s);var{step:m,tickMin:g,tickMax:x}=BE(u,d,o,s,0),v=UE(g,x.add(new Je(.1).mul(m)),m);return t>r?tp(v):v}function Pq(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=qE([r,n]);if(o===-1/0||u===1/0)return[r,n];if(o===u)return[o];var d=Math.max(t,2),h=zE(new Je(u).sub(o).div(d-1),s,0),m=[...UE(new Je(o),new Je(u),h),u];return s===!1&&(m=m.map(g=>Math.round(g))),r>n?tp(m):m}var Mq=LE(Dq),Rq=LE(Pq),HE=e=>e.rootProps.maxBarSize,$q=e=>e.rootProps.barGap,KE=e=>e.rootProps.barCategoryGap,Lq=e=>e.rootProps.barSize,Qf=e=>e.rootProps.stackOffset,wv=e=>e.options.chartName,jv=e=>e.rootProps.syncId,YE=e=>e.rootProps.syncMethod,Nv=e=>e.options.eventEmitter,xa={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Yr={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Zf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Iq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:xa.angleAxisId,includeHidden:!1,name:void 0,reversed:xa.reversed,scale:xa.scale,tick:xa.tick,tickCount:void 0,ticks:void 0,type:xa.type,unit:void 0},Uq={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yr.scale,tick:Yr.tick,tickCount:Yr.tickCount,ticks:void 0,type:Yr.type,unit:void 0},qq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:xa.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:xa.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:xa.scale,tick:xa.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zq={allowDataOverflow:Yr.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Yr.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Yr.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Yr.scale,tick:Yr.tick,tickCount:Yr.tickCount,ticks:void 0,type:"category",unit:void 0},_v=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?qq:Iq,Sv=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?zq:Uq,Jf=e=>e.polarOptions,Ov=ce([Da,Pa,Wt],F$),GE=ce([Jf,Ov],(e,t)=>{if(e!=null)return An(e.innerRadius,t,0)}),VE=ce([Jf,Ov],(e,t)=>{if(e!=null)return An(e.outerRadius,t,t*.8)}),Bq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},FE=ce([Jf],Bq);ce([_v,FE],Zf);var WE=ce([Ov,GE,VE],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});ce([Sv,WE],Zf);var XE=ce([Ye,Jf,GE,VE,Da,Pa],(e,t,r,n,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:u,cy:d,startAngle:h,endAngle:m}=t;return{cx:An(u,s,s/2),cy:An(d,o,o/2),innerRadius:r,outerRadius:n,startAngle:h,endAngle:m,clockWise:!1}}}),Tt=(e,t)=>t,eh=(e,t,r)=>r;function th(e){return e?.id}var It=e=>{var t=Ye(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Ml=e=>e.tooltip.settings.axisId,Qt=e=>{var t=It(e),r=Ml(e);return zc(e,t,r)},QE=ce([Qt],e=>e?.dataKey);function ZE(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:o}=r,u=new Map;return e.forEach(d=>{var h,m=(h=d.data)!==null&&h!==void 0?h:n;if(!(m==null||m.length===0)){var g=th(d);m.forEach((x,v)=>{var b=o==null||s?v:String(Et(x,o,null)),j=Et(x,d.dataKey,0),_;u.has(b)?_=u.get(b):_={},Object.assign(_,{[g]:j}),u.set(b,_)})}}),Array.from(u.values())}function rh(e){return e.stackId!=null&&e.dataKey!=null}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Yq(e,"string");return typeof t=="symbol"?t:t+""}function Yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rp=[0,"auto"],Hr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},JE=(e,t)=>e.cartesianAxis.xAxis[t],vi=(e,t)=>{var r=JE(e,t);return r??Hr},Kr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:rp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Dc},ek=(e,t)=>e.cartesianAxis.yAxis[t],yi=(e,t)=>{var r=ek(e,t);return r??Kr},Gq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Av=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Gq},Pr=(e,t,r)=>{switch(t){case"xAxis":return vi(e,r);case"yAxis":return yi(e,r);case"zAxis":return Av(e,r);case"angleAxis":return _v(e,r);case"radiusAxis":return Sv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vq=(e,t,r)=>{switch(t){case"xAxis":return vi(e,r);case"yAxis":return yi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},zc=(e,t,r)=>{switch(t){case"xAxis":return vi(e,r);case"yAxis":return yi(e,r);case"angleAxis":return _v(e,r);case"radiusAxis":return Sv(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tk=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function rk(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Bc=e=>e.graphicalItems.cartesianItems,Fq=ce([Tt,eh],rk),nk=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Hc=ce([Bc,Pr,Fq],nk),ak=ce([Hc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(rh)),ik=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),sk=ce([Hc],ik),lk=e=>e.map(t=>t.data).filter(Boolean).flat(1),Wq=ce([Hc],lk),ok=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Ev=ce([Wq,qc],ok),ck=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:Et(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:Et(s,n)}))):e.map(n=>({value:n})),nh=ce([Ev,Pr,Hc],ck);function uk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function gs(e){return e.filter(t=>Hn(t)||t instanceof Date).map(Number).filter(t=>Dr(t)===!1)}function Xq(e,t,r){return!r||typeof t!="number"||Dr(t)?[]:r.length?gs(r.flatMap(n=>{var s=Et(e,n.dataKey),o,u;if(Array.isArray(s)?[o,u]=s:o=u=s,!(!lr(o)||!lr(u)))return[t-o,t+u]})):[]}var Qq=ce([ak,qc,Qt],ZE),dk=(e,t,r)=>{var n={},s=t.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),n);return Object.fromEntries(Object.entries(s).map(o=>{var[u,d]=o,h=d.map(th);return[u,{stackedData:uL(e,h,r),graphicalItems:d}]}))},jc=ce([Qq,ak,Qf],dk),fk=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var o=mL(e,n,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Zq=ce([jc,pi,Tt],fk),hk=(e,t,r,n,s)=>r.length>0?e.flatMap(o=>r.flatMap(u=>{var d,h,m=(d=n[u.id])===null||d===void 0?void 0:d.filter(x=>uk(s,x)),g=Et(o,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey);return{value:g,errorDomain:Xq(o,g,m)}})).filter(Boolean):t?.dataKey!=null?e.map(o=>({value:Et(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),ah=e=>e.errorBars,mk=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>uk(r,n));ce([sk,ah,Tt],mk);var Jq=ce([Ev,Pr,sk,ah,Tt],hk);function ez(e){var{value:t}=e;if(Hn(t)||t instanceof Date)return t}var fS=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=gs(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tz=(e,t,r)=>{var n=e.map(ez).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&SO(n))?FA(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},kv=e=>{var t;if(e==null||!("domain"in e))return rp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=gs(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:rp},mf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var o=s.flat(),u=Math.min(...o),d=Math.max(...o);return[u,d]}},gk=e=>e.referenceElements.dots,Rl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),rz=ce([gk,Tt,eh],Rl),xk=e=>e.referenceElements.areas,nz=ce([xk,Tt,eh],Rl),pk=e=>e.referenceElements.lines,az=ce([pk,Tt,eh],Rl),vk=(e,t)=>{var r=gs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iz=ce(rz,Tt,vk),yk=(e,t)=>{var r=gs(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sz=ce([nz,Tt],yk),bk=(e,t)=>{var r=gs(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lz=ce(az,Tt,bk),oz=ce(iz,lz,sz,(e,t,r)=>mf(e,r,t)),cz=ce([Pr],kv),wk=(e,t,r,n,s,o,u)=>{var d=Nq(t,e.allowDataOverflow);if(d!=null)return d;var h=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",m=h?mf(r,s,fS(n)):mf(s,fS(n));return _q(t,m,e.allowDataOverflow)},uz=ce([Pr,cz,Zq,Jq,oz,Ye,Tt],wk),dz=[0,1],jk=(e,t,r,n,s,o,u)=>{if(!((e==null||r==null||r.length===0)&&u===void 0)){var{dataKey:d,type:h}=e,m=Xn(t,o);return m&&d==null?FA(0,r.length):h==="category"?tz(n,e,m):s==="expand"?dz:u}},Tv=ce([Pr,Ye,Ev,nh,Qf,Tt,uz],jk),Nk=(e,t,r,n,s)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":u==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(kc(o));return d in Zo?d:"point"}}},Kc=ce([Pr,Ye,tk,wv,Tt],Nk);function fz(e){if(e!=null){if(e in Zo)return Zo[e]();var t="scale".concat(kc(e));if(t in Zo)return Zo[t]()}}function Cv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=fz(t);if(s!=null){var o=s.domain(r).range(n);return iL(o),o}}}var _k=(e,t,r)=>{var n=kv(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Ol(e))return Mq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Ol(e))return Rq(e,t.tickCount,t.allowDecimals)}},Dv=ce([Tv,zc,Kc],_k),Sk=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Ol(t)&&Array.isArray(r)&&r.length>0){var s=t[0],o=r[0],u=t[1],d=r[r.length-1];return[Math.min(s,o),Math.max(u,d)]}return t},hz=ce([Pr,Tv,Dv,Tt],Sk),mz=ce(nh,Pr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(gs(e.map(d=>d.value))).sort((d,h)=>d-h);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var u=n[o+1]-n[o];r=Math.min(r,u)}return r/s}}),Ok=ce(mz,Ye,KE,Wt,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!lr(e))return 0;var o=t==="vertical"?n.height:n.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var u=An(r,e*o),d=e*o/2;return d-u-(d-u)/o*u}return 0}),gz=(e,t)=>{var r=vi(e,t);return r==null||typeof r.padding!="string"?0:Ok(e,"xAxis",t,r.padding)},xz=(e,t)=>{var r=yi(e,t);return r==null||typeof r.padding!="string"?0:Ok(e,"yAxis",t,r.padding)},pz=ce(vi,gz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),vz=ce(yi,xz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),yz=ce([Wt,pz,Hf,Bf,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:o}=n;return s?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),bz=ce([Wt,Ye,vz,Hf,Bf,(e,t,r)=>r],(e,t,r,n,s,o)=>{var{padding:u}=s;return o?[n.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),Yc=(e,t,r,n)=>{var s;switch(t){case"xAxis":return yz(e,r,n);case"yAxis":return bz(e,r,n);case"zAxis":return(s=Av(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return FE(e);case"radiusAxis":return WE(e,r);default:return}},Ak=ce([Pr,Yc],Zf),$l=ce([Pr,Kc,hz,Ak],Cv);ce([Hc,ah,Tt],mk);function Ek(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var ih=(e,t)=>t,sh=(e,t,r)=>r,wz=ce(qf,ih,sh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Ek)),jz=ce(zf,ih,sh,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Ek)),kk=(e,t)=>({width:e.width,height:t.height}),Nz=(e,t)=>{var r=typeof t.width=="number"?t.width:Dc;return{width:r,height:e.height}},Tk=ce(Wt,vi,kk),_z=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Sz=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Oz=ce(Pa,Wt,wz,ih,sh,(e,t,r,n,s)=>{var o={},u;return r.forEach(d=>{var h=kk(t,d);u==null&&(u=_z(t,n,e));var m=n==="top"&&!s||n==="bottom"&&s;o[d.id]=u-Number(m)*h.height,u+=(m?-1:1)*h.height}),o}),Az=ce(Da,Wt,jz,ih,sh,(e,t,r,n,s)=>{var o={},u;return r.forEach(d=>{var h=Nz(t,d);u==null&&(u=Sz(t,n,e));var m=n==="left"&&!s||n==="right"&&s;o[d.id]=u-Number(m)*h.width,u+=(m?-1:1)*h.width}),o}),Ez=(e,t)=>{var r=Wt(e),n=vi(e,t);if(n!=null){var s=Oz(e,n.orientation,n.mirror),o=s[t];return o==null?{x:r.left,y:0}:{x:r.left,y:o}}},kz=(e,t)=>{var r=Wt(e),n=yi(e,t);if(n!=null){var s=Az(e,n.orientation,n.mirror),o=s[t];return o==null?{x:0,y:r.top}:{x:o,y:r.top}}},Ck=ce(Wt,yi,(e,t)=>{var r=typeof t.width=="number"?t.width:Dc;return{width:r,height:e.height}}),hS=(e,t,r)=>{switch(t){case"xAxis":return Tk(e,r).width;case"yAxis":return Ck(e,r).height;default:return}},Dk=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:o,dataKey:u}=r,d=Xn(e,n),h=t.map(m=>m.value);if(u&&d&&o==="category"&&s&&SO(h))return h}},Pv=ce([Ye,nh,Pr,Tt],Dk),Pk=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:o}=r,u=Xn(e,n);if(u&&(s==="number"||o!=="auto"))return t.map(d=>d.value)}},Mv=ce([Ye,nh,zc,Tt],Pk),mS=ce([Ye,Vq,Kc,$l,Pv,Mv,Yc,Dv,Tt],(e,t,r,n,s,o,u,d,h)=>{if(t==null)return null;var m=Xn(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:s,isCategorical:m,niceTicks:d,range:u,realScaleType:r,scale:n}}),Tz=(e,t,r,n,s,o,u,d,h)=>{if(!(t==null||n==null)){var m=Xn(e,h),{type:g,ticks:x,tickCount:v}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=g==="category"&&n.bandwidth?n.bandwidth()/b:0;j=h==="angleAxis"&&o!=null&&o.length>=2?Tr(o[0]-o[1])*2*j:j;var _=x||s;if(_){var N=_.map((S,O)=>{var A=u?u.indexOf(S):S;return{index:O,coordinate:n(A)+j,value:S,offset:j}});return N.filter(S=>!Dr(S.coordinate))}return m&&d?d.map((S,O)=>({coordinate:n(S)+j,value:S,index:O,offset:j})):n.ticks?n.ticks(v).map(S=>({coordinate:n(S)+j,value:S,offset:j})):n.domain().map((S,O)=>({coordinate:n(S)+j,value:u?u[S]:S,index:O,offset:j}))}},Mk=ce([Ye,zc,Kc,$l,Dv,Yc,Pv,Mv,Tt],Tz),Cz=(e,t,r,n,s,o,u)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=Xn(e,u),{tickCount:h}=t,m=0;return m=u==="angleAxis"&&n?.length>=2?Tr(n[0]-n[1])*2*m:m,d&&o?o.map((g,x)=>({coordinate:r(g)+m,value:g,index:x,offset:m})):r.ticks?r.ticks(h).map(g=>({coordinate:r(g)+m,value:g,offset:m})):r.domain().map((g,x)=>({coordinate:r(g)+m,value:s?s[g]:g,index:x,offset:m}))}},Yn=ce([Ye,zc,$l,Yc,Pv,Mv,Tt],Cz),Gn=ce(Pr,$l,(e,t)=>{if(!(e==null||t==null))return hf(hf({},e),{},{scale:t})}),Dz=ce([Pr,Kc,Tv,Ak],Cv);ce((e,t,r)=>Av(e,r),Dz,(e,t)=>{if(!(e==null||t==null))return hf(hf({},e),{},{scale:t})});var Pz=ce([Ye,qf,zf],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Rk=e=>e.options.defaultTooltipEventType,$k=e=>e.options.validateTooltipEventTypes;function Lk(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Rv(e,t){var r=Rk(e),n=$k(e);return Lk(t,r,n)}function Mz(e){return Ce(t=>Rv(t,e))}var Ik=(e,t)=>{var r,n=Number(t);if(!(Dr(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Rz=e=>e.tooltip.settings,ci={active:!1,index:null,dataKey:void 0,coordinate:void 0},$z={itemInteraction:{click:ci,hover:ci},axisInteraction:{click:ci,hover:ci},keyboardInteraction:ci,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Uk=Xr({name:"tooltip",initialState:$z,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=ja(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Lz,removeTooltipEntrySettings:Iz,setTooltipSettingsState:Uz,setActiveMouseOverItemIndex:qk,mouseLeaveItem:qz,mouseLeaveChart:zk,setActiveClickItemIndex:zz,setMouseOverAxisIndex:Bk,setMouseClickAxisIndex:Bz,setSyncInteraction:np,setKeyboardInteraction:ap}=Uk.actions,Hz=Uk.reducer;function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ad(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){Kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kz(e,t,r){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=Gz(e,"string");return typeof t=="symbol"?t:t+""}function Gz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vz(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Fz(e){return e.index!=null}var Hk=(e,t,r,n)=>{if(t==null)return ci;var s=Vz(e,t,r);if(s==null)return ci;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Fz(s)){if(o)return Ad(Ad({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Ad(Ad({},ci),{},{coordinate:s.coordinate})},$v=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!lr(n))return r;var s=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(s,Math.min(n,o)))},Kk=(e,t,r,n,s,o,u,d)=>{if(!(o==null||d==null)){var h=u[0],m=h==null?void 0:d(h.positions,o);if(m!=null)return m;var g=s?.[Number(o)];if(g)switch(r){case"horizontal":return{x:g.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:g.coordinate}}}},Yk=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===s})},Gc=e=>e.options.tooltipPayloadSearcher,Ll=e=>e.tooltip;function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){Wz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wz(e,t,r){return(t=Xz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(e){var t=Qz(e,"string");return typeof t=="symbol"?t:t+""}function Qz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zz(e,t){return e??t}var Gk=(e,t,r,n,s,o,u)=>{if(!(t==null||o==null)){var{chartData:d,computedData:h,dataStartIndex:m,dataEndIndex:g}=r,x=[];return e.reduce((v,b)=>{var j,{dataDefinedOnItem:_,settings:N}=b,S=Zz(_,d),O=Array.isArray(S)?TA(S,m,g):S,A=(j=N?.dataKey)!==null&&j!==void 0?j:n,P=N?.nameKey,k;if(n&&Array.isArray(O)&&!Array.isArray(O[0])&&u==="axis"?k=OO(O,n,s):k=o(O,t,h,P),Array.isArray(k))k.forEach(C=>{var T=pS(pS({},N),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});v.push(t_({tooltipEntrySettings:T,dataKey:C.dataKey,payload:C.payload,value:Et(C.payload,C.dataKey),name:C.name}))});else{var D;v.push(t_({tooltipEntrySettings:N,dataKey:A,payload:k,value:Et(k,A),name:(D=Et(k,P))!==null&&D!==void 0?D:N?.name}))}return v},x)}},Lv=ce([Qt,Ye,tk,wv,It],Nk),Jz=ce([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),eB=ce([It,Ml],rk),Vc=ce([Jz,Qt,eB],nk),tB=ce([Vc],e=>e.filter(rh)),rB=ce([Vc],lk),Il=ce([rB,pi],ok),nB=ce([tB,pi,Qt],ZE),Iv=ce([Il,Qt,Vc],ck),aB=ce([Qt],kv),iB=ce([Vc],e=>e.filter(rh)),sB=ce([nB,iB,Qf],dk),lB=ce([sB,pi,It],fk),oB=ce([Vc],ik),cB=ce([Il,Qt,oB,ah,It],hk),uB=ce([gk,It,Ml],Rl),dB=ce([uB,It],vk),fB=ce([xk,It,Ml],Rl),hB=ce([fB,It],yk),mB=ce([pk,It,Ml],Rl),gB=ce([mB,It],bk),xB=ce([dB,gB,hB],mf),pB=ce([Qt,aB,lB,cB,xB,Ye,It],wk),Vk=ce([Qt,Ye,Il,Iv,Qf,It,pB],jk),vB=ce([Vk,Qt,Lv],_k),yB=ce([Qt,Vk,vB,It],Sk),Fk=e=>{var t=It(e),r=Ml(e),n=!1;return Yc(e,t,r,n)},Wk=ce([Qt,Fk],Zf),Xk=ce([Qt,Lv,yB,Wk],Cv),bB=ce([Ye,Iv,Qt,It],Dk),wB=ce([Ye,Iv,Qt,It],Pk),jB=(e,t,r,n,s,o,u,d)=>{if(t){var{type:h}=t,m=Xn(e,d);if(n){var g=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,x=h==="category"&&n.bandwidth?n.bandwidth()/g:0;return x=d==="angleAxis"&&s!=null&&s?.length>=2?Tr(s[0]-s[1])*2*x:x,m&&u?u.map((v,b)=>({coordinate:n(v)+x,value:v,index:b,offset:x})):n.domain().map((v,b)=>({coordinate:n(v)+x,value:o?o[v]:v,index:b,offset:x}))}}},Ra=ce([Ye,Qt,Lv,Xk,Fk,bB,wB,It],jB),Uv=ce([Rk,$k,Rz],(e,t,r)=>Lk(r.shared,e,t)),Qk=e=>e.tooltip.settings.trigger,qv=e=>e.tooltip.settings.defaultIndex,lh=ce([Ll,Uv,Qk,qv],Hk),cs=ce([lh,Il],$v),Zk=ce([Ra,cs],Ik),Jk=ce([lh],e=>{if(e)return e.dataKey}),eT=ce([Ll,Uv,Qk,qv],Yk),NB=ce([Da,Pa,Ye,Wt,Ra,qv,eT,Gc],Kk),_B=ce([lh,NB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),SB=ce([lh],e=>e.active),OB=ce([eT,cs,pi,QE,Zk,Gc,Uv],Gk),AB=ce([OB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){EB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EB(e,t,r){return(t=kB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kB(e){var t=TB(e,"string");return typeof t=="symbol"?t:t+""}function TB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CB=()=>Ce(Qt),DB=()=>{var e=CB(),t=Ce(Ra),r=Ce(Xk);return ls(yS(yS({},e),{},{scale:r}),t)},tT=()=>Ce(wv),zv=(e,t)=>t,rT=(e,t,r)=>r,Bv=(e,t,r,n)=>n,PB=ce(Ra,e=>Mf(e,t=>t.coordinate)),Hv=ce([Ll,zv,rT,Bv],Hk),nT=ce([Hv,Il],$v),MB=(e,t,r)=>{if(t!=null){var n=Ll(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},aT=ce([Ll,zv,rT,Bv],Yk),gf=ce([Da,Pa,Ye,Wt,Ra,Bv,aT,Gc],Kk),RB=ce([Hv,gf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),iT=ce(Ra,nT,Ik),$B=ce([aT,nT,pi,QE,iT,Gc,zv],Gk),LB=ce([Hv],e=>({isActive:e.active,activeIndex:e.index})),IB=(e,t,r,n,s,o,u,d)=>{if(!(!e||!t||!n||!s||!o)){var h=gL(e.chartX,e.chartY,t,r,d);if(h){var m=pL(h,t),g=nL(m,u,o,n,s),x=xL(t,o,g,h);return{activeIndex:String(g),activeCoordinate:x}}}};function ip(){return ip=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ip.apply(null,arguments)}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ed(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){UB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UB(e,t,r){return(t=qB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=zB(e,"string");return typeof t=="symbol"?t:t+""}function zB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BB(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:o,layout:u,cursor:d,tooltipEventType:h,chartName:m}=e,g=t,x=r,v=n;if(!d||!g||m!=="ScatterChart"&&h!=="axis")return null;var b,j;if(m==="ScatterChart")b=g,j=o8;else if(m==="BarChart")b=c8(u,g,s,o),j=KA;else if(u==="radial"){var{cx:_,cy:N,radius:S,startAngle:O,endAngle:A}=YA(g);b={cx:_,cy:N,startAngle:O,endAngle:A,innerRadius:S,outerRadius:S},j=VA}else b={points:B8(u,g,s)},j=rc;var P=typeof d=="object"&&"className"in d?d.className:void 0,k=Ed(Ed(Ed(Ed({stroke:"#ccc",pointerEvents:"none"},s),b),ht(d,!1)),{},{payload:x,payloadIndex:v,className:Xe("recharts-tooltip-cursor",P)});return w.isValidElement(d)?w.cloneElement(d,k):w.createElement(j,k)}function HB(e){var t=DB(),r=RA(),n=Pc(),s=tT();return w.createElement(BB,ip({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var sT=w.createContext(null),KB=()=>w.useContext(sT),W0={exports:{}},wS;function YB(){return wS||(wS=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(h,m,g){this.fn=h,this.context=m,this.once=g||!1}function o(h,m,g,x,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new s(g,x||h,v),j=r?r+m:m;return h._events[j]?h._events[j].fn?h._events[j]=[h._events[j],b]:h._events[j].push(b):(h._events[j]=b,h._eventsCount++),h}function u(h,m){--h._eventsCount===0?h._events=new n:delete h._events[m]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)t.call(g,x)&&m.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},d.prototype.listeners=function(m){var g=r?r+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,b=x.length,j=new Array(b);v<b;v++)j[v]=x[v].fn;return j},d.prototype.listenerCount=function(m){var g=r?r+m:m,x=this._events[g];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,g,x,v,b,j){var _=r?r+m:m;if(!this._events[_])return!1;var N=this._events[_],S=arguments.length,O,A;if(N.fn){switch(N.once&&this.removeListener(m,N.fn,void 0,!0),S){case 1:return N.fn.call(N.context),!0;case 2:return N.fn.call(N.context,g),!0;case 3:return N.fn.call(N.context,g,x),!0;case 4:return N.fn.call(N.context,g,x,v),!0;case 5:return N.fn.call(N.context,g,x,v,b),!0;case 6:return N.fn.call(N.context,g,x,v,b,j),!0}for(A=1,O=new Array(S-1);A<S;A++)O[A-1]=arguments[A];N.fn.apply(N.context,O)}else{var P=N.length,k;for(A=0;A<P;A++)switch(N[A].once&&this.removeListener(m,N[A].fn,void 0,!0),S){case 1:N[A].fn.call(N[A].context);break;case 2:N[A].fn.call(N[A].context,g);break;case 3:N[A].fn.call(N[A].context,g,x);break;case 4:N[A].fn.call(N[A].context,g,x,v);break;default:if(!O)for(k=1,O=new Array(S-1);k<S;k++)O[k-1]=arguments[k];N[A].fn.apply(N[A].context,O)}}return!0},d.prototype.on=function(m,g,x){return o(this,m,g,x,!1)},d.prototype.once=function(m,g,x){return o(this,m,g,x,!0)},d.prototype.removeListener=function(m,g,x,v){var b=r?r+m:m;if(!this._events[b])return this;if(!g)return u(this,b),this;var j=this._events[b];if(j.fn)j.fn===g&&(!v||j.once)&&(!x||j.context===x)&&u(this,b);else{for(var _=0,N=[],S=j.length;_<S;_++)(j[_].fn!==g||v&&!j[_].once||x&&j[_].context!==x)&&N.push(j[_]);N.length?this._events[b]=N.length===1?N[0]:N:u(this,b)}return this},d.prototype.removeAllListeners=function(m){var g;return m?(g=r?r+m:m,this._events[g]&&u(this,g)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(W0)),W0.exports}var GB=YB();const VB=Vn(GB);var Nc=new VB,sp="recharts.syncEvent.tooltip",jS="recharts.syncEvent.brush";function Kv(e,t){if(t){var r=Number.parseInt(t,10);if(!Dr(r))return e?.[r]}}var FB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},lT=Xr({name:"options",initialState:FB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),WB=lT.reducer,{createEventEmitter:XB}=lT.actions;function QB(e){return e.tooltip.syncInteraction}var ZB={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oT=Xr({name:"chartData",initialState:ZB,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:NS,setDataStartEndIndexes:JB,setComputedData:pF}=oT.actions,e7=oT.reducer,t7=["x","y"];function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Ki(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){r7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r7(e,t,r){return(t=n7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i7(e,t){if(e==null)return{};var r,n,s=s7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function s7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cT=()=>{};function l7(){var e=Ce(jv),t=Ce(Nv),r=Ft(),n=Ce(YE),s=Ce(Ra),o=Pc(),u=Wp(),d=Ce(h=>h.rootProps.className);w.useEffect(()=>{if(e==null)return cT;var h=(m,g,x)=>{if(t!==x&&e===m){if(n==="index"){var v;if(u&&g!==null&&g!==void 0&&(v=g.payload)!==null&&v!==void 0&&v.coordinate){var b=g.payload.coordinate,{x:j,y:_}=b,N=i7(b,t7),S=Ki(Ki(Ki({},N),typeof j=="number"&&{x:Math.max(u.x,Math.min(j,u.x+u.width))}),typeof _=="number"&&{y:Math.max(u.y,Math.min(_,u.y+u.height))}),O=Ki(Ki({},g),{},{payload:Ki(Ki({},g.payload),{},{coordinate:S})});r(O)}else r(g);return}if(s!=null){var A;if(typeof n=="function"){var P={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},k=n(s,P);A=s[k]}else n==="value"&&(A=s.find(ie=>String(ie.value)===g.payload.label));var{coordinate:D}=g.payload;if(A==null||g.payload.active===!1||D==null||u==null){r(np({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:C,y:T}=D,$=Math.min(C,u.x+u.width),L=Math.min(T,u.y+u.height),B={x:o==="horizontal"?A.coordinate:$,y:o==="horizontal"?L:A.coordinate},J=np({active:g.payload.active,coordinate:B,dataKey:g.payload.dataKey,index:String(A.index),label:g.payload.label});r(J)}}};return Nc.on(sp,h),()=>{Nc.off(sp,h)}},[d,r,t,e,n,s,o,u])}function o7(){var e=Ce(jv),t=Ce(Nv),r=Ft();w.useEffect(()=>{if(e==null)return cT;var n=(s,o,u)=>{t!==u&&e===s&&r(JB(o))};return Nc.on(jS,n),()=>{Nc.off(jS,n)}},[r,t,e])}function c7(){var e=Ft();w.useEffect(()=>{e(XB())},[e]),l7(),o7()}function u7(e,t,r,n,s,o){var u=Ce(v=>MB(v,e,t)),d=Ce(Nv),h=Ce(jv),m=Ce(YE),g=Ce(QB),x=g?.active;w.useEffect(()=>{if(!x&&h!=null&&d!=null){var v=np({active:o,coordinate:r,dataKey:u,index:s,label:typeof n=="number"?String(n):n});Nc.emit(sp,h,v,d)}},[x,r,u,s,n,d,h,m,o])}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){d7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d7(e,t,r){return(t=f7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m7(e){return e.dataKey}function g7(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(qL,t)}var AS=[],x7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!fs.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function nc(e){var t=Qr(e,x7),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:o,content:u,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:g,position:x,reverseDirection:v,useTranslate3d:b,wrapperStyle:j,cursor:_,shared:N,trigger:S,defaultIndex:O,portal:A,axisId:P}=t,k=Ft(),D=typeof O=="number"?String(O):O;w.useEffect(()=>{k(Uz({shared:N,trigger:S,axisId:P,active:r,defaultIndex:D}))},[k,N,S,P,r,D]);var C=Wp(),T=UA(),$=Mz(N),{activeIndex:L,isActive:B}=Ce(xe=>LB(xe,$,S,D)),J=Ce(xe=>$B(xe,$,S,D)),ie=Ce(xe=>iT(xe,$,S,D)),W=Ce(xe=>RB(xe,$,S,D)),Z=J,z=KB(),G=r??B,[le,ge]=GR([Z,G]),I=$==="axis"?ie:void 0;u7($,S,W,I,L,G);var te=A??z;if(te==null)return null;var ne=Z??AS;G||(ne=AS),d&&ne.length&&(ne=vR(Z.filter(xe=>xe.value!=null&&(xe.hide!==!0||t.includeHidden)),g,m7));var H=ne.length>0,oe=w.createElement(VL,{allowEscapeViewBox:n,animationDuration:s,animationEasing:o,isAnimationActive:h,active:G,coordinate:W,hasPayload:H,offset:m,position:x,reverseDirection:v,useTranslate3d:b,viewBox:C,wrapperStyle:j,lastBoundingBox:le,innerRef:ge,hasPortalFromProps:!!A},g7(u,OS(OS({},t),{},{payload:ne,label:I,active:G,coordinate:W,accessibilityLayer:T})));return w.createElement(w.Fragment,null,WP.createPortal(oe,te),G&&w.createElement(HB,{cursor:_,tooltipEventType:$,coordinate:W,payload:Z,index:L}))}var X0={},Q0={},Z0={},ES;function p7(){return ES||(ES=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:o}={}){let u,d=null;const h=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),g=()=>{d!==null&&(r.apply(u,d),u=void 0,d=null)},x=()=>{m&&g(),_()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,x()},n)},j=()=>{v!==null&&(clearTimeout(v),v=null)},_=()=>{j(),u=void 0,d=null},N=()=>{g()},S=function(...O){if(s?.aborted)return;u=this,d=O;const A=v==null;b(),h&&A&&g()};return S.schedule=b,S.cancel=_,S.flush=N,s?.addEventListener("abort",_,{once:!0}),S}e.debounce=t})(Z0)),Z0}var kS;function v7(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p7();function r(n,s=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:d=!0,maxWait:h}=o,m=Array(2);u&&(m[0]="leading"),d&&(m[1]="trailing");let g,x=null;const v=t.debounce(function(..._){g=n.apply(this,_),x=null},s,{edges:m}),b=function(..._){return h!=null&&(x===null&&(x=Date.now()),Date.now()-x>=h)?(g=n.apply(this,_),x=Date.now(),v.cancel(),v.schedule(),g):(v.apply(this,_),g)},j=()=>(v.flush(),g);return b.cancel=v.cancel,b.flush=j,b}e.debounce=r})(Q0)),Q0}var TS;function y7(){return TS||(TS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v7();function r(n,s=0,o={}){const{leading:u=!0,trailing:d=!0}=o;return t.debounce(n,s,{leading:u,maxWait:s,trailing:d})}e.throttle=r})(X0)),X0}var J0,CS;function b7(){return CS||(CS=1,J0=y7().throttle),J0}var w7=b7();const j7=Vn(w7);var ac=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o]};function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ex(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){N7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N7(e,t,r){return(t=_7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ic=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:o="100%",minWidth:u=0,minHeight:d,maxHeight:h,children:m,debounce:g=0,id:x,className:v,onResize:b,style:j={}}=e,_=w.useRef(null),N=w.useRef();N.current=b,w.useImperativeHandle(t,()=>_.current);var[S,O]=w.useState({containerWidth:n.width,containerHeight:n.height}),A=w.useCallback((k,D)=>{O(C=>{var T=Math.round(k),$=Math.round(D);return C.containerWidth===T&&C.containerHeight===$?C:{containerWidth:T,containerHeight:$}})},[]);w.useEffect(()=>{var k=$=>{var L,{width:B,height:J}=$[0].contentRect;A(B,J),(L=N.current)===null||L===void 0||L.call(N,B,J)};g>0&&(k=j7(k,g,{trailing:!0,leading:!1}));var D=new ResizeObserver(k),{width:C,height:T}=_.current.getBoundingClientRect();return A(C,T),D.observe(_.current),()=>{D.disconnect()}},[A,g]);var P=w.useMemo(()=>{var{containerWidth:k,containerHeight:D}=S;if(k<0||D<0)return null;ac(Xi(s)||Xi(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,o),ac(!r||r>0,"The aspect(%s) must be greater than zero.",r);var C=Xi(s)?k:s,T=Xi(o)?D:o;return r&&r>0&&(C?T=C/r:T&&(C=T*r),h&&T>h&&(T=h)),ac(C>0||T>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,C,T,s,o,u,d,r),w.Children.map(m,$=>w.cloneElement($,{width:C,height:T,style:ex({width:C,height:T},$.props.style)}))},[r,m,o,h,d,u,S,s]);return w.createElement("div",{id:x?"".concat(x):void 0,className:Xe("recharts-responsive-container",v),style:ex(ex({},j),{},{width:s,height:o,minWidth:u,minHeight:d,maxHeight:h}),ref:_},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},P))}),uT=e=>null;uT.displayName="Cell";function O7(e,t,r){return(t=A7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class k7{constructor(t){O7(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function T7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){C7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C7(e,t,r){return(t=D7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M7={cacheSize:2e3,enableCache:!0},dT=T7({},M7),MS=new k7(dT.cacheSize),R7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RS="recharts_measurement_span";function $7(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(o,"|").concat(u,"|").concat(d)}var $S=(e,t)=>{try{var r=document.getElementById(RS);r||(r=document.createElement("span"),r.setAttribute("id",RS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,R7,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},sc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||fs.isSsr)return{width:0,height:0};if(!dT.enableCache)return $S(t,r);var n=$7(t,r),s=MS.get(n);if(s)return s;var o=$S(t,r);return MS.set(n,o),o},LS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,I7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fT={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},U7=Object.keys(fT),hl="NaN";function q7(e,t){return e*fT[t]}class kr{static parse(t){var r,[,n,s]=(r=I7.exec(t))!==null&&r!==void 0?r:[];return new kr(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Dr(t)&&(this.unit=""),r!==""&&!L7.test(r)&&(this.num=NaN,this.unit=""),U7.includes(r)&&(this.num=q7(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new kr(NaN,""):new kr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new kr(NaN,""):new kr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kr(NaN,""):new kr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new kr(NaN,""):new kr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Dr(this.num)}}function hT(e){if(e.includes(hl))return hl;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,o]=(r=LS.exec(t))!==null&&r!==void 0?r:[],u=kr.parse(n??""),d=kr.parse(o??""),h=s==="*"?u.multiply(d):u.divide(d);if(h.isNaN())return hl;t=t.replace(LS,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,g,x,v]=(m=IS.exec(t))!==null&&m!==void 0?m:[],b=kr.parse(g??""),j=kr.parse(v??""),_=x==="+"?b.add(j):b.subtract(j);if(_.isNaN())return hl;t=t.replace(IS,_.toString())}return t}var US=/\(([^()]*)\)/;function z7(e){for(var t=e,r;(r=US.exec(t))!=null;){var[,n]=r;t=t.replace(US,hT(n))}return t}function B7(e){var t=e.replace(/\s+/g,"");return t=z7(t),t=hT(t),t}function H7(e){try{return B7(e)}catch{return hl}}function tx(e){var t=H7(e.slice(5,-1));return t===hl?"":t}var K7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Y7=["dx","dy","angle","className","breakAll"];function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}function qS(e,t){if(e==null)return{};var r,n,s=G7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function G7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mT=/[ \f\n\r\t\v\u2028\u2029]+/,gT=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];dt(t)||(r?s=t.toString().split(""):s=t.toString().split(mT));var o=s.map(d=>({word:d,width:sc(d,n).width})),u=r?0:sc(" ",n).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},V7=(e,t,r,n,s)=>{var{maxLines:o,children:u,style:d,breakAll:h}=e,m=ke(o),g=u,x=function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return B.reduce((J,ie)=>{var{word:W,width:Z}=ie,z=J[J.length-1];if(z&&(n==null||s||z.width+Z+r<Number(n)))z.words.push(W),z.width+=Z+r;else{var G={words:[W],width:Z};J.push(G)}return J},[])},v=x(t),b=L=>L.reduce((B,J)=>B.width>J.width?B:J);if(!m||s)return v;var j=v.length>o||b(v).width>Number(n);if(!j)return v;for(var _="…",N=L=>{var B=g.slice(0,L),J=gT({breakAll:h,style:d,children:B+_}).wordsWithComputedWidth,ie=x(J),W=ie.length>o||b(ie).width>Number(n);return[W,ie]},S=0,O=g.length-1,A=0,P;S<=O&&A<=g.length-1;){var k=Math.floor((S+O)/2),D=k-1,[C,T]=N(D),[$]=N(k);if(!C&&!$&&(S=k+1),C&&$&&(O=k-1),!C&&$){P=T;break}A++}return P||v},zS=e=>{var t=dt(e)?[]:e.toString().split(mT);return[{words:t}]},F7=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:o,maxLines:u}=e;if((t||r)&&!fs.isSsr){var d,h,m=gT({breakAll:o,children:n,style:s});if(m){var{wordsWithComputedWidth:g,spaceWidth:x}=m;d=g,h=x}else return zS(n);return V7({breakAll:o,children:n,maxLines:u,style:s},d,h,t,r)}return zS(n)},BS="#808080",Yv=w.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:o="0.71em",scaleToFit:u=!1,textAnchor:d="start",verticalAnchor:h="end",fill:m=BS}=e,g=qS(e,K7),x=w.useMemo(()=>F7({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:v,dy:b,angle:j,className:_,breakAll:N}=g,S=qS(g,Y7);if(!Hn(r)||!Hn(n)||x.length===0)return null;var O=r+(ke(v)?v:0),A=n+(ke(b)?b:0),P;switch(h){case"start":P=tx("calc(".concat(o,")"));break;case"middle":P=tx("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:P=tx("calc(".concat(x.length-1," * -").concat(s,")"));break}var k=[];if(u){var D=x[0].width,{width:C}=g;k.push("scale(".concat(ke(C)?C/D:1,")"))}return j&&k.push("rotate(".concat(j,", ").concat(O,", ").concat(A,")")),k.length&&(S.transform=k.join(" ")),w.createElement("text",lp({},ht(S,!0),{ref:t,x:O,y:A,className:Xe("recharts-text",_),textAnchor:d,fill:m.includes("url")?BS:m}),x.map((T,$)=>{var L=T.words.join(N?"":" ");return w.createElement("tspan",{x:O,dy:$===0?P:s,key:"".concat(L,"-").concat($)},L)}))});Yv.displayName="Text";var W7=["labelRef"];function X7(e,t){if(e==null)return{};var r,n,s=Q7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Q7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _t(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){Z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z7(e,t,r){return(t=J7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pa(){return pa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pa.apply(null,arguments)}var xT=w.createContext(null),t9=e=>{var{x:t,y:r,width:n,height:s,children:o}=e,u=w.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return w.createElement(xT.Provider,{value:u},o)},pT=()=>{var e=w.useContext(xT),t=Wp();return e||t},r9=w.createContext(null),n9=()=>{var e=w.useContext(r9),t=Ce(XE);return e||t},a9=e=>{var{value:t,formatter:r}=e,n=dt(e.children)?t:e.children;return typeof r=="function"?r(n):n},Gv=e=>e!=null&&typeof e=="function",i9=(e,t)=>{var r=Tr(t-e),n=Math.min(Math.abs(t-e),360);return r*n},s9=(e,t,r,n,s)=>{var{offset:o,className:u}=e,{cx:d,cy:h,innerRadius:m,outerRadius:g,startAngle:x,endAngle:v,clockWise:b}=s,j=(m+g)/2,_=i9(x,v),N=_>=0?1:-1,S,O;switch(t){case"insideStart":S=x+N*o,O=b;break;case"insideEnd":S=v-N*o,O=!b;break;case"end":S=v+N*o,O=b;break;default:throw new Error("Unsupported position ".concat(t))}O=_<=0?O:!O;var A=ir(d,h,j,S),P=ir(d,h,j,S+(O?1:-1)*359),k="M".concat(A.x,",").concat(A.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(O?0:1,`,
    `).concat(P.x,",").concat(P.y),D=dt(e.id)?hc("recharts-radial-line-"):e.id;return w.createElement("text",pa({},n,{dominantBaseline:"central",className:Xe("recharts-radial-bar-label",u)}),w.createElement("defs",null,w.createElement("path",{id:D,d:k})),w.createElement("textPath",{xlinkHref:"#".concat(D)},r))},l9=(e,t,r)=>{var{cx:n,cy:s,innerRadius:o,outerRadius:u,startAngle:d,endAngle:h}=e,m=(d+h)/2;if(r==="outside"){var{x:g,y:x}=ir(n,s,u+t,m);return{x:g,y:x,textAnchor:g>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(o+u)/2,{x:b,y:j}=ir(n,s,v,m);return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},vT=e=>"cx"in e&&ke(e.cx),o9=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,o;r!=null&&!vT(r)&&(o=r);var{x:u,y:d,width:h,height:m}=t,g=m>=0?1:-1,x=g*n,v=g>0?"end":"start",b=g>0?"start":"end",j=h>=0?1:-1,_=j*n,N=j>0?"end":"start",S=j>0?"start":"end";if(s==="top"){var O={x:u+h/2,y:d-g*n,textAnchor:"middle",verticalAnchor:v};return _t(_t({},O),o?{height:Math.max(d-o.y,0),width:h}:{})}if(s==="bottom"){var A={x:u+h/2,y:d+m+x,textAnchor:"middle",verticalAnchor:b};return _t(_t({},A),o?{height:Math.max(o.y+o.height-(d+m),0),width:h}:{})}if(s==="left"){var P={x:u-_,y:d+m/2,textAnchor:N,verticalAnchor:"middle"};return _t(_t({},P),o?{width:Math.max(P.x-o.x,0),height:m}:{})}if(s==="right"){var k={x:u+h+_,y:d+m/2,textAnchor:S,verticalAnchor:"middle"};return _t(_t({},k),o?{width:Math.max(o.x+o.width-k.x,0),height:m}:{})}var D=o?{width:h,height:m}:{};return s==="insideLeft"?_t({x:u+_,y:d+m/2,textAnchor:S,verticalAnchor:"middle"},D):s==="insideRight"?_t({x:u+h-_,y:d+m/2,textAnchor:N,verticalAnchor:"middle"},D):s==="insideTop"?_t({x:u+h/2,y:d+x,textAnchor:"middle",verticalAnchor:b},D):s==="insideBottom"?_t({x:u+h/2,y:d+m-x,textAnchor:"middle",verticalAnchor:v},D):s==="insideTopLeft"?_t({x:u+_,y:d+x,textAnchor:S,verticalAnchor:b},D):s==="insideTopRight"?_t({x:u+h-_,y:d+x,textAnchor:N,verticalAnchor:b},D):s==="insideBottomLeft"?_t({x:u+_,y:d+m-x,textAnchor:S,verticalAnchor:v},D):s==="insideBottomRight"?_t({x:u+h-_,y:d+m-x,textAnchor:N,verticalAnchor:v},D):s&&typeof s=="object"&&(ke(s.x)||Xi(s.x))&&(ke(s.y)||Xi(s.y))?_t({x:u+An(s.x,h),y:d+An(s.y,m),textAnchor:"end",verticalAnchor:"end"},D):_t({x:u+h/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},D)},c9={offset:5};function li(e){var t=Qr(e,c9),{viewBox:r,position:n,value:s,children:o,content:u,className:d="",textBreakAll:h,labelRef:m}=t,g=n9(),x=pT(),v=n==="center"?x:g??x,b=r||v;if(!b||dt(s)&&dt(o)&&!w.isValidElement(u)&&typeof u!="function")return null;var j=_t(_t({},t),{},{viewBox:b});if(w.isValidElement(u)){var{labelRef:_}=j,N=X7(j,W7);return w.cloneElement(u,N)}var S;if(typeof u=="function"){if(S=w.createElement(u,j),w.isValidElement(S))return S}else S=a9(t);var O=vT(b),A=ht(t,!0);if(O&&(n==="insideStart"||n==="insideEnd"||n==="end"))return s9(t,n,S,A,b);var P=O?l9(b,t.offset,t.position):o9(t,b);return w.createElement(Yv,pa({ref:m,className:Xe("recharts-label",d)},A,P,{breakAll:h}),S)}li.displayName="Label";var u9=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(li,pa({key:"label-implicit"},n)):Hn(e)?w.createElement(li,pa({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===li?w.cloneElement(e,_t({key:"label-implicit"},n)):w.createElement(li,pa({key:"label-implicit",content:e},n)):Gv(e)?w.createElement(li,pa({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(li,pa({},e,{key:"label-implicit"},n)):null};function d9(e){var{label:t}=e,r=pT();return u9(t,r)||null}var rx={},nx={},KS;function f9(){return KS||(KS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(nx)),nx}var ax={},YS;function h9(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(ax)),ax}var GS;function m9(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f9(),r=h9(),n=qp();function s(o){if(n.isArrayLike(o))return t.last(r.toArray(o))}e.last=s})(rx)),rx}var ix,VS;function g9(){return VS||(VS=1,ix=m9().last),ix}var x9=g9();const p9=Vn(x9);var v9=["valueAccessor"],y9=["dataKey","clockWise","id","textBreakAll"];function xf(){return xf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xf.apply(null,arguments)}function FS(e,t){if(e==null)return{};var r,n,s=b9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function b9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w9=e=>Array.isArray(e.value)?p9(e.value):e.value,yT=w.createContext(void 0),Vv=yT.Provider,bT=w.createContext(void 0);bT.Provider;function j9(){return w.useContext(yT)}function N9(){return w.useContext(bT)}function Md(e){var{valueAccessor:t=w9}=e,r=FS(e,v9),{dataKey:n,clockWise:s,id:o,textBreakAll:u}=r,d=FS(r,y9),h=j9(),m=N9(),g=h||m;return!g||!g.length?null:w.createElement(fr,{className:"recharts-label-list"},g.map((x,v)=>{var b,j=dt(n)?t(x,v):Et(x&&x.payload,n),_=dt(o)?{}:{id:"".concat(o,"-").concat(v)};return w.createElement(li,xf({},ht(x,!0),d,_,{fill:(b=r.fill)!==null&&b!==void 0?b:x.fill,parentViewBox:x.parentViewBox,value:j,textBreakAll:u,viewBox:x.viewBox,key:"label-".concat(v),index:v}))}))}Md.displayName="LabelList";function Fv(e){var{label:t}=e;return t?t===!0?w.createElement(Md,{key:"labelList-implicit"}):w.isValidElement(t)||Gv(t)?w.createElement(Md,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(Md,xf({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function op(){return op=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},op.apply(null,arguments)}var Wv=e=>{var{cx:t,cy:r,r:n,className:s}=e,o=Xe("recharts-dot",s);return t===+t&&r===+r&&n===+n?w.createElement("circle",op({},Ca(e),Rp(e),{className:o,cx:t,cy:r,r:n})):null},_9={radiusAxis:{},angleAxis:{}},wT=Xr({name:"polarAxis",initialState:_9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:vF,removeRadiusAxis:yF,addAngleAxis:bF,removeAngleAxis:wF}=wT.actions,S9=wT.reducer,sx={},WS;function O9(){return WS||(WS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(sx)),sx}var lx,XS;function A9(){return XS||(XS=1,lx=O9().isPlainObject),lx}var E9=A9();const k9=Vn(E9);function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){T9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T9(e,t,r){return(t=C9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function C9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function pf(){return pf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},pf.apply(null,arguments)}var JS=(e,t,r,n,s)=>{var o=r-n,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+r,",").concat(t),u+="L ".concat(e+r-o/2,",").concat(t+s),u+="L ".concat(e+r-o/2-n,",").concat(t+s),u+="L ".concat(e,",").concat(t," Z"),u},P9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M9=e=>{var t=Qr(e,P9),{x:r,y:n,upperWidth:s,lowerWidth:o,height:u,className:d}=t,{animationEasing:h,animationDuration:m,animationBegin:g,isUpdateAnimationActive:x}=t,v=w.useRef(),[b,j]=w.useState(-1),_=w.useRef(s),N=w.useRef(o),S=w.useRef(u),O=w.useRef(r),A=w.useRef(n),P=Rc(e,"trapezoid-");if(w.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var W=v.current.getTotalLength();W&&j(W)}catch{}},[]),r!==+r||n!==+n||s!==+s||o!==+o||u!==+u||s===0&&o===0||u===0)return null;var k=Xe("recharts-trapezoid",d);if(!x)return w.createElement("g",null,w.createElement("path",pf({},ht(t,!0),{className:k,d:JS(r,n,s,o,u)})));var D=_.current,C=N.current,T=S.current,$=O.current,L=A.current,B="0px ".concat(b===-1?1:b,"px"),J="".concat(b,"px 0px"),ie=qA(["strokeDasharray"],m,h);return w.createElement(Mc,{animationId:P,key:P,canBegin:b>0,duration:m,easing:h,isActive:x,begin:g},W=>{var Z=ct(D,s,W),z=ct(C,o,W),G=ct(T,u,W),le=ct($,r,W),ge=ct(L,n,W);v.current&&(_.current=Z,N.current=z,S.current=G,O.current=le,A.current=ge);var I=W>0?{transition:ie,strokeDasharray:J}:{strokeDasharray:B};return w.createElement("path",pf({},ht(t,!0),{className:k,d:JS(le,ge,Z,z,G),ref:v,style:ZS(ZS({},I),t.style)}))})},R9=["option","shapeType","propTransformer","activeClassName","isActive"];function $9(e,t){if(e==null)return{};var r,n,s=L9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function L9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){I9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I9(e,t,r){return(t=U9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z9(e,t){return vf(vf({},t),e)}function B9(e,t){return e==="symbols"}function t2(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(KA,r);case"trapezoid":return w.createElement(M9,r);case"sector":return w.createElement(VA,r);case"symbols":if(B9(t))return w.createElement(VO,r);break;default:return null}}function H9(e){return w.isValidElement(e)?e.props:e}function K9(e){var{option:t,shapeType:r,propTransformer:n=z9,activeClassName:s="recharts-active-shape",isActive:o}=e,u=$9(e,R9),d;if(w.isValidElement(t))d=w.cloneElement(t,vf(vf({},u),H9(t)));else if(typeof t=="function")d=t(u);else if(k9(t)&&typeof t!="boolean"){var h=n(t,u);d=w.createElement(t2,{shapeType:r,elementProps:h})}else{var m=u;d=w.createElement(t2,{shapeType:r,elementProps:m})}return o?w.createElement(fr,{className:s},d):d}var jT=(e,t)=>{var r=Ft();return(n,s)=>o=>{e?.(n,s,o),r(qk({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},NT=e=>{var t=Ft();return(r,n)=>s=>{e?.(r,n,s),t(qz())}},_T=(e,t)=>{var r=Ft();return(n,s)=>o=>{e?.(n,s,o),r(zz({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Xv(e){var{fn:t,args:r}=e,n=Ft(),s=hr();return w.useEffect(()=>{if(!s){var o=t(r);return n(Lz(o)),()=>{n(Iz(o))}}},[t,r,n,s]),null}var Y9=()=>{};function Qv(e){var{legendPayload:t}=e,r=Ft(),n=hr();return w.useEffect(()=>n?Y9:(r(PL(t)),()=>{r(ML(t))}),[r,n,t]),null}var ox,G9=()=>{var[e]=w.useState(()=>hc("uid-"));return e},V9=(ox=yD.useId)!==null&&ox!==void 0?ox:G9;function F9(e,t){var r=V9();return t||(e?"".concat(e,"-").concat(r):r)}var W9=w.createContext(void 0),Zv=e=>{var{id:t,type:r,children:n}=e,s=F9("recharts-".concat(r),t);return w.createElement(W9.Provider,{value:s},n(s))},X9={cartesianItems:[],polarItems:[]},ST=Xr({name:"graphicalItems",initialState:X9,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=ja(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=ja(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=ja(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Q9,replaceCartesianGraphicalItem:Z9,removeCartesianGraphicalItem:J9,addPolarGraphicalItem:jF,removePolarGraphicalItem:NF}=ST.actions,eH=ST.reducer;function Jv(e){var t=Ft(),r=w.useRef(null);return w.useEffect(()=>{r.current===null?t(Q9(e)):r.current!==e&&t(Z9({prev:r.current,next:e})),r.current=e},[t,e]),w.useEffect(()=>()=>{r.current&&(t(J9(r.current)),r.current=null)},[t]),null}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return(t=rH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aH={xAxis:{},yAxis:{},zAxis:{}},OT=Xr({name:"cartesianAxis",initialState:aH,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=n2(n2({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:iH,removeXAxis:sH,addYAxis:lH,removeYAxis:oH,addZAxis:_F,removeZAxis:SF,updateYAxisWidth:cH}=OT.actions,uH=OT.reducer,dH=ce([Wt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),fH=ce([dH,Da,Pa],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),oh=()=>Ce(fH),hH=()=>Ce(AB);function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){mH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mH(e,t,r){return(t=gH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=xH(e,"string");return typeof t=="symbol"?t:t+""}function xH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pH=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:o}=e;if(s===!1||t.x==null||t.y==null)return null;var u=i2(i2({index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},ht(s,!1)),Rp(s)),d;return w.isValidElement(s)?d=w.cloneElement(s,u):typeof s=="function"?d=s(u):d=w.createElement(Wv,u),w.createElement(fr,{className:"recharts-active-dot"},d)};function cp(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,o=Ce(cs),u=hH();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return dt(d)?null:pH({point:d,childIndex:Number(o),mainColor:r,dataKey:s,activeDot:n})}var vH="Invariant failed";function yH(e,t){throw new Error(vH)}var bH=["x","y"];function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},up.apply(null,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Wo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return(t=jH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _H(e,t){if(e==null)return{};var r,n,s=SH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OH(e,t){var{x:r,y:n}=e,s=_H(e,bH),o="".concat(r),u=parseInt(o,10),d="".concat(n),h=parseInt(d,10),m="".concat(t.height||s.height),g=parseInt(m,10),x="".concat(t.width||s.width),v=parseInt(x,10);return Wo(Wo(Wo(Wo(Wo({},t),s),u?{x:u}:{}),h?{y:h}:{}),{},{height:g,width:v,name:t.name,radius:t.radius})}function ey(e){return w.createElement(K9,up({shapeType:"rectangle",propTransformer:OH,activeClassName:"recharts-active-bar"},e))}var AH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(ke(t))return t;var o=ke(n)||dt(n);return o?t(n,s):(o||yH(),r)}},EH={},AT=Xr({name:"errorBars",initialState:EH,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===n.dataKey&&o.direction===n.direction?s:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:OF,replaceErrorBar:AF,removeErrorBar:EF}=AT.actions,kH=AT.reducer,TH=["children"];function CH(e,t){if(e==null)return{};var r,n,s=DH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},MH=w.createContext(PH);function ET(e){var{children:t}=e,r=CH(e,TH);return w.createElement(MH.Provider,{value:r},t)}function ch(e,t){var r,n,s=Ce(m=>vi(m,e)),o=Ce(m=>yi(m,t)),u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:Hr.allowDataOverflow,d=(n=o?.allowDataOverflow)!==null&&n!==void 0?n:Kr.allowDataOverflow,h=u||d;return{needClip:h,needClipX:u,needClipY:d}}function ty(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=oh(),{needClipX:o,needClipY:u,needClip:d}=ch(t,r);if(!d)return null;var{x:h,y:m,width:g,height:x}=s;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:o?h:h-g/2,y:u?m:m-x/2,width:o?g:g*2,height:u?x:x*2}))}var RH=["onMouseEnter","onMouseLeave","onClick"],$H=["value","background","tooltipPosition"],LH=["id"],IH=["onMouseEnter","onClick","onMouseLeave"];function fi(){return fi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fi.apply(null,arguments)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function wr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){UH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function yf(e,t){if(e==null)return{};var r,n,s=BH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function BH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HH=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:n,value:Tl(r,t),payload:e}]};function KH(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:o,hide:u,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Tl(o,t),hide:u,type:e.tooltipType,color:e.fill,unit:d}}}function YH(e){var t=Ce(cs),{data:r,dataKey:n,background:s,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:d,onClick:h}=o,m=yf(o,RH),g=jT(u,n),x=NT(d),v=_T(h,n);if(!s||r==null)return null;var b=ht(s,!1);return w.createElement(w.Fragment,null,r.map((j,_)=>{var{value:N,background:S,tooltipPosition:O}=j,A=yf(j,$H);if(!S)return null;var P=g(j,_),k=x(j,_),D=v(j,_),C=wr(wr(wr(wr(wr({option:s,isActive:String(_)===t},A),{},{fill:"#eee"},S),b),$p(m,j,_)),{},{onMouseEnter:P,onMouseLeave:k,onClick:D,dataKey:n,index:_,className:"recharts-bar-background-rectangle"});return w.createElement(ey,fi({key:"background-bar-".concat(_)},C))}))}function GH(e){var{showLabels:t,children:r,rects:n}=e,s=n?.map(o=>{var u={x:o.x,y:o.y,width:o.width,height:o.height};return wr(wr({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return w.createElement(Vv,{value:t?s:void 0},r)}function VH(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:o,dataKey:u}=e,d=Ce(cs),h=Ce(Jk),m=r&&String(o)===d&&(h==null||u===h),g=m?r:t;return w.createElement(ey,fi({},n,s,{isActive:m,option:g,index:o,dataKey:u}))}function FH(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:o}=e;return w.createElement(ey,fi({},r,n,{isActive:!1,option:t,index:s,dataKey:o}))}function WH(e){var{data:t,props:r}=e,n=Ca(r),{id:s}=n,o=yf(n,LH),{shape:u,dataKey:d,activeBar:h}=r,{onMouseEnter:m,onClick:g,onMouseLeave:x}=r,v=yf(r,IH),b=jT(m,d),j=NT(x),_=_T(g,d);return t?w.createElement(w.Fragment,null,t.map((N,S)=>w.createElement(fr,fi({className:"recharts-bar-rectangle"},$p(v,N,S),{onMouseEnter:b(N,S),onMouseLeave:j(N,S),onClick:_(N,S),key:"rectangle-".concat(N?.x,"-").concat(N?.y,"-").concat(N?.value,"-").concat(S)}),h?w.createElement(VH,{shape:u,activeBar:h,baseProps:o,entry:N,index:S,dataKey:d}):w.createElement(FH,{shape:u,baseProps:o,entry:N,index:S,dataKey:d})))):null}function XH(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:o,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationEnd:m,onAnimationStart:g}=t,x=r.current,v=Rc(t,"recharts-bar-"),[b,j]=w.useState(!1),_=!b,N=w.useCallback(()=>{typeof m=="function"&&m(),j(!1)},[m]),S=w.useCallback(()=>{typeof g=="function"&&g(),j(!0)},[g]);return w.createElement(GH,{showLabels:_,rects:n},w.createElement(Mc,{animationId:v,begin:u,duration:d,isActive:o,easing:h,onAnimationEnd:N,onAnimationStart:S,key:v},O=>{var A=O===1?n:n?.map((P,k)=>{var D=x&&x[k];if(D)return wr(wr({},P),{},{x:ct(D.x,P.x,O),y:ct(D.y,P.y,O),width:ct(D.width,P.width,O),height:ct(D.height,P.height,O)});if(s==="horizontal"){var C=ct(0,P.height,O);return wr(wr({},P),{},{y:P.y+P.height-C,height:C})}var T=ct(0,P.width,O);return wr(wr({},P),{},{width:T})});return O>0&&(r.current=A??null),A==null?null:w.createElement(fr,null,w.createElement(WH,{props:t,data:A}))}),w.createElement(Fv,{label:t.label}),t.children)}function QH(e){var t=w.useRef(null);return w.createElement(XH,{previousRectanglesRef:t,props:e})}var kT=0,ZH=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:Et(e,t)}};class JH extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:o,yAxisId:u,needClip:d,background:h,id:m}=this.props;if(t||r==null)return null;var g=Xe("recharts-bar",s),x=m;return w.createElement(fr,{className:g,id:m},d&&w.createElement("defs",null,w.createElement(ty,{clipPathId:x,xAxisId:o,yAxisId:u})),w.createElement(fr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},w.createElement(YH,{data:r,dataKey:n,background:h,allOtherBarProps:this.props}),w.createElement(QH,this.props)))}}var eK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!fs.isSsr,legendType:"rect",minPointSize:kT,xAxisId:0,yAxisId:0};function tK(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:h,animationEasing:m,isAnimationActive:g}=e,{needClip:x}=ch(t,r),v=Pc(),b=hr(),j=t5(e.children,uT),_=Ce(O=>EK(O,t,r,b,e.id,j));if(v!=="vertical"&&v!=="horizontal")return null;var N,S=_?.[0];return S==null||S.height==null||S.width==null?N=0:N=v==="vertical"?S.height/2:S.width/2,w.createElement(ET,{xAxisId:t,yAxisId:r,data:_,dataPointFormatter:ZH,errorBarOffset:N},w.createElement(JH,fi({},e,{layout:v,needClip:x,data:_,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:h,animationEasing:m,isAnimationActive:g})))}function rK(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:o,xAxis:u,yAxis:d,xAxisTicks:h,yAxisTicks:m,stackedData:g,displayedData:x,offset:v,cells:b,parentViewBox:j}=e,_=t==="horizontal"?d:u,N=g?_.scale.domain():null,S=dL({numericAxis:_});return x.map((O,A)=>{var P,k,D,C,T,$;g?P=sL(g[A],N):(P=Et(O,r),Array.isArray(P)||(P=[S,P]));var L=AH(n,kT)(P[1],A);if(t==="horizontal"){var B,[J,ie]=[d.scale(P[0]),d.scale(P[1])];k=ZN({axis:u,ticks:h,bandSize:o,offset:s.offset,entry:O,index:A}),D=(B=ie??J)!==null&&B!==void 0?B:void 0,C=s.size;var W=J-ie;if(T=Dr(W)?0:W,$={x:k,y:v.top,width:C,height:v.height},Math.abs(L)>0&&Math.abs(T)<Math.abs(L)){var Z=Tr(T||L)*(Math.abs(L)-Math.abs(T));D-=Z,T+=Z}}else{var[z,G]=[u.scale(P[0]),u.scale(P[1])];if(k=z,D=ZN({axis:d,ticks:m,bandSize:o,offset:s.offset,entry:O,index:A}),C=G-z,T=s.size,$={x:v.left,y:D,width:v.width,height:T},Math.abs(L)>0&&Math.abs(C)<Math.abs(L)){var le=Tr(C||L)*(Math.abs(L)-Math.abs(C));C+=le}}if(k==null||D==null||C==null||T==null)return null;var ge=wr(wr({},O),{},{x:k,y:D,width:C,height:T,value:g?P:P[1],payload:O,background:$,tooltipPosition:{x:k+C/2,y:D+T/2},parentViewBox:j},b&&b[A]&&b[A].props);return ge}).filter(Boolean)}function bf(e){var t=Qr(e,eK),r=hr();return w.createElement(Zv,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(Qv,{legendPayload:HH(t)}),w.createElement(Xv,{fn:KH,args:t}),w.createElement(Jv,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:PA(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(tK,fi({},t,{id:n}))))}bf.displayName="Bar";function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function kd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){nK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nK(e,t,r){return(t=aK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sK=(e,t)=>t,lK=(e,t,r)=>r,oK=(e,t,r,n)=>n,cK=(e,t,r,n,s)=>s,Fc=ce([Bc,cK],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),uK=ce([Fc],e=>e?.maxBarSize),dK=(e,t,r,n,s,o)=>o,c2=(e,t,r)=>{var n=r??e;if(!dt(n))return An(n,t,0)},fK=ce([Ye,Bc,sK,lK,oK],(e,t,r,n,s)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===n).filter(o=>o.isPanorama===s).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),hK=(e,t,r,n)=>{var s=Ye(e);return s==="horizontal"?jc(e,"yAxis",r,n):jc(e,"xAxis",t,n)},mK=(e,t,r)=>{var n=Ye(e);return n==="horizontal"?hS(e,"xAxis",t):hS(e,"yAxis",r)},gK=(e,t,r)=>{var n={},s=e.filter(rh),o=e.filter(m=>m.stackId==null),u=s.reduce((m,g)=>(m[g.stackId]||(m[g.stackId]=[]),m[g.stackId].push(g),m),n),d=Object.entries(u).map(m=>{var[g,x]=m,v=x.map(j=>j.dataKey),b=c2(t,r,x[0].barSize);return{stackId:g,dataKeys:v,barSize:b}}),h=o.map(m=>{var g=[m.dataKey].filter(v=>v!=null),x=c2(t,r,m.barSize);return{stackId:void 0,dataKeys:g,barSize:x}});return[...d,...h]},xK=ce([fK,Lq,mK],gK),pK=(e,t,r,n,s)=>{var o,u,d=Fc(e,t,r,n,s);if(d!=null){var h=Ye(e),m=HE(e),{maxBarSize:g}=d,x=dt(g)?m:g,v,b;return h==="horizontal"?(v=Gn(e,"xAxis",t,n),b=Yn(e,"xAxis",t,n)):(v=Gn(e,"yAxis",r,n),b=Yn(e,"yAxis",r,n)),(o=(u=ls(v,b,!0))!==null&&u!==void 0?u:x)!==null&&o!==void 0?o:0}},TT=(e,t,r,n)=>{var s=Ye(e),o,u;return s==="horizontal"?(o=Gn(e,"xAxis",t,n),u=Yn(e,"xAxis",t,n)):(o=Gn(e,"yAxis",r,n),u=Yn(e,"yAxis",r,n)),ls(o,u)};function vK(e,t,r,n,s){var o=n.length;if(!(o<1)){var u=An(e,r,0,!0),d,h=[];if(lr(n[0].barSize)){var m=!1,g=r/o,x=n.reduce((S,O)=>S+(O.barSize||0),0);x+=(o-1)*u,x>=r&&(x-=(o-1)*u,u=0),x>=r&&g>0&&(m=!0,g*=.9,x=o*g);var v=(r-x)/2>>0,b={offset:v-u,size:0};d=n.reduce((S,O)=>{var A,P={stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:b.offset+b.size+u,size:m?g:(A=O.barSize)!==null&&A!==void 0?A:0}},k=[...S,P];return b=k[k.length-1].position,k},h)}else{var j=An(t,r,0,!0);r-2*j-(o-1)*u<=0&&(u=0);var _=(r-2*j-(o-1)*u)/o;_>1&&(_>>=0);var N=lr(s)?Math.min(_,s):_;d=n.reduce((S,O,A)=>[...S,{stackId:O.stackId,dataKeys:O.dataKeys,position:{offset:j+(_+u)*A+(_-N)/2,size:N}}],h)}return d}}var yK=(e,t,r,n,s,o,u)=>{var d=dt(u)?t:u,h=vK(r,n,s!==o?s:o,e,d);return s!==o&&h!=null&&(h=h.map(m=>kd(kd({},m),{},{position:kd(kd({},m.position),{},{offset:m.position.offset-s/2})}))),h},bK=ce([xK,HE,$q,KE,pK,TT,uK],yK),wK=(e,t,r,n)=>Gn(e,"xAxis",t,n),jK=(e,t,r,n)=>Gn(e,"yAxis",r,n),NK=(e,t,r,n)=>Yn(e,"xAxis",t,n),_K=(e,t,r,n)=>Yn(e,"yAxis",r,n),SK=ce([bK,Fc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),OK=(e,t)=>{var r=th(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:o}=s;if(o)return o.find(u=>u.key===r)}}}},AK=ce([hK,Fc],OK),EK=ce([Wt,Fp,wK,jK,NK,_K,SK,Ye,qc,TT,AK,Fc,dK],(e,t,r,n,s,o,u,d,h,m,g,x,v)=>{var{chartData:b,dataStartIndex:j,dataEndIndex:_}=h;if(!(x==null||u==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||s==null||o==null||m==null)){var{data:N}=x,S;if(N!=null&&N.length>0?S=N:S=b?.slice(j,_+1),S!=null)return rK({layout:d,barSettings:x,pos:u,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:o,stackedData:g,displayedData:S,offset:e,cells:v})}}),kK=e=>{var{chartData:t}=e,r=Ft(),n=hr();return w.useEffect(()=>n?()=>{}:(r(NS(t)),()=>{r(NS(void 0))}),[t,r,n]),null},u2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},CT=Xr({name:"brush",initialState:u2,reducers:{setBrushSettings(e,t){return t.payload==null?u2:t.payload}}}),{setBrushSettings:kF}=CT.actions,TK=CT.reducer;function CK(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=PK(e,"string");return typeof t=="symbol"?t:t+""}function PK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ry{static create(t){return new ry(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}CK(ry,"EPS",1e-4);function MK(e){return(e%180+180)%180}var RK=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=MK(s),u=o*Math.PI/180,d=Math.atan(n/r),h=u>d&&u<Math.PI-d?n/Math.sin(u):r/Math.cos(u);return Math.abs(h)},$K={dots:[],areas:[],lines:[]},DT=Xr({name:"referenceElements",initialState:$K,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=ja(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=ja(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=ja(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:TF,removeDot:CF,addArea:DF,removeArea:PF,addLine:MF,removeLine:RF}=DT.actions,LK=DT.reducer,IK=w.createContext(void 0),UK=e=>{var{children:t}=e,[r]=w.useState("".concat(hc("recharts"),"-clip")),n=oh();if(n==null)return null;var{x:s,y:o,width:u,height:d}=n;return w.createElement(IK.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:s,y:o,height:d,width:u}))),t)};function cx(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function PT(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function qK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return RK(n,r)}function zK(e,t,r){var n=r==="width",{x:s,y:o,width:u,height:d}=e;return t===1?{start:n?s:o,end:n?s+u:o+d}:{start:n?s+u:o+d,end:n?s:o}}function wf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-s)<=0}function BK(e,t){return PT(e,t+1)}function HK(e,t,r,n,s){for(var o=(n||[]).slice(),{start:u,end:d}=t,h=0,m=1,g=u,x=function(){var j=n?.[h];if(j===void 0)return{v:PT(n,m)};var _=h,N,S=()=>(N===void 0&&(N=r(j,_)),N),O=j.coordinate,A=h===0||wf(e,O,S,g,d);A||(h=0,g=u,m+=1),A&&(g=O+e*(S()/2+s),h+=m)},v;m<=o.length;)if(v=x(),v)return v.v;return[]}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ur(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){KK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t,r){return(t=YK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=GK(e,"string");return typeof t=="symbol"?t:t+""}function GK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VK(e,t,r,n,s){for(var o=(n||[]).slice(),u=o.length,{start:d}=t,{end:h}=t,m=function(v){var b=o[v],j,_=()=>(j===void 0&&(j=r(b,v)),j);if(v===u-1){var N=e*(b.coordinate+e*_()/2-h);o[v]=b=ur(ur({},b),{},{tickCoord:N>0?b.coordinate-N*e:b.coordinate})}else o[v]=b=ur(ur({},b),{},{tickCoord:b.coordinate});var S=wf(e,b.tickCoord,_,d,h);S&&(h=b.tickCoord-e*(_()/2+s),o[v]=ur(ur({},b),{},{isShow:!0}))},g=u-1;g>=0;g--)m(g);return o}function FK(e,t,r,n,s,o){var u=(n||[]).slice(),d=u.length,{start:h,end:m}=t;if(o){var g=n[d-1],x=r(g,d-1),v=e*(g.coordinate+e*x/2-m);u[d-1]=g=ur(ur({},g),{},{tickCoord:v>0?g.coordinate-v*e:g.coordinate});var b=wf(e,g.tickCoord,()=>x,h,m);b&&(m=g.tickCoord-e*(x/2+s),u[d-1]=ur(ur({},g),{},{isShow:!0}))}for(var j=o?d-1:d,_=function(O){var A=u[O],P,k=()=>(P===void 0&&(P=r(A,O)),P);if(O===0){var D=e*(A.coordinate-e*k()/2-h);u[O]=A=ur(ur({},A),{},{tickCoord:D<0?A.coordinate-D*e:A.coordinate})}else u[O]=A=ur(ur({},A),{},{tickCoord:A.coordinate});var C=wf(e,A.tickCoord,k,h,m);C&&(h=A.tickCoord+e*(k()/2+s),u[O]=ur(ur({},A),{},{isShow:!0}))},N=0;N<j;N++)_(N);return u}function ny(e,t,r){var{tick:n,ticks:s,viewBox:o,minTickGap:u,orientation:d,interval:h,tickFormatter:m,unit:g,angle:x}=e;if(!s||!s.length||!n)return[];if(ke(h)||fs.isSsr){var v;return(v=BK(s,ke(h)?h:0))!==null&&v!==void 0?v:[]}var b=[],j=d==="top"||d==="bottom"?"width":"height",_=g&&j==="width"?sc(g,{fontSize:t,letterSpacing:r}):{width:0,height:0},N=(A,P)=>{var k=typeof m=="function"?m(A.value,P):A.value;return j==="width"?qK(sc(k,{fontSize:t,letterSpacing:r}),_,x):sc(k,{fontSize:t,letterSpacing:r})[j]},S=s.length>=2?Tr(s[1].coordinate-s[0].coordinate):1,O=zK(o,S,j);return h==="equidistantPreserveStart"?HK(S,O,N,s,u):(h==="preserveStart"||h==="preserveStartEnd"?b=FK(S,O,N,s,u,h==="preserveStartEnd"):b=VK(S,O,N,s,u),b.filter(A=>A.isShow))}var WK=["viewBox"],XK=["viewBox"];function ml(){return ml=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ml.apply(null,arguments)}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Pt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){ay(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h2(e,t){if(e==null)return{};var r,n,s=QK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function QK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ay(e,t,r){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class bi extends w.Component{constructor(t){super(t),this.tickRefs=w.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=h2(t,WK),o=this.props,{viewBox:u}=o,d=h2(o,XK);return!cx(n,u)||!cx(s,d)||!cx(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:o,orientation:u,tickSize:d,mirror:h,tickMargin:m}=this.props,g,x,v,b,j,_,N=h?-1:1,S=t.tickSize||d,O=ke(t.tickCoord)?t.tickCoord:t.coordinate;switch(u){case"top":g=x=t.coordinate,b=n+ +!h*o,v=b-N*S,_=v-N*m,j=O;break;case"left":v=b=t.coordinate,x=r+ +!h*s,g=x-N*S,j=g-N*m,_=O;break;case"right":v=b=t.coordinate,x=r+ +h*s,g=x+N*S,j=g+N*m,_=O;break;default:g=x=t.coordinate,b=n+ +h*o,v=b+N*S,_=v+N*m,j=O;break}return{line:{x1:g,y1:v,x2:x,y2:b},tick:{x:j,y:_}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:o,mirror:u,axisLine:d}=this.props,h=Pt(Pt(Pt({},ht(this.props,!1)),ht(d,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!u||o==="bottom"&&u);h=Pt(Pt({},h),{},{x1:t,y1:r+m*s,x2:t+n,y2:r+m*s})}else{var g=+(o==="left"&&!u||o==="right"&&u);h=Pt(Pt({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+s})}return w.createElement("line",ml({},h,{className:Xe("recharts-cartesian-axis-line",bl(d,"className"))}))}static renderTickItem(t,r,n){var s,o=Xe(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))s=w.cloneElement(t,Pt(Pt({},r),{},{className:o}));else if(typeof t=="function")s=t(Pt(Pt({},r),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=Xe(u,t.className)),s=w.createElement(Yv,ml({},r,{className:u}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:o,tick:u,tickFormatter:d,unit:h,padding:m,tickTextProps:g}=this.props,x=ny(Pt(Pt({},this.props),{},{ticks:n}),t,r),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),j=Ca(this.props),_=ht(u,!1),N=Pt(Pt({},j),{},{fill:"none"},ht(s,!1)),S=x.map((O,A)=>{var{line:P,tick:k}=this.getTickLineCoord(O),D=Pt(Pt(Pt(Pt({textAnchor:v,verticalAnchor:b},j),{},{stroke:"none",fill:o},_),k),{},{index:A,payload:O,visibleTicksCount:x.length,tickFormatter:d,padding:m},g);return w.createElement(fr,ml({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},$p(this.props,O,A)),s&&w.createElement("line",ml({},N,P,{className:Xe("recharts-cartesian-axis-tick-line",bl(s,"className"))})),u&&bi.renderTickItem(u,D,"".concat(typeof d=="function"?d(O.value,A):O.value).concat(h||"")))});return S.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},S):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:o}=this.props;if(o)return null;var{ticks:u}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:w.createElement(fr,{className:Xe("recharts-cartesian-axis",s),ref:d=>{if(d){var h=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(h);var m=h[0];if(m){var g=window.getComputedStyle(m).fontSize,x=window.getComputedStyle(m).letterSpacing;(g!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,u),w.createElement(t9,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},w.createElement(d9,{label:this.props.label}),this.props.children))}}ay(bi,"displayName","CartesianAxis");ay(bi,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eY=["x1","y1","x2","y2","key"],tY=["offset"],rY=["xAxisId","yAxisId"],nY=["xAxisId","yAxisId"];function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){aY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Ji(){return Ji=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ji.apply(null,arguments)}function jf(e,t){if(e==null)return{};var r,n,s=lY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oY=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:o,height:u,ry:d}=e;return w.createElement("rect",{x:n,y:s,ry:d,width:o,height:u,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function MT(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:o,y2:u,key:d}=t,h=jf(t,eY),m=Ca(h),{offset:g}=m,x=jf(m,tY);r=w.createElement("line",Ji({},x,{x1:n,y1:s,x2:o,y2:u,fill:"none",key:d}))}return r}function cY(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=jf(e,rY),h=s.map((m,g)=>{var x=dr(dr({},d),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(g),index:g});return MT(n,x)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function uY(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=jf(e,nY),h=s.map((m,g)=>{var x=dr(dr({},d),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(g),index:g});return MT(n,x)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function dY(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:o,height:u,horizontalPoints:d,horizontal:h=!0}=e;if(!h||!t||!t.length)return null;var m=d.map(x=>Math.round(x+s-s)).sort((x,v)=>x-v);s!==m[0]&&m.unshift(0);var g=m.map((x,v)=>{var b=!m[v+1],j=b?s+u-x:m[v+1]-x;if(j<=0)return null;var _=v%t.length;return w.createElement("rect",{key:"react-".concat(v),y:x,x:n,height:j,width:o,stroke:"none",fill:t[_],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function fY(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:o,width:u,height:d,verticalPoints:h}=e;if(!t||!r||!r.length)return null;var m=h.map(x=>Math.round(x+s-s)).sort((x,v)=>x-v);s!==m[0]&&m.unshift(0);var g=m.map((x,v)=>{var b=!m[v+1],j=b?s+u-x:m[v+1]-x;if(j<=0)return null;var _=v%r.length;return w.createElement("rect",{key:"react-".concat(v),x,y:o,width:j,height:d,stroke:"none",fill:r[_],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var hY=(e,t)=>{var{xAxis:r,width:n,height:s,offset:o}=e;return CA(ny(dr(dr(dr({},bi.defaultProps),r),{},{ticks:DA(r),viewBox:{x:0,y:0,width:n,height:s}})),o.left,o.left+o.width,t)},mY=(e,t)=>{var{yAxis:r,width:n,height:s,offset:o}=e;return CA(ny(dr(dr(dr({},bi.defaultProps),r),{},{ticks:DA(r),viewBox:{x:0,y:0,width:n,height:s}})),o.top,o.top+o.height,t)},gY={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function pl(e){var t=$A(),r=LA(),n=RA(),s=dr(dr({},Qr(e,gY)),{},{x:ke(e.x)?e.x:n.left,y:ke(e.y)?e.y:n.top,width:ke(e.width)?e.width:n.width,height:ke(e.height)?e.height:n.height}),{xAxisId:o,yAxisId:u,x:d,y:h,width:m,height:g,syncWithTicks:x,horizontalValues:v,verticalValues:b}=s,j=hr(),_=Ce($=>mS($,"xAxis",o,j)),N=Ce($=>mS($,"yAxis",u,j));if(!ke(m)||m<=0||!ke(g)||g<=0||!ke(d)||d!==+d||!ke(h)||h!==+h)return null;var S=s.verticalCoordinatesGenerator||hY,O=s.horizontalCoordinatesGenerator||mY,{horizontalPoints:A,verticalPoints:P}=s;if((!A||!A.length)&&typeof O=="function"){var k=v&&v.length,D=O({yAxis:N?dr(dr({},N),{},{ticks:k?v:N.ticks}):void 0,width:t,height:r,offset:n},k?!0:x);ac(Array.isArray(D),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(A=D)}if((!P||!P.length)&&typeof S=="function"){var C=b&&b.length,T=S({xAxis:_?dr(dr({},_),{},{ticks:C?b:_.ticks}):void 0,width:t,height:r,offset:n},C?!0:x);ac(Array.isArray(T),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof T,"]")),Array.isArray(T)&&(P=T)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(oY,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),w.createElement(dY,Ji({},s,{horizontalPoints:A})),w.createElement(fY,Ji({},s,{verticalPoints:P})),w.createElement(cY,Ji({},s,{offset:n,horizontalPoints:A,xAxis:_,yAxis:N})),w.createElement(uY,Ji({},s,{offset:n,verticalPoints:P,xAxis:_,yAxis:N})))}pl.displayName="CartesianGrid";var RT=(e,t,r,n)=>Gn(e,"xAxis",t,n),$T=(e,t,r,n)=>Yn(e,"xAxis",t,n),LT=(e,t,r,n)=>Gn(e,"yAxis",r,n),IT=(e,t,r,n)=>Yn(e,"yAxis",r,n),xY=ce([Ye,RT,LT,$T,IT],(e,t,r,n,s)=>Xn(e,"xAxis")?ls(t,n,!1):ls(r,s,!1)),pY=(e,t,r,n,s)=>s;function vY(e){return e.type==="line"}var yY=ce([Bc,pY],(e,t)=>e.filter(vY).find(r=>r.id===t)),bY=ce([Ye,RT,LT,$T,IT,yY,xY,qc],(e,t,r,n,s,o,u,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=d;if(!(o==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||u==null)){var{dataKey:x,data:v}=o,b;if(v!=null&&v.length>0?b=v:b=h?.slice(m,g+1),b!=null)return BY({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:x,bandSize:u,displayedData:b})}}),wY=["id"],jY=["type","layout","connectNulls","needClip"],NY=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Gr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return(t=SY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iy(e,t){if(e==null)return{};var r,n,s=AY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function us(){return us=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},us.apply(null,arguments)}var EY=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:n,value:Tl(r,t),payload:e}]};function kY(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:o,name:u,hide:d,unit:h}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:Tl(u,t),hide:d,type:e.tooltipType,color:e.stroke,unit:h}}}var UT=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function TY(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var CY=(e,t,r)=>{var n=r.reduce((x,v)=>x+v);if(!n)return UT(t,e);for(var s=Math.floor(e/n),o=e%n,u=t-e,d=[],h=0,m=0;h<r.length;m+=r[h],++h)if(m+r[h]>o){d=[...r.slice(0,h),o-m];break}var g=d.length%2===0?[0,u]:[u];return[...TY(r,s),...d,...g].map(x=>"".concat(x,"px")).join(", ")};function DY(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Xe("recharts-line-dot",typeof e!="boolean"?e.className:"");r=w.createElement(Wv,us({},t,{className:n}))}return r}function PY(e,t){return e==null?!1:t?!0:e.length===1}function MY(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:o,needClip:u}=n;if(!PY(r,s))return null;var{id:d}=n,h=iy(n,wY),m=Tf(s),g=Ca(h),x=ht(s,!0),v=r.map((j,_)=>{var N=Gr(Gr(Gr({key:"dot-".concat(_),r:3},g),x),{},{index:_,cx:j.x,cy:j.y,dataKey:o,value:j.value,payload:j.payload,points:r});return DY(s,N)}),b={clipPath:u?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return w.createElement(fr,us({className:"recharts-line-dots",key:"dots"},b),v)}function RY(e){var{showLabels:t,children:r,points:n}=e,s=w.useMemo(()=>n?.map(o=>{var u={x:o.x,y:o.y,width:0,height:0};return Gr(Gr({},u),{},{value:o.value,payload:o.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return w.createElement(Vv,{value:t?s:null},r)}function x2(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:o}=e,{type:u,layout:d,connectNulls:h,needClip:m}=o,g=iy(o,jY),x=Gr(Gr({},ht(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:n,type:u,layout:d,connectNulls:h,strokeDasharray:s??o.strokeDasharray});return w.createElement(w.Fragment,null,n?.length>1&&w.createElement(rc,us({},x,{pathRef:r})),w.createElement(MY,{points:n,clipPathId:t,props:o}))}function $Y(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function LY(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:d,isAnimationActive:h,animationBegin:m,animationDuration:g,animationEasing:x,animateNewValues:v,width:b,height:j,onAnimationEnd:_,onAnimationStart:N}=r,S=s.current,O=Rc(r,"recharts-line-"),[A,P]=w.useState(!1),k=!A,D=w.useCallback(()=>{typeof _=="function"&&_(),P(!1)},[_]),C=w.useCallback(()=>{typeof N=="function"&&N(),P(!0)},[N]),T=$Y(n.current),$=o.current;return w.createElement(RY,{points:u,showLabels:k},r.children,w.createElement(Mc,{animationId:O,begin:m,duration:g,isActive:h,easing:x,onAnimationEnd:D,onAnimationStart:C,key:O},L=>{var B=ct($,T+$,L),J=Math.min(B,T),ie;if(h)if(d){var W="".concat(d).split(/[,\s]+/gim).map(G=>parseFloat(G));ie=CY(J,T,W)}else ie=UT(T,J);else ie=d==null?void 0:String(d);if(S){var Z=S.length/u.length,z=L===1?u:u.map((G,le)=>{var ge=Math.floor(le*Z);if(S[ge]){var I=S[ge];return Gr(Gr({},G),{},{x:ct(I.x,G.x,L),y:ct(I.y,G.y,L)})}return v?Gr(Gr({},G),{},{x:ct(b*2,G.x,L),y:ct(j/2,G.y,L)}):Gr(Gr({},G),{},{x:G.x,y:G.y})});return s.current=z,w.createElement(x2,{props:r,points:z,clipPathId:t,pathRef:n,strokeDasharray:ie})}return L>0&&T>0&&(s.current=u,o.current=J),w.createElement(x2,{props:r,points:u,clipPathId:t,pathRef:n,strokeDasharray:ie})}),w.createElement(Fv,{label:r.label}))}function IY(e){var{clipPathId:t,props:r}=e,n=w.useRef(null),s=w.useRef(0),o=w.useRef(null);return w.createElement(LY,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:o})}var UY=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:Et(e.payload,t)});class qY extends w.Component{render(){var t,{hide:r,dot:n,points:s,className:o,xAxisId:u,yAxisId:d,top:h,left:m,width:g,height:x,id:v,needClip:b}=this.props;if(r)return null;var j=Xe("recharts-line",o),_=v,{r:N=3,strokeWidth:S=2}=(t=ht(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},O=Tf(n),A=N*2+S;return w.createElement(w.Fragment,null,w.createElement(fr,{className:j},b&&w.createElement("defs",null,w.createElement(ty,{clipPathId:_,xAxisId:u,yAxisId:d}),!O&&w.createElement("clipPath",{id:"clipPath-dots-".concat(_)},w.createElement("rect",{x:m-A/2,y:h-A/2,width:g+A,height:x+A}))),w.createElement(ET,{xAxisId:u,yAxisId:d,data:s,dataPointFormatter:UY,errorBarOffset:0},w.createElement(IY,{props:this.props,clipPathId:_}))),w.createElement(cp,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var qT={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!fs.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function zY(e){var t=Qr(e,qT),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:o,animationEasing:u,connectNulls:d,dot:h,hide:m,isAnimationActive:g,label:x,legendType:v,xAxisId:b,yAxisId:j,id:_}=t,N=iy(t,NY),{needClip:S}=ch(b,j),O=oh(),A=Pc(),P=hr(),k=Ce(L=>bY(L,b,j,P,_));if(A!=="horizontal"&&A!=="vertical"||k==null||O==null)return null;var{height:D,width:C,x:T,y:$}=O;return w.createElement(qY,us({},N,{id:_,connectNulls:d,dot:h,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:o,animationEasing:u,isAnimationActive:g,hide:m,label:x,legendType:v,xAxisId:b,yAxisId:j,points:k,layout:A,height:D,width:C,left:T,top:$,needClip:S}))}function BY(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:o,dataKey:u,bandSize:d,displayedData:h}=e;return h.map((m,g)=>{var x=Et(m,u);if(t==="horizontal"){var v=Qd({axis:r,ticks:s,bandSize:d,entry:m,index:g}),b=dt(x)?null:n.scale(x);return{x:v,y:b,value:x,payload:m}}var j=dt(x)?null:r.scale(x),_=Qd({axis:n,ticks:o,bandSize:d,entry:m,index:g});return j==null||_==null?null:{x:j,y:_,value:x,payload:m}}).filter(Boolean)}function dp(e){var t=Qr(e,qT),r=hr();return w.createElement(Zv,{id:t.id,type:"line"},n=>w.createElement(w.Fragment,null,w.createElement(Qv,{legendPayload:EY(t)}),w.createElement(Xv,{fn:kY,args:t}),w.createElement(Jv,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),w.createElement(zY,us({},t,{id:n}))))}dp.displayName="Line";var zT=(e,t,r,n)=>Gn(e,"xAxis",t,n),BT=(e,t,r,n)=>Yn(e,"xAxis",t,n),HT=(e,t,r,n)=>Gn(e,"yAxis",r,n),KT=(e,t,r,n)=>Yn(e,"yAxis",r,n),HY=ce([Ye,zT,HT,BT,KT],(e,t,r,n,s)=>Xn(e,"xAxis")?ls(t,n,!1):ls(r,s,!1)),KY=(e,t,r,n,s)=>s,YT=ce([Bc,KY],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),YY=(e,t,r,n,s)=>{var o,u=YT(e,t,r,n,s);if(u!=null){var d=Ye(e),h=Xn(d,"xAxis"),m;if(h?m=jc(e,"yAxis",r,n):m=jc(e,"xAxis",t,n),m!=null){var{stackId:g}=u,x=th(u);if(!(g==null||x==null)){var v=(o=m[g])===null||o===void 0?void 0:o.stackedData;return v?.find(b=>b.key===x)}}}},GY=ce([Ye,zT,HT,BT,KT,YY,qc,HY,YT],(e,t,r,n,s,o,u,d,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:x}=u;if(!(h==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||d==null)){var{data:v}=h,b;if(v&&v.length>0?b=v:b=m?.slice(g,x+1),b!=null){var j=void 0;return hG({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:g,areaSettings:h,stackedData:o,displayedData:b,chartBaseValue:j,bandSize:d})}}}),VY=["id"],FY=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function GT(e,t){if(e==null)return{};var r,n,s=WY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ba(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){XY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XY(e,t,r){return(t=QY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _a(){return _a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_a.apply(null,arguments)}function Nf(e,t){return e&&e!=="none"?e:t}var JY=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:o,hide:u}=e;return[{inactive:u,dataKey:t,type:o,color:Nf(n,s),value:Tl(r,t),payload:e}]};function eG(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:o,name:u,hide:d,unit:h}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:Tl(u,t),hide:d,type:e.tooltipType,color:Nf(n,o),unit:h}}}var tG=(e,t)=>{var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=Xe("recharts-area-dot",typeof e!="boolean"?e.className:"");r=w.createElement(Wv,_a({},t,{className:n}))}return r};function rG(e,t){return e==null?!1:t?!0:e.length===1}function nG(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:o,dataKey:u}=n;if(!rG(r,o))return null;var d=Tf(o),h=Ca(n),m=ht(o,!0),g=r.map((v,b)=>{var j=ba(ba(ba({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:v.x,cy:v.y,dataKey:u,value:v.value,payload:v.payload,points:r});return tG(o,j)}),x={clipPath:s?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return w.createElement(fr,_a({className:"recharts-area-dots"},x),g)}function aG(e){var{showLabels:t,children:r,points:n}=e,s=n.map(o=>{var u={x:o.x,y:o.y,width:0,height:0};return ba(ba({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return w.createElement(Vv,{value:t?s:null},r)}function v2(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:o}=e,{layout:u,type:d,stroke:h,connectNulls:m,isRange:g}=o,{id:x}=o,v=GT(o,VY),b=Ca(v);return w.createElement(w.Fragment,null,t?.length>1&&w.createElement(fr,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},w.createElement(rc,_a({},b,{id:x,points:t,connectNulls:m,type:d,baseLine:r,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&w.createElement(rc,_a({},b,{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:t})),h!=="none"&&g&&w.createElement(rc,_a({},b,{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:r}))),w.createElement(nG,{points:t,props:v,clipPathId:s}))}function iG(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,o=n[0].y,u=n[n.length-1].y;if(!lr(o)||!lr(u))return null;var d=t*Math.abs(o-u),h=Math.max(...n.map(m=>m.x||0));return ke(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(m=>m.x||0),h)),ke(h)?w.createElement("rect",{x:0,y:o<u?o:o-d,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function sG(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,o=n[0].x,u=n[n.length-1].x;if(!lr(o)||!lr(u))return null;var d=t*Math.abs(o-u),h=Math.max(...n.map(m=>m.y||0));return ke(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(m=>m.y||0),h)),ke(h)?w.createElement("rect",{x:o<u?o:o-d,y:0,width:d,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}function lG(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:o}=e;return r==="vertical"?w.createElement(iG,{alpha:t,points:n,baseLine:s,strokeWidth:o}):w.createElement(sG,{alpha:t,points:n,baseLine:s,strokeWidth:o})}function oG(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:o}=e,{points:u,baseLine:d,isAnimationActive:h,animationBegin:m,animationDuration:g,animationEasing:x,onAnimationStart:v,onAnimationEnd:b}=n,j=Rc(n,"recharts-area-"),[_,N]=w.useState(!1),S=!_,O=w.useCallback(()=>{typeof b=="function"&&b(),N(!1)},[b]),A=w.useCallback(()=>{typeof v=="function"&&v(),N(!0)},[v]),P=s.current,k=o.current;return w.createElement(aG,{showLabels:S,points:u},n.children,w.createElement(Mc,{animationId:j,begin:m,duration:g,isActive:h,easing:x,onAnimationEnd:O,onAnimationStart:A,key:j},D=>{if(P){var C=P.length/u.length,T=D===1?u:u.map((L,B)=>{var J=Math.floor(B*C);if(P[J]){var ie=P[J];return ba(ba({},L),{},{x:ct(ie.x,L.x,D),y:ct(ie.y,L.y,D)})}return L}),$;return ke(d)?$=ct(k,d,D):dt(d)||Dr(d)?$=ct(k,0,D):$=d.map((L,B)=>{var J=Math.floor(B*C);if(Array.isArray(k)&&k[J]){var ie=k[J];return ba(ba({},L),{},{x:ct(ie.x,L.x,D),y:ct(ie.y,L.y,D)})}return L}),D>0&&(s.current=T,o.current=$),w.createElement(v2,{points:T,baseLine:$,needClip:t,clipPathId:r,props:n})}return D>0&&(s.current=u,o.current=d),w.createElement(fr,null,h&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(r)},w.createElement(lG,{alpha:D,points:u,baseLine:d,layout:n.layout,strokeWidth:n.strokeWidth}))),w.createElement(fr,{clipPath:"url(#animationClipPath-".concat(r,")")},w.createElement(v2,{points:u,baseLine:d,needClip:t,clipPathId:r,props:n})))}),w.createElement(Fv,{label:n.label}))}function cG(e){var{needClip:t,clipPathId:r,props:n}=e,s=w.useRef(null),o=w.useRef();return w.createElement(oG,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:o})}class uG extends w.PureComponent{render(){var t,{hide:r,dot:n,points:s,className:o,top:u,left:d,needClip:h,xAxisId:m,yAxisId:g,width:x,height:v,id:b,baseLine:j}=this.props;if(r)return null;var _=Xe("recharts-area",o),N=b,{r:S=3,strokeWidth:O=2}=(t=ht(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},A=Tf(n),P=S*2+O;return w.createElement(w.Fragment,null,w.createElement(fr,{className:_},h&&w.createElement("defs",null,w.createElement(ty,{clipPathId:N,xAxisId:m,yAxisId:g}),!A&&w.createElement("clipPath",{id:"clipPath-dots-".concat(N)},w.createElement("rect",{x:d-P/2,y:u-P/2,width:x+P,height:v+P}))),w.createElement(cG,{needClip:h,clipPathId:N,props:this.props})),w.createElement(cp,{points:s,mainColor:Nf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(j)&&w.createElement(cp,{points:j,mainColor:Nf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var VT={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!fs.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function dG(e){var t,r=Qr(e,VT),{activeDot:n,animationBegin:s,animationDuration:o,animationEasing:u,connectNulls:d,dot:h,fill:m,fillOpacity:g,hide:x,isAnimationActive:v,legendType:b,stroke:j,xAxisId:_,yAxisId:N}=r,S=GT(r,FY),O=Pc(),A=tT(),{needClip:P}=ch(_,N),k=hr(),{points:D,isRange:C,baseLine:T}=(t=Ce(W=>GY(W,_,N,k,e.id)))!==null&&t!==void 0?t:{},$=oh();if(O!=="horizontal"&&O!=="vertical"||$==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:L,width:B,x:J,y:ie}=$;return!D||!D.length?null:w.createElement(uG,_a({},S,{activeDot:n,animationBegin:s,animationDuration:o,animationEasing:u,baseLine:T,connectNulls:d,dot:h,fill:m,fillOpacity:g,height:L,hide:x,layout:O,isAnimationActive:v,isRange:C,legendType:b,needClip:P,points:D,stroke:j,width:B,left:J,top:ie,xAxisId:_,yAxisId:N}))}var fG=(e,t,r,n,s)=>{var o=r??t;if(ke(o))return o;var u=e==="horizontal"?s:n,d=u.scale.domain();if(u.type==="number"){var h=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return o==="dataMin"?m:o==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return o==="dataMin"?d[0]:o==="dataMax"?d[1]:d[0]};function hG(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:o,chartBaseValue:u,xAxis:d,yAxis:h,displayedData:m,dataStartIndex:g,xAxisTicks:x,yAxisTicks:v,bandSize:b}=e,j=s&&s.length,_=fG(o,u,r,d,h),N=o==="horizontal",S=!1,O=m.map((P,k)=>{var D;j?D=s[g+k]:(D=Et(P,n),Array.isArray(D)?S=!0:D=[_,D]);var C=D[1]==null||j&&!t&&Et(P,n)==null;return N?{x:Qd({axis:d,ticks:x,bandSize:b,entry:P,index:k}),y:C?null:h.scale(D[1]),value:D,payload:P}:{x:C?null:d.scale(D[1]),y:Qd({axis:h,ticks:v,bandSize:b,entry:P,index:k}),value:D,payload:P}}),A;return j||S?A=O.map(P=>{var k=Array.isArray(P.value)?P.value[0]:null;return N?{x:P.x,y:k!=null&&P.y!=null?h.scale(k):null,payload:P.payload}:{x:k!=null?d.scale(k):null,y:P.y,payload:P.payload}}):A=N?h.scale(_):d.scale(_),{points:O,baseLine:A,isRange:S}}function FT(e){var t=Qr(e,VT),r=hr();return w.createElement(Zv,{id:t.id,type:"area"},n=>w.createElement(w.Fragment,null,w.createElement(Qv,{legendPayload:JY(t)}),w.createElement(Xv,{fn:eG,args:t}),w.createElement(Jv,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:PA(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),w.createElement(dG,_a({},t,{id:n}))))}FT.displayName="Area";var mG=["children"],gG=["dangerouslySetInnerHTML","ticks"],xG=["id"];function WT(e,t,r){return(t=pG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=vG(e,"string");return typeof t=="symbol"?t:t+""}function vG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fp.apply(null,arguments)}function hp(e,t){if(e==null)return{};var r,n,s=yG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bG(e){var t=Ft(),r=w.useMemo(()=>{var{children:n}=e,s=hp(e,mG);return s},[e]);return w.useEffect(()=>(t(iH(r)),()=>{t(sH(r))}),[r,t]),e.children}var wG=e=>{var{xAxisId:t,className:r}=e,n=Ce(Fp),s=hr(),o="xAxis",u=Ce(N=>$l(N,o,t,s)),d=Ce(N=>Mk(N,o,t,s)),h=Ce(N=>Tk(N,t)),m=Ce(N=>Ez(N,t)),g=Ce(N=>JE(N,t));if(h==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:x,ticks:v}=e,b=hp(e,gG),{id:j}=g,_=hp(g,xG);return w.createElement(bi,fp({},b,_,{scale:u,x:m.x,y:m.y,width:h.width,height:h.height,className:Xe("recharts-".concat(o," ").concat(o),r),viewBox:n,ticks:d}))},jG=e=>{var t,r,n,s,o;return w.createElement(bG,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter},w.createElement(wG,e))};class as extends w.Component{render(){return w.createElement(jG,this.props)}}WT(as,"displayName","XAxis");WT(as,"defaultProps",{allowDataOverflow:Hr.allowDataOverflow,allowDecimals:Hr.allowDecimals,allowDuplicatedCategory:Hr.allowDuplicatedCategory,height:Hr.height,hide:!1,mirror:Hr.mirror,orientation:Hr.orientation,padding:Hr.padding,reversed:Hr.reversed,scale:Hr.scale,tickCount:Hr.tickCount,type:Hr.type,xAxisId:0});var NG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:o=0}=e,u=0;if(t){t.forEach(g=>{if(g){var x=g.getBoundingClientRect();x.width>u&&(u=x.width)}});var d=r?r.getBoundingClientRect().width:0,h=s+o,m=u+h+d+(r?n:0);return Math.round(m)}return 0},_G=["dangerouslySetInnerHTML","ticks"],SG=["id"];function XT(e,t,r){return(t=OG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mp(){return mp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},mp.apply(null,arguments)}function y2(e,t){if(e==null)return{};var r,n,s=EG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function EG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kG(e){var t=Ft();return w.useEffect(()=>(t(lH(e)),()=>{t(oH(e))}),[e,t]),null}var TG=e=>{var t,{yAxisId:r,className:n,width:s,label:o}=e,u=w.useRef(null),d=w.useRef(null),h=Ce(Fp),m=hr(),g=Ft(),x="yAxis",v=Ce(D=>$l(D,x,r,m)),b=Ce(D=>Ck(D,r)),j=Ce(D=>kz(D,r)),_=Ce(D=>Mk(D,x,r,m)),N=Ce(D=>ek(D,r));if(w.useLayoutEffect(()=>{var D;if(!(s!=="auto"||!b||Gv(o)||w.isValidElement(o)||N==null)){var C=u.current,T=C==null||(D=C.tickRefs)===null||D===void 0?void 0:D.current,{tickSize:$,tickMargin:L}=C.props,B=NG({ticks:T,label:d.current,labelGapWithTick:5,tickSize:$,tickMargin:L});Math.round(b.width)!==Math.round(B)&&g(cH({id:r,width:B}))}},[u,u==null||(t=u.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b?.width,b,g,o,r,s]),b==null||j==null||N==null)return null;var{dangerouslySetInnerHTML:S,ticks:O}=e,A=y2(e,_G),{id:P}=N,k=y2(N,SG);return w.createElement(bi,mp({},A,k,{ref:u,labelRef:d,scale:v,x:j.x,y:j.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:b.width,height:b.height,className:Xe("recharts-".concat(x," ").concat(x),n),viewBox:h,ticks:_}))},CG=e=>{var t,r,n,s,o;return w.createElement(w.Fragment,null,w.createElement(kG,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter}),w.createElement(TG,e))},DG={allowDataOverflow:Kr.allowDataOverflow,allowDecimals:Kr.allowDecimals,allowDuplicatedCategory:Kr.allowDuplicatedCategory,hide:!1,mirror:Kr.mirror,orientation:Kr.orientation,padding:Kr.padding,reversed:Kr.reversed,scale:Kr.scale,tickCount:Kr.tickCount,type:Kr.type,width:Kr.width,yAxisId:0};class di extends w.Component{render(){return w.createElement(CG,this.props)}}XT(di,"displayName","YAxis");XT(di,"defaultProps",DG);var ux={exports:{}},dx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function PG(){if(b2)return dx;b2=1;var e=Al();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return dx.useSyncExternalStoreWithSelector=function(h,m,g,x,v){var b=s(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=u(function(){function N(k){if(!S){if(S=!0,O=k,k=x(k),v!==void 0&&j.hasValue){var D=j.value;if(v(D,k))return A=D}return A=k}if(D=A,r(O,k))return D;var C=x(k);return v!==void 0&&v(D,C)?(O=k,D):(O=k,A=C)}var S=!1,O,A,P=g===void 0?null:g;return[function(){return N(m())},P===null?void 0:function(){return N(P())}]},[m,g,x,v]);var _=n(h,b[0],b[1]);return o(function(){j.hasValue=!0,j.value=_},[_]),d(_),_},dx}var w2;function MG(){return w2||(w2=1,ux.exports=PG()),ux.exports}MG();function RG(e){e()}function $G(){let e=null,t=null;return{clear(){e=null,t=null},notify(){RG(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var j2={notify(){},get:()=>[]};function LG(e,t){let r,n=j2,s=0,o=!1;function u(_){g();const N=n.subscribe(_);let S=!1;return()=>{S||(S=!0,N(),x())}}function d(){n.notify()}function h(){j.onStateChange&&j.onStateChange()}function m(){return o}function g(){s++,r||(r=e.subscribe(h),n=$G())}function x(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=j2)}function v(){o||(o=!0,g())}function b(){o&&(o=!1,x())}const j={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:m,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>n};return j}var IG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UG=IG(),qG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zG=qG(),BG=()=>UG||zG?w.useLayoutEffect:w.useEffect,HG=BG(),KG=Symbol.for("react-redux-context"),YG=typeof globalThis<"u"?globalThis:{};function GG(){if(!w.createContext)return{};const e=YG[KG]??=new Map;let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var VG=GG();function FG(e){const{children:t,context:r,serverState:n,store:s}=e,o=w.useMemo(()=>{const h=LG(s);return{store:s,subscription:h,getServerState:n?()=>n:void 0}},[s,n]),u=w.useMemo(()=>s.getState(),[s]);HG(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==s.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,u]);const d=r||VG;return w.createElement(d.Provider,{value:o},t)}var WG=FG,XG=(e,t)=>t,sy=ce([XG,Ye,XE,It,Wk,Ra,PB,Wt],IB),ly=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},QT=mn("mouseClick"),ZT=Cc();ZT.startListening({actionCreator:QT,effect:(e,t)=>{var r=e.payload,n=sy(t.getState(),ly(r));n?.activeIndex!=null&&t.dispatch(Bz({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var gp=mn("mouseMove"),JT=Cc();JT.startListening({actionCreator:gp,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Rv(n,n.tooltip.settings.shared),o=sy(n,ly(r));s==="axis"&&(o?.activeIndex!=null?t.dispatch(Bk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(zk()))}});function QG(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var N2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},eC=Xr({name:"rootProps",initialState:N2,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:N2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),ZG=eC.reducer,{updateOptions:JG}=eC.actions,tC=Xr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:$F}=tC.actions,eV=tC.reducer,rC=mn("keyDown"),nC=mn("focus"),oy=Cc();oy.startListening({actionCreator:rC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Number($v(s,Il(r))),d=Ra(r);if(o==="Enter"){var h=gf(r,"axis","hover",String(s.index));t.dispatch(ap({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:h}));return}var m=Pz(r),g=m==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,v=u+x*g;if(!(d==null||v>=d.length||v<0)){var b=gf(r,"axis","hover",String(v));t.dispatch(ap({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});oy.startListening({actionCreator:nC,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var o="0",u=gf(r,"axis","hover",String(o));t.dispatch(ap({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var dn=mn("externalEvent"),aC=Cc();aC.startListening({actionCreator:dn,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:_B(r),activeDataKey:Jk(r),activeIndex:cs(r),activeLabel:Zk(r),activeTooltipIndex:cs(r),isTooltipActive:SB(r)};e.payload.handler(n,e.payload.reactEvent)}}});var tV=ce([Ll],e=>e.tooltipItemPayloads),rV=ce([tV,Gc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(d=>d.settings.dataKey===n);if(s!=null){var{positions:o}=s;if(o!=null){var u=t(o,r);return u}}}),iC=mn("touchMove"),sC=Cc();sC.startListening({actionCreator:iC,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Rv(n,n.tooltip.settings.shared);if(s==="axis"){var o=sy(n,ly({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(Bk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var u,d=r.touches[0],h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var m=h.getAttribute(yL),g=(u=h.getAttribute(bL))!==null&&u!==void 0?u:void 0,x=rV(t.getState(),m,g);t.dispatch(qk({activeDataKey:g,activeIndex:m,activeCoordinate:x}))}}});var nV=lA({brush:TK,cartesianAxis:uH,chartData:e7,errorBars:kH,graphicalItems:eH,layout:H$,legend:RL,options:WB,polarAxis:S9,polarOptions:eV,referenceElements:LK,rootProps:ZG,tooltip:Hz}),aV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return m$({reducer:nV,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([ZT.middleware,JT.middleware,oy.middleware,aC.middleware,sC.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:QG},name:"recharts-".concat(r)}})};function iV(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=hr(),o=w.useRef(null);if(s)return r;o.current==null&&(o.current=aV(t,n));var u=Bp;return w.createElement(WG,{context:u,store:o.current},r)}function sV(e){var{layout:t,width:r,height:n,margin:s}=e,o=Ft(),u=hr();return w.useEffect(()=>{u||(o(q$(t)),o(z$({width:r,height:n})),o(U$(s)))},[o,u,t,r,n,s]),null}function lV(e){var t=Ft();return w.useEffect(()=>{t(JG(e))},[t,e]),null}var oV=["children"];function cV(e,t){if(e==null)return{};var r,n,s=uV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function _f(){return _f=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_f.apply(null,arguments)}var dV={width:"100%",height:"100%"},fV=w.forwardRef((e,t)=>{var r=$A(),n=LA(),s=UA();if(!Zd(r)||!Zd(n))return null;var{children:o,otherAttributes:u,title:d,desc:h}=e,m,g;return typeof u.tabIndex=="number"?m=u.tabIndex:m=s?0:void 0,typeof u.role=="string"?g=u.role:g=s?"application":void 0,w.createElement(kO,_f({},u,{title:d,desc:h,role:g,tabIndex:m,width:r,height:n,style:dV,ref:t}),o)}),hV=e=>{var{children:t}=e,r=Ce(Hf);if(!r)return null;var{width:n,height:s,y:o,x:u}=r;return w.createElement(kO,{width:n,height:s,x:u,y:o},t)},_2=w.forwardRef((e,t)=>{var{children:r}=e,n=cV(e,oV),s=hr();return s?w.createElement(hV,null,r):w.createElement(fV,_f({ref:t},n),r)});function mV(){var e=Ft(),[t,r]=w.useState(null),n=Ce(vL);return w.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;lr(o)&&o!==n&&e(B$(o))}},[t,e,n]),r}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){xV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xV(e,t,r){return(t=pV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yV=w.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:o,onContextMenu:u,onDoubleClick:d,onMouseDown:h,onMouseEnter:m,onMouseLeave:g,onMouseMove:x,onMouseUp:v,onTouchEnd:b,onTouchMove:j,onTouchStart:_,style:N,width:S}=e,O=Ft(),[A,P]=w.useState(null),[k,D]=w.useState(null);c7();var C=mV(),T=w.useCallback(ne=>{C(ne),typeof t=="function"&&t(ne),P(ne),D(ne)},[C,t,P,D]),$=w.useCallback(ne=>{O(QT(ne)),O(dn({handler:o,reactEvent:ne}))},[O,o]),L=w.useCallback(ne=>{O(gp(ne)),O(dn({handler:m,reactEvent:ne}))},[O,m]),B=w.useCallback(ne=>{O(zk()),O(dn({handler:g,reactEvent:ne}))},[O,g]),J=w.useCallback(ne=>{O(gp(ne)),O(dn({handler:x,reactEvent:ne}))},[O,x]),ie=w.useCallback(()=>{O(nC())},[O]),W=w.useCallback(ne=>{O(rC(ne.key))},[O]),Z=w.useCallback(ne=>{O(dn({handler:u,reactEvent:ne}))},[O,u]),z=w.useCallback(ne=>{O(dn({handler:d,reactEvent:ne}))},[O,d]),G=w.useCallback(ne=>{O(dn({handler:h,reactEvent:ne}))},[O,h]),le=w.useCallback(ne=>{O(dn({handler:v,reactEvent:ne}))},[O,v]),ge=w.useCallback(ne=>{O(dn({handler:_,reactEvent:ne}))},[O,_]),I=w.useCallback(ne=>{O(iC(ne)),O(dn({handler:j,reactEvent:ne}))},[O,j]),te=w.useCallback(ne=>{O(dn({handler:b,reactEvent:ne}))},[O,b]);return w.createElement(sT.Provider,{value:A},w.createElement(c5.Provider,{value:k},w.createElement("div",{className:Xe("recharts-wrapper",n),style:gV({position:"relative",cursor:"default",width:S,height:s},N),onClick:$,onContextMenu:Z,onDoubleClick:z,onFocus:ie,onKeyDown:W,onMouseDown:G,onMouseEnter:L,onMouseLeave:B,onMouseMove:J,onMouseUp:le,onTouchEnd:te,onTouchMove:I,onTouchStart:ge,ref:T},r)))}),bV=["children","className","width","height","style","compact","title","desc"];function wV(e,t){if(e==null)return{};var r,n,s=jV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NV=w.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:o,style:u,compact:d,title:h,desc:m}=e,g=wV(e,bV),x=Ca(g);return d?w.createElement(_2,{otherAttributes:x,title:h,desc:m},r):w.createElement(yV,{className:n,style:u,width:s,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(_2,{otherAttributes:x,title:h,desc:m,ref:t},w.createElement(UK,null,r)))}),_V=["width","height"];function xp(){return xp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},xp.apply(null,arguments)}function SV(e,t){if(e==null)return{};var r,n,s=OV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AV={top:5,right:5,bottom:5,left:5},EV={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:AV,reverseStackOrder:!1,syncMethod:"index"},cy=w.forwardRef(function(t,r){var n,s=Qr(t.categoricalChartProps,EV),{width:o,height:u}=s,d=SV(s,_V);if(!Zd(o)||!Zd(u))return null;var{chartName:h,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,categoricalChartProps:v}=t,b={chartName:h,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return w.createElement(iV,{preloadedState:{options:b},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:h},w.createElement(kK,{chartData:v.data}),w.createElement(sV,{width:o,height:u,layout:s.layout,margin:s.margin}),w.createElement(lV,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),w.createElement(NV,xp({},d,{width:o,height:u,ref:r})))}),kV=["axis"],TV=w.forwardRef((e,t)=>w.createElement(cy,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kV,tooltipPayloadSearcher:Kv,categoricalChartProps:e,ref:t})),CV=["axis","item"],pp=w.forwardRef((e,t)=>w.createElement(cy,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:CV,tooltipPayloadSearcher:Kv,categoricalChartProps:e,ref:t})),DV=["axis"],PV=w.forwardRef((e,t)=>w.createElement(cy,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:DV,tooltipPayloadSearcher:Kv,categoricalChartProps:e,ref:t}));function O2(){const[e,t]=w.useState({totalStores:0,totalOrders:0,totalRevenue:0,newUsers:0,pendingInquiries:0,activeStores:0,inactiveStores:0,todayOrders:0,todayRevenue:0,weeklyGrowth:0,monthlyGrowth:0,totalRevenueAmount:0,monthlyRevenueAmount:0,initialRevenue:0,monthlyFeeRevenue:0,activeContracts:0,totalContracts:0,totalOwners:0,activeOwners:0,churnedOwners:0,churnRate:0,last30DaysActive:0,systemStatus:"healthy",apiStatus:"online",dbStatus:"online",errorCount:0}),[r,n]=w.useState([]),[s,o]=w.useState([]),[u,d]=w.useState([]),[h,m]=w.useState([]),[g,x]=w.useState(!0);w.useEffect(()=>{v()},[]);const v=async()=>{try{x(!0);const[P,k,D,C,T,$,L]=await Promise.all([vO(),pO(),b(),j(),_(),B6(),H6()]),B=new Date,J=new Date(B.getFullYear(),B.getMonth(),B.getDate()),ie=new Date(B.getTime()-10080*60*1e3),W=new Date(B.getTime()-720*60*60*1e3),Z=D.filter(ue=>new Date(ue.created_at)>=J),z=D.filter(ue=>new Date(ue.created_at)>=ie),G=D.filter(ue=>new Date(ue.created_at)>=W),le=Z.reduce((ue,ye)=>ue+ye.total_amount,0),ge=z.reduce((ue,ye)=>ue+ye.total_amount,0),I=G.reduce((ue,ye)=>ue+ye.total_amount,0),te=S(z.length,D.length-z.length),ne=S(G.length,D.length-G.length),H=O(k,D);t({totalStores:P.totalStores,totalOrders:P.totalOrders,totalRevenue:I,newUsers:T.length,pendingInquiries:k.filter(ue=>ue.status==="미확인").length,activeStores:C.filter(ue=>ue.is_active).length,inactiveStores:C.filter(ue=>!ue.is_active).length,todayOrders:Z.length,todayRevenue:le,weeklyGrowth:te,monthlyGrowth:ne,totalRevenueAmount:$.total_revenue,monthlyRevenueAmount:$.monthly_revenue,initialRevenue:$.initial_revenue,monthlyFeeRevenue:$.monthly_fee_revenue,activeContracts:$.active_contracts,totalContracts:$.total_contracts,totalOwners:L.total_owners,activeOwners:L.active_owners,churnedOwners:L.churned_owners,churnRate:L.churn_rate,last30DaysActive:L.last_30_days_churn,systemStatus:H.status,apiStatus:"online",dbStatus:"online",errorCount:H.errorCount}),n(D.slice(0,10));const oe=N(D);o(oe.slice(0,5));const xe=C.filter(ue=>new Date(ue.created_at)>=new Date(B.getTime()-10080*60*1e3));d(xe.slice(0,5)),m(k.filter(ue=>ue.status==="미확인").slice(0,5))}catch(P){console.error("대시보드 데이터 로드 실패:",P)}finally{x(!1)}},b=async()=>{const{data:P,error:k}=await be.from("orders").select("*").order("created_at",{ascending:!1}).limit(100);if(k)return console.error("Orders 데이터 로드 실패:",k),[];const D=[...new Set(P?.map(T=>T.store_id).filter(Boolean))];let C=new Map;if(D.length>0){const{data:T}=await be.from("stores").select("id, name").in("id",D);C=new Map(T?.map($=>[$.id,$])||[])}return P?.map(T=>({...T,total_amount:T.amount||T.total_price||T.price||T.total_amount||0,customer_name:T.customer_name||T.customer||T.name||"Unknown",stores:C.get(T.store_id)||{name:"Unknown"}}))||[]},j=async()=>{const{data:P,error:k}=await be.from("stores").select(`
        id,
        name,
        created_at,
        is_active,
        owner_id
      `).order("created_at",{ascending:!1});if(k)throw k;const D=[...new Set(P?.map(T=>T.owner_id).filter(Boolean))];let C=new Map;if(D.length>0){const{data:T}=await be.from("users").select("id, name").in("id",D);C=new Map(T?.map($=>[$.id,$])||[])}return P?.map(T=>({...T,users:C.get(T.owner_id)||{name:"Unknown"}}))||[]},_=async()=>{const{data:P,error:k}=await be.from("users").select("id, created_at").eq("role","admin").gte("created_at",new Date(Date.now()-2592e6).toISOString());if(k)throw k;return P||[]},N=P=>{const k=new Map;return P.forEach(D=>{const C=D.stores?.name||"Unknown";k.has(C)||k.set(C,{id:D.stores?.id||"",name:C,order_count:0,revenue:0});const T=k.get(C);T.order_count++,T.revenue+=D.total_amount}),Array.from(k.values()).sort((D,C)=>C.order_count-D.order_count)},S=(P,k)=>k===0?P>0?100:0:Math.round((P-k)/k*100),O=(P,k)=>{const D=P.filter(L=>L.status==="미확인").length,C=k.filter(L=>new Date(L.created_at)>=new Date(Date.now()-1440*60*1e3)).length;let T=0,$="healthy";return D>=10&&(T+=D,$="warning"),D>=20&&($="critical"),C===0&&(T+=1,$==="healthy"&&($="warning")),{status:$,errorCount:T}},A=P=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(P);return g?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"페이톡 관리자 대시보드"}),i.jsx("p",{className:"text-orange-100 text-lg",children:"전체 현황을 한눈에 확인하세요"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-4xl font-bold",children:e.totalStores}),i.jsx("div",{className:"text-orange-100",children:"활성 매장"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white col-span-1 md:col-span-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm font-medium",children:"총 수익"}),i.jsx("p",{className:"text-4xl font-bold",children:A(e.totalRevenueAmount)})]}),i.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-3xl"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm",children:"이번 달 수익"}),i.jsx("p",{className:"text-xl font-semibold",children:A(e.monthlyRevenueAmount)})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-green-100 text-sm",children:"활성 매장"}),i.jsxs("p",{className:"text-xl font-semibold",children:[e.activeContracts,"개"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"오늘 주문"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.todayOrders})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-2xl text-blue-500"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"총 주문"}),i.jsxs("span",{className:"font-semibold",children:[e.totalOrders.toLocaleString(),"건"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"오늘 매출"}),i.jsx("span",{className:"font-semibold",children:A(e.todayRevenue)})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:`rounded-2xl p-6 ${e.systemStatus==="healthy"?"bg-green-50 border border-green-200":e.systemStatus==="warning"?"bg-yellow-50 border border-yellow-200":"bg-red-50 border border-red-200"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${e.systemStatus==="healthy"?"bg-green-500":e.systemStatus==="warning"?"bg-yellow-500":"bg-red-500"}`}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"시스템 상태"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"전체 상태"}),i.jsx("span",{className:`text-sm font-medium ${e.systemStatus==="healthy"?"text-green-600":e.systemStatus==="warning"?"text-yellow-600":"text-red-600"}`,children:e.systemStatus==="healthy"?"정상":e.systemStatus==="warning"?"경고":"위험"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"미처리 문의"}),i.jsxs("span",{className:"text-sm font-medium text-orange-600",children:[e.pendingInquiries,"건"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"시스템 로그"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"API 상태"}),i.jsx("span",{className:"text-sm font-medium text-green-600",children:"정상"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"DB 상태"}),i.jsx("span",{className:"text-sm font-medium text-green-600",children:"정상"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"보안 상태"}),i.jsx("span",{className:"text-sm font-medium text-green-600",children:"안전"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"수익 분석"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"신규 매장"}),i.jsx("span",{className:"text-sm font-medium text-blue-600",children:A(e.initialRevenue)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"월 고정비"}),i.jsx("span",{className:"text-sm font-medium text-green-600",children:A(e.monthlyFeeRevenue)})]})]})]})]}),(e.pendingInquiries>0||e.errorCount>0||e.systemStatus!=="healthy")&&i.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-2xl p-6 text-white",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("i",{className:"ri-notification-line text-2xl"}),i.jsx("h3",{className:"text-lg font-semibold",children:"주의사항"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.pendingInquiries>0&&i.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[i.jsx("div",{className:"text-sm font-medium",children:"미처리 문의"}),i.jsxs("div",{className:"text-xl font-bold",children:[e.pendingInquiries,"건"]})]}),e.systemStatus!=="healthy"&&i.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[i.jsx("div",{className:"text-sm font-medium",children:"시스템 상태"}),i.jsx("div",{className:"text-xl font-bold",children:e.systemStatus==="warning"?"경고":"위험"})]}),e.errorCount>0&&i.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[i.jsx("div",{className:"text-sm font-medium",children:"오류"}),i.jsxs("div",{className:"text-xl font-bold",children:[e.errorCount,"건"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"최근 7일 주문 추이"})]}),i.jsx("div",{className:"h-64",children:i.jsx(ic,{width:"100%",height:"100%",children:i.jsxs(TV,{data:r.slice(0,7).reverse().map((P,k)=>({day:`${k+1}일 전`,orders:Math.floor(Math.random()*10)+1,revenue:Math.floor(Math.random()*5e5)+1e5})),children:[i.jsx(pl,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(as,{dataKey:"day",tick:{fontSize:11}}),i.jsx(di,{yAxisId:"left",tick:{fontSize:11}}),i.jsx(di,{yAxisId:"right",orientation:"right",tick:{fontSize:11}}),i.jsx(nc,{formatter:(P,k)=>[k==="orders"?P:A(P),k==="orders"?"주문 수":"매출"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(dp,{yAxisId:"left",type:"monotone",dataKey:"orders",stroke:"#3b82f6",strokeWidth:2}),i.jsx(dp,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2})]})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"상위 매장 성과"})]}),i.jsx("div",{className:"h-64",children:i.jsx(ic,{width:"100%",height:"100%",children:i.jsxs(pp,{data:s.slice(0,5).map(P=>({name:P.name.length>8?P.name.substring(0,8)+"...":P.name,orders:P.order_count,revenue:P.revenue})),children:[i.jsx(pl,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(as,{dataKey:"name",tick:{fontSize:11}}),i.jsx(di,{tick:{fontSize:11}}),i.jsx(nc,{formatter:(P,k)=>[k==="orders"?P:A(P),k==="orders"?"주문 수":"매출"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(bf,{dataKey:"orders",fill:"#f59e0b",radius:[4,4,0,0]})]})})})]})]})]})}const MV=async e=>{const{data:t,error:r}=await be.from("users").select("*").eq("id",e).single();if(r)throw console.error("사용자 프로필 가져오기 오류:",r),r;return t},RV=async e=>{const{data:t,error:r}=await be.from("users").insert({id:e.id,email:e.email,name:e.name,profile_image:e.profile_image||"",phone:e.phone||"",role:"customer"}).select().single();if(r)throw console.error("사용자 프로필 생성 오류:",r),r;return t},$V=async(e,t,r="owner")=>{const{data:n,error:s}=await be.from("user_stores").insert({user_id:e,store_id:t,role:r}).select().single();if(s)throw console.error("사용자-매장 연결 오류:",s),s;return n},uy=()=>{const[e,t]=w.useState(null),[r,n]=w.useState(null),[s,o]=w.useState(!0),[u,d]=w.useState(!1),[h,m]=w.useState(!1);return w.useEffect(()=>{if(h)return;const g=async j=>{try{return await MV(j)}catch{return console.log("사용자 프로필이 없습니다. 새로 생성합니다."),null}},x=async j=>{try{return await RV({id:j.id,email:j.email||"",name:j.user_metadata?.full_name||j.user_metadata?.name||"사용자",profile_image:j.user_metadata?.avatar_url||j.user_metadata?.picture||"",phone:j.user_metadata?.phone_number||""})}catch(_){return console.error("사용자 프로필 생성 실패:",_),{id:j.id,email:j.email||"",name:j.user_metadata?.full_name||j.user_metadata?.name||"사용자",profile_image:j.user_metadata?.avatar_url||j.user_metadata?.picture||"",phone:j.user_metadata?.phone_number||"",role:"customer",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}};(async()=>{try{console.log("🔍 초기 세션 확인 중...");const{data:{session:j},error:_}=await be.auth.getSession();if(_)console.error("❌ 세션 확인 오류:",_),t(null),n(null);else if(j?.user){console.log("✅ 세션 발견:",j.user.email),t(j.user);try{const N=g(j.user.id),S=new Promise((A,P)=>setTimeout(()=>P(new Error("프로필 로드 타임아웃")),5e3));let O=await Promise.race([N,S]);O?console.log("✅ 프로필 발견:",O.role):(console.log("📝 프로필이 없어서 새로 생성합니다."),O=await x(j.user)),n(O)}catch(N){console.error("❌ 프로필 로드 실패:",N);const S=await x(j.user);n(S)}}else console.log("❌ 세션이 없습니다."),t(null),n(null)}catch(j){console.error("❌ 초기 세션 로드 실패:",j),t(null),n(null)}finally{o(!1),d(!0),m(!0)}})();const{data:{subscription:b}}=be.auth.onAuthStateChange(async(j,_)=>{if(console.log("🔄 인증 상태 변경:",j,_?.user?.email),!!u)if(_?.user){console.log("✅ 로그인 상태:",_.user.email),t(_.user);let N=await g(_.user.id);N?console.log("✅ 프로필 로드됨:",N.role):(console.log("📝 프로필이 없어서 새로 생성합니다."),N=await x(_.user)),n(N)}else console.log("❌ 로그아웃 상태"),t(null),n(null)});return()=>{b.unsubscribe()}},[h]),{user:e,userProfile:r,loading:s}};function LV({showToast:e}){const t=gt(),{user:r}=uy(),[n,s]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(null),[b,j]=w.useState("all");w.useEffect(()=>{(async()=>{if(n.length>0){u(!1);return}try{u(!0);const L=(await Oa()).map(B=>({id:B.id,name:B.name,category:B.category||"한식반찬",owner:B.owner_name||"미지정",phone:B.phone||"",status:B.is_active?"active":"inactive",deliveryArea:B.delivery_area||"",businessHoursStart:B.business_hours_start||"09:00",businessHoursEnd:B.business_hours_end||"22:00",orderCutoffTime:B.order_cutoff_time||"15:00",minimumOrderAmount:B.minimum_order_amount||0,pickupTimeSlots:B.pickup_time_slots||[],deliveryTimeSlots:B.delivery_time_slots||[],bankAccount:B.bank_account||"",accountHolder:B.account_holder||""}));s(L),console.log("✅ 매장 데이터 로드됨:",L.length,"개")}catch($){console.error("❌ 매장 데이터 로드 실패:",$),e("매장 데이터를 불러오는데 실패했습니다.")}finally{u(!1)}})()},[e]);const[_,N]=w.useState({name:"",category:"한식반찬",owner:"",phone:"",deliveryArea:"",businessHoursStart:"09:00",businessHoursEnd:"22:00",orderCutoffTime:"15:00",minimumOrderAmount:0,bankAccount:"",accountHolder:"",pickupTimeSlots:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],deliveryTimeSlots:[{name:"아침 배송",start:"08:00",end:"10:00",enabled:!1},{name:"점심 배송",start:"11:30",end:"14:00",enabled:!0},{name:"오후 배송",start:"14:30",end:"17:00",enabled:!1},{name:"저녁 배송",start:"17:30",end:"20:00",enabled:!0}]}),S=w.useMemo(()=>n.filter(T=>b==="all"||T.status===b),[n,b]),O=w.useCallback(async()=>{if(!_.name.trim()){e("매장명을 입력해주세요");return}if(_.name.trim().length<2){e("매장명은 2글자 이상 입력해주세요");return}if(!_.phone.trim()){e("전화번호를 입력해주세요");return}if(!_.deliveryArea.trim()){e("배달지역을 입력해주세요");return}if(!_.bankAccount.trim()){e("계좌번호를 입력해주세요");return}if(!_.accountHolder.trim()){e("예금주명을 입력해주세요");return}try{const T={name:_.name,category:_.category,owner_name:_.owner,phone:_.phone,delivery_area:_.deliveryArea,business_hours_start:_.businessHoursStart,business_hours_end:_.businessHoursEnd,order_cutoff_time:_.orderCutoffTime,minimum_order_amount:_.minimumOrderAmount,bank_account:_.bankAccount,account_holder:_.accountHolder,is_active:!0,pickup_time_slots:_.pickupTimeSlots,delivery_time_slots:_.deliveryTimeSlots};console.log("🔄 매장 생성 데이터:",T);const $=await P6(T);if(r?.id)try{await $V(r.id,$.id,"owner"),console.log("✅ user_stores 연결 완료:",r.id,$.id)}catch(B){console.error("❌ user_stores 연결 실패:",B)}const L={id:$.id,name:$.name,category:$.category||"한식반찬",owner:$.owner_name||"미지정",phone:$.phone||"",status:$.is_active?"active":"inactive",deliveryArea:$.delivery_area||"",businessHoursStart:$.business_hours_start||"09:00",businessHoursEnd:$.business_hours_end||"22:00",orderCutoffTime:$.order_cutoff_time||"15:00",minimumOrderAmount:$.minimum_order_amount||0,pickupTimeSlots:$.pickup_time_slots||[],deliveryTimeSlots:$.delivery_time_slots||[],bankAccount:$.bank_account||"",accountHolder:$.account_holder||""};s([...n,L]),h(!1),N({name:"",category:"한식반찬",owner:"",phone:"",deliveryArea:"",businessHoursStart:"09:00",businessHoursEnd:"22:00",orderCutoffTime:"15:00",minimumOrderAmount:0,bankAccount:"",accountHolder:"",pickupTimeSlots:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],deliveryTimeSlots:[{name:"아침 배송",start:"08:00",end:"10:00",enabled:!1},{name:"점심 배송",start:"11:30",end:"14:00",enabled:!0},{name:"오후 배송",start:"14:30",end:"17:00",enabled:!1},{name:"저녁 배송",start:"17:30",end:"20:00",enabled:!0}]}),e("새 매장이 추가되었습니다")}catch(T){console.error("❌ 매장 추가 실패:",T),e("매장 추가에 실패했습니다")}},[_,e,n]),A=T=>{v(T),g(!0)},P=async()=>{if(x){if(console.log("🔍 수정 전 editingStore:",x),console.log("💰 최소주문금액 상태값:",x.minimumOrderAmount),!x.name.trim()){e("매장명을 입력해주세요");return}if(x.name.trim().length<2){e("매장명은 2글자 이상 입력해주세요");return}if(!x.phone.trim()){e("전화번호를 입력해주세요");return}if(!x.deliveryArea.trim()){e("배달지역을 입력해주세요");return}if(!x.bankAccount.trim()){e("계좌번호를 입력해주세요");return}if(!x.accountHolder.trim()){e("예금주명을 입력해주세요");return}try{const T={name:x.name,category:x.category,owner_name:x.owner,phone:x.phone,delivery_area:x.deliveryArea,business_hours_start:x.businessHoursStart,business_hours_end:x.businessHoursEnd,order_cutoff_time:x.orderCutoffTime,minimum_order_amount:x.minimumOrderAmount,bank_account:x.bankAccount,account_holder:x.accountHolder,pickup_time_slots:x.pickupTimeSlots,delivery_time_slots:x.deliveryTimeSlots};console.log("🔄 매장 수정 데이터:",T),console.log("💰 최소주문금액 확인:",x.minimumOrderAmount,"->",T.minimum_order_amount),await Sx(x.id,T),s(n.map($=>$.id===x.id?x:$)),g(!1),v(null),e("매장 정보가 업데이트되었습니다")}catch(T){console.error("❌ 매장 업데이트 실패:",T),e("매장 업데이트에 실패했습니다")}}},k=async T=>{if(confirm("정말로 이 매장을 삭제하시겠습니까?"))try{await M6(T),s(n.filter($=>$.id!==T)),e("매장이 삭제되었습니다")}catch($){console.error("❌ 매장 삭제 실패:",$),e("매장 삭제에 실패했습니다")}},D=T=>{t(`/admin/${T.id}`),e(`${T.name} 관리자 페이지로 이동합니다`)},C=async T=>{try{const $=n.find(B=>B.id===T);if(!$)return;const L=$.status==="active"?"inactive":"active";await Sx(T,{is_active:L==="active"}),s(n.map(B=>B.id===T?{...B,status:L}:B)),e(`매장이 ${L==="active"?"운영 재개":"운영 중단"}되었습니다`)}catch($){console.error("❌ 매장 상태 변경 실패:",$),e("매장 상태 변경에 실패했습니다")}};return o?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"매장 데이터를 불러오는 중..."})]})}):i.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg lg:text-2xl font-bold text-gray-800",children:"매장 관리"}),i.jsx("p",{className:"text-sm lg:text-base text-gray-600",children:"등록된 매장과 운영 상태를 관리합니다"})]}),i.jsx("button",{onClick:()=>h(!0),className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-3 lg:px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors text-sm lg:text-base w-full sm:w-auto",children:"+ 새 매장 추가"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[i.jsxs("select",{value:b,onChange:T=>j(T.target.value),className:"px-2 lg:px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm lg:text-base w-full sm:w-auto",children:[i.jsx("option",{value:"all",children:"전체 매장"}),i.jsx("option",{value:"active",children:"운영 중"}),i.jsx("option",{value:"inactive",children:"운영 중단"})]}),i.jsxs("div",{className:"text-xs lg:text-sm text-gray-600",children:["총 ",S.length,"개 매장"]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:S.map(T=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 lg:p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3 lg:mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-800",children:T.name}),i.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:T.category})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.status==="active"?"운영 중":"운영 중단"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"사장님:"}),i.jsx("span",{children:T.owner})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"전화:"}),i.jsx("span",{children:T.phone})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"배달지역:"}),i.jsx("span",{children:T.deliveryArea})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"운영시간:"}),i.jsxs("span",{children:[T.businessHoursStart," - ",T.businessHoursEnd]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"주문마감:"}),i.jsx("span",{children:T.orderCutoffTime||"15:00"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"최소주문:"}),i.jsxs("span",{children:[T.minimumOrderAmount?.toLocaleString()||"0","원"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:()=>D(T),className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:[i.jsx("i",{className:"ri-admin-line mr-2"}),"관리자 페이지 보기"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>A(T),className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-3 py-2 rounded-lg text-sm border border-gray-300 hover:border-orange-500 transition-colors",children:"수정"}),i.jsx("button",{onClick:()=>C(T.id),className:`flex-1 px-3 py-2 rounded-lg text-sm border transition-colors ${T.status==="active"?"bg-red-50 hover:bg-red-500 text-red-700 hover:text-white border-red-300 hover:border-red-500":"bg-green-50 hover:bg-green-500 text-green-700 hover:text-white border-green-300 hover:border-green-500"}`,children:T.status==="active"?"중단":"재개"}),i.jsx("button",{onClick:()=>k(T.id),className:"bg-red-50 hover:bg-red-500 text-red-700 hover:text-white px-3 py-2 rounded-lg text-sm border border-red-300 hover:border-red-500 transition-colors",children:"삭제"})]})]})]},T.id))}),d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 lg:p-4",children:i.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[95vh] overflow-y-auto",children:i.jsxs("div",{className:"p-4 lg:p-6",children:[i.jsx("h3",{className:"text-base lg:text-lg font-semibold mb-3 lg:mb-4",children:"새 매장 추가"}),i.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1",children:"매장명"}),i.jsx("input",{type:"text",value:_.name,onChange:T=>N({..._,name:T.target.value}),className:"w-full px-2 lg:px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm lg:text-base",placeholder:"매장명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsx("select",{value:_.category,onChange:T=>N({..._,category:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:i.jsx("option",{value:"한식반찬",children:"한식반찬"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사장님 이름"}),i.jsx("input",{type:"text",value:_.owner,onChange:T=>N({..._,owner:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"사장님 이름을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),i.jsx("input",{type:"text",value:_.phone,onChange:T=>N({..._,phone:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"전화번호를 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"배달지역"}),i.jsx("input",{type:"text",value:_.deliveryArea,onChange:T=>N({..._,deliveryArea:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"예: 강남구, 서초구"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영시작"}),i.jsx("input",{type:"time",value:_.businessHoursStart,onChange:T=>N({..._,businessHoursStart:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영종료"}),i.jsx("input",{type:"time",value:_.businessHoursEnd,onChange:T=>N({..._,businessHoursEnd:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주문마감시간"}),i.jsx("input",{type:"time",value:_.orderCutoffTime,onChange:T=>N({..._,orderCutoffTime:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"이 시간 이후 주문은 다음날 배달됩니다"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"최소주문금액 (원)"}),i.jsx("input",{type:"number",min:"0",value:_.minimumOrderAmount===0?"":_.minimumOrderAmount,onChange:T=>{const $=T.target.value,L=$===""?0:parseInt($);N({..._,minimumOrderAmount:L})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"0"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"최소 주문 금액을 설정하세요 (0원이면 제한 없음)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계좌번호"}),i.jsx("input",{type:"text",value:_.bankAccount,onChange:T=>N({..._,bankAccount:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"계좌번호를 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예금주"}),i.jsx("input",{type:"text",value:_.accountHolder,onChange:T=>N({..._,accountHolder:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"예금주명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"픽업시간 설정"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"시작 시간:"}),i.jsx("select",{value:_.pickupTimeSlots[0]||"09:00",onChange:T=>{const $=T.target.value,L=_.pickupTimeSlots[1]||"20:00";N({..._,pickupTimeSlots:[$,L]})},className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"].map(T=>i.jsx("option",{value:T,children:T},T))})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"종료 시간:"}),i.jsx("select",{value:_.pickupTimeSlots[1]||"20:00",onChange:T=>{const $=_.pickupTimeSlots[0]||"09:00",L=T.target.value;N({..._,pickupTimeSlots:[$,L]})},className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"].map(T=>i.jsx("option",{value:T,children:T},T))})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["픽업 가능 시간: ",_.pickupTimeSlots[0]||"09:00"," ~ ",_.pickupTimeSlots[1]||"20:00"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달시간 설정"}),i.jsx("div",{className:"space-y-3",children:_.deliveryTimeSlots.map((T,$)=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[i.jsx("input",{type:"checkbox",checked:T.enabled,onChange:L=>{const B=[..._.deliveryTimeSlots];B[$].enabled=L.target.checked,N({..._,deliveryTimeSlots:B})},className:"mr-2"}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:T.name,onChange:L=>{const B=[..._.deliveryTimeSlots];B[$].name=L.target.value,N({..._,deliveryTimeSlots:B})},className:"px-2 py-1 border border-gray-300 rounded text-sm w-20",placeholder:"시간대명"}),i.jsx("input",{type:"time",value:T.start,onChange:L=>{const B=[..._.deliveryTimeSlots];B[$].start=L.target.value,N({..._,deliveryTimeSlots:B})},className:"px-2 py-1 border border-gray-300 rounded text-sm"}),i.jsx("span",{className:"text-gray-500",children:"~"}),i.jsx("input",{type:"time",value:T.end,onChange:L=>{const B=[..._.deliveryTimeSlots];B[$].end=L.target.value,N({..._,deliveryTimeSlots:B})},className:"px-2 py-1 border border-gray-300 rounded text-sm"})]})})]},$))})]})]}),i.jsxs("div",{className:"flex space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>h(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"취소"}),i.jsx("button",{onClick:O,className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"추가"})]})]})})}),m&&x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"매장 정보 수정"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"매장명"}),i.jsx("input",{type:"text",value:x.name,onChange:T=>v({...x,name:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsx("select",{value:x.category,onChange:T=>v({...x,category:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:i.jsx("option",{value:"한식반찬",children:"한식반찬"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사장님 이름"}),i.jsx("input",{type:"text",value:x.owner,onChange:T=>v({...x,owner:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"사장님 이름을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),i.jsx("input",{type:"text",value:x.phone,onChange:T=>v({...x,phone:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"배달지역"}),i.jsx("input",{type:"text",value:x.deliveryArea,onChange:T=>v({...x,deliveryArea:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영시작"}),i.jsx("input",{type:"time",value:x.businessHoursStart,onChange:T=>v({...x,businessHoursStart:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영종료"}),i.jsx("input",{type:"time",value:x.businessHoursEnd,onChange:T=>v({...x,businessHoursEnd:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주문마감시간"}),i.jsx("input",{type:"time",value:x.orderCutoffTime,onChange:T=>v({...x,orderCutoffTime:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"이 시간 이후 주문은 다음날 배달됩니다"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"최소주문금액 (원)"}),i.jsx("input",{type:"number",min:"0",value:x.minimumOrderAmount===0?"":x.minimumOrderAmount,onChange:T=>{const $=T.target.value,L=$===""?0:parseInt($);v(B=>B?{...B,minimumOrderAmount:L}:null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"0"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"최소 주문 금액을 설정하세요 (0원이면 제한 없음)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계좌번호"}),i.jsx("input",{type:"text",value:x.bankAccount,onChange:T=>v({...x,bankAccount:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예금주"}),i.jsx("input",{type:"text",value:x.accountHolder,onChange:T=>v({...x,accountHolder:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"픽업시간 설정"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"시작 시간:"}),i.jsx("select",{value:x.pickupTimeSlots[0]||"09:00",onChange:T=>{const $=T.target.value,L=x.pickupTimeSlots[1]||"20:00";v({...x,pickupTimeSlots:[$,L]})},className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"].map(T=>i.jsx("option",{value:T,children:T},T))})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"종료 시간:"}),i.jsx("select",{value:x.pickupTimeSlots[1]||"20:00",onChange:T=>{const $=x.pickupTimeSlots[0]||"09:00",L=T.target.value;v({...x,pickupTimeSlots:[$,L]})},className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"].map(T=>i.jsx("option",{value:T,children:T},T))})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["픽업 가능 시간: ",x.pickupTimeSlots[0]||"09:00"," ~ ",x.pickupTimeSlots[1]||"20:00"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달시간 설정"}),i.jsx("div",{className:"space-y-3",children:x.deliveryTimeSlots.map((T,$)=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[i.jsx("input",{type:"checkbox",checked:T.enabled,onChange:L=>{const B=[...x.deliveryTimeSlots];B[$].enabled=L.target.checked,v({...x,deliveryTimeSlots:B})},className:"mr-2"}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:T.name,onChange:L=>{const B=[...x.deliveryTimeSlots];B[$].name=L.target.value,v({...x,deliveryTimeSlots:B})},className:"px-2 py-1 border border-gray-300 rounded text-sm w-20",placeholder:"시간대명"}),i.jsx("input",{type:"time",value:T.start,onChange:L=>{const B=[...x.deliveryTimeSlots];B[$].start=L.target.value,v({...x,deliveryTimeSlots:B})},className:"px-2 py-1 border border-gray-300 rounded text-sm"}),i.jsx("span",{className:"text-gray-500",children:"~"}),i.jsx("input",{type:"time",value:T.end,onChange:L=>{const B=[...x.deliveryTimeSlots];B[$].end=L.target.value,v({...x,deliveryTimeSlots:B})},className:"px-2 py-1 border border-gray-300 rounded text-sm"})]})})]},$))})]})]}),i.jsxs("div",{className:"flex space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>g(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"취소"}),i.jsx("button",{onClick:P,className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"수정"})]})]})})})]})}function IV({showToast:e}){const[t,r]=w.useState([]),[n,s]=w.useState(""),[o,u]=w.useState([]),[d,h]=w.useState(!0),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[b,j]=w.useState(null);w.useEffect(()=>{(async()=>{if(t.length>0){h(!1);return}try{h(!0);const $=(await Oa()).map(L=>({id:L.id,name:L.name,category:L.category||"한식반찬",owner:L.owner_name||"미지정",phone:L.phone||"",status:L.is_active?"active":"inactive",deliveryArea:L.delivery_area||"",businessHoursStart:L.business_hours_start||"09:00",businessHoursEnd:L.business_hours_end||"22:00",pickupTimeSlots:L.pickup_time_slots||[],deliveryTimeSlots:L.delivery_time_slots||[],bankAccount:L.bank_account||"",accountHolder:L.account_holder||"",orderCutoffTime:L.order_cutoff_time||"15:00",minimumOrderAmount:L.minimum_order_amount||0}));r($),$.length>0&&s($[0].id),console.log("✅ 매장 데이터 로드됨:",$.length,"개")}catch(T){console.error("❌ 매장 데이터 로드 실패:",T),e("매장 데이터를 불러오는데 실패했습니다.")}finally{h(!1)}})()},[e]),w.useEffect(()=>{n&&_(n)},[n]);const _=async C=>{try{h(!0);const $=(await kf(C)).map(L=>({id:L.id,name:L.name,price:L.price,category:L.category||"인기메뉴",description:L.description||"",isAvailable:L.is_available!==!1,storeId:L.store_id}));u($),console.log("✅ 메뉴 데이터 로드됨:",$.length,"개")}catch(T){console.error("❌ 메뉴 데이터 로드 실패:",T),e("메뉴 데이터를 불러오는데 실패했습니다.")}finally{h(!1)}},[N,S]=w.useState({name:"",price:0,category:"인기메뉴",description:"",isAvailable:!0}),O=async()=>{if(!N.name.trim()){e("메뉴명을 입력해주세요");return}if(N.name.trim().length<2){e("메뉴명은 2글자 이상 입력해주세요");return}if(N.price<=0){e("가격을 입력해주세요");return}if(N.price>1e5){e("가격은 100,000원 이하로 입력해주세요");return}if(!n){e("매장을 선택해주세요");return}try{const C={name:N.name,price:N.price,category:N.category,description:N.description,is_available:N.isAvailable,store_id:n};console.log("🚀 메뉴 추가 시작:",C);const T=await Tp(C);console.log("✅ 메뉴 추가 성공:",T);const $={id:T.id,name:T.name,price:T.price,category:T.category||"인기메뉴",description:T.description||"",isAvailable:T.is_available!==!1,storeId:T.store_id};u([...o,$]),g(!1),S({name:"",price:0,category:"인기메뉴",description:"",isAvailable:!0}),e("새 메뉴가 추가되었습니다")}catch(C){console.error("❌ 메뉴 추가 실패:",C),e("메뉴 추가에 실패했습니다")}},A=C=>{j(C),v(!0)},P=async()=>{if(b){if(!b.name.trim()){e("메뉴명을 입력해주세요");return}if(b.name.trim().length<2){e("메뉴명은 2글자 이상 입력해주세요");return}if(b.price<=0){e("가격을 입력해주세요");return}if(b.price>1e5){e("가격은 100,000원 이하로 입력해주세요");return}try{const C={name:b.name,price:b.price,category:b.category,description:b.description,is_available:b.isAvailable};await fc(b.id,C),u(o.map(T=>T.id===b.id?b:T)),v(!1),j(null),e("메뉴 정보가 업데이트되었습니다")}catch(C){console.error("❌ 메뉴 업데이트 실패:",C),e("메뉴 업데이트에 실패했습니다")}}},k=async C=>{if(confirm("정말로 이 메뉴를 삭제하시겠습니까?"))try{await Cp(C),u(o.filter(T=>T.id!==C)),e("메뉴가 삭제되었습니다")}catch(T){console.error("❌ 메뉴 삭제 실패:",T),e("메뉴 삭제에 실패했습니다")}},D=async C=>{try{const T=o.find($=>$.id===C);if(!T)return;await fc(C,{is_available:!T.isAvailable}),u(o.map($=>$.id===C?{...$,isAvailable:!$.isAvailable}:$)),e("메뉴 상태가 변경되었습니다")}catch(T){console.error("메뉴 상태 변경 실패:",T),e("메뉴 상태 변경에 실패했습니다")}};return d&&t.length===0?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"데이터를 불러오는 중..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"메뉴 관리"}),i.jsx("p",{className:"text-gray-600",children:"매장별 메뉴를 관리합니다"})]}),i.jsx("button",{onClick:()=>g(!0),disabled:!n,className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"+ 메뉴 추가"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"매장 선택:"}),i.jsx("select",{value:n,onChange:C=>s(C.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:t.map(C=>i.jsx("option",{value:C.id,children:C.name},C.id))}),i.jsxs("div",{className:"text-sm text-gray-600",children:[o.length,"개 메뉴"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(C=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:C.name}),i.jsx("p",{className:"text-sm text-gray-600",children:C.category}),i.jsxs("p",{className:"text-lg font-bold text-orange-600 mt-1",children:[(C.price||0).toLocaleString(),"원"]})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:C.isAvailable?"판매중":"품절"})]}),C.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:C.description}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>A(C),className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-3 py-2 rounded-lg text-sm border border-gray-300 hover:border-orange-500 transition-colors",children:"수정"}),i.jsx("button",{onClick:()=>D(C.id),className:`flex-1 px-3 py-2 rounded-lg text-sm border transition-colors ${C.isAvailable?"bg-red-50 hover:bg-red-500 text-red-700 hover:text-white border-red-300 hover:border-red-500":"bg-green-50 hover:bg-green-500 text-green-700 hover:text-white border-green-300 hover:border-green-500"}`,children:C.isAvailable?"품절":"판매"}),i.jsx("button",{onClick:()=>k(C.id),className:"bg-red-50 hover:bg-red-500 text-red-700 hover:text-white px-3 py-2 rounded-lg text-sm border border-red-300 hover:border-red-500 transition-colors",children:"삭제"})]})]},C.id))}),o.length===0&&!d&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500",children:"등록된 메뉴가 없습니다"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"새 메뉴를 추가해보세요"})]}),m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"새 메뉴 추가"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메뉴명"}),i.jsx("input",{type:"text",value:N.name,onChange:C=>S({...N,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"메뉴명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가격"}),i.jsx("input",{type:"number",value:N.price||"",onChange:C=>{const T=C.target.value,$=T===""?0:parseInt(T)||0;S({...N,price:$})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"가격을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsxs("select",{value:N.category,onChange:C=>S({...N,category:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[i.jsx("option",{value:"메인요리",children:"메인요리"}),i.jsx("option",{value:"국물류",children:"국물류"}),i.jsx("option",{value:"김치류",children:"김치류"}),i.jsx("option",{value:"젓갈류",children:"젓갈류"}),i.jsx("option",{value:"나물류",children:"나물류"}),i.jsx("option",{value:"조림류",children:"조림류"}),i.jsx("option",{value:"특별반찬",children:"특별반찬"}),i.jsx("option",{value:"인기메뉴",children:"인기메뉴"}),i.jsx("option",{value:"세트메뉴",children:"세트메뉴"}),i.jsx("option",{value:"월식메뉴",children:"월식메뉴"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),i.jsx("textarea",{value:N.description,onChange:C=>S({...N,description:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",rows:3,placeholder:"메뉴 설명을 입력하세요"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isAvailable",checked:N.isAvailable,onChange:C=>S({...N,isAvailable:C.target.checked}),className:"mr-2"}),i.jsx("label",{htmlFor:"isAvailable",className:"text-sm text-gray-700",children:"판매 가능"})]})]}),i.jsxs("div",{className:"flex space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>g(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"취소"}),i.jsx("button",{onClick:O,className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"추가"})]})]})}),x&&b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"메뉴 정보 수정"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메뉴명"}),i.jsx("input",{type:"text",value:b.name,onChange:C=>j({...b,name:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가격"}),i.jsx("input",{type:"number",value:b.price||"",onChange:C=>{const T=C.target.value,$=T===""?0:parseInt(T)||0;j({...b,price:$})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsxs("select",{value:b.category,onChange:C=>j({...b,category:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[i.jsx("option",{value:"메인요리",children:"메인요리"}),i.jsx("option",{value:"국물류",children:"국물류"}),i.jsx("option",{value:"김치류",children:"김치류"}),i.jsx("option",{value:"젓갈류",children:"젓갈류"}),i.jsx("option",{value:"나물류",children:"나물류"}),i.jsx("option",{value:"조림류",children:"조림류"}),i.jsx("option",{value:"특별반찬",children:"특별반찬"}),i.jsx("option",{value:"인기메뉴",children:"인기메뉴"}),i.jsx("option",{value:"세트메뉴",children:"세트메뉴"}),i.jsx("option",{value:"월식메뉴",children:"월식메뉴"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),i.jsx("textarea",{value:b.description,onChange:C=>j({...b,description:C.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",rows:3})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"editIsAvailable",checked:b.isAvailable,onChange:C=>j({...b,isAvailable:C.target.checked}),className:"mr-2"}),i.jsx("label",{htmlFor:"editIsAvailable",className:"text-sm text-gray-700",children:"판매 가능"})]})]}),i.jsxs("div",{className:"flex space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>v(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"취소"}),i.jsx("button",{onClick:P,className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"수정"})]})]})})]})}function UV({showToast:e}){const[t,r]=w.useState([]),[n,s]=w.useState(!0),[o,u]=w.useState(""),[d,h]=w.useState(!1),[m,g]=w.useState(null);w.useEffect(()=>{x()},[]);const x=async()=>{try{s(!0);const O=await pO();r(O)}catch(O){console.error("문의 로드 실패:",O),e("문의를 불러오는데 실패했습니다.")}finally{s(!1)}},v=async(O,A)=>{try{await o6(O,A),r(t.map(P=>P.id===O?{...P,status:A}:P)),e(`문의 상태가 "${A}"로 변경되었습니다.`)}catch(P){console.error("상태 변경 실패:",P),e("상태 변경에 실패했습니다.")}},b=(O,A)=>{g({id:O,name:A}),h(!0)},j=async()=>{if(m)try{await c6(m.id),r(t.filter(O=>O.id!==m.id)),e(`${m.name}님의 문의를 삭제했습니다.`)}catch(O){console.error("삭제 실패:",O),e("삭제에 실패했습니다.")}finally{h(!1),g(null)}},_=()=>{h(!1),g(null)},N=t.filter(O=>O.name.toLowerCase().includes(o.toLowerCase())||O.phone.includes(o)||O.store_name.toLowerCase().includes(o.toLowerCase())),S=O=>new Date(O).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"문의 관리"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"매장 개설 문의를 확인하고 관리할 수 있습니다."})]}),i.jsxs("div",{className:"flex space-x-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-500",children:t.filter(O=>O.status==="미확인").length}),i.jsx("div",{className:"text-sm text-gray-500",children:"미확인"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-green-500",children:t.filter(O=>O.status==="확인").length}),i.jsx("div",{className:"text-sm text-gray-500",children:"확인"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-500",children:t.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"전체 문의"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"이름, 전화번호, 가게명으로 검색...",value:o,onChange:O=>u(O.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})}),o&&i.jsx("button",{onClick:()=>u(""),className:"px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors",children:i.jsx("i",{className:"ri-close-line text-lg"})})]})]}),N.length===0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-question-line text-2xl text-gray-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:o?"검색 결과가 없습니다":"문의가 없습니다"}),i.jsx("p",{className:"text-gray-500",children:o?"다른 검색어로 시도해보세요.":"새로운 문의가 있으면 여기에 표시됩니다."})]}):i.jsx("div",{className:"space-y-4",children:N.map(O=>i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:i.jsx("i",{className:"ri-user-line text-orange-500 text-xl"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:O.name}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${O.status==="확인"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:O.status})]}),i.jsx("p",{className:"text-sm text-gray-600",children:O.phone}),i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:O.store_name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["문의일: ",S(O.created_at)]})]})]})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:()=>v(O.id,O.status==="확인"?"미확인":"확인"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2 ${O.status==="확인"?"bg-orange-500 hover:bg-orange-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:[i.jsx("i",{className:`ri-${O.status==="확인"?"eye-off":"eye"}-line`}),i.jsx("span",{children:O.status==="확인"?"미확인으로":"확인으로"})]}),i.jsxs("button",{onClick:()=>b(O.id,O.name),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center space-x-2",children:[i.jsx("i",{className:"ri-delete-bin-line"}),i.jsx("span",{children:"삭제"})]})]})]})},O.id))}),d&&m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm w-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-delete-bin-line text-2xl text-red-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"문의 삭제"}),i.jsxs("p",{className:"text-gray-600 mb-6",children:[i.jsx("span",{className:"font-semibold text-red-600",children:m.name}),"님의 문의를 정말로 삭제하시겠습니까?",i.jsx("br",{}),i.jsx("span",{className:"text-sm text-gray-500",children:"이 작업은 되돌릴 수 없습니다."})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:_,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"삭제"})]})]})})})]})}function qV(){const[e,t]=w.useState({totalRevenue:0,totalOrders:0,averageOrderValue:0,revenueGrowth:0,orderGrowth:0,topStores:[],dailyStats:[],monthlyStats:[],orderStatusDistribution:{입금대기:0,입금확인:0,배달완료:0,주문취소:0},timeSlotAnalysis:[]}),[r,n]=w.useState(!0),[s,o]=w.useState("month");w.useEffect(()=>{u()},[s]);const u=async()=>{try{n(!0);const[N,S]=await Promise.all([d(),h()]),O=m(N,S);t(O)}catch(N){console.error("통계 데이터 로드 실패:",N)}finally{n(!1)}},d=async()=>{const{data:N,error:S}=await be.from("orders").select("*").order("created_at",{ascending:!1});if(S)return console.error("Orders 데이터 로드 실패:",S),[];const O=[...new Set(N?.map(P=>P.store_id).filter(Boolean))];let A=new Map;if(O.length>0){const{data:P}=await be.from("stores").select("id, name").in("id",O);A=new Map(P?.map(k=>[k.id,k])||[])}return N?.map(P=>({...P,total_amount:P.amount||P.total_price||P.price||P.total_amount||0,stores:A.get(P.store_id)||{id:"",name:"Unknown"}}))||[]},h=async()=>{const{data:N,error:S}=await be.from("stores").select("id, name, created_at");if(S)throw S;return N||[]},m=(N,S)=>{const O=new Date,A=g(O,s),P=N.filter(ue=>new Date(ue.created_at)>=A),k=S.length,D=3e4,C=1e6,T=k*C;let $=0;S.forEach(ue=>{const ye=new Date(ue.created_at),F=Math.max(0,(O.getFullYear()-ye.getFullYear())*12+(O.getMonth()-ye.getMonth()));$+=D*F});const L=T+$,B=P.reduce((ue,ye)=>ue+ye.total_amount,0),J=P.length,ie=J>0?B/J:0,W=g(new Date(A.getTime()-x(s)),s);let Z=0;S.forEach(ue=>{const ye=new Date(ue.created_at),F=new Date(A);if(ye<=F){ye>=W&&(Z+=C);const de=Math.max(0,(F.getFullYear()-Math.max(ye.getFullYear(),W.getFullYear()))*12+(F.getMonth()-Math.max(ye.getMonth(),W.getMonth())));Z+=D*de}});const z=Z>0?Math.round((L-Z)/Z*100):0,le=N.filter(ue=>new Date(ue.created_at)>=W&&new Date(ue.created_at)<A).length,ge=le>0?Math.round((J-le)/le*100):0,I=new Map;P.forEach(ue=>{const ye=ue.stores.id,F=ue.stores.name;I.has(ye)||I.set(ye,{id:ye,name:F,revenue:0,orderCount:0});const de=I.get(ye);de.revenue+=ue.total_amount,de.orderCount++});const te=Array.from(I.values()).sort((ue,ye)=>ye.revenue-ue.revenue).slice(0,10),ne=v(P,A,O),H=b(N,s),oe={입금대기:P.filter(ue=>ue.status==="입금대기").length,입금확인:P.filter(ue=>ue.status==="입금확인").length,배달완료:P.filter(ue=>ue.status==="배달완료").length,주문취소:P.filter(ue=>ue.status==="주문취소").length},xe=j(P);return{totalRevenue:L,totalOrders:J,averageOrderValue:ie,revenueGrowth:z,orderGrowth:ge,topStores:te,dailyStats:ne,monthlyStats:H,orderStatusDistribution:oe,timeSlotAnalysis:xe}},g=(N,S)=>{const O=N.getFullYear(),A=N.getMonth(),P=N.getDate();switch(S){case"week":const k=new Date(N);return k.setDate(P-N.getDay()),k.setHours(0,0,0,0),k;case"month":return new Date(O,A,1);case"year":return new Date(O,0,1);default:return new Date(O,A,1)}},x=N=>{switch(N){case"week":return 10080*60*1e3;case"month":return 720*60*60*1e3;case"year":return 365*24*60*60*1e3;default:return 720*60*60*1e3}},v=(N,S,O)=>{const A=new Map,P=new Date(S);for(;P<=O;){const k=P.toISOString().split("T")[0];A.set(k,{date:k,revenue:0,orders:0}),P.setDate(P.getDate()+1)}return N.forEach(k=>{const D=new Date(k.created_at),T=new Date(D.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0];if(A.has(T)){const $=A.get(T);$.revenue+=k.total_amount,$.orders+=1}}),Array.from(A.values()).sort((k,D)=>k.date.localeCompare(D.date))},b=(N,S)=>{if(S!=="year")return[];const O=new Map,A=new Date,k=new Date(A.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).getFullYear();for(let D=0;D<12;D++){const C=`${k}-${String(D+1).padStart(2,"0")}`;O.set(C,{month:C,revenue:0,orders:0})}return N.forEach(D=>{const C=new Date(D.created_at);if(C.getFullYear()===k){const T=`${k}-${String(C.getMonth()+1).padStart(2,"0")}`;if(O.has(T)){const $=O.get(T);$.revenue+=D.total_amount,$.orders+=1}}}),Array.from(O.values()).sort((D,C)=>D.month.localeCompare(C.month))},j=N=>[{name:"아침 (6-12시)",start:6,end:12},{name:"점심 (12-18시)",start:12,end:18},{name:"저녁 (18-24시)",start:18,end:24},{name:"새벽 (0-6시)",start:0,end:6}].map(O=>{const A=N.filter(P=>{const k=new Date(P.created_at).getHours();return k>=O.start||k<O.end});return{timeSlot:O.name,orders:A.length,revenue:A.reduce((P,k)=>P+k.total_amount,0)}}),_=N=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(N);return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl p-8 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"통계 분석"}),i.jsx("p",{className:"text-blue-100 text-lg",children:"비즈니스 인사이트를 한눈에 확인하세요"})]}),i.jsx("div",{className:"flex space-x-2",children:[{key:"week",label:"이번 주"},{key:"month",label:"이번 달"},{key:"year",label:"이번 년"}].map(N=>i.jsx("button",{onClick:()=>o(N.key),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${s===N.key?"bg-white text-blue-600 shadow-lg":"bg-white/20 text-white hover:bg-white/30"}`,children:N.label},N.key))})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white col-span-1 md:col-span-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm font-medium",children:"총 매출"}),i.jsx("p",{className:"text-4xl font-bold",children:_(e.totalRevenue)})]}),i.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-3xl"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm",children:"전기간 대비"}),i.jsxs("p",{className:`text-xl font-semibold ${e.revenueGrowth>=0?"text-green-100":"text-red-200"}`,children:[e.revenueGrowth>=0?"+":"",e.revenueGrowth,"%"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-green-100 text-sm",children:"평균 주문금액"}),i.jsx("p",{className:"text-xl font-semibold",children:_(e.averageOrderValue)})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"총 주문 수"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalOrders.toLocaleString()})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-2xl text-blue-500"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"전기간 대비"}),i.jsxs("span",{className:`font-semibold ${e.orderGrowth>=0?"text-green-600":"text-red-600"}`,children:[e.orderGrowth>=0?"+":"",e.orderGrowth,"%"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"배달완료"}),i.jsxs("span",{className:"font-semibold",children:[e.orderStatusDistribution.배달완료,"건"]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"우리 수익 추이 (월 고정비)"})]}),i.jsx("div",{className:"h-80",children:i.jsx(ic,{width:"100%",height:"100%",children:i.jsxs(PV,{data:e.dailyStats.map(N=>({...N,ourRevenue:(N.revenue||0)*.1})),children:[i.jsx(pl,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(as,{dataKey:"date",tick:{fontSize:12},tickFormatter:N=>new Date(N).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})}),i.jsx(di,{tick:{fontSize:12},tickFormatter:N=>`${(N/1e4).toFixed(0)}만`}),i.jsx(nc,{formatter:(N,S)=>[_(N),S==="ourRevenue"?"우리 수익":"고객 주문"],labelFormatter:N=>new Date(N).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(FT,{type:"monotone",dataKey:"ourRevenue",stroke:"#10b981",fill:"url(#colorRevenue)",strokeWidth:2}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.05})]})})]})})}),i.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-green-800",children:[i.jsx("strong",{children:"우리 수익:"})," 매장당 월 3만원 고정비 + 첫 계약금 100만원"]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"시스템 로그"})]}),i.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"시스템 정상"})]}),i.jsx("span",{className:"text-xs text-green-600",children:"방금 전"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"API 응답 정상"})]}),i.jsx("span",{className:"text-xs text-blue-600",children:"1분 전"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"데이터베이스 연결 정상"})]}),i.jsx("span",{className:"text-xs text-green-600",children:"2분 전"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"보안 스캔 완료"})]}),i.jsx("span",{className:"text-xs text-green-600",children:"5분 전"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"성능 모니터링 중"})]}),i.jsx("span",{className:"text-xs text-yellow-600",children:"10분 전"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-red-800",children:"일시적 네트워크 지연"})]}),i.jsx("span",{className:"text-xs text-red-600",children:"1시간 전"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"시간대별 주문 분석"})]}),i.jsx("div",{className:"h-64",children:i.jsx(ic,{width:"100%",height:"100%",children:i.jsxs(pp,{data:e.timeSlotAnalysis,children:[i.jsx(pl,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(as,{dataKey:"timeSlot",tick:{fontSize:11},angle:-45,textAnchor:"end",height:60}),i.jsx(di,{tick:{fontSize:12}}),i.jsx(nc,{formatter:N=>[N,"주문 수"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(bf,{dataKey:"orders",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"상위 매장 성과"})]}),i.jsx("div",{className:"h-80",children:i.jsx(ic,{width:"100%",height:"100%",children:i.jsxs(pp,{data:e.topStores.slice(0,8),layout:"horizontal",children:[i.jsx(pl,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(as,{type:"number",tick:{fontSize:12},tickFormatter:N=>_(N)}),i.jsx(di,{type:"category",dataKey:"name",tick:{fontSize:11},width:100}),i.jsx(nc,{formatter:N=>[_(N),"매출"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(bf,{dataKey:"revenue",fill:"#f59e0b",radius:[0,4,4,0]})]})})})]})]})}function zV({showToast:e}){const[t,r]=w.useState([]),[n,s]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState("all"),[m,g]=w.useState("today"),[x,v]=w.useState(""),[b,j]=w.useState(!1),[_,N]=w.useState(!1),[S,O]=w.useState(""),[A,P]=w.useState(!1),[k,D]=w.useState(null),[C,T]=w.useState(1),$=7;w.useEffect(()=>{(async()=>{try{u(!0);const de=await Oa();s(de);const U=[];for(const Y of de){const se=(await yl(Y.id)).map(je=>({...je,stores:{id:Y.id,name:Y.name}}));U.push(...se)}const X=await Promise.all(U.map(async Y=>{const{data:fe}=await be.from("order_items").select(`
                *,
                menus (
                  id,
                  name
                )
              `).eq("order_id",Y.id);return{...Y,order_items:fe||[]}}));X.sort((Y,fe)=>new Date(fe.created_at).getTime()-new Date(Y.created_at).getTime()),r(X),console.log("모든 매장 주문 데이터:",X)}catch(de){console.error("주문 데이터 로드 오류:",de),e("주문 데이터를 불러오는데 실패했습니다")}finally{u(!1)}})()},[e]),w.useEffect(()=>{const F=de=>{const U=de.target;b&&!U.closest(".date-picker-container")&&j(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[b]),w.useEffect(()=>{const F=de=>{const U=de.target;_&&!U.closest(".period-dropdown-container")&&N(!1)};return document.addEventListener("mousedown",F),()=>{document.removeEventListener("mousedown",F)}},[_]);const L=F=>{v(F),g("custom"),j(!1)},B=F=>{g(F),F!=="custom"&&v("")},J=(F,de,U)=>{const X=new Date,Y=new Date(X.getFullYear(),X.getMonth(),X.getDate());switch(de){case"today":return F.filter(je=>new Date(je.created_at)>=Y);case"yesterday":const fe=new Date(Y);fe.setDate(fe.getDate()-1);const se=new Date(Y);return F.filter(je=>{const _e=new Date(je.created_at);return _e>=fe&&_e<se});case"custom":return U?F.filter(je=>new Date(je.created_at).toISOString().split("T")[0]===U):F;default:return F}},ie=(F,de)=>{const U=t.find(Y=>Y.id===F),X=U?I(U,t):0;D({orderId:F,newStatus:de,orderNumber:X}),P(!0)},W=async()=>{if(k)try{const{orderId:F,newStatus:de}=k,U=await Ep(F,de);r(t.map(X=>X.id===F?{...X,status:de}:X)),e(`주문 상태가 "${de}"로 변경되었습니다`),console.log("주문 상태 변경 성공:",U)}catch(F){console.error("주문 상태 변경 오류:",F),e("주문 상태 변경에 실패했습니다")}finally{P(!1),D(null)}},Z=()=>{P(!1),D(null)};w.useEffect(()=>{const F=de=>{const{orderId:U,status:X,updatedOrder:Y}=de.detail;console.log(`다른 페이지에서 주문 ${U} 상태가 ${X}로 변경됨. 데이터 새로고침 중...`),r(fe=>fe.map(se=>se.id===U?{...se,status:X}:se))};return window.addEventListener("orderStatusChanged",F),()=>{window.removeEventListener("orderStatusChanged",F)}},[]);const z=J(t,m,x),le=(d==="all"?z:z.filter(F=>F.status===d)).filter(F=>{if(!S.trim())return!0;const de=S.toLowerCase();return F.depositor_name?.toLowerCase().includes(de)||F.delivery_address?.toLowerCase().includes(de)||F.customer_name?.toLowerCase().includes(de)||F.customer_phone?.includes(S)||F.stores?.name?.toLowerCase().includes(de)}),ge=F=>{switch(F){case"입금대기":return"bg-yellow-100 text-yellow-800";case"입금확인":return"bg-blue-100 text-blue-800";case"배달완료":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},I=(F,de)=>{const U=new Date(F.created_at),Y=new Date(U.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0],fe=de.filter(je=>{const _e=new Date(je.created_at);return new Date(_e.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0]===Y}),se=fe.findIndex(je=>je.id===F.id);return fe.length-se},te=Math.ceil(le.length/$),ne=(C-1)*$,H=ne+$,oe=le.slice(ne,H),xe=F=>{T(F)};w.useEffect(()=>{T(1)},[d,m,x,S]);const ue=()=>{const F=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>전체 주문 내역</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; }
            .store-name { font-size: 24px; font-weight: bold; margin-bottom: 10px; }
            .period { font-size: 16px; color: #666; margin-bottom: 20px; }
            .order-card { border: 1px solid #ddd; margin-bottom: 20px; padding: 15px; border-radius: 8px; }
            .order-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
            .order-number { font-weight: bold; font-size: 18px; }
            .status { padding: 4px 8px; border-radius: 4px; font-size: 12px; }
            .status-입금대기 { background: #fef3c7; color: #92400e; }
            .status-입금확인 { background: #dbeafe; color: #1e40af; }
            .status-배달완료 { background: #d1fae5; color: #065f46; }
            .status-주문취소 { background: #fee2e2; color: #991b1b; }
            .order-type { padding: 4px 8px; border-radius: 4px; font-size: 12px; }
            .order-type-delivery { background: #dbeafe; color: #1e40af; }
            .order-type-pickup { background: #d1fae5; color: #065f46; }
            .order-details { margin: 10px 0; }
            .order-details div { margin: 5px 0; font-size: 14px; }
            .order-items { margin: 10px 0; }
            .order-item { display: flex; justify-content: space-between; margin: 5px 0; }
            .total { font-weight: bold; font-size: 16px; text-align: right; margin-top: 10px; }
            .print-date { text-align: right; color: #666; font-size: 12px; margin-top: 20px; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="store-name">전체 주문 내역</div>
            <div class="period">
              ${m==="today"?"오늘":m==="yesterday"?"어제":m==="custom"?x:"오늘"} 
              ${d!=="all"?`- ${d}`:""}
            </div>
          </div>
          
          ${oe.map(U=>{const{date:X,time:Y}={date:new Date(U.created_at).toLocaleDateString("ko-KR"),time:new Date(U.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return`
              <div class="order-card">
                <div class="order-header">
                  <div class="order-number">주문번호: ${I(U,t)}</div>
                  <div>
                    <span class="status status-${U.status}">${U.status}</span>
                    <span class="order-type order-type-${U.order_type}">${U.order_type==="delivery"?"배달":"픽업"}</span>
                  </div>
                </div>
                
                <div class="order-details">
                  <div>주문일시: ${X} ${Y}</div>
                  <div>매장: ${U.stores?.name||"알 수 없는 매장"}</div>
                  ${U.delivery_address?`<div>배달주소: ${U.delivery_address}</div>`:""}
                  ${U.delivery_time?`<div>배달시간: ${U.delivery_time}</div>`:""}
                  ${U.pickup_time?`<div>픽업시간: ${U.pickup_time}</div>`:""}
                  ${U.depositor_name?`<div>입금자명: ${U.depositor_name}</div>`:""}
                  ${U.customer_name?`<div>고객명: ${U.customer_name}</div>`:""}
                  ${U.customer_phone?`<div>연락처: ${U.customer_phone}</div>`:""}
                  ${U.special_requests?`<div>요청사항: ${U.special_requests}</div>`:""}
                </div>
                
                <div class="order-items">
                  ${U.order_items?.map(fe=>`
                    <div class="order-item">
                      <span>${fe.menus.name} x ${fe.quantity}</span>
                      <span>${(fe.price*fe.quantity).toLocaleString()}원</span>
                    </div>
                  `).join("")||"<div>주문 상품 정보 없음</div>"}
                </div>
                
                <div class="total">총 결제 금액: ${U.total.toLocaleString()}원</div>
              </div>
            `}).join("")}
          
          <div class="print-date">
            인쇄일시: ${new Date().toLocaleString("ko-KR")}
          </div>
        </body>
      </html>
    `,de=window.open("","_blank");de&&(de.document.write(F),de.document.close(),de.addEventListener("afterprint",()=>{const U=de.document.createElement("div");U.innerHTML=`
          <div style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
            <button onclick="window.close()" style="
              background: #f97316; 
              color: white; 
              border: none; 
              padding: 10px 20px; 
              border-radius: 8px; 
              cursor: pointer;
              font-size: 14px;
              font-weight: bold;
              box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            ">
              <i class="ri-arrow-left-line" style="margin-right: 5px;"></i>
              뒤로가기
            </button>
          </div>
        `,de.document.body.appendChild(U)}),de.print())},ye=F=>{switch(F){case"today":return"오늘";case"yesterday":return"어제";case"custom":return x||"날짜 선택";default:return"오늘"}};return o?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"주문 데이터를 불러오는 중..."})]})}):i.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[i.jsx("h2",{className:"text-lg lg:text-2xl font-bold text-gray-800",children:"전체 주문 관리"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:ue,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1.5 rounded-md flex items-center whitespace-nowrap cursor-pointer text-sm",title:"주문내역 인쇄",children:[i.jsx("i",{className:"ri-printer-line mr-1.5 text-xs"}),"인쇄"]}),i.jsxs("div",{className:"text-xs lg:text-sm text-gray-600",children:["총 ",t.length,"건의 주문"]})]})]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("i",{className:"ri-search-line text-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"검색"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:S,onChange:F=>O(F.target.value),placeholder:"입금자명, 배달주소, 고객명, 전화번호, 매장명으로 검색...",className:"w-full px-4 py-3 pl-10 pr-4 bg-gray-50 border-0 rounded-xl text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:bg-white transition-all duration-200 hover:bg-gray-100"}),i.jsx("i",{className:"ri-search-line absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("i",{className:"ri-filter-3-line text-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"필터"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx("i",{className:"ri-calendar-line text-gray-500 text-sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"기간:"})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative period-dropdown-container",children:[i.jsxs("button",{onClick:()=>N(!_),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 cursor-pointer transition-all duration-200 hover:border-gray-400 flex items-center justify-between",children:[i.jsx("span",{children:m==="today"?"오늘":m==="yesterday"?"어제":m==="custom"?"날짜 선택":"오늘"}),i.jsx("i",{className:`ri-arrow-down-s-line text-gray-400 text-sm transition-transform duration-200 ${_?"rotate-180":""}`})]}),_&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-lg z-20 overflow-hidden",children:[i.jsx("button",{onClick:()=>{B("today"),N(!1)},className:`w-full px-4 py-3 text-left text-sm font-medium transition-colors duration-200 hover:bg-gray-50 ${m==="today"?"bg-orange-50 text-orange-600":"text-gray-700"}`,children:"오늘"}),i.jsx("button",{onClick:()=>{B("yesterday"),N(!1)},className:`w-full px-4 py-3 text-left text-sm font-medium transition-colors duration-200 hover:bg-gray-50 ${m==="yesterday"?"bg-orange-50 text-orange-600":"text-gray-700"}`,children:"어제"}),i.jsx("button",{onClick:()=>{B("custom"),N(!1)},className:`w-full px-4 py-3 text-left text-sm font-medium transition-colors duration-200 hover:bg-gray-50 ${m==="custom"?"bg-orange-50 text-orange-600":"text-gray-700"}`,children:"날짜 선택"})]})]})}),m==="custom"&&i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"date",value:x,onChange:F=>L(F.target.value),className:"w-full px-4 py-3 bg-gray-50 border-0 rounded-xl text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:bg-white transition-all duration-200 hover:bg-gray-100"})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx("i",{className:"ri-filter-line text-gray-500 text-sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"상태:"})]}),i.jsx("div",{className:"flex gap-1 flex-1",children:[{key:"all",label:"전체",count:z.length},{key:"입금대기",label:"입금대기",count:z.filter(F=>F.status==="입금대기").length},{key:"입금확인",label:"입금확인",count:z.filter(F=>F.status==="입금확인").length},{key:"배달완료",label:"배달완료",count:z.filter(F=>F.status==="배달완료").length},{key:"주문취소",label:"주문취소",count:z.filter(F=>F.status==="주문취소").length}].map(F=>i.jsx("button",{onClick:()=>h(F.key),className:`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 whitespace-nowrap ${d===F.key?"bg-gray-800 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:F.label},F.key))})]})]})]})]}),i.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 rounded-xl p-3 text-white w-fit",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-shopping-cart-line text-lg"}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-bold",children:[ye(m)," 주문 현황"]}),i.jsx("p",{className:"text-orange-100 font-medium text-xs",children:d==="all"?`총 ${le.length}개의 주문이 들어왔습니다`:`${d} ${le.length}개`})]})]})}),i.jsx("div",{className:"space-y-4",children:le.length===0?i.jsx("div",{className:"bg-white rounded-lg p-6 lg:p-8 shadow-sm",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx("i",{className:"ri-shopping-cart-line text-3xl lg:text-4xl mb-3 lg:mb-4"}),i.jsx("p",{className:"text-sm lg:text-base",children:"선택한 조건에 해당하는 주문이 없습니다."})]})}):oe.map(F=>{const{date:de,time:U}={date:new Date(F.created_at).toLocaleDateString("ko-KR"),time:new Date(F.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return i.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h3",{className:"font-semibold text-gray-800",children:["주문번호: ",I(F,le)]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap ${ge(F.status)}`,children:F.status}),i.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap ${F.order_type==="delivery"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:F.order_type==="delivery"?"배달":"픽업"})]})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[i.jsxs("div",{children:["주문일시: ",de," ",U]}),i.jsxs("div",{children:["매장: ",F.stores?.name||"알 수 없는 매장"]})]})]}),i.jsxs("div",{className:"border-t pt-3",children:[i.jsx("div",{className:"space-y-1 mb-3",children:F.order_items?.map((X,Y)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-600",children:[X.menus.name," x ",X.quantity]}),i.jsxs("span",{className:"text-gray-800",children:[(X.price*X.quantity).toLocaleString(),"원"]})]},Y))||i.jsx("div",{className:"text-gray-500 text-sm",children:"주문 상품 정보 없음"})}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("span",{className:"font-semibold text-gray-800",children:"총 결제 금액"}),i.jsxs("span",{className:"font-bold text-lg text-orange-500",children:[F.total.toLocaleString(),"원"]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t space-y-2",children:[F.delivery_address&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-map-pin-line mr-2"}),i.jsxs("span",{children:["배달주소: ",F.delivery_address]})]}),F.delivery_time&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-time-line mr-2"}),i.jsxs("span",{children:["배달시간: ",F.delivery_time]})]}),F.pickup_time&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-time-line mr-2"}),i.jsxs("span",{children:["픽업시간: ",F.pickup_time]})]}),F.depositor_name&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-user-line mr-2"}),i.jsxs("span",{children:["입금자명: ",F.depositor_name]})]}),F.customer_name&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-user-line mr-2"}),i.jsxs("span",{children:["고객명: ",F.customer_name]})]}),F.customer_phone&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-phone-line mr-2"}),i.jsxs("span",{children:["연락처: ",F.customer_phone]})]}),F.special_requests&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-message-line mr-2"}),i.jsxs("span",{children:["요청사항: ",F.special_requests]})]})]}),i.jsx("div",{className:"mt-4 pt-3 border-t",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[F.status==="입금대기"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>ie(F.id,"입금확인"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금확인"}),i.jsx("button",{onClick:()=>ie(F.id,"주문취소"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"주문취소"})]}),F.status==="입금확인"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>ie(F.id,"입금대기"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금대기로"}),F.order_type==="delivery"&&i.jsx("button",{onClick:()=>ie(F.id,"배달완료"),className:"bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer shadow-md hover:shadow-lg transition-all duration-200",children:"배달완료"}),i.jsx("button",{onClick:()=>ie(F.id,"주문취소"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"주문취소"})]}),F.status==="배달완료"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>ie(F.id,"입금대기"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금대기로"}),i.jsx("button",{onClick:()=>ie(F.id,"입금확인"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금확인으로"}),i.jsx("button",{onClick:()=>ie(F.id,"주문취소"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"주문취소"})]}),F.status==="주문취소"&&i.jsx("button",{onClick:()=>ie(F.id,"입금대기"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금대기로"})]})})]})},F.id)})}),te>1&&i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:te},(F,de)=>de+1).map(F=>i.jsx("button",{onClick:()=>xe(F),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${C===F?"bg-orange-500 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:F},F))})}),A&&k&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm w-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-question-line text-2xl text-orange-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"주문 상태 변경"}),i.jsxs("p",{className:"text-gray-600 mb-4",children:["주문 #",k.orderNumber,"의 상태를 ",i.jsx("span",{className:"font-semibold text-orange-600",children:k.newStatus}),"로 변경하시겠습니까?"]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:i.jsxs("p",{className:"text-blue-800 text-sm flex items-center gap-2",children:[i.jsx("i",{className:"ri-information-line"}),"고객 주문조회 페이지에 실시간으로 반영됩니다"]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:Z,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{onClick:W,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"확인"})]})]})})})]})}function BV({showToast:e}){const[t,r]=w.useState([]),[n,s]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState({}),[m,g]=w.useState(""),[x,v]=w.useState(!1),[b,j]=w.useState(null);w.useEffect(()=>{_()},[]);const _=async()=>{try{u(!0);const[C,T]=await Promise.all([a6(),Oa()]);r(C),s(T)}catch(C){console.error("데이터 로드 실패:",C),e("데이터를 불러오는데 실패했습니다.")}finally{u(!1)}},N=async(C,T)=>{if(t.find(B=>B.id===C)?.status==="approved"){e("이미 승인된 사용자입니다.");return}const L=d[C];if(!L){e("매장을 선택해주세요.");return}try{await i6(C,L),e(`${T}님을 사장님으로 승인했습니다.`),_()}catch(B){console.error("승인 실패:",B),e("승인에 실패했습니다.")}},S=async(C,T)=>{if(confirm(`${T}님의 가입을 거부하시겠습니까?`))try{await E1(C),e(`${T}님의 가입을 거부했습니다.`),_()}catch($){console.error("거부 실패:",$),e("거부에 실패했습니다.")}},O=(C,T)=>{j({id:C,name:T}),v(!0)},A=async()=>{if(b)try{await E1(b.id),e(`${b.name}님을 삭제했습니다.`),_()}catch(C){console.error("삭제 실패:",C),e("삭제에 실패했습니다.")}finally{v(!1),j(null)}},P=()=>{v(!1),j(null)},k=t.filter(C=>C.name.toLowerCase().includes(m.toLowerCase())||C.phone.includes(m)||C.store_name&&C.store_name.toLowerCase().includes(m.toLowerCase())),D=C=>new Date(C).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"사장님 관리"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"가입 신청한 사장님들을 승인하거나 거부할 수 있습니다."})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-500 mb-1",children:t.filter(C=>C.status==="pending").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"승인 대기"})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-500 mb-1",children:t.filter(C=>C.status==="approved").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"승인 완료"})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-500 mb-1",children:t.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"전체 사장님"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[i.jsx("div",{className:"flex-1 w-full",children:i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"사장님 이름, 전화번호, 매장명으로 검색...",value:m,onChange:C=>g(C.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"})]})}),m&&i.jsx("button",{onClick:()=>g(""),className:"px-4 py-3 text-gray-500 hover:text-gray-700 transition-colors bg-gray-100 rounded-lg",children:i.jsx("i",{className:"ri-close-line text-lg"})})]})]}),k.length===0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-user-check-line text-2xl text-gray-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:m?"검색 결과가 없습니다":"사장님이 없습니다"}),i.jsx("p",{className:"text-gray-500",children:m?"다른 검색어로 시도해보세요.":"새로운 가입 신청이 있으면 여기에 표시됩니다."})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:k.map(C=>i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-5 hover:shadow-md transition-shadow duration-200",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx("i",{className:"ri-user-line text-orange-500 text-xl"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate",children:C.name}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${C.status==="approved"?"bg-green-100 text-green-800":C.status==="pending"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:C.status==="approved"?"승인됨":C.status==="pending"?"대기중":"거부됨"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[i.jsx("i",{className:"ri-phone-line mr-2 text-gray-400"}),C.phone]}),i.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[i.jsx("i",{className:"ri-calendar-line mr-2 text-gray-400"}),"신청일: ",D(C.created_at)]}),C.status==="approved"&&C.store_name&&i.jsxs("p",{className:"text-xs text-green-600 font-medium flex items-center",children:[i.jsx("i",{className:"ri-store-line mr-2"}),C.store_name]})]})]})]}),C.status==="pending"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"매장 선택"}),i.jsxs("select",{value:d[C.id]||"",onChange:T=>h({...d,[C.id]:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",children:[i.jsx("option",{value:"",children:"매장을 선택하세요"}),n.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))]})]}),C.status==="approved"&&C.store_name&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"할당된 매장"}),i.jsxs("div",{className:"px-3 py-2 bg-green-50 border border-green-200 rounded-lg text-sm text-green-800 font-medium",children:[i.jsx("i",{className:"ri-store-line mr-2"}),C.store_name]})]}),i.jsxs("div",{className:"flex space-x-2 pt-2",children:[C.status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>N(C.id,C.name),disabled:!d[C.id],className:"flex-1 px-3 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-check-line"}),i.jsx("span",{children:"승인"})]}),i.jsxs("button",{onClick:()=>S(C.id,C.name),className:"flex-1 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-close-line"}),i.jsx("span",{children:"거부"})]})]}),C.status==="approved"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 px-3 py-2 bg-green-100 text-green-800 rounded-lg text-sm font-medium flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-check-double-line"}),i.jsx("span",{children:"승인 완료"})]}),i.jsxs("button",{onClick:()=>O(C.id,C.name),className:"flex-1 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-delete-bin-line"}),i.jsx("span",{children:"삭제"})]})]}),C.status==="rejected"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 px-3 py-2 bg-red-100 text-red-800 rounded-lg text-sm font-medium flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-close-circle-line"}),i.jsx("span",{children:"거부됨"})]}),i.jsxs("button",{onClick:()=>O(C.id,C.name),className:"flex-1 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-delete-bin-line"}),i.jsx("span",{children:"삭제"})]})]})]})]})},C.id))}),x&&b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm w-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-delete-bin-line text-2xl text-red-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"사장님 삭제"}),i.jsxs("p",{className:"text-gray-600 mb-6",children:[i.jsx("span",{className:"font-semibold text-red-600",children:b.name}),"님을 정말로 삭제하시겠습니까?",i.jsx("br",{}),i.jsx("span",{className:"text-sm text-gray-500",children:"이 작업은 되돌릴 수 없습니다."})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:P,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{onClick:A,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"삭제"})]})]})})})]})}const A2=[{id:"dashboard",label:"대시보드",icon:"ri-dashboard-line"},{id:"stores",label:"매장 관리",icon:"ri-store-line"},{id:"menus",label:"메뉴 관리",icon:"ri-restaurant-line"},{id:"orders",label:"주문 관리",icon:"ri-shopping-cart-line"},{id:"users",label:"사장님 관리",icon:"ri-user-line"},{id:"inquiries",label:"문의 관리",icon:"ri-question-line"},{id:"statistics",label:"통계",icon:"ri-bar-chart-line"}];function HV(){const e=gt(),{user:t,loading:r}=sr(),[n,s]=w.useState("dashboard"),[o,u]=w.useState(!0),[d,h]=w.useState("");w.useEffect(()=>{if(console.log("🔍 SuperAdmin useEffect 실행:",{user:t,loading:r}),r){console.log("⏳ 로딩 중...");return}if(!t){console.log("❌ 사용자 없음, /super-login으로 리다이렉트"),e("/super-login");return}if(console.log("👤 사용자 정보:",t),t.role!=="super_admin"){console.log("❌ 슈퍼 어드민 권한 없음, /super-login으로 리다이렉트"),alert("슈퍼 어드민만 접근할 수 있는 페이지입니다."),e("/super-login");return}console.log("✅ 슈퍼 어드민 인증 성공")},[t,r,e]);const m=v=>{h(v),setTimeout(()=>h(""),3e3)},g=()=>{localStorage.removeItem("isLoggedIn"),e("/login")};if(r)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})});if(!t||t.role!=="super_admin")return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"접근 권한 없음"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"슈퍼 어드민만 접근할 수 있는 페이지입니다."}),i.jsx("button",{onClick:()=>e("/stores"),className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"홈으로 이동"})]})});const x=()=>{switch(n){case"dashboard":return i.jsx(O2,{showToast:m});case"stores":return i.jsx(LV,{showToast:m});case"menus":return i.jsx(IV,{showToast:m});case"orders":return i.jsx(zV,{showToast:m});case"users":return i.jsx(BV,{showToast:m});case"inquiries":return i.jsx(UV,{showToast:m});case"statistics":return i.jsx(qV,{showToast:m});default:return i.jsx(O2,{showToast:m})}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[i.jsx("div",{className:"lg:hidden fixed top-0 left-0 right-0 bg-white z-50 h-16",children:i.jsxs("div",{className:"px-4 py-3 flex items-center justify-between h-full",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:"https://static.readdy.ai/image/912b0945f01d9fdb4ff4544659653c90/2d4890bd82abce85d430bd82d04df8d6.png",alt:"페이톡 로고",className:"w-12 h-12"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>u(!o),className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsx("i",{className:"ri-menu-line text-xl"})}),i.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer text-gray-600",children:i.jsx("i",{className:"ri-logout-box-r-line text-xl"})})]})]})}),o&&i.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>u(!1)}),i.jsxs("div",{className:`${o?"w-64":"w-0"} lg:w-64 bg-white shadow-lg transition-all duration-300 fixed lg:relative h-full z-50 lg:z-40 overflow-hidden`,children:[i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:"https://static.readdy.ai/image/912b0945f01d9fdb4ff4544659653c90/2d4890bd82abce85d430bd82d04df8d6.png",alt:"페이톡 로고",className:"w-10 h-10"})}),i.jsx("button",{onClick:()=>u(!o),className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsx("i",{className:`ri-${o?"close":"menu"}-line text-xl`})})]})}),i.jsx("nav",{className:"mt-4",children:A2.map(v=>i.jsxs("button",{onClick:()=>{s(v.id),window.innerWidth<1024&&u(!1)},className:`w-full flex items-center px-4 py-3 text-left hover:bg-orange-50 cursor-pointer ${n===v.id?"bg-orange-100 border-r-4 border-orange-500 text-orange-600":"text-gray-600"}`,children:[i.jsx("i",{className:`${v.icon} text-xl mr-3`}),i.jsx("span",{className:`${!o&&"lg:block hidden"}`,children:v.label})]},v.id))})]}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"hidden lg:block bg-white shadow-sm border-b h-16",children:i.jsxs("div",{className:"flex items-center justify-between px-6 h-full",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:A2.find(v=>v.id===n)?.label}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:i.jsx("i",{className:"ri-user-line text-white"})}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"관리자"})]}),i.jsx("button",{onClick:g,className:"text-gray-600 hover:text-red-600 cursor-pointer",children:i.jsx("i",{className:"ri-logout-box-r-line text-xl"})})]})]})}),i.jsx("div",{className:"flex-1 p-4 lg:p-6 pt-20 lg:pt-6",children:x()}),i.jsx(kn,{})]}),d&&i.jsx("div",{className:"fixed top-20 lg:top-20 right-2 lg:right-4 left-2 lg:left-auto bg-green-500 text-white px-4 lg:px-6 py-3 rounded-lg shadow-lg z-50",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"ri-check-line mr-2"}),i.jsx("span",{className:"text-sm lg:text-base",children:d})]})})]})}function KV(){const e=gt(),{user:t,userProfile:r,loading:n}=uy(),[s,o]=w.useState([]),[u,d]=w.useState(""),[h,m]=w.useState([]),[g,x]=w.useState(!0);w.useEffect(()=>{n||(async()=>{if(!(!t||!r)){if(r.role!=="owner"&&r.role!=="super_admin"){e("/stores");return}try{x(!0);const S=await kp(t.id);o(S),S.length>0&&d(S[0].id)}catch(S){console.error("사장님 데이터 로드 오류:",S)}finally{x(!1)}}})()},[t,r,e,n]),w.useEffect(()=>{(async()=>{if(u)try{x(!0);const S=await T6(u);m(S)}catch(S){console.error("주문 목록 로드 오류:",S)}finally{x(!1)}})()},[u]);const v=async(N,S)=>{try{await C6(N,S),m(h.map(O=>O.id===N?{...O,status:S}:O))}catch(O){console.error("주문 상태 변경 오류:",O),alert("주문 상태 변경에 실패했습니다.")}},b=h,j=N=>{switch(N){case"입금대기":return"bg-yellow-100 text-yellow-800";case"입금확인":return"bg-blue-100 text-blue-800";case"배달완료":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},_=N=>{switch(N){case"입금대기":return"입금확인";case"입금확인":return"배달완료";default:return null}};return n||g?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):s.length===0?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"ri-store-3-line text-6xl text-gray-300 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"소유한 매장이 없습니다"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"관리자에게 매장 등록을 요청해주세요."}),i.jsx("button",{onClick:()=>e("/stores"),className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-6 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"매장 목록으로 이동"})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:i.jsx("div",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsx("i",{className:"ri-arrow-left-line text-xl"})}),i.jsx("h1",{className:"text-lg font-semibold text-center flex-1",children:"주문내역"}),i.jsx("div",{className:"w-10"})]})})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx(wO,{}),i.jsx("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:i.jsxs("div",{className:"mb-4",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-3",children:"매장 선택"}),i.jsx("select",{value:u,onChange:N=>d(N.target.value),className:"w-full p-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none",children:s.map(N=>i.jsx("option",{value:N.id,children:N.name},N.id))})]})}),i.jsx("div",{className:"space-y-3",children:b.length===0?i.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm",children:[i.jsx("i",{className:"ri-shopping-cart-line text-4xl text-gray-300 mb-2"}),i.jsx("p",{className:"text-gray-500",children:"주문이 없습니다."})]}):b.map(N=>i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-xl text-orange-500"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-gray-800",children:[N.users.name,"님"]}),i.jsx("p",{className:"text-sm text-gray-500",children:N.users.phone}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(new Date(N.created_at).toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toLocaleString("ko-KR")})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${j(N.status)}`,children:N.status}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["#",N.id.slice(-8)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[i.jsx("i",{className:"ri-truck-line"}),i.jsx("span",{children:N.order_type==="delivery"?"배달":"픽업"}),N.delivery_address&&i.jsxs("span",{className:"ml-2 text-gray-400",children:["(",N.delivery_address,")"]})]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"space-y-2",children:[N.daily_menu_orders?.slice(0,2).map((S,O)=>i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("span",{className:"text-gray-700",children:[S.menus.name," x",S.quantity]}),i.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[S.daily_menus.menu_date," 일일메뉴"]})]}),i.jsxs("span",{className:"font-medium text-gray-800",children:[((S.menus?.price||0)*S.quantity).toLocaleString(),"원"]})]},O)),N.daily_menu_orders&&N.daily_menu_orders.length>2&&i.jsxs("p",{className:"text-sm text-gray-500",children:["외 ",N.daily_menu_orders.length-2,"개 메뉴"]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 mt-3 border-t border-gray-100",children:[i.jsx("span",{className:"font-bold text-gray-800",children:"총 금액"}),i.jsxs("span",{className:"font-bold text-lg text-orange-600",children:[N.total.toLocaleString(),"원"]})]})]}),_(N.status)&&i.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100",children:i.jsxs("button",{onClick:()=>v(N.id,_(N.status)),className:"w-full px-4 py-3 bg-orange-500 text-white rounded-xl font-medium hover:bg-orange-600 transition-colors",children:[_(N.status)," 처리"]})})]},N.id))})]})]})}const E2=["인기메뉴","계절메뉴","고기 반찬","튀김/전류","국","분식","밑반찬","아이들 반찬"];function YV(){const e=gt(),{user:t,userProfile:r,loading:n}=uy(),[s,o]=w.useState([]),[u,d]=w.useState(""),[h,m]=w.useState([]),[g,x]=w.useState(!0),[v,b]=w.useState(!1),[j,_]=w.useState(null),[N,S]=w.useState("all"),[O,A]=w.useState({name:"",price:0,category:"인기메뉴",description:"",is_available:!0});w.useEffect(()=>{n||(async()=>{if(!(!t||!r)){if(r.role!=="owner"&&r.role!=="super_admin"){e("/stores");return}try{x(!0);const B=await kp(t.id);o(B),B.length>0&&d(B[0].id)}catch(B){console.error("사장님 데이터 로드 오류:",B)}finally{x(!1)}}})()},[t,r,e,n]),w.useEffect(()=>{(async()=>{if(u)try{x(!0);const B=await S6(u);m(B)}catch(B){console.error("메뉴 목록 로드 오류:",B)}finally{x(!1)}})()},[u]);const P=async()=>{if(!u||!O.name||O.price<=0){alert("메뉴명과 가격을 입력해주세요.");return}try{const L=await O6({store_id:u,name:O.name,price:O.price,category:O.category,description:O.description||null,is_available:O.is_available});L&&(m([...h,L]),b(!1),C())}catch(L){console.error("메뉴 생성 오류:",L),alert("메뉴 생성에 실패했습니다.")}},k=async()=>{if(!j||!O.name||O.price<=0){alert("메뉴명과 가격을 입력해주세요.");return}try{const L=await A6(j.id,{name:O.name,price:O.price,category:O.category,description:O.description||null,is_available:O.is_available});L&&(m(h.map(B=>B.id===j.id?L:B)),_(null),C())}catch(L){console.error("메뉴 수정 오류:",L),alert("메뉴 수정에 실패했습니다.")}},D=async L=>{if(confirm("정말로 이 메뉴를 삭제하시겠습니까?"))try{await E6(L),m(h.filter(B=>B.id!==L))}catch(B){console.error("메뉴 삭제 오류:",B),alert("메뉴 삭제에 실패했습니다.")}},C=()=>{A({name:"",price:0,category:"인기메뉴",description:"",image_url:"",is_available:!0})},T=L=>{_(L),A({name:L.name,price:L.price,category:L.category,description:L.description||"",is_available:L.is_available})},$=h.filter(L=>N==="all"||L.category===N);return n||g?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):s.length===0?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"ri-store-3-line text-6xl text-gray-300 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"소유한 매장이 없습니다"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"관리자에게 매장 등록을 요청해주세요."}),i.jsx("button",{onClick:()=>e("/stores"),className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-6 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"매장 목록으로 이동"})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:()=>e("/stores"),className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsx("i",{className:"ri-arrow-left-line text-xl"})}),i.jsx("h1",{className:"text-lg font-semibold text-center flex-1",children:"메뉴 관리"}),i.jsx("div",{className:"w-10"})]})})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-4",children:[i.jsx("h2",{className:"font-semibold text-gray-800 mb-3",children:"매장 선택"}),i.jsx("select",{value:u,onChange:L=>d(L.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:s.map(L=>i.jsx("option",{value:L.id,children:L.name},L.id))})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h2",{className:"font-semibold text-gray-800",children:"메뉴 관리"}),i.jsxs("button",{onClick:()=>b(!0),className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:[i.jsx("i",{className:"ri-add-line mr-1"}),"메뉴 추가"]})]}),i.jsx("div",{className:"flex space-x-2",children:["all",...E2].map(L=>i.jsx("button",{onClick:()=>S(L),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${N===L?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:L==="all"?"전체":L},L))})]}),i.jsx("div",{className:"space-y-4",children:$.length===0?i.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[i.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-300 mb-2"}),i.jsx("p",{className:"text-gray-500",children:"메뉴가 없습니다."})]}):$.map(L=>i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-2xl text-gray-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("h3",{className:"font-medium text-gray-900 truncate",children:L.name}),i.jsxs("span",{className:"text-orange-500 font-semibold ml-2",children:[(L.price||0).toLocaleString(),"원"]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:L.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:L.category}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${L.is_available?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:L.is_available?"판매중":"품절"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>T(L),className:"text-blue-500 hover:text-blue-600 p-1",children:i.jsx("i",{className:"ri-edit-line"})}),i.jsx("button",{onClick:()=>D(L.id),className:"text-red-500 hover:text-red-600 p-1",children:i.jsx("i",{className:"ri-delete-bin-line"})})]})]})]})]})},L.id))})]}),(v||j)&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:j?"메뉴 수정":"메뉴 추가"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메뉴명"}),i.jsx("input",{type:"text",value:O.name,onChange:L=>A({...O,name:L.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"메뉴명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가격"}),i.jsx("input",{type:"number",value:O.price,onChange:L=>A({...O,price:parseInt(L.target.value)||0}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"가격을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsx("select",{value:O.category,onChange:L=>A({...O,category:L.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:E2.map(L=>i.jsx("option",{value:L,children:L},L))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),i.jsx("textarea",{value:O.description,onChange:L=>A({...O,description:L.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"메뉴 설명을 입력하세요"})]}),i.jsx("div",{}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"is_available",checked:O.is_available,onChange:L=>A({...O,is_available:L.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"is_available",className:"ml-2 block text-sm text-gray-700",children:"판매 가능"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>{b(!1),_(null),C()},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"취소"}),i.jsx("button",{onClick:j?k:P,className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:j?"수정":"추가"})]})]})})]})}function GV(){const e=gt(),{storeId:t}=En(),{user:r,loading:n}=sr(),[s,o]=w.useState([]),[u,d]=w.useState(!0),[h,m]=w.useState(""),[g,x]=w.useState(""),[v,b]=w.useState("today"),[j,_]=w.useState(""),[N,S]=w.useState(!1),[O,A]=w.useState(1),P=7;w.useEffect(()=>{if(!n&&!r){e("/admin-login");return}if(!n&&r&&r.role!=="admin"){e("/admin-dashboard");return}t&&(k(),D())},[r,n,e,t]),w.useEffect(()=>{const H=oe=>{oe.target.closest(".period-dropdown-container")||S(!1)};return document.addEventListener("mousedown",H),()=>{document.removeEventListener("mousedown",H)}},[]),w.useEffect(()=>{const H=()=>{t&&k()};return window.addEventListener("orderStatusChanged",H),()=>{window.removeEventListener("orderStatusChanged",H)}},[t]);const k=async()=>{if(t)try{d(!0);const H=await yl(t);console.log("🔍 로드된 주문 데이터:",H),console.log("📊 주문 수:",H.length),H.forEach((oe,xe)=>{console.log(`주문 ${xe+1}:`,{id:oe.id,order_items:oe.order_items?.length||0,daily_menu_orders:oe.daily_menu_orders?.length||0,subtotal:oe.subtotal,total:oe.total})}),o(H)}catch(H){console.error("주문 로드 실패:",H)}finally{d(!1)}},D=async()=>{if(t)try{const oe=(await Oa()).find(xe=>xe.id===t);oe&&m(oe.name)}catch(H){console.error("매장명 로드 실패:",H)}},C=H=>{if(b(H),A(1),H!=="custom")_("");else{const oe=new Date,xe=new Date(oe.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),ue=new Date(xe.getFullYear(),xe.getMonth(),xe.getDate()),ye=ue.getFullYear(),F=String(ue.getMonth()+1).padStart(2,"0"),de=String(ue.getDate()).padStart(2,"0"),U=`${ye}-${F}-${de}`;_(U)}},T=H=>{_(H),A(1),H&&b("custom")},$=H=>{const oe=new Date,xe=new Date(oe.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),ue=new Date(xe.getFullYear(),xe.getMonth(),xe.getDate()),ye=U=>{const X=U.getFullYear(),Y=String(U.getMonth()+1).padStart(2,"0"),fe=String(U.getDate()).padStart(2,"0");return`${X}-${Y}-${fe}`},de=(()=>{switch(v){case"today":return ye(ue);case"yesterday":const U=new Date(ue);return U.setDate(U.getDate()-1),ye(U);case"tomorrow":const X=new Date(ue);return X.setDate(X.getDate()+1),ye(X);case"custom":return j||ye(ue);default:return ye(ue)}})();return H.filter(U=>{if(U.daily_menu_orders&&U.daily_menu_orders.length>0)return U.daily_menu_orders.some(fe=>fe.daily_menus.menu_date===de);const X=new Date(U.created_at);return ye(X)===de})},L=H=>{switch(H){case"today":return"오늘";case"yesterday":return"어제";case"tomorrow":return"내일";case"custom":return j?new Date(j).toLocaleDateString("ko-KR"):"날짜 선택";default:return"오늘"}},B=()=>{if(console.log("getActualPeriodTitle 호출됨",{finalFilteredOrdersLength:ie.length,selectedPeriod:v}),ie.length===0)return L(v);const H=ie.some(xe=>xe.daily_menu_orders&&xe.daily_menu_orders.length>0);if(console.log("일일 메뉴 주문 확인",{hasDailyMenuOrders:H}),H){const xe=new Set;ie.forEach(ye=>{ye.daily_menu_orders&&ye.daily_menu_orders.forEach(F=>{console.log("일일 메뉴 날짜:",F.daily_menus.menu_date),xe.add(F.daily_menus.menu_date)})});const ue=Array.from(xe);if(console.log("수집된 날짜들:",ue),ue.length>0){const ye=ue[0],[F,de,U]=ye.split("-").map(Number),Y=new Date(F,de-1,U).toLocaleDateString("ko-KR");return console.log("최종 결과:",Y),Y}}const oe=L(v);return console.log("fallback 사용:",oe),oe},J=Td.useMemo(()=>$(s),[s,v,j]),ie=Td.useMemo(()=>J.filter(H=>g===""||H.customer_name?.toLowerCase().includes(g.toLowerCase())||H.customer_phone?.includes(g)||H.delivery_address?.toLowerCase().includes(g.toLowerCase())||H.depositor_name?.toLowerCase().includes(g.toLowerCase())||H.id.toLowerCase().includes(g.toLowerCase())),[J,g]),W=Td.useMemo(()=>ie.filter(H=>H.status==="입금대기").length,[ie]),Z=Math.ceil(ie.length/P),z=(O-1)*P,G=z+P,le=ie.slice(z,G),ge=H=>{A(H)};w.useEffect(()=>{A(1)},[v,j,g]);const I=()=>{const H=window.open("","_blank");if(!H)return;const oe=v==="today"?"오늘":v==="yesterday"?"어제":v==="custom"?j?new Date(j).toLocaleDateString("ko-KR"):"날짜 선택":"오늘",ue=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>주문내역 - ${oe}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #f97316; padding-bottom: 20px; }
            .header h1 { color: #f97316; margin: 0; font-size: 24px; }
            .header p { color: #666; margin: 5px 0; }
            .order-card { border: 1px solid #ddd; margin-bottom: 20px; padding: 15px; border-radius: 8px; }
            .order-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
            .order-number { font-weight: bold; font-size: 16px; }
            .order-status { padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; }
            .status-입금대기 { background: #fef3c7; color: #92400e; }
            .status-입금확인 { background: #dbeafe; color: #1e40af; }
            .status-배달완료 { background: #d1fae5; color: #065f46; }
            .status-주문취소 { background: #fee2e2; color: #991b1b; }
            .order-info { margin: 10px 0; }
            .order-info div { margin: 5px 0; }
            .order-items { margin: 10px 0; }
            .order-item { display: flex; justify-content: space-between; margin: 5px 0; }
            .order-total { font-weight: bold; font-size: 16px; color: #f97316; margin-top: 10px; }
            .order-actions { margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee; }
            .action-buttons { display: flex; gap: 10px; }
            .btn { padding: 8px 16px; border-radius: 4px; font-size: 12px; font-weight: bold; }
            .btn-blue { background: #3b82f6; color: white; }
            .btn-yellow { background: #eab308; color: white; }
            .btn-green { background: #10b981; color: white; }
            .btn-red { background: #ef4444; color: white; }
            .print-date { text-align: right; color: #666; font-size: 12px; margin-top: 20px; }
            @media print {
              body { margin: 0; }
              .order-card { break-inside: avoid; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>${h} 주문내역</h1>
            <p>기간: ${oe} | 상태: 전체</p>
            <p>총 ${ie.length}건의 주문</p>
          </div>
          
          ${ie.map((ye,F)=>{const{date:de,time:U}={date:new Date(ye.created_at).toLocaleDateString("ko-KR"),time:new Date(ye.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return`
              <div class="order-card">
                <div class="order-header">
                  <div class="order-number">주문번호: ${F+1}</div>
                  <div class="order-status status-${ye.status}">${ye.status}</div>
                </div>
                
                <div class="order-info">
                  <div><strong>주문일시:</strong> ${de} ${U}</div>
                  <div><strong>고객명:</strong> ${ye.customer_name||"-"}</div>
                  <div><strong>연락처:</strong> ${ye.customer_phone||"-"}</div>
                  ${ye.depositor_name?`<div><strong>입금자명:</strong> ${ye.depositor_name}</div>`:""}
                  ${ye.delivery_address?`<div><strong>배달주소:</strong> ${ye.delivery_address}</div>`:""}
                  ${ye.delivery_time?`<div><strong>배달시간:</strong> ${ye.delivery_time}</div>`:""}
                  ${ye.pickup_time?`<div><strong>픽업시간:</strong> ${ye.pickup_time}</div>`:""}
                  ${ye.special_requests?`<div><strong>요청사항:</strong> ${ye.special_requests}</div>`:""}
                </div>
                
                ${ye.daily_menu_orders&&ye.daily_menu_orders.length>0?`
                  <div class="order-items">
                    <strong>일일 메뉴 주문:</strong>
                    ${ye.daily_menu_orders.map(X=>`
                      <div class="order-item">
                        <span>${X.menus?.name||"메뉴"} x ${X.quantity} (${X.daily_menus.menu_date} 일일메뉴)</span>
                        <span>${((X.menus?.price||0)*(X.quantity||0)).toLocaleString()}원</span>
                      </div>
                    `).join("")}
                  </div>
                `:""}
                
                <div class="order-summary">
                  <div>상품 금액: ${(ye.subtotal||0).toLocaleString()}원</div>
                  ${ye.order_type==="delivery"&&(ye.delivery_fee||0)>0?`<div>배달비: ${(ye.delivery_fee||0).toLocaleString()}원</div>`:""}
                  <div class="order-total">총 주문금액: ${(ye.total||0).toLocaleString()}원</div>
                </div>
              </div>
            `}).join("")}
          
          <div class="print-date">
            인쇄일시: ${new Date().toLocaleString("ko-KR")}
          </div>
        </body>
      </html>
    `;H.document.write(ue),H.document.close(),H.focus(),H.addEventListener("afterprint",()=>{const ye=H.document.createElement("div");ye.innerHTML=`
        <div style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
          <button onclick="window.close()" style="
            background: #f97316; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 8px; 
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          ">
            <i class="ri-arrow-left-line" style="margin-right: 5px;"></i>
            뒤로가기
          </button>
        </div>
      `,H.document.body.appendChild(ye)}),H.print()},te=(H,oe)=>[...oe].sort((ye,F)=>new Date(ye.created_at).getTime()-new Date(F.created_at).getTime()).findIndex(ye=>ye.id===H.id)+1,ne=H=>{if(H>=1e8){const oe=Math.floor(H/1e8),xe=Math.floor(H%1e8/1e4);return xe===0?`${oe}억원`:`${oe}억 ${xe}만원`}else if(H>=1e4){const oe=Math.floor(H/1e4),xe=Math.floor(H%1e4/1e3);return xe===0?`${oe}만원`:`${oe}만 ${xe}천원`}else if(H>=1e3){const oe=Math.floor(H/1e3),xe=H%1e3;return xe===0?`${oe}천원`:`${oe}천 ${xe}원`}else return`${H}원`};return n||u?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):!r||r.role!=="admin"?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"관리자만 접근할 수 있습니다."})]})}):i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(Nr,{}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"px-4 sm:px-6 py-4",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"뒤로가기",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"주문내역"})]})})})}),i.jsxs("div",{className:"p-4 flex-1",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-lg mb-8 overflow-hidden",children:[i.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-orange-500 text-lg sm:text-xl"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500 text-sm font-medium",children:B()}),i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"주문 현황"})]})]}),i.jsxs("div",{className:"flex items-center gap-6 sm:gap-8",children:[i.jsxs("div",{className:"text-center sm:text-right",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1",children:ie.length}),i.jsx("div",{className:"text-gray-500 text-xs sm:text-sm font-medium",children:"주문 건수"})]}),W>0&&i.jsxs("div",{className:"text-center sm:text-right",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-red-600 mb-1 animate-pulse",children:W}),i.jsx("div",{className:"text-red-500 text-xs sm:text-sm font-medium",children:"새로운 주문"})]}),i.jsxs("div",{className:"text-center sm:text-right",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1",children:ne(ie.reduce((H,oe)=>H+(oe.total||0),0))}),i.jsx("div",{className:"text-gray-500 text-xs sm:text-sm font-medium",children:"총 결제금액"})]})]})]})}),i.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("i",{className:"ri-calendar-line text-gray-600 text-lg"}),i.jsx("span",{className:"text-base font-bold text-gray-800 whitespace-nowrap",children:"기간:"})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative period-dropdown-container",children:[i.jsxs("button",{onClick:()=>S(!N),className:"w-full px-5 py-4 bg-white border-2 border-gray-200 rounded-2xl text-base font-bold text-gray-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 cursor-pointer transition-all duration-200 hover:border-orange-300 hover:shadow-md flex items-center justify-between",children:[i.jsx("span",{children:v==="today"?"오늘":v==="yesterday"?"어제":v==="tomorrow"?"내일":v==="custom"?"날짜 선택":"오늘"}),i.jsx("i",{className:`ri-arrow-down-s-line text-gray-400 text-sm transition-transform duration-200 ${N?"rotate-180":""}`})]}),N&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-lg z-20 overflow-hidden",children:[i.jsx("button",{onClick:()=>{C("today"),S(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${v==="today"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"오늘"}),i.jsx("button",{onClick:()=>{C("yesterday"),S(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${v==="yesterday"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"어제"}),i.jsx("button",{onClick:()=>{C("tomorrow"),S(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${v==="tomorrow"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"내일"}),i.jsx("button",{onClick:()=>{C("custom"),S(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${v==="custom"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"날짜 선택"})]})]})})]}),v==="custom"&&i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("i",{className:"ri-calendar-check-line text-gray-600 text-lg"}),i.jsx("span",{className:"text-base font-bold text-gray-800 whitespace-nowrap",children:"날짜:"})]}),i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"date",value:j||"",onChange:H=>T(H.target.value),className:"w-full px-4 py-3 bg-gray-50 border-0 rounded-xl text-base font-semibold text-gray-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:bg-white transition-all duration-200 hover:bg-gray-100",placeholder:"날짜를 선택하세요"})})]})]}),v!=="today"&&i.jsx("div",{className:"pt-4 border-t border-gray-100",children:i.jsx("div",{className:"flex flex-wrap gap-2",children:i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium",children:[i.jsx("i",{className:"ri-calendar-line text-xs"}),i.jsx("span",{children:v==="yesterday"?"어제":v==="tomorrow"?"내일":v==="custom"?"날짜 선택":"오늘"}),i.jsx("button",{onClick:()=>C("today"),className:"ml-1 hover:bg-orange-200 rounded-full p-0.5",children:i.jsx("i",{className:"ri-close-line text-xs"})})]})})})]}),i.jsx("div",{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[i.jsx("i",{className:"ri-search-line text-gray-500 text-base"}),i.jsx("span",{children:"검색"})]}),i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"text",placeholder:"입금자명, 배달주소, 고객명 등으로 검색",value:g,onChange:H=>x(H.target.value),className:"w-full px-4 py-3 border-2 border-gray-400 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 hover:border-gray-500 transition-colors"})}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:I,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2",children:[i.jsx("i",{className:"ri-printer-line text-sm"}),i.jsx("span",{children:"인쇄"})]})})]})})]}),i.jsx("div",{className:"space-y-6",children:u?i.jsx("div",{className:"bg-white rounded-2xl p-12 shadow-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-500 mx-auto mb-6"}),i.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"주문 데이터를 불러오는 중..."})]})}):ie.length===0?i.jsx("div",{className:"bg-white rounded-2xl p-12 shadow-lg",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx("i",{className:"ri-shopping-cart-line text-6xl mb-6"}),i.jsx("p",{className:"text-xl font-medium",children:"선택한 조건에 해당하는 주문이 없습니다."})]})}):le.map(H=>i.jsx("div",{className:"bg-white rounded-2xl border border-gray-200 shadow-sm hover:shadow-md hover:border-orange-300 transition-all duration-300 cursor-pointer group mb-6",onClick:()=>e(`/admin/${t}/order-detail/${H.id}`),children:i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4 sm:mb-6",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("h3",{className:"text-xl sm:text-2xl font-bold text-gray-900 leading-tight",children:["주문 #",te(H,ie)]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("div",{className:`px-3 py-1.5 rounded-full text-xs sm:text-sm font-bold shadow-sm ${H.status==="입금대기"?"bg-yellow-100 text-yellow-800 border border-yellow-200":H.status==="입금확인"?"bg-blue-100 text-blue-800 border border-blue-200":H.status==="배달완료"?"bg-green-100 text-green-800 border border-green-200":H.status==="주문취소"?"bg-red-100 text-red-800 border border-red-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:H.status}),H.status==="입금대기"&&i.jsxs("div",{className:"px-3 py-1.5 rounded-full text-xs sm:text-sm font-bold shadow-sm bg-red-500 text-white border border-red-600 animate-pulse",children:[i.jsx("i",{className:"ri-notification-3-line mr-1"}),"새로운 주문"]}),i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-full text-xs sm:text-sm text-gray-600",children:[i.jsx("i",{className:`${H.order_type==="delivery"?"ri-truck-line":"ri-walk-line"} text-xs sm:text-sm`}),i.jsx("span",{className:"font-medium",children:H.order_type==="delivery"?"배달":"픽업"})]})]})]}),i.jsxs("button",{onClick:oe=>{oe.stopPropagation(),e(`/admin/${t}/order-detail/${H.id}`)},className:"px-3 sm:px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs sm:text-sm font-semibold transition-all duration-200 flex items-center gap-1.5 sm:gap-2 shadow-sm",children:[i.jsx("i",{className:"ri-eye-line text-xs sm:text-sm"}),i.jsx("span",{children:"상세보기"})]})]}),i.jsx("div",{className:"mb-5 p-4 bg-gray-50 rounded-xl",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-sm sm:text-base text-gray-700",children:[H.depositor_name&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-user-line text-base text-gray-500"}),i.jsx("span",{className:"font-bold text-gray-900 text-base",children:H.depositor_name})]}),H.delivery_address&&i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("i",{className:"ri-map-pin-line text-base text-gray-500 mt-0.5"}),i.jsx("span",{className:"font-semibold text-gray-800 break-words leading-relaxed text-base",children:H.delivery_address})]})]})}),i.jsx("div",{className:"bg-gray-50 rounded-xl p-3 sm:p-4 mb-4",children:i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"space-y-2",children:[H.daily_menu_orders&&H.daily_menu_orders.length>0&&H.daily_menu_orders.map((oe,xe)=>i.jsxs("div",{className:"flex justify-between items-center py-2",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx("span",{className:"font-bold text-gray-900 text-base sm:text-lg truncate",children:oe.menus?.name||"메뉴"}),i.jsxs("span",{className:"text-sm text-gray-600 flex-shrink-0 font-medium",children:["(",oe.quantity,"개)"]})]}),i.jsxs("span",{className:"font-bold text-gray-900 text-base sm:text-lg ml-2",children:[((oe.menus?.price||0)*(oe.quantity||0)).toLocaleString(),"원"]})]},`daily-${xe}`)),(!H.daily_menu_orders||H.daily_menu_orders.length===0)&&H.order_items&&H.order_items.length>0&&H.order_items.map((oe,xe)=>i.jsxs("div",{className:"flex justify-between items-center py-2",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx("span",{className:"font-bold text-gray-900 text-base sm:text-lg truncate",children:oe.menus?.name||"메뉴"}),i.jsxs("span",{className:"text-sm text-gray-600 flex-shrink-0 font-medium",children:["(",oe.quantity,"개)"]})]}),i.jsxs("span",{className:"font-bold text-gray-900 text-base sm:text-lg ml-2",children:[(oe.price*oe.quantity).toLocaleString(),"원"]})]},`order-${xe}`)),(!H.daily_menu_orders||H.daily_menu_orders.length===0)&&(!H.order_items||H.order_items.length===0)&&i.jsxs("div",{className:"text-center py-4 text-gray-500 text-sm",children:[i.jsx("i",{className:"ri-shopping-cart-line text-2xl mb-2 block"}),i.jsx("p",{children:"주문 메뉴 정보를 불러올 수 없습니다"})]})]}),i.jsxs("div",{className:"space-y-3 pt-3 border-t border-gray-300",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-700 text-base font-semibold",children:"상품 금액"}),i.jsxs("span",{className:"text-gray-900 text-base font-bold",children:[(H.subtotal||0).toLocaleString(),"원"]})]}),H.order_type==="delivery"&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-700 text-base font-semibold",children:"배달비"}),i.jsxs("span",{className:"text-gray-900 text-base font-bold",children:[(H.delivery_fee||H.total-H.subtotal||0).toLocaleString(),"원"]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-300",children:[i.jsx("span",{className:"font-bold text-gray-900 text-lg",children:"총 결제금액"}),i.jsx("span",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:ne(H.total||0)})]})]})]})})]})},H.id))}),Z>1&&i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:Z},(H,oe)=>oe+1).map(H=>i.jsx("button",{onClick:()=>ge(H),className:`w-10 h-10 rounded-lg text-sm font-medium transition-colors ${O===H?"bg-orange-500 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:H},H))})})]})]})]})}const k2=["메인요리","국물류","김치류","젓갈류","나물류","조림류","특별반찬","인기메뉴","세트메뉴","월식메뉴"];function VV(){const e=gt(),{storeId:t}=En(),{user:r,loading:n}=sr(),[s,o]=w.useState([]),[u,d]=w.useState(!0),[h,m]=w.useState(!1),[g,x]=w.useState(null),[v,b]=w.useState(new Set),[j,_]=w.useState({name:"",description:"",price:"",category:""});w.useEffect(()=>{if(!n&&!r){e("/admin-login");return}if(!n&&r&&r.role!=="admin"){e("/admin-dashboard");return}t&&N()},[r,n,e,t]);const N=async()=>{if(t)try{d(!0),console.log("🔍 메뉴 로드 시작 - 매장 ID:",t);const k=await kf(t);console.log("✅ 메뉴 로드 성공:",k?.length||0,"개 메뉴"),k&&k.length>0&&console.log("📋 메뉴 목록:",k.map(D=>`${D.name} (${D.category})`)),o(k)}catch(k){console.error("❌ 메뉴 로드 실패:",k)}finally{d(!1)}},S=async k=>{if(k.preventDefault(),!!t)try{const D={...j,price:parseFloat(j.price),store_id:t,is_available:!0};if(g)await fc(g.id,D),o(C=>C.map(T=>T.id===g.id?{...T,...D}:T));else{const C=await Tp(D);o(T=>[...T,C])}m(!1),x(null),_({name:"",description:"",price:"",category:""})}catch(D){console.error("메뉴 저장 실패:",D),alert("메뉴 저장에 실패했습니다.")}},O=async k=>{try{await Cp(k),o(D=>D.filter(C=>C.id!==k))}catch(D){console.error("메뉴 삭제 실패:",D),alert("메뉴 삭제에 실패했습니다.")}},A=k=>{b(D=>{const C=new Set(D);return C.has(k)?C.delete(k):C.add(k),C})},P=s;return n||u?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):!r||r.role!=="admin"?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"관리자만 접근할 수 있습니다."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Nr,{}),i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"메뉴관리"})]}),i.jsxs("button",{onClick:()=>{x(null),_({name:"",description:"",price:"",category:""}),m(!0)},className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[i.jsx("i",{className:"ri-add-line"}),"메뉴 추가"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:u?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"메뉴를 불러오는 중..."})]}):P.length>0?i.jsx("div",{className:"space-y-4",children:k2.map(k=>{const D=P.filter(T=>T.category===k);if(D.length===0)return null;const C=v.has(k);return i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-100 overflow-hidden",children:[i.jsxs("button",{onClick:()=>A(k),className:"w-full px-6 py-4 flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800",children:k}),i.jsxs("p",{className:"text-sm text-gray-500",children:[D.length,"개 메뉴"]})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-500",children:C?"접기":"펼치기"}),i.jsx("i",{className:`ri-arrow-down-s-line text-xl text-gray-400 transition-transform duration-300 ${C?"rotate-180":""}`})]})]}),i.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${C?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"px-6 pb-6",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:D.map(T=>i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl hover:scale-102 transition-all duration-300 group",children:i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 group-hover:text-orange-600 transition-colors flex-1 pr-2",children:T.name}),i.jsx("div",{className:"text-right flex-shrink-0",children:i.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[(T.price||0).toLocaleString(),"원"]})})]}),T.description&&i.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2 leading-relaxed text-sm sm:text-base",children:T.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[i.jsxs("span",{className:`px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs font-semibold flex items-center gap-1 ${T.is_available?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:[i.jsx("i",{className:`ri-${T.is_available?"check":"close"}-line text-xs`}),T.is_available?"판매중":"판매중지"]}),i.jsx("span",{className:"text-xs sm:text-sm text-gray-500 bg-gray-100 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full",children:T.category})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsxs("button",{onClick:()=>{x(T),_({name:T.name,description:T.description||"",price:T.price.toString(),category:T.category}),m(!0)},className:"px-4 py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-xs sm:text-sm bg-white text-gray-900 hover:bg-gray-900 hover:text-white border border-gray-300 hover:border-gray-900 shadow-sm hover:shadow-lg",children:[i.jsx("i",{className:"ri-edit-line mr-1"}),"수정"]}),i.jsxs("button",{onClick:()=>{confirm("정말로 이 메뉴를 삭제하시겠습니까?")&&O(T.id)},className:"px-4 py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-xs sm:text-sm bg-white text-red-600 hover:bg-red-600 hover:text-white border border-red-300 hover:border-red-600 shadow-sm hover:shadow-lg",children:[i.jsx("i",{className:"ri-delete-bin-line mr-1"}),"삭제"]})]})]})},T.id))})})})]},k)})}):i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/50 p-12 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("i",{className:"ri-restaurant-line text-4xl text-orange-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"메뉴가 없습니다"}),i.jsxs("p",{className:"text-gray-600 text-lg",children:['위의 "메뉴 추가" 버튼을 눌러',i.jsx("br",{}),"새로운 메뉴를 추가해보세요!"]})]})}),h&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:g?"메뉴 수정":"메뉴 추가"}),i.jsxs("form",{onSubmit:S,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메뉴명 *"}),i.jsx("input",{type:"text",value:j.name,onChange:k=>_({...j,name:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"메뉴명을 입력하세요",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),i.jsx("textarea",{value:j.description,onChange:k=>_({...j,description:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"메뉴 설명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가격 *"}),i.jsx("input",{type:"number",value:j.price,onChange:k=>_({...j,price:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"가격을 입력하세요",min:"0",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리 *"}),i.jsxs("select",{value:j.category,onChange:k=>_({...j,category:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,children:[i.jsx("option",{value:"",children:"카테고리를 선택하세요"}),k2.map(k=>i.jsx("option",{value:k,children:k},k))]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg font-medium",children:g?"수정하기":"추가하기"}),i.jsx("button",{type:"button",onClick:()=>{m(!1),x(null),_({name:"",description:"",price:"",category:""})},className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium",children:"취소"})]})]})]})})]})}function FV(){const e=gt(),{storeId:t}=En(),{user:r,loading:n}=sr(),[s,o]=w.useState([]),[u,d]=w.useState(!0),[h,m]=w.useState(""),[g,x]=w.useState("today"),[v,b]=w.useState(""),[j,_]=w.useState(!1);w.useEffect(()=>{if(!n&&!r){e("/admin-login");return}if(!n&&r&&r.role!=="admin"){e("/admin-dashboard");return}t&&(N(),S())},[r,n,e,t]),w.useEffect(()=>{const W=Z=>{Z.target.closest(".period-dropdown-container")||_(!1)};return document.addEventListener("mousedown",W),()=>{document.removeEventListener("mousedown",W)}},[]);const N=async()=>{if(t)try{d(!0);const W=await yl(t);o(W)}catch(W){console.error("주문 로드 실패:",W)}finally{d(!1)}},S=async()=>{if(t)try{const Z=(await Oa()).find(z=>z.id===t);Z&&m(Z.name)}catch(W){console.error("매장명 로드 실패:",W)}},O=W=>`${W.toLocaleString()}원`,A=W=>{if(x(W),_(!1),W!=="custom")b("");else{const Z=new Date,z=new Date(Z.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),G=new Date(z.getFullYear(),z.getMonth(),z.getDate()),le=G.getFullYear(),ge=String(G.getMonth()+1).padStart(2,"0"),I=String(G.getDate()).padStart(2,"0"),te=`${le}-${ge}-${I}`;b(te)}},P=W=>{b(W)},k=W=>{const Z=new Date,z=new Date(Z.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),G=new Date(z.getFullYear(),z.getMonth(),z.getDate()),le=te=>{const ne=te.getFullYear(),H=String(te.getMonth()+1).padStart(2,"0"),oe=String(te.getDate()).padStart(2,"0");return`${ne}-${H}-${oe}`},I=(()=>{switch(g){case"today":return{start:le(G),end:le(G)};case"thisWeek":const te=new Date(G),ne=te.getDay(),H=te.getDate()-ne+(ne===0?-6:1);te.setDate(H);const oe=new Date(te);return oe.setDate(te.getDate()+6),{start:le(te),end:le(oe)};case"thisMonth":const xe=new Date(G.getFullYear(),G.getMonth(),1),ue=new Date(G.getFullYear(),G.getMonth()+1,0);return{start:le(xe),end:le(ue)};case"custom":return{start:v||le(G),end:v||le(G)};default:return{start:le(G),end:le(G)}}})();return W.filter(te=>{if(te.daily_menu_orders&&te.daily_menu_orders.length>0)return te.daily_menu_orders.some(oe=>{const xe=oe.daily_menus.menu_date;return xe>=I.start&&xe<=I.end});const ne=new Date(te.created_at),H=le(ne);return H>=I.start&&H<=I.end})},D=W=>{switch(g){case"today":return`오늘 ${W}`;case"thisWeek":return`이번주 ${W}`;case"thisMonth":return`이번달 ${W}`;case"custom":if(v){const[Z,z,G]=v.split("-");return`${new Date(parseInt(Z),parseInt(z)-1,parseInt(G)).toLocaleDateString("ko-KR")} ${W}`}return`선택된 날짜 ${W}`;default:return`오늘 ${W}`}},C=(W,Z)=>{const z=W.reduce((oe,xe)=>oe+xe.total,0),G=W.length,le=G>0?Math.round(z/G):0;let ge=0;const I=new Date,te=new Date(I.getFullYear(),I.getMonth(),I.getDate()),ne=new Date(te);switch(ne.setDate(ne.getDate()-1),Z){case"today":ge=W.filter(xe=>{const ue=new Date(xe.created_at);return ue>=ne&&ue<te}).reduce((xe,ue)=>xe+ue.total,0);break;case"yesterday":const oe=new Date(te);oe.setDate(oe.getDate()-2),ge=W.filter(xe=>{const ue=new Date(xe.created_at);return ue>=oe&&ue<ne}).reduce((xe,ue)=>xe+ue.total,0);break;default:ge=0}const H=ge>0?Math.round((z-ge)/ge*100):0;return{totalRevenue:z,totalOrders:G,averageOrderValue:le,revenueGrowthRate:H}},T=W=>{const Z=W.filter(G=>G.order_type==="pickup"),z={};return Z.forEach(G=>{if(G.pickup_time){const le=parseInt(G.pickup_time.split(":")[0]),ge=le<12?`오전 ${le}시`:`오후 ${le-12}시`;z[ge]=(z[ge]||0)+1}}),Object.entries(z).map(([G,le])=>({time:G,orders:le})).sort((G,le)=>{const ge=G.time.includes("오전"),I=le.time.includes("오전");if(ge&&!I)return-1;if(!ge&&I)return 1;const te=parseInt(G.time.match(/\d+/)?.[0]||"0"),ne=parseInt(le.time.match(/\d+/)?.[0]||"0");return te-ne})},$=W=>{const Z=W.filter(G=>G.order_type==="delivery"),z={};return Z.forEach(G=>{if(G.delivery_time){const le=G.delivery_time.split(" ");if(le.length>=2){const I=le.slice(1).join(" ").split(" (")[0];z[I]=(z[I]||0)+1}else{const ge=G.delivery_time.split(" (")[0];z[ge]=(z[ge]||0)+1}}}),Object.entries(z).map(([G,le])=>({time:G,orders:le})).sort((G,le)=>G.time.localeCompare(le.time))},L=W=>{const Z={};return W.forEach(z=>{z.order_items&&z.order_items.forEach(G=>{const le=G.menus.name,ge=G.price*G.quantity;Z[le]||(Z[le]={name:le,totalOrders:0,totalQuantity:0,totalRevenue:0,avgPrice:G.price,profitability:0}),Z[le].totalOrders+=1,Z[le].totalQuantity+=G.quantity,Z[le].totalRevenue+=ge})}),Object.values(Z).forEach(z=>{z.profitability=z.totalOrders>0?Math.round(z.totalRevenue/z.totalOrders):0}),Object.values(Z).sort((z,G)=>G.profitability-z.profitability).slice(0,10)},B=k(s),J=(()=>{const W={};return B.forEach(Z=>{Z.order_items&&Z.order_items.forEach(z=>{const G=z.menus.name;W[G]||(W[G]={name:G,count:0}),W[G].count+=z.quantity})}),Object.values(W).sort((Z,z)=>z.count-Z.count).slice(0,5)})(),ie=()=>{const{logout:W}=sr();W(),e("/admin-login")};return n||u?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):!r||r.role!=="admin"?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"관리자만 접근할 수 있습니다."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Nr,{}),i.jsx("div",{className:"flex flex-col",children:i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"뒤로가기",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"성과분석"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("button",{onClick:ie,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md flex items-center whitespace-nowrap cursor-pointer text-sm",children:[i.jsx("i",{className:"ri-logout-box-r-line mr-1.5 text-xs"}),"로그아웃"]})})]})})})}),i.jsxs("div",{className:"p-4 flex-1",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-4 sm:p-6 shadow-lg mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-filter-3-line text-orange-500 text-base sm:text-lg"})}),i.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"필터"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("i",{className:"ri-calendar-line text-gray-600 text-base sm:text-lg"}),i.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-800 whitespace-nowrap",children:"기간:"})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative period-dropdown-container",children:[i.jsxs("button",{onClick:()=>_(!j),className:"w-full px-3 sm:px-5 py-3 sm:py-4 bg-white border-2 border-gray-200 rounded-2xl text-sm sm:text-base font-bold text-gray-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 cursor-pointer transition-all duration-200 hover:border-orange-300 hover:shadow-md flex items-center justify-between",children:[i.jsx("span",{children:g==="today"?"오늘":g==="thisWeek"?"이번주":g==="thisMonth"?"이번달":g==="custom"?"날짜 선택":"오늘"}),i.jsx("i",{className:`ri-arrow-down-s-line text-gray-400 text-sm transition-transform duration-200 ${j?"rotate-180":""}`})]}),j&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-lg z-20 overflow-hidden",children:[i.jsx("button",{onClick:()=>{A("today"),_(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${g==="today"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"오늘"}),i.jsx("button",{onClick:()=>{A("thisWeek"),_(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${g==="thisWeek"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"이번주"}),i.jsx("button",{onClick:()=>{A("thisMonth"),_(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${g==="thisMonth"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"이번달"}),i.jsx("button",{onClick:()=>{A("custom"),_(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${g==="custom"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"날짜 선택"})]})]})})]}),g==="custom"&&i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("i",{className:"ri-calendar-check-line text-gray-600 text-base sm:text-lg"}),i.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-800 whitespace-nowrap",children:"날짜:"})]}),i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"date",value:v||"",onChange:W=>P(W.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-50 border-0 rounded-xl text-sm sm:text-base font-semibold text-gray-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:bg-white transition-all duration-200 hover:bg-gray-100",placeholder:"날짜를 선택하세요"})})]})]})]}),i.jsxs("div",{className:"mb-6 sm:mb-8",children:[i.jsxs("h4",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-dashboard-line text-orange-500 text-base sm:text-lg"}),"주요 통계"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-green-600 text-lg sm:text-xl"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-700 mb-1",children:D("총 매출")}),i.jsx("p",{className:"text-lg sm:text-xl font-bold text-green-600 break-words",children:O(C(B,g).totalRevenue)})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-blue-600 text-lg sm:text-xl"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-700 mb-1",children:D("총 주문수")}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:[C(B,g).totalOrders.toLocaleString(),"건"]})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-bar-chart-line text-purple-600 text-lg sm:text-xl"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-700 mb-1",children:D("평균 주문액")}),i.jsx("p",{className:"text-lg sm:text-xl font-bold text-purple-600 break-words",children:O(C(B,g).averageOrderValue)})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-orange-600 text-lg sm:text-xl"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-700 mb-1",children:D("인기메뉴")}),i.jsx("p",{className:"text-sm sm:text-lg font-bold text-orange-600 mb-1 break-words",children:J.length>0?J[0].name:"없음"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:J.length>0?`${J[0].count}개 판매`:"주문 없음"})]})]})})]})]}),i.jsxs("div",{className:"mb-6 sm:mb-8",children:[i.jsxs("h4",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[i.jsx("i",{className:"ri-time-line text-orange-500 text-base sm:text-lg"}),"시간대별 주문 분석"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-store-line text-orange-600 text-base sm:text-lg"})}),i.jsx("span",{className:"break-words",children:D("픽업 시간대별 주문")})]}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[T(B).map((W,Z)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-800 break-words flex-1 mr-2",children:W.time}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0",children:[i.jsx("div",{className:"w-20 sm:w-32 h-3 bg-gray-200 rounded-full",children:i.jsx("div",{className:"h-3 bg-orange-500 rounded-full transition-all duration-300",style:{width:`${T(B).length>0?W.orders/Math.max(...T(B).map(z=>z.orders))*100:0}%`}})}),i.jsxs("span",{className:"text-sm sm:text-base font-bold text-gray-900 w-8 sm:w-12 text-right",children:[W.orders,"건"]})]})]},Z)),T(B).length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-6 sm:py-8",children:[i.jsx("i",{className:"ri-store-line text-2xl sm:text-3xl mb-3"}),i.jsx("p",{className:"text-sm sm:text-base font-medium",children:"픽업 주문이 없습니다"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-truck-line text-blue-600 text-base sm:text-lg"})}),i.jsx("span",{className:"break-words",children:D("배달 시간대별 주문")})]}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[$(B).map((W,Z)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-800 break-words flex-1 mr-2",children:W.time}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0",children:[i.jsx("div",{className:"w-20 sm:w-32 h-3 bg-gray-200 rounded-full",children:i.jsx("div",{className:"h-3 bg-blue-500 rounded-full transition-all duration-300",style:{width:`${$(B).length>0?W.orders/Math.max(...$(B).map(z=>z.orders))*100:0}%`}})}),i.jsxs("span",{className:"text-sm sm:text-base font-bold text-gray-900 w-8 sm:w-12 text-right",children:[W.orders,"건"]})]})]},Z)),$(B).length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-6 sm:py-8",children:[i.jsx("i",{className:"ri-truck-line text-2xl sm:text-3xl mb-3"}),i.jsx("p",{className:"text-sm sm:text-base font-medium",children:"배달 주문이 없습니다"})]})]})]})]})]}),i.jsxs("div",{className:"mb-6 sm:mb-8",children:[i.jsxs("h4",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[i.jsx("i",{className:"ri-restaurant-line text-orange-500 text-base sm:text-lg"}),"메뉴 수익성 분석"]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-orange-600 text-base sm:text-lg"})}),i.jsx("span",{className:"break-words",children:D("메뉴 수익성 분석")})]}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[L(B).map((W,Z)=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 sm:p-5 bg-gradient-to-r from-orange-50 to-orange-100 rounded-xl border border-orange-200 hover:shadow-md transition-shadow gap-3 sm:gap-0",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-500 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:["#",Z+1]})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1 break-words",children:W.name}),i.jsxs("div",{className:"text-sm sm:text-base text-gray-700 font-medium",children:[W.totalOrders,"회 주문 • ",W.totalQuantity,"개 판매"]})]})]}),i.jsxs("div",{className:"text-left sm:text-right",children:[i.jsx("div",{className:"text-lg sm:text-xl font-bold text-orange-600 mb-1 break-words",children:O(W.profitability)}),i.jsx("div",{className:"text-sm sm:text-base text-gray-700 font-medium mb-1",children:"평균 단가"}),i.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 break-words",children:["총 ",O(W.totalRevenue)]})]})]},Z)),L(B).length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-8 sm:py-12",children:[i.jsx("i",{className:"ri-restaurant-line text-3xl sm:text-4xl mb-3 sm:mb-4"}),i.jsx("p",{className:"text-base sm:text-lg font-medium",children:"선택한 기간에 주문된 메뉴가 없습니다"})]})]})]})]})]})]})}function WV(){const e=gt(),{storeId:t}=En(),{user:r,loading:n}=sr(),[s,o]=w.useState(null),[u,d]=w.useState(!0),[h,m]=w.useState(!1),[g,x]=w.useState({name:"",category:"",delivery_area:"",phone:"",business_hours_start:"",business_hours_end:"",order_cutoff_time:"",minimum_order_amount:"",bank_account:"",account_holder:""});w.useEffect(()=>{if(!n&&!r){e("/admin-login");return}if(!n&&r&&r.role!=="admin"){e("/admin-dashboard");return}t&&v()},[r,n,e,t]);const v=async()=>{if(t)try{d(!0),console.log("🔍 매장 정보 로드 시작 - 매장 ID:",t);const j=await bO(t);console.log("✅ 매장 정보 로드 성공:",j),o(j),x({name:j.name||"",category:j.category||"",delivery_area:j.delivery_area||"",phone:j.phone||"",business_hours_start:j.business_hours_start||"",business_hours_end:j.business_hours_end||"",order_cutoff_time:j.order_cutoff_time||"",minimum_order_amount:j.minimum_order_amount?.toString()||"",bank_account:j.bank_account||"",account_holder:j.account_holder||""})}catch(j){console.error("❌ 매장 로드 실패:",j)}finally{d(!1)}},b=async j=>{if(j.preventDefault(),!!t)try{const _={name:g.name,category:g.category,delivery_area:g.delivery_area,phone:g.phone,business_hours_start:g.business_hours_start,business_hours_end:g.business_hours_end,order_cutoff_time:g.order_cutoff_time,minimum_order_amount:g.minimum_order_amount?parseInt(g.minimum_order_amount):0,bank_account:g.bank_account,account_holder:g.account_holder},N=await Sx(t,_);o(N),m(!1),alert("매장 정보가 업데이트되었습니다.")}catch(_){console.error("매장 정보 업데이트 실패:",_),alert("매장 정보 업데이트에 실패했습니다.")}};return n||u?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):!r||r.role!=="admin"?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"관리자만 접근할 수 있습니다."})]})}):s?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Nr,{}),i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"매장관리"})]}),i.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[i.jsx("i",{className:"ri-edit-line"}),"정보 수정"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s.name})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"매장명"}),i.jsx("p",{className:"text-gray-800",children:s.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsx("p",{className:"text-gray-800",children:s.category||"카테고리가 없습니다."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"배달지역"}),i.jsx("p",{className:"text-gray-800",children:s.delivery_area||"배달지역이 없습니다."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),i.jsx("p",{className:"text-gray-800",children:s.phone||"전화번호가 없습니다."})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영시간"}),i.jsx("p",{className:"text-gray-800",children:s.business_hours_start&&s.business_hours_end?`${s.business_hours_start} - ${s.business_hours_end}`:"운영시간이 설정되지 않았습니다."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주문마감시간"}),i.jsx("p",{className:"text-gray-800",children:s.order_cutoff_time||"주문마감시간이 설정되지 않았습니다."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"최소 주문금액"}),i.jsxs("p",{className:"text-gray-800",children:["₩",s.minimum_order_amount?.toLocaleString()||"0"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계좌번호"}),i.jsx("p",{className:"text-gray-800",children:s.bank_account||"계좌번호가 없습니다."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예금주명"}),i.jsx("p",{className:"text-gray-800",children:s.account_holder||"예금주명이 없습니다."})]})]})]})]})}),h&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl mx-4 w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"매장 정보 수정"}),i.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("i",{className:"ri-close-line text-xl"})})]}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"매장명 *"}),i.jsx("input",{type:"text",value:g.name,onChange:j=>x({...g,name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsx("input",{type:"text",value:g.category,onChange:j=>x({...g,category:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"예: 한식반찬"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"배달지역"}),i.jsx("input",{type:"text",value:g.delivery_area,onChange:j=>x({...g,delivery_area:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"예: 진주, 삼천포, 사천"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),i.jsx("input",{type:"tel",value:g.phone,onChange:j=>x({...g,phone:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"예: 01032626543"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영시간 시작"}),i.jsx("input",{type:"time",value:g.business_hours_start,onChange:j=>x({...g,business_hours_start:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영시간 종료"}),i.jsx("input",{type:"time",value:g.business_hours_end,onChange:j=>x({...g,business_hours_end:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주문마감시간"}),i.jsx("input",{type:"time",value:g.order_cutoff_time,onChange:j=>x({...g,order_cutoff_time:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"최소 주문금액"}),i.jsx("input",{type:"number",value:g.minimum_order_amount,onChange:j=>x({...g,minimum_order_amount:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",min:"0",placeholder:"예: 10000"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계좌번호"}),i.jsx("input",{type:"text",value:g.bank_account,onChange:j=>x({...g,bank_account:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"예: 3333-33-33333"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예금주명"}),i.jsx("input",{type:"text",value:g.account_holder,onChange:j=>x({...g,account_holder:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"예: 윤윤자"})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"취소"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition-colors",children:"저장"})]})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-error-warning-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"매장을 찾을 수 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"매장 정보를 불러올 수 없습니다."})]})})}const T2=async(e,t,r=1,n=5)=>{try{console.log("전화번호로 주문 조회:",{phone:e,storeId:t,page:r,limit:n});const s=(r-1)*n,{data:o,error:u}=await be.from("orders").select("id, status, customer_name, customer_phone, created_at, store_id").eq("customer_phone",e).eq("store_id",t).order("created_at",{ascending:!1});console.log("🔍 해당 전화번호의 모든 주문:",o);const{data:d,error:h}=await be.from("orders").select(`
        *,
        stores (
          id,
          name,
          phone
        ),
        order_items (
          quantity,
          price,
          menus (
            id,
            name,
            price
          )
        )
      `).eq("customer_phone",e).eq("store_id",t).order("created_at",{ascending:!1}).range(s,s+n-1);if(h)throw console.error("주문 조회 오류:",h),h;console.log("조회된 주문 수:",d?.length||0),console.log("📋 주문 상세:",d);const m=o?.length||0,g=Math.ceil(m/n);return{orders:d||[],pagination:{currentPage:r,totalPages:g,totalCount:m,hasNextPage:r<g,hasPrevPage:r>1}}}catch(s){throw console.error("주문 조회 실패:",s),s}},XV=async e=>{try{const{data:t,error:r}=await be.from("stores").select("id, name, phone, delivery_area, category").eq("id",e).single();if(r)throw console.error("매장 정보 조회 오류:",r),r;return t}catch(t){throw console.error("매장 정보 조회 실패:",t),t}};function QV(){const{storeId:e}=En(),[t,r]=w.useState(""),[n,s]=w.useState([]),[o,u]=w.useState(null),[d,h]=w.useState(!1),[m,g]=w.useState(null),[x,v]=w.useState(!1),[b,j]=w.useState(1),[_,N]=w.useState({currentPage:1,totalPages:1,totalCount:0,hasNextPage:!1,hasPrevPage:!1});w.useEffect(()=>{e&&e!=="undefined"?S():g("잘못된 매장 ID입니다.")},[e]);const S=async()=>{try{const k=await XV(e);u(k)}catch(k){console.error("매장 정보 로드 실패:",k),g("매장 정보를 불러올 수 없습니다.")}},O=async k=>{if(k.preventDefault(),!!t.trim()){h(!0),g(null),v(!0),j(1);try{const D=await T2(t.trim(),e,1,5);console.log("🔍 조회된 주문 데이터:",D),console.log("📊 주문 수:",D.orders.length),D.orders.forEach((C,T)=>{console.log(`주문 ${T+1}:`,{id:C.id,status:C.status,customer_name:C.customer_name,created_at:C.created_at})}),s(D.orders),N(D.pagination)}catch(D){console.error("주문 조회 실패:",D),g("주문을 조회할 수 없습니다. 전화번호를 확인해주세요.")}finally{h(!1)}}},A=async k=>{if(t.trim()){h(!0),g(null);try{const D=await T2(t.trim(),e,k,5);s(D.orders),N(D.pagination),j(k)}catch(D){console.error("주문 조회 실패:",D),g("주문을 조회할 수 없습니다.")}finally{h(!1)}}},P=k=>{const D=new Date(k);return new Date(D.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100",children:[i.jsx(Nr,{}),i.jsxs("div",{className:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-md sm:max-w-4xl",children:[i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-4 sm:p-8 mb-6 sm:mb-8",children:[i.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-orange-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("i",{className:"ri-search-line text-xl sm:text-2xl text-white"})}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"전화번호로 주문 조회"})]}),i.jsxs("form",{onSubmit:O,className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"전화번호"}),i.jsx("input",{type:"tel",value:t,onChange:k=>{const C=k.target.value.replace(/[^0-9]/g,"").slice(0,11);r(C)},placeholder:"01023432321",className:"w-full px-4 sm:px-6 py-3 sm:py-4 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-base sm:text-lg transition-all duration-200 hover:border-orange-300 outline-none",required:!0}),i.jsx("div",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:"숫자만 입력하세요 (예: 01023432321)"})]}),i.jsx("button",{type:"submit",disabled:d||!t.trim(),className:"w-full px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-orange-400 to-orange-500 text-white rounded-2xl hover:from-orange-500 hover:to-orange-600 transition-all duration-300 font-bold text-base sm:text-lg shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none min-h-[48px]",children:d?i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"조회 중..."]}):i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("i",{className:"ri-search-line text-xl"}),"주문 조회"]})})]}),o?.phone&&i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[i.jsx("i",{className:"ri-phone-line"}),i.jsxs("span",{children:["문의: ",o.phone]})]})})]}),m&&i.jsx("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200 rounded-2xl p-6 mb-6 shadow-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:i.jsx("i",{className:"ri-error-warning-line text-red-500 text-xl"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-red-800",children:"조회 실패"}),i.jsx("p",{className:"text-red-600 mt-1",children:m})]})]})}),x&&i.jsx("div",{className:"space-y-6",children:n.length===0?i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-12 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("i",{className:"ri-shopping-cart-line text-4xl text-orange-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"주문이 없어요!"}),i.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"입력하신 전화번호로 주문한 내역이 없습니다."}),i.jsx("p",{className:"text-gray-500",children:"모든 주문 내역을 확인할 수 있어요! ✨"})]}):i.jsxs("div",{children:[i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-4 sm:p-6 mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-orange-400 to-orange-500 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx("i",{className:"ri-shopping-cart-line text-white text-lg sm:text-xl"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-800 whitespace-nowrap",children:"주문 내역"}),i.jsxs("p",{className:"text-orange-600 font-semibold text-sm sm:text-base",children:["총 ",_.totalCount,"건"]})]})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsx("div",{className:"text-2xl sm:text-4xl font-bold text-orange-500",children:_.totalCount}),i.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"주문 건수"})]})]})}),i.jsx("div",{className:"space-y-6",children:n.map(k=>{const C=($=>{switch($){case"입금대기":return{text:"입금대기",color:"text-orange-600",bgColor:"bg-orange-50",icon:"💳",description:"입금 확인 후 주문이 진행됩니다"};case"입금확인":return{text:"입금완료",color:"text-blue-600",bgColor:"bg-blue-50",icon:"👨‍🍳",description:"주방에서 준비 중입니다"};case"배달완료":return{text:"완료",color:"text-green-600",bgColor:"bg-green-50",icon:"🎉",description:"주문이 완료되었습니다"};case"주문취소":return{text:"취소",color:"text-red-600",bgColor:"bg-red-50",icon:"😢",description:"주문이 취소되었습니다"};default:return{text:$,color:"text-gray-600",bgColor:"bg-gray-50",icon:"❓",description:""}}})(k.status),T=$=>($||0).toLocaleString("ko-KR");return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-200 overflow-hidden hover:shadow-xl transition-shadow duration-300 mb-4",children:[i.jsxs("div",{className:"p-4 sm:p-6 border-b-2 border-gray-200",children:[i.jsx("div",{className:"mb-3 sm:mb-4",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-900 break-words",children:P(k.created_at)}),i.jsx("div",{className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-full ${C.bgColor} border-2 ${C.color==="text-orange-600"?"border-orange-200":C.color==="text-blue-600"?"border-blue-200":C.color==="text-green-600"?"border-green-200":C.color==="text-red-600"?"border-red-200":"border-gray-200"}`,children:i.jsx("span",{className:`text-xs sm:text-sm font-bold ${C.color}`,children:C.text})})]})}),i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-5 bg-gray-50 rounded-xl border border-gray-200",children:[i.jsx("span",{className:"text-2xl sm:text-4xl",children:C.icon}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-bold text-gray-900 text-base sm:text-lg break-words",children:C.description}),i.jsxs("p",{className:"text-sm sm:text-base text-gray-700 font-medium break-words",children:[k.customer_name,"님의 주문"]})]})]})]}),i.jsxs("div",{className:"p-4 sm:p-6 border-b-2 border-gray-200",children:[i.jsx("h4",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"매장 정보"}),i.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-orange-100 rounded-xl flex items-center justify-center border-2 border-orange-200 flex-shrink-0",children:i.jsx("i",{className:"ri-store-3-line text-xl sm:text-2xl text-orange-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h5",{className:"font-bold text-gray-900 text-base sm:text-lg mb-1 sm:mb-2 break-words",children:k.stores.name}),i.jsx("p",{className:"text-sm sm:text-base text-gray-700 font-medium break-words",children:k.stores.phone})]})]})]}),i.jsxs("div",{className:"p-4 sm:p-6 border-b-2 border-gray-200",children:[i.jsx("h4",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"주문 정보"}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-user-line text-gray-600 w-5 sm:w-6 text-lg sm:text-xl flex-shrink-0"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-800 font-medium break-words",children:k.customer_name}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-600 break-words",children:["(",k.customer_phone,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-truck-line text-gray-600 w-5 sm:w-6 text-lg sm:text-xl flex-shrink-0"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-800 font-medium",children:k.order_type==="delivery"?"배달":"픽업"})]}),k.delivery_address&&i.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-map-pin-line text-gray-600 w-5 sm:w-6 mt-1 text-lg sm:text-xl flex-shrink-0"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-800 font-medium break-words",children:k.delivery_address})]}),(k.delivery_time||k.pickup_time)&&i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-time-line text-gray-600 w-5 sm:w-6 text-lg sm:text-xl flex-shrink-0"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-800 font-medium break-words",children:k.delivery_time||k.pickup_time})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-bank-card-line text-gray-600 w-5 sm:w-6 text-lg sm:text-xl flex-shrink-0"}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-800 font-medium break-words",children:["입금자: ",k.depositor_name]})]}),k.special_requests&&i.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-message-3-line text-gray-600 w-5 sm:w-6 mt-1 text-lg sm:text-xl flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm sm:text-base font-bold text-gray-800",children:"특별 요청사항"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-700 mt-1 break-words",children:k.special_requests})]})]})]})]}),i.jsxs("div",{className:"p-4 sm:p-6 border-b-2 border-gray-200",children:[i.jsx("h4",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"주문 메뉴"}),i.jsx("div",{className:"space-y-2 sm:space-y-3",children:k.order_items?.map(($,L)=>i.jsxs("div",{className:"flex items-start justify-between p-3 sm:p-4 bg-gray-50 rounded-xl border border-gray-200",children:[i.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[i.jsx("h5",{className:"font-bold text-gray-900 text-base sm:text-lg break-words",children:$.menus?.name||"메뉴"}),i.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mt-1 font-medium",children:["수량: ",$.quantity,"개"]})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsxs("p",{className:"font-bold text-gray-900 text-base sm:text-lg",children:[T(($.price||0)*$.quantity),"원"]}),i.jsxs("p",{className:"text-xs sm:text-base text-gray-600",children:[T($.price||0),"원 × ",$.quantity]})]})]},L))})]}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsx("h4",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"결제 정보"}),i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-medium",children:"상품 금액"}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-900 font-bold",children:[T(k.subtotal||0),"원"]})]}),k.order_type==="delivery"&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-medium",children:"배달비"}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-900 font-bold",children:[T(k.delivery_fee||0),"원"]})]}),i.jsx("div",{className:"border-t-2 border-gray-200 pt-3 sm:pt-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"총 결제금액"}),i.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:[T(k.total||0),"원"]})]})})]})]})]},k.id)})}),_.totalPages>1&&i.jsx("div",{className:"mt-8 flex justify-center",children:i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>A(b-1),disabled:!_.hasPrevPage||d,className:`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-300 ${_.hasPrevPage&&!d?"bg-gradient-to-r from-orange-400 to-orange-500 text-white hover:from-orange-500 hover:to-orange-600 shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:i.jsx("i",{className:"ri-arrow-left-line text-lg"})}),Array.from({length:_.totalPages},(k,D)=>D+1).map(k=>i.jsx("button",{onClick:()=>A(k),disabled:d,className:`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-300 ${k===b?"bg-gradient-to-r from-orange-400 to-orange-500 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-orange-300"} ${d?"cursor-not-allowed":""}`,children:k},k)),i.jsx("button",{onClick:()=>A(b+1),disabled:!_.hasNextPage||d,className:`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-300 ${_.hasNextPage&&!d?"bg-gradient-to-r from-orange-400 to-orange-500 text-white hover:from-orange-500 hover:to-orange-600 shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:i.jsx("i",{className:"ri-arrow-right-line text-lg"})})]})})})]})})]}),i.jsx(kn,{})]})}function ZV(){const e=gt(),{orderId:t,storeId:r}=En(),{user:n,loading:s}=sr(),[o,u]=w.useState(null),[d,h]=w.useState(!0),[m,g]=w.useState(""),[x,v]=w.useState([]),[b,j]=w.useState(!1),[_,N]=w.useState(null);w.useEffect(()=>{if(!s&&!n){e("/admin-login");return}if(!s&&n&&n.role!=="admin"){e("/admin-dashboard");return}r&&t&&(console.log("주문 상세 페이지 로드:",{storeId:r,orderId:t}),S(),O())},[n,s,e,r,t]);const S=async()=>{if(!(!r||!t))try{h(!0),console.log("주문 로드 시작:",{storeId:r,orderId:t});const $=await yl(r);console.log("로드된 주문들:",$),console.log("찾는 주문 ID:",t),v($);const L=$.find(B=>B.id===t);L?(console.log("주문 찾음:",L),console.log("주문 아이템들:",L.order_items),console.log("🔍 배달비 정보:",{order_type:L.order_type,delivery_fee:L.delivery_fee,delivery_fee_type:typeof L.delivery_fee}),u(L)):(console.error("주문을 찾을 수 없습니다."),console.log("전체 주문 목록:",$.map(B=>({id:B.id,status:B.status}))),u(null))}catch($){console.error("주문 로드 실패:",$),u(null)}finally{h(!1)}},O=async()=>{if(r)try{const L=(await Oa()).find(B=>B.id===r);L&&g(L.name)}catch($){console.error("매장명 로드 실패:",$)}},A=$=>{switch($){case"입금대기":return"bg-yellow-100 text-yellow-800";case"입금확인":return"bg-blue-100 text-blue-800";case"배달완료":return"bg-green-100 text-green-800";case"주문취소":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=($,L)=>{N({orderId:$,newStatus:L}),j(!0)},k=async()=>{if(_)try{await Ep(_.orderId,_.newStatus),u($=>$?{...$,status:_.newStatus}:null),window.dispatchEvent(new CustomEvent("orderStatusChanged")),j(!1),N(null)}catch($){console.error("주문 상태 변경 실패:",$),alert("주문 상태 변경에 실패했습니다.")}},D=()=>{j(!1),N(null)};if(s||d)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})});if(!n||n.role!=="admin")return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"관리자만 접근할 수 있습니다."})]})});if(!d&&!o)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-error-warning-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"주문을 찾을 수 없습니다"}),i.jsxs("p",{className:"text-gray-600 mb-4",children:["주문 ID: ",t]}),i.jsx("p",{className:"text-gray-600",children:"해당 주문이 존재하지 않습니다."}),i.jsx("button",{onClick:()=>e(`/admin/${r}/orders`),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"주문 목록으로 돌아가기"})]})});if(!o)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"주문 정보를 불러오는 중..."}),i.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["주문 ID: ",t]})]})});const{date:C,time:T}={date:new Date(o.created_at).toLocaleDateString("ko-KR"),time:new Date(o.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Nr,{}),i.jsx("div",{className:"bg-white border-b border-gray-200",children:i.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4 sm:py-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>e(`/admin/${r}/orders`),className:"mr-3 sm:mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("i",{className:"ri-arrow-left-line text-lg sm:text-xl text-gray-600"})}),i.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"주문 상세"})]})})}),i.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4 sm:py-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:o.customer_name?`${o.customer_name}님의 주문`:"주문 상세"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("div",{className:`px-3 py-1 rounded-lg text-xs sm:text-sm font-semibold ${o.order_type==="delivery"?"bg-blue-50 text-blue-700 border border-blue-200":"bg-green-50 text-green-700 border border-green-200"}`,children:o.order_type==="delivery"?"배달":"픽업"}),i.jsx("div",{className:`px-3 py-1 rounded-lg text-xs sm:text-sm font-semibold ${A(o.status)}`,children:o.status})]})]}),i.jsxs("div",{className:"text-left sm:text-right",children:[i.jsx("p",{className:"text-sm text-gray-500",children:C}),i.jsx("p",{className:"text-sm text-gray-500",children:T})]})]}),i.jsx("div",{className:"mt-4 pt-4 border-t border-gray-100",children:i.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:(()=>{switch(o.status){case"입금대기":return["입금확인","주문취소"];case"입금확인":return o.order_type==="delivery"?["배달완료","주문취소"]:["주문취소"];case"배달완료":return[];case"주문취소":return[];default:return[]}})().map(L=>i.jsxs("button",{onClick:()=>P(o.id,L),className:`flex-1 px-4 sm:px-6 py-3 rounded-xl text-sm sm:text-base font-bold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl ${L==="입금확인"?"bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white border border-blue-400":L==="배달완료"?"bg-gradient-to-r from-teal-500 to-cyan-500 hover:from-teal-600 hover:to-cyan-600 text-white border border-teal-400":"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white border border-red-400"}`,children:[i.jsx("i",{className:`mr-2 ${L==="입금확인"?"ri-check-line":L==="배달완료"?"ri-truck-line":"ri-close-line"}`}),L]},L))})})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-user-line text-gray-600 text-sm sm:text-lg"})}),i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"주문자 정보"})]}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.depositor_name&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-xl sm:text-2xl",children:"👤"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"입금자"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base break-words",children:o.depositor_name})]})]}),o.customer_name&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-xl sm:text-2xl",children:"👤"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"고객명"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base break-words",children:o.customer_name})]})]}),o.customer_phone&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-xl sm:text-2xl",children:"📞"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"연락처"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base break-words",children:o.customer_phone})]})]}),o.delivery_address&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-xl sm:text-2xl",children:"📍"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"배달주소"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base break-words",children:o.delivery_address})]})]})]})]}),(o.delivery_time||o.pickup_time)&&i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-truck-line text-orange-600 text-sm sm:text-lg"})}),i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"배달 정보"})]}),i.jsx("div",{className:"p-3 sm:p-4 rounded-xl bg-gray-50",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("i",{className:"ri-time-line text-xl sm:text-2xl text-gray-600"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium text-gray-600",children:o.order_type==="delivery"?"배달 시간":"픽업 시간"}),i.jsx("p",{className:"text-base sm:text-lg font-bold break-words text-gray-900",children:o.delivery_time||o.pickup_time})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-orange-600 text-sm sm:text-lg"})}),i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"주문 메뉴"})]}),i.jsx("div",{className:"space-y-3",children:o.daily_menu_orders&&o.daily_menu_orders.length>0?i.jsxs(i.Fragment,{children:[o.daily_menu_orders.map(($,L)=>i.jsxs("div",{className:"flex justify-between items-start sm:items-center py-3 gap-3",children:[i.jsxs("div",{className:"flex items-start sm:items-center gap-3 min-w-0 flex-1",children:[i.jsx("span",{className:"text-base sm:text-lg",children:"🍽️"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base break-words",children:$.menus?.name||"메뉴"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[$.quantity||0,"개"]})]})]}),i.jsxs("span",{className:"text-base sm:text-lg font-bold text-gray-900 whitespace-nowrap",children:[(($.menus?.price||0)*($.quantity||0)).toLocaleString(),"원"]})]},L)),i.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx("i",{className:"ri-shopping-bag-line text-lg text-gray-500"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"상품 금액"})]}),i.jsx("div",{className:"text-right",children:i.jsxs("span",{className:"text-sm sm:text-base text-gray-800",children:[(o.subtotal||0).toLocaleString(),"원"]})})]}),o.order_type==="delivery"&&i.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx("i",{className:"ri-truck-line text-lg text-gray-500"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"배달비"})]}),i.jsx("div",{className:"text-right",children:i.jsxs("span",{className:"text-sm sm:text-base text-gray-800",children:[(o.delivery_fee||o.total-o.subtotal||0).toLocaleString(),"원"]})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-3 pt-2 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx("i",{className:"ri-money-dollar-circle-line text-lg sm:text-xl text-orange-500"}),i.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"총 결제 금액"})]}),i.jsx("div",{className:"text-right",children:i.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-orange-500",children:[(o.total||0).toLocaleString(),"원"]})})]})]})]}):i.jsxs("div",{className:"text-center py-8 sm:py-12 text-gray-500",children:[i.jsx("i",{className:"ri-shopping-cart-line text-4xl sm:text-6xl mb-4"}),i.jsx("p",{className:"text-base sm:text-lg",children:"주문 상품 정보가 없습니다."})]})})]})]})}),b&&_&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 max-w-sm sm:max-w-md w-full mx-auto",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-orange-100 mb-4 sm:mb-6",children:i.jsx("i",{className:"ri-question-line text-xl sm:text-2xl text-orange-600"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"주문 상태 변경"}),i.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8 leading-relaxed",children:[_.customerName?`${_.customerName}님의 주문을`:"이 주문을"," ",i.jsx("span",{className:"font-semibold text-orange-500",children:_.newStatus}),"로 변경하시겠습니까?"]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[i.jsx("button",{onClick:D,className:"flex-1 px-4 sm:px-6 py-3 bg-gray-100 text-gray-700 rounded-xl text-sm sm:text-base font-semibold hover:bg-gray-200 transition-colors",children:"취소"}),i.jsx("button",{onClick:k,className:"flex-1 px-4 sm:px-6 py-3 bg-orange-500 text-white rounded-xl text-sm sm:text-base font-semibold hover:bg-orange-600 transition-colors",children:"확인"})]})]})})})]})}const JV=async e=>{if(!e.store_id)throw new Error("매장 ID가 필요합니다.");if(!e.menu_date)throw new Error("메뉴 날짜가 필요합니다.");try{const{data:t,error:r}=await be.rpc("create_daily_menu",{p_store_id:e.store_id,p_menu_date:e.menu_date,p_title:e.title||"오늘의 반찬",p_description:e.description||null});if(r)throw console.error("RPC 함수 오류, 직접 insert 시도:",r),r;return t&&t.length>0?t[0]:null}catch{console.log("RPC 함수 없음, 직접 insert 시도");const{data:r,error:n}=await be.from("daily_menus").insert({store_id:e.store_id,menu_date:e.menu_date,title:e.title||"오늘의 반찬",description:e.description||null}).select().single();if(n)throw console.error("일일 메뉴 생성 오류:",n),new Error(`일일 메뉴 생성에 실패했습니다: ${n.message}`);return r}},uh=async(e,t)=>{if(!t||t.trim()==="")return console.warn("빈 날짜로 일일 메뉴 조회 시도"),null;try{await be.rpc("execute_daily_menu_auto_deactivation");const{data:r,error:n}=await be.rpc("get_daily_menu_with_auto_check",{p_menu_date:t,p_store_id:e});if(n){console.error("일일 메뉴 조회 오류 (RPC):",n);const{data:s,error:o}=await be.from("daily_menus").select("*").eq("store_id",e).eq("menu_date",t).single();if(o&&o.code!=="PGRST116")throw console.error("일일 메뉴 조회 오류 (fallback):",o),new Error(`일일 메뉴 조회에 실패했습니다: ${o.message}`);return s}return r&&r.length>0?r[0]:null}catch(r){throw console.error("일일 메뉴 조회 오류:",r),new Error(`일일 메뉴 조회에 실패했습니다: ${r}`)}},eF=async e=>{if(!e.daily_menu_id)throw new Error("일일 메뉴 ID가 필요합니다.");if(!e.menu_id)throw new Error("메뉴 ID가 필요합니다.");if(e.initial_quantity<0)throw new Error("수량은 0 이상이어야 합니다.");const{data:t,error:r}=await be.from("daily_menu_items").insert({daily_menu_id:e.daily_menu_id,menu_id:e.menu_id,initial_quantity:e.initial_quantity,current_quantity:e.initial_quantity}).select(`
      *,
      menu:menus(*)
    `).single();if(r)throw console.error("일일 메뉴 아이템 추가 오류:",r),new Error(`일일 메뉴 아이템 추가에 실패했습니다: ${r.message}`);return t},C2=async(e,t)=>{if(t<0)throw new Error("수량은 0 이상이어야 합니다.");const{data:r,error:n}=await be.from("daily_menu_items").select("initial_quantity, current_quantity").eq("id",e).single();if(n)throw console.error("아이템 조회 오류:",n),new Error(`아이템 조회에 실패했습니다: ${n.message}`);const s=r.current_quantity+(t-r.initial_quantity),{data:o,error:u}=await be.from("daily_menu_items").update({initial_quantity:t,current_quantity:Math.max(0,s),is_available:t>0}).eq("id",e).select(`
      *,
      menu:menus(*)
    `).single();if(u)throw console.error("일일 메뉴 아이템 수량 수정 오류:",u),new Error(`수량 수정에 실패했습니다: ${u.message}`);return o},D2=async(e,t)=>{const{data:r,error:n}=await be.from("daily_menu_items").update({is_available:t}).eq("id",e).select(`
      *,
      menu:menus(*)
    `).single();if(n)throw console.error("일일 메뉴 아이템 품절 처리 오류:",n),new Error(`품절 처리에 실패했습니다: ${n.message}`);return r},tF=async e=>{const{error:t}=await be.from("daily_menu_items").delete().eq("id",e);if(t)throw console.error("일일 메뉴 아이템 삭제 오류:",t),new Error(`아이템 삭제에 실패했습니다: ${t.message}`)},lc=async e=>{try{await be.rpc("execute_daily_menu_auto_deactivation");const{data:t,error:r}=await be.from("daily_menu_items").select(`
        *,
        menu:menus(*)
      `).eq("daily_menu_id",e).order("created_at",{ascending:!0});if(r)throw console.error("일일 메뉴 아이템 조회 오류:",r),new Error(`아이템 조회에 실패했습니다: ${r.message}`);return t||[]}catch(t){throw console.error("일일 메뉴 아이템 조회 오류:",t),new Error(`아이템 조회에 실패했습니다: ${t}`)}},rF=async e=>{const t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0];return uh(e,n)},nF=async e=>{const t=new Date,r=new Date(t.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),n=new Date(r);n.setDate(n.getDate()+1);const s=n.toISOString().split("T")[0];return uh(e,s)},aF=async(e,t)=>{try{await be.rpc("execute_daily_menu_auto_deactivation");let r;if(t)r=t,console.log("선택된 날짜:",r);else{const m=new Date,g=540;r=new Date(m.getTime()+g*60*1e3).toISOString().split("T")[0],console.log("오늘 날짜:",r)}const{data:n,error:s}=await be.from("daily_menus").select("id, menu_date, title, is_active, created_at").eq("store_id",e).order("menu_date",{ascending:!1}).limit(10);console.log("해당 매장의 모든 메뉴 (최근 10개):",n);const{data:o,error:u}=await be.from("daily_menus").select("*").eq("store_id",e).lt("menu_date",r).order("menu_date",{ascending:!1}).limit(1);if(u)return console.error("최근 일일메뉴 조회 오류:",u),null;if(!o||o.length===0)return console.log(`${r} 이전의 메뉴가 없습니다.`),console.log("검색 조건:",{storeId:e,targetDate:r,condition:`menu_date < '${r}'`}),null;const d=o[0],h=await lc(d.id);return console.log(`${r} 이전의 가장 최근 메뉴를 찾았습니다:`,{menu:d,menuDate:d.menu_date,itemsCount:h.length}),{menu:d,items:h}}catch(r){return console.error("최근 일일메뉴 조회 오류:",r),null}};function iF(){const e=gt(),{storeId:t}=En();sr();const[r,n]=w.useState(!0),[s,o]=w.useState(!1),[u,d]=w.useState(""),[h,m]=w.useState(null),[g,x]=w.useState([]),[v,b]=w.useState([]),[j,_]=w.useState(new Set),[N,S]=w.useState({}),[O,A]=w.useState(new Set);w.useEffect(()=>{const U=new Date,Y=new Date(U.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0];d(Y)},[]),w.useEffect(()=>{t&&P()},[t,u]);const P=async()=>{if(t)try{n(!0);const X=(await kf(t)).filter(fe=>fe.is_available);b(X);let Y=null;try{Y=await uh(t,u)}catch(fe){console.error("일일 메뉴 조회 오류:",fe)}if(m(Y),Y){const fe=await lc(Y.id);x(fe);const se=new Set(fe.map(_e=>_e.menu_id));_(se);const je={};fe.forEach(_e=>{je[_e.menu_id]=_e.initial_quantity}),S(je)}else x([]),_(new Set),S({}),W({}),J({})}catch(U){console.error("데이터 로드 오류:",U),alert("데이터를 불러오는데 실패했습니다.")}finally{n(!1)}},k=v.reduce((U,X)=>{const Y=X.category||"기타";return U[Y]||(U[Y]=[]),U[Y].push(X),U},{}),D=U=>{A(X=>{const Y=new Set(X);return Y.has(U)?Y.delete(U):Y.add(U),Y})},C=async()=>{if(!(!t||!u))try{o(!0);const U=await JV({store_id:t,menu_date:u,title:`${u}의 반찬 주문서`,description:"맛있는 반찬을 주문해보세요!"});m(U),alert("일일 메뉴 페이지가 생성되었습니다!")}catch(U){console.error("일일 메뉴 생성 오류:",U),alert("일일 메뉴 생성에 실패했습니다.")}finally{o(!1)}},T=U=>{const X=new Set(j);if(X.has(U)){X.delete(U);const Y={...N};delete Y[U],S(Y)}else X.add(U),S(Y=>({...Y,[U]:10}));_(X)},$=(U,X)=>{if(X<0)return;S(fe=>({...fe,[U]:X}));const Y=g.find(fe=>fe.menu_id===U);Y&&J(X===0?fe=>({...fe,[Y.id]:!1}):fe=>({...fe,[Y.id]:!0}))},L=async()=>{if(t)try{n(!0);const U=await aF(t,u);if(U){const X=new Set,Y={};U.items.length>0&&U.items.forEach(se=>{X.add(se.menu_id),Y[se.menu_id]=se.initial_quantity}),_(X),S(Y);const fe=U.menu.menu_date;U.items.length>0?alert(`${fe}의 메뉴 ${U.items.length}개를 불러왔습니다. 수정 후 저장해주세요.`):alert(`${fe}의 주문서를 불러왔습니다. 메뉴를 선택하고 수량을 설정해주세요.`);return}alert("최근에 생성된 메뉴가 없습니다. 새로 메뉴를 선택해주세요.")}catch(U){console.error("메뉴 템플릿 불러오기 오류:",U),alert("메뉴를 불러오는데 실패했습니다.")}finally{n(!1)}},[B,J]=w.useState({}),[ie,W]=w.useState({}),[Z,z]=w.useState(null),[G,le]=w.useState(""),[ge,I]=w.useState({show:!1,message:"",type:"success"}),te=(U,X="success")=>{I({show:!0,message:U,type:X}),setTimeout(()=>{I(Y=>({...Y,show:!1}))},3e3)},ne=(U,X)=>{J(Y=>({...Y,[U]:!X}))},H=(U,X,Y)=>{z({isOpen:!0,menuId:U,action:X,currentQuantity:Y}),le("")},oe=()=>{z(null),le("")},xe=async()=>{if(!Z||!G)return;const U=parseInt(G);if(isNaN(U)||U<=0){te("올바른 숫자를 입력해주세요.","error");return}const{menuId:X,action:Y,currentQuantity:fe}=Z,se=Y==="add"?fe+U:Math.max(0,fe-U);W(je=>({...je,[X]:se})),J(je=>({...je,[X]:se>0})),oe();try{await ue(X);const je=v.find(Se=>Se.id===X)?.name||"메뉴";te(`${je}에 ${U}개가 성공적으로 ${Y==="add"?"추가":"차감"}되었습니다.`)}catch{te("저장 중 오류가 발생했습니다.","error")}},ue=async U=>{if(!h)return;const X=g.find(_e=>_e.menu_id===U);if(!X)return;const Y=ie[U]!==void 0?ie[U]===""?X.initial_quantity:Number(ie[U]):X.initial_quantity,fe=B[X.id]!==void 0?B[X.id]:X.is_available,se=Y!==X.initial_quantity,je=fe!==X.is_available;if(!se&&!je){alert("변경사항이 없습니다.");return}try{o(!0),se&&await C2(X.id,Y),je&&await D2(X.id,fe),S(_e=>({..._e,[U]:Y})),W(_e=>{const Se={..._e};return delete Se[U],Se}),J(_e=>{const Se={..._e};return delete Se[X.id],Se}),await P(),alert("메뉴가 저장되었습니다!")}catch(_e){console.error("개별 아이템 저장 오류:",_e),alert("저장에 실패했습니다.")}finally{o(!1)}},ye=async()=>{if(!h)return;const U={...N};Object.keys(ie).forEach(se=>{const je=ie[se];U[se]=je===""?0:Number(je)});const X=g.some(se=>(U[se.menu_id]||0)!==se.initial_quantity),Y=Array.from(j).some(se=>!g.some(je=>je.menu_id===se)),fe=g.some(se=>!j.has(se.menu_id));if(!((X||Y||fe)&&!window.confirm("메뉴를 변경하시겠습니까?")))try{o(!0);for(const se of g){const je=U[se.menu_id],_e=B[se.id]!==void 0?B[se.id]:se.is_available;je!==void 0&&je!==se.initial_quantity&&await C2(se.id,je),_e!==se.is_available&&await D2(se.id,_e)}for(const se of g)j.has(se.menu_id)||await tF(se.id);for(const se of j){const je=U[se]||0;!g.find(Se=>Se.menu_id===se)&&je>0&&await eF({daily_menu_id:h.id,menu_id:se,initial_quantity:je})}S(U),J({}),W({}),await P(),alert("메뉴 아이템이 저장되었습니다!")}catch(se){console.error("아이템 저장 오류:",se),alert("아이템 저장에 실패했습니다.")}finally{o(!1)}},F=()=>h?`${window.location.origin}/menu/${t}/daily/${u}`:"",de=async()=>{const U=F();try{await navigator.clipboard.writeText(U),alert("링크가 복사되었습니다!")}catch(X){console.error("링크 복사 오류:",X),alert("링크 복사에 실패했습니다.")}};return r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Nr,{}),i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"px-4 sm:px-6 py-4",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"뒤로가기",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"주문서 만들기"})]})})})}),i.jsxs("div",{className:"px-3 sm:px-6 py-4 sm:py-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-200 p-4 sm:p-8 mb-4 sm:mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:i.jsx("i",{className:"ri-calendar-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"주문서 날짜 선택"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 mb-6",children:[i.jsx("label",{className:"text-sm sm:text-base font-semibold text-gray-700 sm:min-w-0",children:"날짜:"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("input",{type:"date",value:u,onChange:U=>{const X=U.target.value,Y=new Date,fe=540,se=new Date(Y.getTime()+fe*60*1e3),je=se.toISOString().split("T")[0],_e=new Date(se);_e.setDate(_e.getDate()+1);const Se=_e.toISOString().split("T")[0];if(console.log("현재 한국 날짜:",je),console.log("내일 날짜:",Se),console.log("선택된 날짜:",X),X>Se){alert("주문서는 내일까지만 생성가능합니다.");return}d(X)},min:"2020-01-01",max:(()=>{const U=new Date,X=540,Y=new Date(U.getTime()+X*60*1e3),fe=new Date(Y);fe.setDate(fe.getDate()+1);const se=fe.toISOString().split("T")[0];return console.log("max 날짜 설정:",se),se})(),className:"w-full px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-gray-500 focus:border-gray-500 text-sm sm:text-base font-medium min-h-[48px] bg-gray-50 focus:bg-white transition-all"}),i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[i.jsx("i",{className:"ri-information-line mr-1"}),"주문서는 내일까지만 생성가능합니다 (과거 날짜 선택 가능)"]})]})]}),h&&i.jsxs("div",{className:"bg-white rounded-xl p-4",children:[i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:[u,"의 반찬 주문서"]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"상태:"}),i.jsx("span",{className:"text-sm text-gray-900",children:h.is_active?"주문접수중":"주문마감"})]})]})}),i.jsx("div",{className:"mt-4",children:i.jsxs("button",{onClick:de,className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 hover:bg-blue-600 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl",children:[i.jsx("i",{className:"ri-link"}),"주문서 링크 복사"]})})]})]}),!h&&i.jsx("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-200 p-4 sm:p-8 mb-4 sm:mb-8",children:i.jsxs("div",{className:"text-center py-8 sm:py-12",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx("i",{className:"ri-calendar-line text-3xl text-gray-400"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"주문서가 아직 없습니다"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-8",children:"선택한 날짜의 주문서를 생성해주세요."}),i.jsxs("button",{onClick:C,disabled:s,className:"px-8 py-4 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all disabled:opacity-50 text-sm sm:text-base font-semibold shadow-lg hover:shadow-xl",children:[i.jsx("i",{className:"ri-add-line mr-2"}),s?"생성 중...":"주문서 링크 생성"]})]})}),h&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-200 p-4 sm:p-8 mb-4 sm:mb-8",children:[i.jsxs("div",{className:"mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 mb-4",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-orange-500 text-lg sm:text-xl"})}),i.jsx("div",{children:i.jsx("h2",{className:"text-lg sm:text-xl lg:text-2xl font-bold text-gray-900",children:"메뉴 선택 및 수량 설정"})})]}),i.jsx("div",{className:"flex justify-start",children:i.jsxs("button",{onClick:L,disabled:r,className:"flex items-center justify-center gap-2 px-4 py-3 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white rounded-xl transition-colors duration-200 text-sm font-medium",children:[i.jsx("i",{className:"ri-file-copy-line"}),i.jsx("span",{children:"최근 메뉴 불러오기"})]})})]}),i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-2xl p-4 sm:p-6 mb-6 sm:mb-8",children:i.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx("i",{className:"ri-information-line text-blue-600 text-sm sm:text-lg"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-sm sm:text-base font-bold text-blue-900 mb-2",children:"수량 변경 안내"}),i.jsxs("p",{className:"text-xs sm:text-sm text-blue-800 leading-relaxed",children:["수량을 변경하면 ",i.jsx("span",{className:"font-semibold text-blue-900",children:"실시간으로 고객에게 반영"}),"됩니다. 고객이 주문할 때마다 수량이 자동으로 차감되니 신중하게 설정해주세요."]})]})]})}),i.jsx("div",{className:"space-y-2 sm:space-y-3 mb-4 sm:mb-6",children:Object.entries(k).map(([U,X])=>{const Y=O.has(U),fe=X.filter(se=>j.has(se.id)).length;return i.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl shadow-sm",children:[i.jsxs("button",{onClick:()=>D(U),className:"w-full flex items-center justify-between p-3 sm:p-4 text-left hover:bg-gray-50 transition-colors duration-200",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{children:[i.jsx("h3",{className:"font-semibold text-gray-900",children:U}),i.jsx("p",{className:"text-sm text-gray-500",children:fe>0?`${fe}개 선택됨`:`${X.length}개 메뉴`})]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[fe>0&&i.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 text-xs font-medium rounded-full",children:fe}),i.jsx("i",{className:`ri-arrow-down-s-line text-gray-500 transition-transform duration-200 ${Y?"rotate-180":""}`})]})]}),i.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${Y?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"border-t border-gray-100 p-3 sm:p-4 space-y-2 sm:space-y-3",children:X.map(se=>{const je=j.has(se.id),_e=g.find(St=>St.menu_id===se.id),Se=_e?.current_quantity||0,Re=_e?_e.initial_quantity-_e.current_quantity:0,Ut=_e?B[_e.id]!==void 0?B[_e.id]:_e.is_available:!0;return i.jsx("div",{className:`rounded-lg border transition-all duration-200 ${je?"border-blue-300 shadow-md ring-1 ring-blue-100 bg-white":"border-gray-200 hover:border-gray-300 bg-white"}`,children:i.jsxs("div",{className:"p-2 sm:p-4",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h4",{className:"font-bold text-gray-900 text-sm sm:text-base mb-1 truncate",children:se.name}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:"text-xs text-gray-500",children:se.category}),i.jsxs("span",{className:"text-xs sm:text-sm font-bold text-gray-900",children:[se.price.toLocaleString(),"원"]})]})]}),i.jsx("button",{onClick:()=>T(se.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${je?"border-blue-500 bg-blue-500":"border-gray-300 bg-white hover:border-gray-400"}`,children:je&&i.jsx("i",{className:"ri-check-line text-white text-sm"})})]}),je&&i.jsx("div",{className:"space-y-3 pt-3 border-t border-gray-100",children:_e?i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-bold ${Ut&&Se>0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:Ut&&Se>0?"판매중":"품절"}),i.jsxs("div",{className:"text-xs text-gray-500",children:["재고: ",Se,"개",Re>0&&` | 판매: ${Re}개`]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsxs("button",{onClick:()=>H(se.id,"subtract",Se),className:"flex items-center justify-center gap-1 py-2 px-3 bg-white border border-gray-300 hover:bg-black hover:text-white text-black rounded-lg text-xs font-medium transition-all duration-200",children:[i.jsx("i",{className:"ri-subtract-line text-xs"}),i.jsx("span",{className:"text-xs",children:"줄이기"})]}),i.jsx("div",{className:"bg-gray-50 px-3 py-2 rounded-lg min-w-[2.5rem] text-center",children:i.jsx("span",{className:"text-sm font-bold text-gray-900",children:Se})}),i.jsxs("button",{onClick:()=>H(se.id,"add",Se),className:"flex items-center justify-center gap-1 py-2 px-3 bg-white border border-gray-300 hover:bg-black hover:text-white text-black rounded-lg text-xs font-medium transition-all duration-200",children:[i.jsx("i",{className:"ri-add-line text-xs"}),i.jsx("span",{className:"text-xs",children:"추가"})]})]}),i.jsx("button",{onClick:()=>ne(_e.id,Ut),className:`py-2 px-3 rounded-lg font-medium transition-all duration-200 text-xs border ${Ut?"bg-white border-red-300 text-red-600 hover:bg-red-50 hover:border-red-400":"bg-white border-green-300 text-green-600 hover:bg-green-50 hover:border-green-400"}`,children:Ut?"품절처리":"판매재개"})]}):i.jsxs("div",{className:"space-y-2",children:[i.jsx("label",{className:"text-xs sm:text-sm font-semibold text-gray-700",children:"초기 수량 설정"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",min:"0",value:ie[se.id]!==void 0?ie[se.id]:N[se.id]||0,onChange:St=>{const qt=St.target.value;if(qt===""){W(mr=>({...mr,[se.id]:""}));return}const pn=parseInt(qt);isNaN(pn)||pn<0||(W(mr=>({...mr,[se.id]:pn})),J(pn===0?mr=>({...mr,[se.id]:!1}):mr=>({...mr,[se.id]:!0})),$(se.id,pn))},className:"w-16 sm:w-20 px-2 sm:px-3 py-2 border border-gray-300 rounded-lg text-center text-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),i.jsx("span",{className:"text-xs sm:text-sm text-gray-600",children:"개"})]})]})})]})},se.id)})})})]},U)})}),j.size>0&&i.jsx("div",{className:"mt-4 sm:mt-8 pt-3 sm:pt-6 border-t border-gray-200",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1",children:["선택된 메뉴 ",j.size,"개"]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:(g.length===0,"선택한 메뉴들을 일일 메뉴에 추가하시겠습니까?")})]}),i.jsxs("button",{onClick:ye,disabled:s,className:"w-full sm:w-auto px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed min-h-[44px] sm:min-h-[48px]",children:[i.jsx("i",{className:"ri-save-line mr-2"}),s?"저장 중...":"선택한 메뉴 저장하기"]})]})})]}),Z&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-3 sm:p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 px-4 sm:px-6 py-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center flex-shrink-0 ${Z.action==="add","bg-gray-100 text-gray-600"}`,children:i.jsx("i",{className:`ri-${Z.action==="add"?"add":"subtract"}-line text-base sm:text-lg`})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:Z.action==="add"?"수량 추가하기":"수량 줄이기"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"재고 수량을 조정하세요"})]})]}),i.jsx("button",{onClick:oe,className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 transition-colors flex-shrink-0",children:i.jsx("i",{className:"ri-close-line text-lg"})})]})}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:[Z.currentQuantity,"개"]}),i.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"현재 재고 수량"})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:Z.action==="add"?"추가할 수량을 입력하세요":"줄일 수량을 입력하세요"}),i.jsx("input",{type:"number",min:"1",max:Z.action==="subtract"?Z.currentQuantity:void 0,value:G,onChange:U=>le(U.target.value),placeholder:"수량을 입력하세요",className:"w-full px-4 py-3 border border-gray-300 rounded-xl text-base sm:text-lg font-medium focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors min-h-[48px] [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",autoFocus:!0}),Z.action==="subtract"&&i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["최대 ",Z.currentQuantity,"개까지 줄일 수 있습니다"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("button",{onClick:oe,className:"flex-1 py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-semibold transition-colors min-h-[48px]",children:"취소"}),i.jsx("button",{onClick:xe,disabled:!G,className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-h-[48px] ${Z.action==="add"?"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white shadow-lg hover:shadow-xl":"bg-gradient-to-r from-gray-500 to-slate-500 hover:from-gray-600 hover:to-slate-600 text-white shadow-lg hover:shadow-xl"}`,children:Z.action==="add"?"추가하기":"줄이기"})]})]})]})}),ge.show&&i.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-right-5 duration-300",children:i.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border backdrop-blur-sm ${ge.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${ge.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:i.jsx("i",{className:`ri-${ge.type==="success"?"check":"close"}-line text-sm`})}),i.jsx("span",{className:"text-sm font-medium",children:ge.message}),i.jsx("button",{onClick:()=>I(U=>({...U,show:!1})),className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx("i",{className:"ri-close-line text-sm"})})]})})]})]})}function P2(){const{storeId:e,date:t}=En(),r=gt();sr();const[n,s]=w.useState(!0),[o,u]=w.useState(null),[d,h]=w.useState([]),[m,g]=w.useState(null),[x,v]=w.useState({}),[b,j]=w.useState(!1),[_,N]=w.useState([]),[S,O]=w.useState(new Set);w.useEffect(()=>{e&&P()},[e,t]),w.useEffect(()=>{console.log("isOrderClosed 상태 변경됨:",b)},[b]);const A=(J,ie)=>{if(!J||!ie)return console.log("체크 실패: storeData 또는 menuDate 없음",{storeData:J,menuDate:ie}),!1;const W=new Date,Z=new Date(W.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),z=Z.toTimeString().split(" ")[0],G=Z.toISOString().split("T")[0],le=ie===G,ge=new Date(Z);ge.setDate(ge.getDate()-1);const I=ge.toISOString().split("T")[0],te=ie===I,ne=new Date(ie),H=new Date(G),oe=ne<H;if(console.log("날짜 비교 (한국 시간 기준):",{menuDate:ie,todayStr:G,yesterdayStr:I,isToday:le,isYesterday:te,isPastDate:oe,currentTime:z,cutoffTime:J.order_cutoff_time,koreaTime:Z.toISOString(),now:W.toISOString()}),oe)return console.log("과거 날짜 - 주문 마감"),!0;if(!le&&!te&&!oe)return console.log("미래 메뉴 - 주문 가능"),!1;const xe=J.order_cutoff_time||"15:00:00";if(te)return console.log("어제 메뉴 - 주문 마감"),!0;if(le){const ue=U=>{const[X,Y]=U.split(":").map(Number);return X*60+Y},ye=ue(z),F=ue(xe),de=ye>F;return console.log("오늘 메뉴 시간 비교 결과 (분 단위):",{currentTime:z,cutoffTime:xe,currentMinutes:ye,cutoffMinutes:F,isClosed:de,comparison:`${ye} > ${F} = ${de}`}),de}return!1},P=async()=>{if(e)try{s(!0);const J=await bO(e);g(J);let ie=null,W=[];const Z=new Date,z=new Date(Z.toLocaleString("en-US",{timeZone:"Asia/Seoul"}));let G=t||z.toISOString().split("T")[0];try{if(t&&t.trim()!==""?(ie=await uh(e,t),ie&&(W=await lc(ie.id))):(ie=await rF(e),ie&&(W=await lc(ie.id))),!ie||W.length===0){const ge=await nF(e);ge&&(ie=ge,W=await lc(ge.id),G=ge.menu_date)}if(!ie)return}catch(ge){console.error("일일 메뉴 로드 중 오류:",ge);return}if(u(ie),h(W),ie&&G){const ge=A(J,G);console.log("주문 마감 상태 체크:",{menuDate:G,currentTime:new Date().toLocaleString("en-US",{timeZone:"Asia/Seoul"}),cutoffTime:J.order_cutoff_time,orderClosed:ge}),j(ge),console.log("setIsOrderClosed 호출됨:",ge)}const le=["전체",...new Set(W.map(ge=>ge.menu?.category).filter(Boolean))];N(le)}catch(J){console.error("데이터 로드 오류:",J)}finally{s(!1)}},k=J=>{const ie=d.find(Z=>Z.menu_id===J);if(!ie)return;if((x[J]||0)>=ie.current_quantity){alert("남은 수량을 초과할 수 없습니다.");return}v(Z=>({...Z,[J]:(Z[J]||0)+1}))},D=J=>{v(ie=>{const W={...ie};return W[J]>1?W[J]-=1:delete W[J],W})},C=J=>{O(ie=>{const W=new Set(ie);return W.has(J)?W.delete(J):W.add(J),W})},T=d,$=()=>d.reduce((J,ie)=>{const W=x[ie.menu_id]||0;return J+(ie.menu?.price||0)*W},0),L=()=>Object.values(x).reduce((J,ie)=>J+ie,0),B=()=>{if(L()===0){alert("장바구니가 비어있습니다.");return}if(!m){alert("매장 정보를 불러올 수 없습니다.");return}const J={dailyMenuId:o?.id,menuDate:o?.menu_date,items:Object.entries(x).map(([ie,W])=>({menuId:ie,quantity:W}))};localStorage.setItem("storeInfo",JSON.stringify(m)),localStorage.setItem("dailyMenuCart",JSON.stringify(J)),localStorage.setItem("cart",JSON.stringify([])),r("/cart")};return n?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):o?b?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Nr,{}),i.jsx("div",{className:"bg-white border-b border-gray-200 px-3 py-4",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h1",{className:"text-base font-bold text-gray-900 truncate leading-tight",children:m?.name}),i.jsxs("div",{className:"flex flex-col gap-1 mt-1.5",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("i",{className:"ri-map-pin-line text-xs text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"text-xs text-gray-600 truncate",children:m?.delivery_area})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("i",{className:"ri-calendar-line text-xs text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"text-xs text-gray-600 truncate",children:o?.title||`${t}의 반찬`})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("i",{className:"ri-truck-line text-xs text-gray-500 flex-shrink-0"}),i.jsxs("span",{className:"text-xs text-gray-600",children:["최소주문 ",m?.minimum_order_amount?.toLocaleString()||"0","원"]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[i.jsx("i",{className:"ri-close-circle-line text-xs text-red-500 flex-shrink-0"}),i.jsx("span",{className:"px-2 py-0.5 rounded-full text-xs font-semibold bg-red-100 text-red-700",children:"주문마감"})]})]})]}),i.jsxs("button",{onClick:()=>r(`/menu/${e}`),className:"flex items-center gap-1.5 px-3 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition-colors text-xs flex-shrink-0",children:[i.jsx("i",{className:"ri-restaurant-line text-xs"}),i.jsx("span",{children:"일반 메뉴"})]})]})})}),i.jsx("div",{className:"px-4 py-8",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg p-6 text-center border border-red-100",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-time-line text-2xl text-red-500"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"주문이 마감되었습니다"}),i.jsxs("p",{className:"text-gray-600 mb-4 text-sm",children:[o.menu_date,"의 주문 마감시간이 지났습니다."]}),i.jsx("div",{className:"bg-red-50 rounded-lg p-3 mb-4",children:i.jsxs("p",{className:"text-red-700 font-medium text-sm",children:["주문 마감시간: ",m?.order_cutoff_time||"15:00"]})}),i.jsx("button",{onClick:()=>r(`/menu/${e}`),className:"w-full px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors text-sm",children:"일반 메뉴 보기"})]})})})]}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100",children:[i.jsx(Nr,{}),i.jsx("div",{className:"bg-white border-b border-gray-200 px-3 py-4",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h1",{className:"text-base font-bold text-gray-900 truncate leading-tight",children:m?.name}),i.jsxs("div",{className:"flex flex-col gap-1 mt-1.5",children:[i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("i",{className:"ri-map-pin-line text-xs text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"text-xs text-gray-600 truncate",children:m?.delivery_area})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("i",{className:"ri-calendar-line text-xs text-gray-500 flex-shrink-0"}),i.jsx("span",{className:"text-xs text-gray-600 truncate",children:o?.title||`${t}의 반찬`})]}),i.jsxs("div",{className:"flex items-center gap-1.5",children:[i.jsx("i",{className:"ri-truck-line text-xs text-gray-500 flex-shrink-0"}),i.jsxs("span",{className:"text-xs text-gray-600",children:["최소주문 ",m?.minimum_order_amount?.toLocaleString()||"0","원"]})]}),i.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[i.jsx("i",{className:`text-xs flex-shrink-0 ${b?"ri-close-circle-line text-red-500":"ri-check-circle-line text-green-500"}`}),i.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${b?"bg-red-100 text-red-700":"bg-green-100 text-green-700"}`,children:b?"주문마감":"주문접수중"})]})]})]}),i.jsxs("button",{onClick:()=>r(`/order-status/${e}`),className:"flex items-center gap-1.5 px-3 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-semibold transition-colors text-xs flex-shrink-0",children:[i.jsx("i",{className:"ri-shopping-bag-3-line text-xs"}),i.jsx("span",{children:"내 주문"})]})]})})}),i.jsx("div",{className:"px-3 pt-4 pb-20",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:T.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-restaurant-line text-2xl text-orange-500"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"메뉴가 없습니다"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"이 카테고리에 등록된 메뉴가 없습니다."})]}):i.jsx("div",{className:"space-y-3",children:_.map(J=>{const ie=T.filter(Z=>Z.menu?.category===J);if(ie.length===0)return null;const W=S.has(J);return i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[i.jsxs("button",{onClick:()=>C(J),className:"w-full px-4 py-3 flex items-center justify-between hover:bg-gray-50 transition-colors duration-200",children:[i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("div",{className:"text-left",children:[i.jsx("h3",{className:"text-base font-bold text-gray-900",children:J}),i.jsxs("p",{className:"text-xs text-gray-500",children:[ie.length,"개 메뉴"]})]})}),i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"text-xs text-gray-500",children:W?"접기":"펼치기"}),i.jsx("i",{className:`ri-arrow-down-s-line text-lg text-gray-400 transition-transform duration-300 ${W?"rotate-180":""}`})]})]}),i.jsx("div",{className:`overflow-hidden transition-all duration-300 ease-in-out ${W?"max-h-[2000px] opacity-100":"max-h-0 opacity-0"}`,children:i.jsx("div",{className:"px-4 pb-4",children:i.jsx("div",{className:"space-y-3",children:ie.map(Z=>i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden hover:shadow-md transition-all duration-200 group",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("h3",{className:"text-base font-bold text-gray-900 group-hover:text-orange-600 transition-colors flex-1 pr-2",children:Z.menu?.name||"메뉴 정보 없음"}),i.jsx("div",{className:"text-right flex-shrink-0",children:i.jsxs("span",{className:"text-lg font-bold text-gray-900",children:[(Z.menu?.price||0).toLocaleString(),"원"]})})]}),Z.menu?.description&&i.jsx("p",{className:"text-gray-600 mb-3 line-clamp-2 leading-relaxed text-sm",children:Z.menu.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-3",children:[i.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold flex items-center gap-1 ${Z.is_available?"bg-green-100 text-green-700":"bg-red-100 text-red-700"}`,children:[i.jsx("i",{className:`ri-${Z.is_available?"check":"close"}-line text-xs`}),Z.is_available?"주문가능":"품절"]}),i.jsxs("span",{className:"text-xs text-gray-500 bg-gray-100 px-2 py-1 rounded-full",children:["남은 수량: ",Z.current_quantity,"개"]})]}),i.jsx("div",{className:"flex items-center justify-end",children:(()=>{const z=x[Z.menu_id];return z?i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 justify-end",children:[i.jsxs("div",{className:"flex items-center rounded-xl overflow-hidden",children:[i.jsx("button",{onClick:()=>D(Z.menu_id),disabled:!Z.is_available||b,className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-orange-600 hover:bg-orange-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx("i",{className:"ri-subtract-line text-sm sm:text-lg"})}),i.jsx("span",{className:"px-3 sm:px-4 py-2 text-orange-700 font-bold text-base sm:text-lg min-w-[2.5rem] sm:min-w-[3rem] text-center bg-white",children:z}),i.jsx("button",{onClick:()=>k(Z.menu_id),disabled:!Z.is_available||b||Z.current_quantity<=z,className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-orange-600 hover:bg-orange-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:Z.current_quantity<=z?"남은 수량을 초과할 수 없습니다":"수량 추가",children:i.jsx("i",{className:"ri-add-line text-sm sm:text-lg"})})]}),i.jsx("button",{onClick:()=>D(Z.menu_id),disabled:!Z.is_available||b,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl text-sm font-medium transition-all duration-200 flex items-center justify-center bg-red-100 text-red-600 hover:bg-red-200 disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"메뉴 삭제",children:i.jsx("i",{className:"ri-delete-bin-line text-sm sm:text-lg"})})]}):i.jsxs("button",{onClick:()=>k(Z.menu_id),disabled:!Z.is_available||b,className:`px-4 py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-xs sm:text-sm ${Z.is_available&&!b?"bg-white text-gray-900 hover:bg-gray-900 hover:text-white border border-gray-300 hover:border-gray-900 shadow-sm hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[i.jsx("i",{className:"ri-add-line mr-1"}),"담기"]})})()})]})},Z.id))})})})]},J)})})})}),i.jsx("div",{className:"h-px bg-gray-100"}),L()>0&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 shadow-lg z-50",children:i.jsxs("div",{className:"flex items-center justify-between p-3 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"text-base font-bold text-gray-900",children:[$().toLocaleString(),"원"]}),i.jsxs("div",{className:"text-xs text-orange-600 font-medium",children:["최소주문 ",m?.minimum_order_amount?.toLocaleString()||"0","원"]})]}),i.jsxs("button",{onClick:B,disabled:b,className:`px-4 py-2.5 rounded-lg font-bold flex items-center gap-2 transition-all duration-200 text-sm ${b?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-orange-500 hover:bg-orange-600 text-white shadow-md hover:shadow-lg"}`,children:[i.jsx("i",{className:"ri-shopping-cart-line text-sm"}),i.jsxs("span",{children:[L(),"개 주문"]})]})]})}),i.jsx(kn,{})]}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"ri-calendar-line text-6xl text-gray-400 mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"메뉴가 없습니다"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"이 날짜의 메뉴가 준비되지 않았습니다."}),i.jsx("button",{onClick:()=>r(`/menu/${e}`),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"일반 메뉴 보기"})]})})}function sF(){const{storeId:e}=En(),t=gt(),{user:r}=sr(),[n,s]=w.useState(null),[o,u]=w.useState([]),[d,h]=w.useState(!0),[m,g]=w.useState(!1),[x,v]=w.useState(null),[b,j]=w.useState({area_name:"",delivery_fee:0});w.useEffect(()=>{e&&r&&(_(),N())},[e,r]);const _=async()=>{try{console.log("🔍 매장 정보 로드 시도:",{storeId:e,userId:r?.id});const{data:k,error:D}=await be.from("stores").select("*").eq("id",e).eq("owner_id",r?.id).single();if(D)throw console.error("❌ 매장 정보 로드 실패:",D),D;console.log("✅ 매장 정보 로드 성공:",k),s(k)}catch(k){console.error("매장 정보 로드 실패:",k)}},N=async()=>{try{h(!0);const k=await yO(e);u(k)}catch(k){console.error("배달지역 로드 실패:",k)}finally{h(!1)}},S=async k=>{if(k.preventDefault(),!(!b.area_name.trim()||b.delivery_fee<0))try{console.log("🔍 배달지역 저장 시도:",{storeId:e,userId:r?.id,formData:b,editingArea:x?.id}),x?await v6(x.id,b.area_name,b.delivery_fee):await p6(e,b.area_name,b.delivery_fee),console.log("✅ 배달지역 저장 성공"),await N(),g(!1),v(null),j({area_name:"",delivery_fee:0})}catch(D){console.error("❌ 배달지역 저장 실패:",D)}},O=k=>{v(k),j({area_name:k.area_name,delivery_fee:k.delivery_fee}),g(!0)},A=async k=>{if(confirm("정말로 이 배달지역을 삭제하시겠습니까?"))try{await y6(k),await N()}catch(D){console.error("배달지역 삭제 실패:",D)}},P=()=>{g(!1),v(null),j({area_name:"",delivery_fee:0})};return r?n?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(Nr,{}),i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>t("/admin-dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"배달비 설정"})]}),i.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[i.jsx("i",{className:"ri-add-line"}),"지역 추가"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:d?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]}):o.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("i",{className:"ri-truck-line text-4xl text-gray-300 mb-4"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"등록된 배달지역이 없습니다."}),i.jsx("p",{className:"text-sm text-gray-500",children:'"지역 추가" 버튼을 눌러 배달지역을 추가해보세요.'})]}):i.jsx("div",{className:"divide-y divide-gray-200",children:o.map(k=>i.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-medium text-gray-900",children:k.area_name}),i.jsxs("p",{className:"text-sm text-gray-600",children:["배달비: ",k.delivery_fee.toLocaleString(),"원"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>O(k),className:"text-blue-600 hover:text-blue-800 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"수정",children:i.jsx("i",{className:"ri-edit-line"})}),i.jsx("button",{onClick:()=>A(k.id),className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"삭제",children:i.jsx("i",{className:"ri-delete-bin-line"})})]})]},k.id))})})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:x?"배달지역 수정":"배달지역 추가"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"배달지역명과 배달비를 입력해주세요."})]}),i.jsxs("form",{onSubmit:S,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달지역명"}),i.jsx("input",{type:"text",value:b.area_name,onChange:k=>j({...b,area_name:k.target.value}),placeholder:"예: 강남구, 서초구, 송파구",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달비 (원)"}),i.jsx("input",{type:"number",value:b.delivery_fee||"",onChange:k=>j({...b,delivery_fee:k.target.value===""?0:parseInt(k.target.value)||0}),placeholder:"0",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",required:!0})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:P,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-xl font-medium transition-all duration-300",children:"취소"}),i.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 rounded-xl font-medium shadow-md hover:shadow-lg transition-all duration-300",children:x?"수정":"추가"})]})]})]})}),i.jsx(kn,{})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"매장 정보를 불러오는 중..."})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로그인 중..."})]})})}const lF=[{path:"/",element:i.jsx(T1,{})},{path:"/homepage",element:i.jsx(d6,{})},{path:"/admin-login",element:i.jsx(T1,{})},{path:"/super-login",element:i.jsx(f6,{})},{path:"/auth/callback",element:i.jsx(h6,{})},{path:"/menu/:storeId",element:i.jsx(P2,{})},{path:"/menu/:storeId/daily/:date",element:i.jsx(P2,{})},{path:"/cart",element:i.jsx(N6,{})},{path:"/order-complete/:orderId",element:i.jsx(_6,{})},{path:"/admin/:storeId",element:i.jsx(R6,{})},{path:"/admin-dashboard",element:i.jsx(z6,{})},{path:"/admin/:storeId/orders",element:i.jsx(GV,{})},{path:"/admin/:storeId/menu",element:i.jsx(VV,{})},{path:"/admin/:storeId/analytics",element:i.jsx(FV,{})},{path:"/admin/:storeId/store",element:i.jsx(WV,{})},{path:"/super-admin",element:i.jsx(HV,{})},{path:"/owner/orders",element:i.jsx(KV,{})},{path:"/owner/menu",element:i.jsx(YV,{})},{path:"/order-status/:storeId",element:i.jsx(QV,{})},{path:"/admin/:storeId/order-detail/:orderId",element:i.jsx(ZV,{})},{path:"/admin/:storeId/daily-menu",element:i.jsx(iF,{})},{path:"/admin/delivery-settings/:storeId",element:i.jsx(sF,{})},{path:"*",element:i.jsx(XP,{})}];let lC;new Promise(e=>{lC=e});function oF(){const e=tP(lF);if(!window.REACT_APP_NAVIGATE){const t=gt();w.useEffect(()=>{window.REACT_APP_NAVIGATE=t,lC(window.REACT_APP_NAVIGATE)})}return e}function cF(){return i.jsx(IP,{basename:"/",children:i.jsx(s6,{children:i.jsx(oF,{})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});SD.createRoot(document.getElementById("root")).render(i.jsx(w.StrictMode,{children:i.jsx(cF,{})}));
//# sourceMappingURL=index-DnN_UPCe.js.map
