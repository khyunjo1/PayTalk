function mD(e,t){for(var r=0;r<t.length;r++){const n=t[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(n,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function r(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(s){if(s.ep)return;s.ep=!0;const o=r(s);fetch(s.href,o)}})();function Bn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function gD(e){if(Object.prototype.hasOwnProperty.call(e,"__esModule"))return e;var t=e.default;if(typeof t=="function"){var r=function n(){var s=!1;try{s=this instanceof n}catch{}return s?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var pg={exports:{}},Ro={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hj;function xD(){if(Hj)return Ro;Hj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function r(n,s,o){var u=null;if(o!==void 0&&(u=""+o),s.key!==void 0&&(u=""+s.key),"key"in s){o={};for(var d in s)d!=="key"&&(o[d]=s[d])}else o=s;return s=o.ref,{$$typeof:e,type:n,key:u,ref:s!==void 0?s:null,props:o}}return Ro.Fragment=t,Ro.jsx=r,Ro.jsxs=r,Ro}var Kj;function pD(){return Kj||(Kj=1,pg.exports=xD()),pg.exports}var i=pD(),vg={exports:{}},$e={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yj;function vD(){if(Yj)return $e;Yj=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),x=Symbol.iterator;function v(I){return I===null||typeof I!="object"?null:(I=x&&I[x]||I["@@iterator"],typeof I=="function"?I:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,N={};function _(I,ee,ie){this.props=I,this.context=ee,this.refs=N,this.updater=ie||b}_.prototype.isReactComponent={},_.prototype.setState=function(I,ee){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,ee,"setState")},_.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function O(){}O.prototype=_.prototype;function S(I,ee,ie){this.props=I,this.context=ee,this.refs=N,this.updater=ie||b}var A=S.prototype=new O;A.constructor=S,j(A,_.prototype),A.isPureReactComponent=!0;var k=Array.isArray,C={H:null,A:null,T:null,S:null,V:null},P=Object.prototype.hasOwnProperty;function T(I,ee,ie,ge,je,ye){return ie=ye.ref,{$$typeof:e,type:I,key:ee,ref:ie!==void 0?ie:null,props:ye}}function D(I,ee){return T(I.type,ee,void 0,void 0,void 0,I.props)}function $(I){return typeof I=="object"&&I!==null&&I.$$typeof===e}function U(I){var ee={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(ie){return ee[ie]})}var L=/\/+/g;function te(I,ee){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):ee.toString(36)}function de(){}function J(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(de,de):(I.status="pending",I.then(function(ee){I.status==="pending"&&(I.status="fulfilled",I.value=ee)},function(ee){I.status==="pending"&&(I.status="rejected",I.reason=ee)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ce(I,ee,ie,ge,je){var ye=typeof I;(ye==="undefined"||ye==="boolean")&&(I=null);var K=!1;if(I===null)K=!0;else switch(ye){case"bigint":case"string":case"number":K=!0;break;case"object":switch(I.$$typeof){case e:case t:K=!0;break;case g:return K=I._init,ce(K(I._payload),ee,ie,ge,je)}}if(K)return je=je(I),K=ge===""?"."+te(I,0):ge,k(je)?(ie="",K!=null&&(ie=K.replace(L,"$&/")+"/"),ce(je,ee,ie,"",function(W){return W})):je!=null&&($(je)&&(je=D(je,ie+(je.key==null||I&&I.key===je.key?"":(""+je.key).replace(L,"$&/")+"/")+K)),ee.push(je)),1;K=0;var we=ge===""?".":ge+":";if(k(I))for(var q=0;q<I.length;q++)ge=I[q],ye=we+te(ge,q),K+=ce(ge,ee,ie,ye,je);else if(q=v(I),typeof q=="function")for(I=q.call(I),q=0;!(ge=I.next()).done;)ge=ge.value,ye=we+te(ge,q++),K+=ce(ge,ee,ie,ye,je);else if(ye==="object"){if(typeof I.then=="function")return ce(J(I),ee,ie,ge,je);throw ee=String(I),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return K}function z(I,ee,ie){if(I==null)return I;var ge=[],je=0;return ce(I,ge,"","",function(ye){return ee.call(ie,ye,je++)}),ge}function V(I){if(I._status===-1){var ee=I._result;ee=ee(),ee.then(function(ie){(I._status===0||I._status===-1)&&(I._status=1,I._result=ie)},function(ie){(I._status===0||I._status===-1)&&(I._status=2,I._result=ie)}),I._status===-1&&(I._status=0,I._result=ee)}if(I._status===1)return I._result.default;throw I._result}var re=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function ve(){}return $e.Children={map:z,forEach:function(I,ee,ie){z(I,function(){ee.apply(this,arguments)},ie)},count:function(I){var ee=0;return z(I,function(){ee++}),ee},toArray:function(I){return z(I,function(ee){return ee})||[]},only:function(I){if(!$(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},$e.Component=_,$e.Fragment=r,$e.Profiler=s,$e.PureComponent=S,$e.StrictMode=n,$e.Suspense=h,$e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,$e.__COMPILER_RUNTIME={__proto__:null,c:function(I){return C.H.useMemoCache(I)}},$e.cache=function(I){return function(){return I.apply(null,arguments)}},$e.cloneElement=function(I,ee,ie){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ge=j({},I.props),je=I.key,ye=void 0;if(ee!=null)for(K in ee.ref!==void 0&&(ye=void 0),ee.key!==void 0&&(je=""+ee.key),ee)!P.call(ee,K)||K==="key"||K==="__self"||K==="__source"||K==="ref"&&ee.ref===void 0||(ge[K]=ee[K]);var K=arguments.length-2;if(K===1)ge.children=ie;else if(1<K){for(var we=Array(K),q=0;q<K;q++)we[q]=arguments[q+2];ge.children=we}return T(I.type,je,void 0,void 0,ye,ge)},$e.createContext=function(I){return I={$$typeof:u,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:o,_context:I},I},$e.createElement=function(I,ee,ie){var ge,je={},ye=null;if(ee!=null)for(ge in ee.key!==void 0&&(ye=""+ee.key),ee)P.call(ee,ge)&&ge!=="key"&&ge!=="__self"&&ge!=="__source"&&(je[ge]=ee[ge]);var K=arguments.length-2;if(K===1)je.children=ie;else if(1<K){for(var we=Array(K),q=0;q<K;q++)we[q]=arguments[q+2];je.children=we}if(I&&I.defaultProps)for(ge in K=I.defaultProps,K)je[ge]===void 0&&(je[ge]=K[ge]);return T(I,ye,void 0,void 0,null,je)},$e.createRef=function(){return{current:null}},$e.forwardRef=function(I){return{$$typeof:d,render:I}},$e.isValidElement=$,$e.lazy=function(I){return{$$typeof:g,_payload:{_status:-1,_result:I},_init:V}},$e.memo=function(I,ee){return{$$typeof:m,type:I,compare:ee===void 0?null:ee}},$e.startTransition=function(I){var ee=C.T,ie={};C.T=ie;try{var ge=I(),je=C.S;je!==null&&je(ie,ge),typeof ge=="object"&&ge!==null&&typeof ge.then=="function"&&ge.then(ve,re)}catch(ye){re(ye)}finally{C.T=ee}},$e.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},$e.use=function(I){return C.H.use(I)},$e.useActionState=function(I,ee,ie){return C.H.useActionState(I,ee,ie)},$e.useCallback=function(I,ee){return C.H.useCallback(I,ee)},$e.useContext=function(I){return C.H.useContext(I)},$e.useDebugValue=function(){},$e.useDeferredValue=function(I,ee){return C.H.useDeferredValue(I,ee)},$e.useEffect=function(I,ee,ie){var ge=C.H;if(typeof ie=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return ge.useEffect(I,ee)},$e.useId=function(){return C.H.useId()},$e.useImperativeHandle=function(I,ee,ie){return C.H.useImperativeHandle(I,ee,ie)},$e.useInsertionEffect=function(I,ee){return C.H.useInsertionEffect(I,ee)},$e.useLayoutEffect=function(I,ee){return C.H.useLayoutEffect(I,ee)},$e.useMemo=function(I,ee){return C.H.useMemo(I,ee)},$e.useOptimistic=function(I,ee){return C.H.useOptimistic(I,ee)},$e.useReducer=function(I,ee,ie){return C.H.useReducer(I,ee,ie)},$e.useRef=function(I){return C.H.useRef(I)},$e.useState=function(I){return C.H.useState(I)},$e.useSyncExternalStore=function(I,ee,ie){return C.H.useSyncExternalStore(I,ee,ie)},$e.useTransition=function(){return C.H.useTransition()},$e.version="19.1.1",$e}var Gj;function _l(){return Gj||(Gj=1,vg.exports=vD()),vg.exports}var w=_l();const ux=Bn(w),yD=mD({__proto__:null,default:ux},[w]);var yg={exports:{}},$o={},bg={exports:{}},wg={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Vj;function bD(){return Vj||(Vj=1,(function(e){function t(z,V){var re=z.length;z.push(V);e:for(;0<re;){var ve=re-1>>>1,I=z[ve];if(0<s(I,V))z[ve]=V,z[re]=I,re=ve;else break e}}function r(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var V=z[0],re=z.pop();if(re!==V){z[0]=re;e:for(var ve=0,I=z.length,ee=I>>>1;ve<ee;){var ie=2*(ve+1)-1,ge=z[ie],je=ie+1,ye=z[je];if(0>s(ge,re))je<I&&0>s(ye,ge)?(z[ve]=ye,z[je]=re,ve=je):(z[ve]=ge,z[ie]=re,ve=ie);else if(je<I&&0>s(ye,re))z[ve]=ye,z[je]=re,ve=je;else break e}}return V}function s(z,V){var re=z.sortIndex-V.sortIndex;return re!==0?re:z.id-V.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var u=Date,d=u.now();e.unstable_now=function(){return u.now()-d}}var h=[],m=[],g=1,x=null,v=3,b=!1,j=!1,N=!1,_=!1,O=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function k(z){for(var V=r(m);V!==null;){if(V.callback===null)n(m);else if(V.startTime<=z)n(m),V.sortIndex=V.expirationTime,t(h,V);else break;V=r(m)}}function C(z){if(N=!1,k(z),!j)if(r(h)!==null)j=!0,P||(P=!0,te());else{var V=r(m);V!==null&&ce(C,V.startTime-z)}}var P=!1,T=-1,D=5,$=-1;function U(){return _?!0:!(e.unstable_now()-$<D)}function L(){if(_=!1,P){var z=e.unstable_now();$=z;var V=!0;try{e:{j=!1,N&&(N=!1,S(T),T=-1),b=!0;var re=v;try{t:{for(k(z),x=r(h);x!==null&&!(x.expirationTime>z&&U());){var ve=x.callback;if(typeof ve=="function"){x.callback=null,v=x.priorityLevel;var I=ve(x.expirationTime<=z);if(z=e.unstable_now(),typeof I=="function"){x.callback=I,k(z),V=!0;break t}x===r(h)&&n(h),k(z)}else n(h);x=r(h)}if(x!==null)V=!0;else{var ee=r(m);ee!==null&&ce(C,ee.startTime-z),V=!1}}break e}finally{x=null,v=re,b=!1}V=void 0}}finally{V?te():P=!1}}}var te;if(typeof A=="function")te=function(){A(L)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,J=de.port2;de.port1.onmessage=L,te=function(){J.postMessage(null)}}else te=function(){O(L,0)};function ce(z,V){T=O(function(){z(e.unstable_now())},V)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(z){z.callback=null},e.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<z?Math.floor(1e3/z):5},e.unstable_getCurrentPriorityLevel=function(){return v},e.unstable_next=function(z){switch(v){case 1:case 2:case 3:var V=3;break;default:V=v}var re=v;v=V;try{return z()}finally{v=re}},e.unstable_requestPaint=function(){_=!0},e.unstable_runWithPriority=function(z,V){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var re=v;v=z;try{return V()}finally{v=re}},e.unstable_scheduleCallback=function(z,V,re){var ve=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ve+re:ve):re=ve,z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=re+I,z={id:g++,callback:V,priorityLevel:z,startTime:re,expirationTime:I,sortIndex:-1},re>ve?(z.sortIndex=re,t(m,z),r(h)===null&&z===r(m)&&(N?(S(T),T=-1):N=!0,ce(C,re-ve))):(z.sortIndex=I,t(h,z),j||b||(j=!0,P||(P=!0,te()))),z},e.unstable_shouldYield=U,e.unstable_wrapCallback=function(z){var V=v;return function(){var re=v;v=V;try{return z.apply(this,arguments)}finally{v=re}}}})(wg)),wg}var Fj;function wD(){return Fj||(Fj=1,bg.exports=bD()),bg.exports}var jg={exports:{}},ur={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wj;function jD(){if(Wj)return ur;Wj=1;var e=_l();function t(h){var m="https://react.dev/errors/"+h;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)m+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+h+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(t(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function o(h,m,g){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:x==null?null:""+x,children:h,containerInfo:m,implementation:g}}var u=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(h,m){if(h==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return ur.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ur.createPortal=function(h,m){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(h,m,null,g)},ur.flushSync=function(h){var m=u.T,g=n.p;try{if(u.T=null,n.p=2,h)return h()}finally{u.T=m,n.p=g,n.d.f()}},ur.preconnect=function(h,m){typeof h=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,n.d.C(h,m))},ur.prefetchDNS=function(h){typeof h=="string"&&n.d.D(h)},ur.preinit=function(h,m){if(typeof h=="string"&&m&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin),v=typeof m.integrity=="string"?m.integrity:void 0,b=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;g==="style"?n.d.S(h,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:x,integrity:v,fetchPriority:b}):g==="script"&&n.d.X(h,{crossOrigin:x,integrity:v,fetchPriority:b,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},ur.preinitModule=function(h,m){if(typeof h=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var g=d(m.as,m.crossOrigin);n.d.M(h,{crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&n.d.M(h)},ur.preload=function(h,m){if(typeof h=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var g=m.as,x=d(g,m.crossOrigin);n.d.L(h,g,{crossOrigin:x,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},ur.preloadModule=function(h,m){if(typeof h=="string")if(m){var g=d(m.as,m.crossOrigin);n.d.m(h,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:g,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else n.d.m(h)},ur.requestFormReset=function(h){n.d.r(h)},ur.unstable_batchedUpdates=function(h,m){return h(m)},ur.useFormState=function(h,m,g){return u.H.useFormState(h,m,g)},ur.useFormStatus=function(){return u.H.useHostTransitionStatus()},ur.version="19.1.1",ur}var Xj;function M2(){if(Xj)return jg.exports;Xj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),jg.exports=jD(),jg.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qj;function ND(){if(Qj)return $o;Qj=1;var e=wD(),t=_l(),r=M2();function n(a){var l="https://react.dev/errors/"+a;if(1<arguments.length){l+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)l+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+a+"; visit "+l+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(a){return!(!a||a.nodeType!==1&&a.nodeType!==9&&a.nodeType!==11)}function o(a){var l=a,c=a;if(a.alternate)for(;l.return;)l=l.return;else{a=l;do l=a,(l.flags&4098)!==0&&(c=l.return),a=l.return;while(a)}return l.tag===3?c:null}function u(a){if(a.tag===13){var l=a.memoizedState;if(l===null&&(a=a.alternate,a!==null&&(l=a.memoizedState)),l!==null)return l.dehydrated}return null}function d(a){if(o(a)!==a)throw Error(n(188))}function h(a){var l=a.alternate;if(!l){if(l=o(a),l===null)throw Error(n(188));return l!==a?null:a}for(var c=a,f=l;;){var p=c.return;if(p===null)break;var y=p.alternate;if(y===null){if(f=p.return,f!==null){c=f;continue}break}if(p.child===y.child){for(y=p.child;y;){if(y===c)return d(p),a;if(y===f)return d(p),l;y=y.sibling}throw Error(n(188))}if(c.return!==f.return)c=p,f=y;else{for(var E=!1,M=p.child;M;){if(M===c){E=!0,c=p,f=y;break}if(M===f){E=!0,f=p,c=y;break}M=M.sibling}if(!E){for(M=y.child;M;){if(M===c){E=!0,c=y,f=p;break}if(M===f){E=!0,f=y,c=p;break}M=M.sibling}if(!E)throw Error(n(189))}}if(c.alternate!==f)throw Error(n(190))}if(c.tag!==3)throw Error(n(188));return c.stateNode.current===c?a:l}function m(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a;for(a=a.child;a!==null;){if(l=m(a),l!==null)return l;a=a.sibling}return null}var g=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),b=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),S=Symbol.for("react.consumer"),A=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),U=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function te(a){return a===null||typeof a!="object"?null:(a=L&&a[L]||a["@@iterator"],typeof a=="function"?a:null)}var de=Symbol.for("react.client.reference");function J(a){if(a==null)return null;if(typeof a=="function")return a.$$typeof===de?null:a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case j:return"Fragment";case _:return"Profiler";case N:return"StrictMode";case C:return"Suspense";case P:return"SuspenseList";case $:return"Activity"}if(typeof a=="object")switch(a.$$typeof){case b:return"Portal";case A:return(a.displayName||"Context")+".Provider";case S:return(a._context.displayName||"Context")+".Consumer";case k:var l=a.render;return a=a.displayName,a||(a=l.displayName||l.name||"",a=a!==""?"ForwardRef("+a+")":"ForwardRef"),a;case T:return l=a.displayName||null,l!==null?l:J(a.type)||"Memo";case D:l=a._payload,a=a._init;try{return J(a(l))}catch{}}return null}var ce=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re={pending:!1,data:null,method:null,action:null},ve=[],I=-1;function ee(a){return{current:a}}function ie(a){0>I||(a.current=ve[I],ve[I]=null,I--)}function ge(a,l){I++,ve[I]=a.current,a.current=l}var je=ee(null),ye=ee(null),K=ee(null),we=ee(null);function q(a,l){switch(ge(K,l),ge(ye,a),ge(je,null),l.nodeType){case 9:case 11:a=(a=l.documentElement)&&(a=a.namespaceURI)?pj(a):0;break;default:if(a=l.tagName,l=l.namespaceURI)l=pj(l),a=vj(l,a);else switch(a){case"svg":a=1;break;case"math":a=2;break;default:a=0}}ie(je),ge(je,a)}function W(){ie(je),ie(ye),ie(K)}function X(a){a.memoizedState!==null&&ge(we,a);var l=je.current,c=vj(l,a.type);l!==c&&(ge(ye,a),ge(je,c))}function Y(a){ye.current===a&&(ie(je),ie(ye)),we.current===a&&(ie(we),Co._currentValue=re)}var H=Object.prototype.hasOwnProperty,le=e.unstable_scheduleCallback,me=e.unstable_cancelCallback,oe=e.unstable_shouldYield,be=e.unstable_requestPaint,Pe=e.unstable_now,Ye=e.unstable_getCurrentPriorityLevel,Cr=e.unstable_ImmediatePriority,fs=e.unstable_UserBlockingPriority,Gn=e.unstable_NormalPriority,Ll=e.unstable_LowPriority,Ta=e.unstable_IdlePriority,ih=e.log,sh=e.unstable_setDisableYieldValue,vi=null,gr=null;function hn(a){if(typeof ih=="function"&&sh(a),gr&&typeof gr.setStrictMode=="function")try{gr.setStrictMode(vi,a)}catch{}}var lr=Math.clz32?Math.clz32:oh,Tr=Math.log,lh=Math.LN2;function oh(a){return a>>>=0,a===0?32:31-(Tr(a)/lh|0)|0}var Vn=256,Fn=4194304;function mn(a){var l=a&42;if(l!==0)return l;switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return a&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return a}}function ut(a,l,c){var f=a.pendingLanes;if(f===0)return 0;var p=0,y=a.suspendedLanes,E=a.pingedLanes;a=a.warmLanes;var M=f&134217727;return M!==0?(f=M&~y,f!==0?p=mn(f):(E&=M,E!==0?p=mn(E):c||(c=M&~a,c!==0&&(p=mn(c))))):(M=f&~y,M!==0?p=mn(M):E!==0?p=mn(E):c||(c=f&~a,c!==0&&(p=mn(c)))),p===0?0:l!==0&&l!==p&&(l&y)===0&&(y=p&-p,c=l&-l,y>=c||y===32&&(c&4194048)!==0)?l:p}function hs(a,l){return(a.pendingLanes&~(a.suspendedLanes&~a.pingedLanes)&l)===0}function Dr(a,l){switch(a){case 1:case 2:case 4:case 8:case 64:return l+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ms(){var a=Vn;return Vn<<=1,(Vn&4194048)===0&&(Vn=256),a}function yi(){var a=Fn;return Fn<<=1,(Fn&62914560)===0&&(Fn=4194304),a}function bi(a){for(var l=[],c=0;31>c;c++)l.push(a);return l}function Da(a,l){a.pendingLanes|=l,l!==268435456&&(a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0)}function Il(a,l,c,f,p,y){var E=a.pendingLanes;a.pendingLanes=c,a.suspendedLanes=0,a.pingedLanes=0,a.warmLanes=0,a.expiredLanes&=c,a.entangledLanes&=c,a.errorRecoveryDisabledLanes&=c,a.shellSuspendCounter=0;var M=a.entanglements,B=a.expirationTimes,Z=a.hiddenUpdates;for(c=E&~c;0<c;){var ue=31-lr(c),he=1<<ue;M[ue]=0,B[ue]=-1;var ne=Z[ue];if(ne!==null)for(Z[ue]=null,ue=0;ue<ne.length;ue++){var ae=ne[ue];ae!==null&&(ae.lane&=-536870913)}c&=~he}f!==0&&gs(a,f,0),y!==0&&p===0&&a.tag!==0&&(a.suspendedLanes|=y&~(E&~l))}function gs(a,l,c){a.pendingLanes|=l,a.suspendedLanes&=~l;var f=31-lr(l);a.entangledLanes|=l,a.entanglements[f]=a.entanglements[f]|1073741824|c&4194090}function Yc(a,l){var c=a.entangledLanes|=l;for(a=a.entanglements;c;){var f=31-lr(c),p=1<<f;p&l|a[f]&l&&(a[f]|=l),c&=~p}}function Ul(a){switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=128;break;case 268435456:a=134217728;break;default:a=0}return a}function ql(a){return a&=-a,2<a?8<a?(a&134217727)!==0?32:268435456:8:2}function Gc(){var a=V.p;return a!==0?a:(a=window.event,a===void 0?32:Lj(a.type))}function Vc(a,l){var c=V.p;try{return V.p=a,l()}finally{V.p=c}}var Zt=Math.random().toString(36).slice(2),qt="__reactFiber$"+Zt,or="__reactProps$"+Zt,En="__reactContainer$"+Zt,kn="__reactEvents$"+Zt,R="__reactListeners$"+Zt,xe="__reactHandles$"+Zt,_e="__reactResources$"+Zt,Ne="__reactMarker$"+Zt;function Ce(a){delete a[qt],delete a[or],delete a[kn],delete a[R],delete a[xe]}function Le(a){var l=a[qt];if(l)return l;for(var c=a.parentNode;c;){if(l=c[En]||c[qt]){if(c=l.alternate,l.child!==null||c!==null&&c.child!==null)for(a=jj(a);a!==null;){if(c=a[qt])return c;a=jj(a)}return l}a=c,c=a.parentNode}return null}function zt(a){if(a=a[qt]||a[En]){var l=a.tag;if(l===5||l===6||l===13||l===26||l===27||l===3)return a}return null}function mt(a){var l=a.tag;if(l===5||l===26||l===27||l===6)return a.stateNode;throw Error(n(33))}function gn(a){var l=a[_e];return l||(l=a[_e]={hoistableStyles:new Map,hoistableScripts:new Map}),l}function it(a){a[Ne]=!0}var xs=new Set,wi={};function Bt(a,l){jt(a,l),jt(a+"Capture",l)}function jt(a,l){for(wi[a]=l,a=0;a<l.length;a++)xs.add(l[a])}var Fc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ch={},Wc={};function uh(a){return H.call(Wc,a)?!0:H.call(ch,a)?!1:Fc.test(a)?Wc[a]=!0:(ch[a]=!0,!1)}function zl(a,l,c){if(uh(l))if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":a.removeAttribute(l);return;case"boolean":var f=l.toLowerCase().slice(0,5);if(f!=="data-"&&f!=="aria-"){a.removeAttribute(l);return}}a.setAttribute(l,""+c)}}function Ot(a,l,c){if(c===null)a.removeAttribute(l);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(l);return}a.setAttribute(l,""+c)}}function dt(a,l,c,f){if(f===null)a.removeAttribute(c);else{switch(typeof f){case"undefined":case"function":case"symbol":case"boolean":a.removeAttribute(c);return}a.setAttributeNS(l,c,""+f)}}var dh,uy;function ps(a){if(dh===void 0)try{throw Error()}catch(c){var l=c.stack.trim().match(/\n( *(at )?)/);dh=l&&l[1]||"",uy=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+dh+a+uy}var fh=!1;function hh(a,l){if(!a||fh)return"";fh=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var f={DetermineComponentFrameRoot:function(){try{if(l){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ae){var ne=ae}Reflect.construct(a,[],he)}else{try{he.call()}catch(ae){ne=ae}a.call(he.prototype)}}else{try{throw Error()}catch(ae){ne=ae}(he=a())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ae){if(ae&&ne&&typeof ae.stack=="string")return[ae.stack,ne.stack]}return[null,null]}};f.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(f.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(f.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var y=f.DetermineComponentFrameRoot(),E=y[0],M=y[1];if(E&&M){var B=E.split(`
`),Z=M.split(`
`);for(p=f=0;f<B.length&&!B[f].includes("DetermineComponentFrameRoot");)f++;for(;p<Z.length&&!Z[p].includes("DetermineComponentFrameRoot");)p++;if(f===B.length||p===Z.length)for(f=B.length-1,p=Z.length-1;1<=f&&0<=p&&B[f]!==Z[p];)p--;for(;1<=f&&0<=p;f--,p--)if(B[f]!==Z[p]){if(f!==1||p!==1)do if(f--,p--,0>p||B[f]!==Z[p]){var ue=`
`+B[f].replace(" at new "," at ");return a.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",a.displayName)),ue}while(1<=f&&0<=p);break}}}finally{fh=!1,Error.prepareStackTrace=c}return(c=a?a.displayName||a.name:"")?ps(c):""}function oT(a){switch(a.tag){case 26:case 27:case 5:return ps(a.type);case 16:return ps("Lazy");case 13:return ps("Suspense");case 19:return ps("SuspenseList");case 0:case 15:return hh(a.type,!1);case 11:return hh(a.type.render,!1);case 1:return hh(a.type,!0);case 31:return ps("Activity");default:return""}}function dy(a){try{var l="";do l+=oT(a),a=a.return;while(a);return l}catch(c){return`
Error generating stack: `+c.message+`
`+c.stack}}function Wr(a){switch(typeof a){case"bigint":case"boolean":case"number":case"string":case"undefined":return a;case"object":return a;default:return""}}function fy(a){var l=a.type;return(a=a.nodeName)&&a.toLowerCase()==="input"&&(l==="checkbox"||l==="radio")}function cT(a){var l=fy(a)?"checked":"value",c=Object.getOwnPropertyDescriptor(a.constructor.prototype,l),f=""+a[l];if(!a.hasOwnProperty(l)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,y=c.set;return Object.defineProperty(a,l,{configurable:!0,get:function(){return p.call(this)},set:function(E){f=""+E,y.call(this,E)}}),Object.defineProperty(a,l,{enumerable:c.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){a._valueTracker=null,delete a[l]}}}}function Xc(a){a._valueTracker||(a._valueTracker=cT(a))}function hy(a){if(!a)return!1;var l=a._valueTracker;if(!l)return!0;var c=l.getValue(),f="";return a&&(f=fy(a)?a.checked?"true":"false":a.value),a=f,a!==c?(l.setValue(a),!0):!1}function Qc(a){if(a=a||(typeof document<"u"?document:void 0),typeof a>"u")return null;try{return a.activeElement||a.body}catch{return a.body}}var uT=/[\n"\\]/g;function Xr(a){return a.replace(uT,function(l){return"\\"+l.charCodeAt(0).toString(16)+" "})}function mh(a,l,c,f,p,y,E,M){a.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?a.type=E:a.removeAttribute("type"),l!=null?E==="number"?(l===0&&a.value===""||a.value!=l)&&(a.value=""+Wr(l)):a.value!==""+Wr(l)&&(a.value=""+Wr(l)):E!=="submit"&&E!=="reset"||a.removeAttribute("value"),l!=null?gh(a,E,Wr(l)):c!=null?gh(a,E,Wr(c)):f!=null&&a.removeAttribute("value"),p==null&&y!=null&&(a.defaultChecked=!!y),p!=null&&(a.checked=p&&typeof p!="function"&&typeof p!="symbol"),M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"?a.name=""+Wr(M):a.removeAttribute("name")}function my(a,l,c,f,p,y,E,M){if(y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(a.type=y),l!=null||c!=null){if(!(y!=="submit"&&y!=="reset"||l!=null))return;c=c!=null?""+Wr(c):"",l=l!=null?""+Wr(l):c,M||l===a.value||(a.value=l),a.defaultValue=l}f=f??p,f=typeof f!="function"&&typeof f!="symbol"&&!!f,a.checked=M?a.checked:!!f,a.defaultChecked=!!f,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(a.name=E)}function gh(a,l,c){l==="number"&&Qc(a.ownerDocument)===a||a.defaultValue===""+c||(a.defaultValue=""+c)}function vs(a,l,c,f){if(a=a.options,l){l={};for(var p=0;p<c.length;p++)l["$"+c[p]]=!0;for(c=0;c<a.length;c++)p=l.hasOwnProperty("$"+a[c].value),a[c].selected!==p&&(a[c].selected=p),p&&f&&(a[c].defaultSelected=!0)}else{for(c=""+Wr(c),l=null,p=0;p<a.length;p++){if(a[p].value===c){a[p].selected=!0,f&&(a[p].defaultSelected=!0);return}l!==null||a[p].disabled||(l=a[p])}l!==null&&(l.selected=!0)}}function gy(a,l,c){if(l!=null&&(l=""+Wr(l),l!==a.value&&(a.value=l),c==null)){a.defaultValue!==l&&(a.defaultValue=l);return}a.defaultValue=c!=null?""+Wr(c):""}function xy(a,l,c,f){if(l==null){if(f!=null){if(c!=null)throw Error(n(92));if(ce(f)){if(1<f.length)throw Error(n(93));f=f[0]}c=f}c==null&&(c=""),l=c}c=Wr(l),a.defaultValue=c,f=a.textContent,f===c&&f!==""&&f!==null&&(a.value=f)}function ys(a,l){if(l){var c=a.firstChild;if(c&&c===a.lastChild&&c.nodeType===3){c.nodeValue=l;return}}a.textContent=l}var dT=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function py(a,l,c){var f=l.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?f?a.setProperty(l,""):l==="float"?a.cssFloat="":a[l]="":f?a.setProperty(l,c):typeof c!="number"||c===0||dT.has(l)?l==="float"?a.cssFloat=c:a[l]=(""+c).trim():a[l]=c+"px"}function vy(a,l,c){if(l!=null&&typeof l!="object")throw Error(n(62));if(a=a.style,c!=null){for(var f in c)!c.hasOwnProperty(f)||l!=null&&l.hasOwnProperty(f)||(f.indexOf("--")===0?a.setProperty(f,""):f==="float"?a.cssFloat="":a[f]="");for(var p in l)f=l[p],l.hasOwnProperty(p)&&c[p]!==f&&py(a,p,f)}else for(var y in l)l.hasOwnProperty(y)&&py(a,y,l[y])}function xh(a){if(a.indexOf("-")===-1)return!1;switch(a){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fT=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),hT=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Zc(a){return hT.test(""+a)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":a}var ph=null;function vh(a){return a=a.target||a.srcElement||window,a.correspondingUseElement&&(a=a.correspondingUseElement),a.nodeType===3?a.parentNode:a}var bs=null,ws=null;function yy(a){var l=zt(a);if(l&&(a=l.stateNode)){var c=a[or]||null;e:switch(a=l.stateNode,l.type){case"input":if(mh(a,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),l=c.name,c.type==="radio"&&l!=null){for(c=a;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Xr(""+l)+'"][type="radio"]'),l=0;l<c.length;l++){var f=c[l];if(f!==a&&f.form===a.form){var p=f[or]||null;if(!p)throw Error(n(90));mh(f,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(l=0;l<c.length;l++)f=c[l],f.form===a.form&&hy(f)}break e;case"textarea":gy(a,c.value,c.defaultValue);break e;case"select":l=c.value,l!=null&&vs(a,!!c.multiple,l,!1)}}}var yh=!1;function by(a,l,c){if(yh)return a(l,c);yh=!0;try{var f=a(l);return f}finally{if(yh=!1,(bs!==null||ws!==null)&&(Lu(),bs&&(l=bs,a=ws,ws=bs=null,yy(l),a)))for(l=0;l<a.length;l++)yy(a[l])}}function Bl(a,l){var c=a.stateNode;if(c===null)return null;var f=c[or]||null;if(f===null)return null;c=f[l];e:switch(l){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(a=a.type,f=!(a==="button"||a==="input"||a==="select"||a==="textarea")),a=!f;break e;default:a=!1}if(a)return null;if(c&&typeof c!="function")throw Error(n(231,l,typeof c));return c}var Wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bh=!1;if(Wn)try{var Hl={};Object.defineProperty(Hl,"passive",{get:function(){bh=!0}}),window.addEventListener("test",Hl,Hl),window.removeEventListener("test",Hl,Hl)}catch{bh=!1}var Pa=null,wh=null,Jc=null;function wy(){if(Jc)return Jc;var a,l=wh,c=l.length,f,p="value"in Pa?Pa.value:Pa.textContent,y=p.length;for(a=0;a<c&&l[a]===p[a];a++);var E=c-a;for(f=1;f<=E&&l[c-f]===p[y-f];f++);return Jc=p.slice(a,1<f?1-f:void 0)}function eu(a){var l=a.keyCode;return"charCode"in a?(a=a.charCode,a===0&&l===13&&(a=13)):a=l,a===10&&(a=13),32<=a||a===13?a:0}function tu(){return!0}function jy(){return!1}function wr(a){function l(c,f,p,y,E){this._reactName=c,this._targetInst=p,this.type=f,this.nativeEvent=y,this.target=E,this.currentTarget=null;for(var M in a)a.hasOwnProperty(M)&&(c=a[M],this[M]=c?c(y):y[M]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?tu:jy,this.isPropagationStopped=jy,this}return g(l.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=tu)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=tu)},persist:function(){},isPersistent:tu}),l}var ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(a){return a.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ru=wr(ji),Kl=g({},ji,{view:0,detail:0}),mT=wr(Kl),jh,Nh,Yl,nu=g({},Kl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sh,button:0,buttons:0,relatedTarget:function(a){return a.relatedTarget===void 0?a.fromElement===a.srcElement?a.toElement:a.fromElement:a.relatedTarget},movementX:function(a){return"movementX"in a?a.movementX:(a!==Yl&&(Yl&&a.type==="mousemove"?(jh=a.screenX-Yl.screenX,Nh=a.screenY-Yl.screenY):Nh=jh=0,Yl=a),jh)},movementY:function(a){return"movementY"in a?a.movementY:Nh}}),Ny=wr(nu),gT=g({},nu,{dataTransfer:0}),xT=wr(gT),pT=g({},Kl,{relatedTarget:0}),_h=wr(pT),vT=g({},ji,{animationName:0,elapsedTime:0,pseudoElement:0}),yT=wr(vT),bT=g({},ji,{clipboardData:function(a){return"clipboardData"in a?a.clipboardData:window.clipboardData}}),wT=wr(bT),jT=g({},ji,{data:0}),_y=wr(jT),NT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_T={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ST={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OT(a){var l=this.nativeEvent;return l.getModifierState?l.getModifierState(a):(a=ST[a])?!!l[a]:!1}function Sh(){return OT}var AT=g({},Kl,{key:function(a){if(a.key){var l=NT[a.key]||a.key;if(l!=="Unidentified")return l}return a.type==="keypress"?(a=eu(a),a===13?"Enter":String.fromCharCode(a)):a.type==="keydown"||a.type==="keyup"?_T[a.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sh,charCode:function(a){return a.type==="keypress"?eu(a):0},keyCode:function(a){return a.type==="keydown"||a.type==="keyup"?a.keyCode:0},which:function(a){return a.type==="keypress"?eu(a):a.type==="keydown"||a.type==="keyup"?a.keyCode:0}}),ET=wr(AT),kT=g({},nu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Sy=wr(kT),CT=g({},Kl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sh}),TT=wr(CT),DT=g({},ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),PT=wr(DT),MT=g({},nu,{deltaX:function(a){return"deltaX"in a?a.deltaX:"wheelDeltaX"in a?-a.wheelDeltaX:0},deltaY:function(a){return"deltaY"in a?a.deltaY:"wheelDeltaY"in a?-a.wheelDeltaY:"wheelDelta"in a?-a.wheelDelta:0},deltaZ:0,deltaMode:0}),RT=wr(MT),$T=g({},ji,{newState:0,oldState:0}),LT=wr($T),IT=[9,13,27,32],Oh=Wn&&"CompositionEvent"in window,Gl=null;Wn&&"documentMode"in document&&(Gl=document.documentMode);var UT=Wn&&"TextEvent"in window&&!Gl,Oy=Wn&&(!Oh||Gl&&8<Gl&&11>=Gl),Ay=" ",Ey=!1;function ky(a,l){switch(a){case"keyup":return IT.indexOf(l.keyCode)!==-1;case"keydown":return l.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Cy(a){return a=a.detail,typeof a=="object"&&"data"in a?a.data:null}var js=!1;function qT(a,l){switch(a){case"compositionend":return Cy(l);case"keypress":return l.which!==32?null:(Ey=!0,Ay);case"textInput":return a=l.data,a===Ay&&Ey?null:a;default:return null}}function zT(a,l){if(js)return a==="compositionend"||!Oh&&ky(a,l)?(a=wy(),Jc=wh=Pa=null,js=!1,a):null;switch(a){case"paste":return null;case"keypress":if(!(l.ctrlKey||l.altKey||l.metaKey)||l.ctrlKey&&l.altKey){if(l.char&&1<l.char.length)return l.char;if(l.which)return String.fromCharCode(l.which)}return null;case"compositionend":return Oy&&l.locale!=="ko"?null:l.data;default:return null}}var BT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ty(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l==="input"?!!BT[a.type]:l==="textarea"}function Dy(a,l,c,f){bs?ws?ws.push(f):ws=[f]:bs=f,l=Hu(l,"onChange"),0<l.length&&(c=new ru("onChange","change",null,c,f),a.push({event:c,listeners:l}))}var Vl=null,Fl=null;function HT(a){fj(a,0)}function au(a){var l=mt(a);if(hy(l))return a}function Py(a,l){if(a==="change")return l}var My=!1;if(Wn){var Ah;if(Wn){var Eh="oninput"in document;if(!Eh){var Ry=document.createElement("div");Ry.setAttribute("oninput","return;"),Eh=typeof Ry.oninput=="function"}Ah=Eh}else Ah=!1;My=Ah&&(!document.documentMode||9<document.documentMode)}function $y(){Vl&&(Vl.detachEvent("onpropertychange",Ly),Fl=Vl=null)}function Ly(a){if(a.propertyName==="value"&&au(Fl)){var l=[];Dy(l,Fl,a,vh(a)),by(HT,l)}}function KT(a,l,c){a==="focusin"?($y(),Vl=l,Fl=c,Vl.attachEvent("onpropertychange",Ly)):a==="focusout"&&$y()}function YT(a){if(a==="selectionchange"||a==="keyup"||a==="keydown")return au(Fl)}function GT(a,l){if(a==="click")return au(l)}function VT(a,l){if(a==="input"||a==="change")return au(l)}function FT(a,l){return a===l&&(a!==0||1/a===1/l)||a!==a&&l!==l}var Pr=typeof Object.is=="function"?Object.is:FT;function Wl(a,l){if(Pr(a,l))return!0;if(typeof a!="object"||a===null||typeof l!="object"||l===null)return!1;var c=Object.keys(a),f=Object.keys(l);if(c.length!==f.length)return!1;for(f=0;f<c.length;f++){var p=c[f];if(!H.call(l,p)||!Pr(a[p],l[p]))return!1}return!0}function Iy(a){for(;a&&a.firstChild;)a=a.firstChild;return a}function Uy(a,l){var c=Iy(a);a=0;for(var f;c;){if(c.nodeType===3){if(f=a+c.textContent.length,a<=l&&f>=l)return{node:c,offset:l-a};a=f}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Iy(c)}}function qy(a,l){return a&&l?a===l?!0:a&&a.nodeType===3?!1:l&&l.nodeType===3?qy(a,l.parentNode):"contains"in a?a.contains(l):a.compareDocumentPosition?!!(a.compareDocumentPosition(l)&16):!1:!1}function zy(a){a=a!=null&&a.ownerDocument!=null&&a.ownerDocument.defaultView!=null?a.ownerDocument.defaultView:window;for(var l=Qc(a.document);l instanceof a.HTMLIFrameElement;){try{var c=typeof l.contentWindow.location.href=="string"}catch{c=!1}if(c)a=l.contentWindow;else break;l=Qc(a.document)}return l}function kh(a){var l=a&&a.nodeName&&a.nodeName.toLowerCase();return l&&(l==="input"&&(a.type==="text"||a.type==="search"||a.type==="tel"||a.type==="url"||a.type==="password")||l==="textarea"||a.contentEditable==="true")}var WT=Wn&&"documentMode"in document&&11>=document.documentMode,Ns=null,Ch=null,Xl=null,Th=!1;function By(a,l,c){var f=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Th||Ns==null||Ns!==Qc(f)||(f=Ns,"selectionStart"in f&&kh(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),Xl&&Wl(Xl,f)||(Xl=f,f=Hu(Ch,"onSelect"),0<f.length&&(l=new ru("onSelect","select",null,l,c),a.push({event:l,listeners:f}),l.target=Ns)))}function Ni(a,l){var c={};return c[a.toLowerCase()]=l.toLowerCase(),c["Webkit"+a]="webkit"+l,c["Moz"+a]="moz"+l,c}var _s={animationend:Ni("Animation","AnimationEnd"),animationiteration:Ni("Animation","AnimationIteration"),animationstart:Ni("Animation","AnimationStart"),transitionrun:Ni("Transition","TransitionRun"),transitionstart:Ni("Transition","TransitionStart"),transitioncancel:Ni("Transition","TransitionCancel"),transitionend:Ni("Transition","TransitionEnd")},Dh={},Hy={};Wn&&(Hy=document.createElement("div").style,"AnimationEvent"in window||(delete _s.animationend.animation,delete _s.animationiteration.animation,delete _s.animationstart.animation),"TransitionEvent"in window||delete _s.transitionend.transition);function _i(a){if(Dh[a])return Dh[a];if(!_s[a])return a;var l=_s[a],c;for(c in l)if(l.hasOwnProperty(c)&&c in Hy)return Dh[a]=l[c];return a}var Ky=_i("animationend"),Yy=_i("animationiteration"),Gy=_i("animationstart"),XT=_i("transitionrun"),QT=_i("transitionstart"),ZT=_i("transitioncancel"),Vy=_i("transitionend"),Fy=new Map,Ph="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ph.push("scrollEnd");function xn(a,l){Fy.set(a,l),Bt(l,[a])}var Wy=new WeakMap;function Qr(a,l){if(typeof a=="object"&&a!==null){var c=Wy.get(a);return c!==void 0?c:(l={value:a,source:l,stack:dy(l)},Wy.set(a,l),l)}return{value:a,source:l,stack:dy(l)}}var Zr=[],Ss=0,Mh=0;function iu(){for(var a=Ss,l=Mh=Ss=0;l<a;){var c=Zr[l];Zr[l++]=null;var f=Zr[l];Zr[l++]=null;var p=Zr[l];Zr[l++]=null;var y=Zr[l];if(Zr[l++]=null,f!==null&&p!==null){var E=f.pending;E===null?p.next=p:(p.next=E.next,E.next=p),f.pending=p}y!==0&&Xy(c,p,y)}}function su(a,l,c,f){Zr[Ss++]=a,Zr[Ss++]=l,Zr[Ss++]=c,Zr[Ss++]=f,Mh|=f,a.lanes|=f,a=a.alternate,a!==null&&(a.lanes|=f)}function Rh(a,l,c,f){return su(a,l,c,f),lu(a)}function Os(a,l){return su(a,null,null,l),lu(a)}function Xy(a,l,c){a.lanes|=c;var f=a.alternate;f!==null&&(f.lanes|=c);for(var p=!1,y=a.return;y!==null;)y.childLanes|=c,f=y.alternate,f!==null&&(f.childLanes|=c),y.tag===22&&(a=y.stateNode,a===null||a._visibility&1||(p=!0)),a=y,y=y.return;return a.tag===3?(y=a.stateNode,p&&l!==null&&(p=31-lr(c),a=y.hiddenUpdates,f=a[p],f===null?a[p]=[l]:f.push(l),l.lane=c|536870912),y):null}function lu(a){if(50<jo)throw jo=0,zm=null,Error(n(185));for(var l=a.return;l!==null;)a=l,l=a.return;return a.tag===3?a.stateNode:null}var As={};function JT(a,l,c,f){this.tag=a,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=l,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(a,l,c,f){return new JT(a,l,c,f)}function $h(a){return a=a.prototype,!(!a||!a.isReactComponent)}function Xn(a,l){var c=a.alternate;return c===null?(c=Mr(a.tag,l,a.key,a.mode),c.elementType=a.elementType,c.type=a.type,c.stateNode=a.stateNode,c.alternate=a,a.alternate=c):(c.pendingProps=l,c.type=a.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=a.flags&65011712,c.childLanes=a.childLanes,c.lanes=a.lanes,c.child=a.child,c.memoizedProps=a.memoizedProps,c.memoizedState=a.memoizedState,c.updateQueue=a.updateQueue,l=a.dependencies,c.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext},c.sibling=a.sibling,c.index=a.index,c.ref=a.ref,c.refCleanup=a.refCleanup,c}function Qy(a,l){a.flags&=65011714;var c=a.alternate;return c===null?(a.childLanes=0,a.lanes=l,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=c.childLanes,a.lanes=c.lanes,a.child=c.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=c.memoizedProps,a.memoizedState=c.memoizedState,a.updateQueue=c.updateQueue,a.type=c.type,l=c.dependencies,a.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),a}function ou(a,l,c,f,p,y){var E=0;if(f=a,typeof a=="function")$h(a)&&(E=1);else if(typeof a=="string")E=tD(a,c,je.current)?26:a==="html"||a==="head"||a==="body"?27:5;else e:switch(a){case $:return a=Mr(31,c,l,p),a.elementType=$,a.lanes=y,a;case j:return Si(c.children,p,y,l);case N:E=8,p|=24;break;case _:return a=Mr(12,c,l,p|2),a.elementType=_,a.lanes=y,a;case C:return a=Mr(13,c,l,p),a.elementType=C,a.lanes=y,a;case P:return a=Mr(19,c,l,p),a.elementType=P,a.lanes=y,a;default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case O:case A:E=10;break e;case S:E=9;break e;case k:E=11;break e;case T:E=14;break e;case D:E=16,f=null;break e}E=29,c=Error(n(130,a===null?"null":typeof a,"")),f=null}return l=Mr(E,c,l,p),l.elementType=a,l.type=f,l.lanes=y,l}function Si(a,l,c,f){return a=Mr(7,a,f,l),a.lanes=c,a}function Lh(a,l,c){return a=Mr(6,a,null,l),a.lanes=c,a}function Ih(a,l,c){return l=Mr(4,a.children!==null?a.children:[],a.key,l),l.lanes=c,l.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},l}var Es=[],ks=0,cu=null,uu=0,Jr=[],en=0,Oi=null,Qn=1,Zn="";function Ai(a,l){Es[ks++]=uu,Es[ks++]=cu,cu=a,uu=l}function Zy(a,l,c){Jr[en++]=Qn,Jr[en++]=Zn,Jr[en++]=Oi,Oi=a;var f=Qn;a=Zn;var p=32-lr(f)-1;f&=~(1<<p),c+=1;var y=32-lr(l)+p;if(30<y){var E=p-p%5;y=(f&(1<<E)-1).toString(32),f>>=E,p-=E,Qn=1<<32-lr(l)+p|c<<p|f,Zn=y+a}else Qn=1<<y|c<<p|f,Zn=a}function Uh(a){a.return!==null&&(Ai(a,1),Zy(a,1,0))}function qh(a){for(;a===cu;)cu=Es[--ks],Es[ks]=null,uu=Es[--ks],Es[ks]=null;for(;a===Oi;)Oi=Jr[--en],Jr[en]=null,Zn=Jr[--en],Jr[en]=null,Qn=Jr[--en],Jr[en]=null}var xr=null,bt=null,Fe=!1,Ei=null,Cn=!1,zh=Error(n(519));function ki(a){var l=Error(n(418,""));throw Jl(Qr(l,a)),zh}function Jy(a){var l=a.stateNode,c=a.type,f=a.memoizedProps;switch(l[qt]=a,l[or]=f,c){case"dialog":ze("cancel",l),ze("close",l);break;case"iframe":case"object":case"embed":ze("load",l);break;case"video":case"audio":for(c=0;c<_o.length;c++)ze(_o[c],l);break;case"source":ze("error",l);break;case"img":case"image":case"link":ze("error",l),ze("load",l);break;case"details":ze("toggle",l);break;case"input":ze("invalid",l),my(l,f.value,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name,!0),Xc(l);break;case"select":ze("invalid",l);break;case"textarea":ze("invalid",l),xy(l,f.value,f.defaultValue,f.children),Xc(l)}c=f.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||l.textContent===""+c||f.suppressHydrationWarning===!0||xj(l.textContent,c)?(f.popover!=null&&(ze("beforetoggle",l),ze("toggle",l)),f.onScroll!=null&&ze("scroll",l),f.onScrollEnd!=null&&ze("scrollend",l),f.onClick!=null&&(l.onclick=Ku),l=!0):l=!1,l||ki(a)}function eb(a){for(xr=a.return;xr;)switch(xr.tag){case 5:case 13:Cn=!1;return;case 27:case 3:Cn=!0;return;default:xr=xr.return}}function Ql(a){if(a!==xr)return!1;if(!Fe)return eb(a),Fe=!0,!1;var l=a.tag,c;if((c=l!==3&&l!==27)&&((c=l===5)&&(c=a.type,c=!(c!=="form"&&c!=="button")||ng(a.type,a.memoizedProps)),c=!c),c&&bt&&ki(a),eb(a),l===13){if(a=a.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(n(317));e:{for(a=a.nextSibling,l=0;a;){if(a.nodeType===8)if(c=a.data,c==="/$"){if(l===0){bt=vn(a.nextSibling);break e}l--}else c!=="$"&&c!=="$!"&&c!=="$?"||l++;a=a.nextSibling}bt=null}}else l===27?(l=bt,Wa(a.type)?(a=lg,lg=null,bt=a):bt=l):bt=xr?vn(a.stateNode.nextSibling):null;return!0}function Zl(){bt=xr=null,Fe=!1}function tb(){var a=Ei;return a!==null&&(_r===null?_r=a:_r.push.apply(_r,a),Ei=null),a}function Jl(a){Ei===null?Ei=[a]:Ei.push(a)}var Bh=ee(null),Ci=null,Jn=null;function Ma(a,l,c){ge(Bh,l._currentValue),l._currentValue=c}function ea(a){a._currentValue=Bh.current,ie(Bh)}function Hh(a,l,c){for(;a!==null;){var f=a.alternate;if((a.childLanes&l)!==l?(a.childLanes|=l,f!==null&&(f.childLanes|=l)):f!==null&&(f.childLanes&l)!==l&&(f.childLanes|=l),a===c)break;a=a.return}}function Kh(a,l,c,f){var p=a.child;for(p!==null&&(p.return=a);p!==null;){var y=p.dependencies;if(y!==null){var E=p.child;y=y.firstContext;e:for(;y!==null;){var M=y;y=p;for(var B=0;B<l.length;B++)if(M.context===l[B]){y.lanes|=c,M=y.alternate,M!==null&&(M.lanes|=c),Hh(y.return,c,a),f||(E=null);break e}y=M.next}}else if(p.tag===18){if(E=p.return,E===null)throw Error(n(341));E.lanes|=c,y=E.alternate,y!==null&&(y.lanes|=c),Hh(E,c,a),E=null}else E=p.child;if(E!==null)E.return=p;else for(E=p;E!==null;){if(E===a){E=null;break}if(p=E.sibling,p!==null){p.return=E.return,E=p;break}E=E.return}p=E}}function eo(a,l,c,f){a=null;for(var p=l,y=!1;p!==null;){if(!y){if((p.flags&524288)!==0)y=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var E=p.alternate;if(E===null)throw Error(n(387));if(E=E.memoizedProps,E!==null){var M=p.type;Pr(p.pendingProps.value,E.value)||(a!==null?a.push(M):a=[M])}}else if(p===we.current){if(E=p.alternate,E===null)throw Error(n(387));E.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(a!==null?a.push(Co):a=[Co])}p=p.return}a!==null&&Kh(l,a,c,f),l.flags|=262144}function du(a){for(a=a.firstContext;a!==null;){if(!Pr(a.context._currentValue,a.memoizedValue))return!0;a=a.next}return!1}function Ti(a){Ci=a,Jn=null,a=a.dependencies,a!==null&&(a.firstContext=null)}function cr(a){return rb(Ci,a)}function fu(a,l){return Ci===null&&Ti(a),rb(a,l)}function rb(a,l){var c=l._currentValue;if(l={context:l,memoizedValue:c,next:null},Jn===null){if(a===null)throw Error(n(308));Jn=l,a.dependencies={lanes:0,firstContext:l},a.flags|=524288}else Jn=Jn.next=l;return c}var e3=typeof AbortController<"u"?AbortController:function(){var a=[],l=this.signal={aborted:!1,addEventListener:function(c,f){a.push(f)}};this.abort=function(){l.aborted=!0,a.forEach(function(c){return c()})}},t3=e.unstable_scheduleCallback,r3=e.unstable_NormalPriority,Dt={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yh(){return{controller:new e3,data:new Map,refCount:0}}function to(a){a.refCount--,a.refCount===0&&t3(r3,function(){a.controller.abort()})}var ro=null,Gh=0,Cs=0,Ts=null;function n3(a,l){if(ro===null){var c=ro=[];Gh=0,Cs=Fm(),Ts={status:"pending",value:void 0,then:function(f){c.push(f)}}}return Gh++,l.then(nb,nb),l}function nb(){if(--Gh===0&&ro!==null){Ts!==null&&(Ts.status="fulfilled");var a=ro;ro=null,Cs=0,Ts=null;for(var l=0;l<a.length;l++)(0,a[l])()}}function a3(a,l){var c=[],f={status:"pending",value:null,reason:null,then:function(p){c.push(p)}};return a.then(function(){f.status="fulfilled",f.value=l;for(var p=0;p<c.length;p++)(0,c[p])(l)},function(p){for(f.status="rejected",f.reason=p,p=0;p<c.length;p++)(0,c[p])(void 0)}),f}var ab=z.S;z.S=function(a,l){typeof l=="object"&&l!==null&&typeof l.then=="function"&&n3(a,l),ab!==null&&ab(a,l)};var Di=ee(null);function Vh(){var a=Di.current;return a!==null?a:st.pooledCache}function hu(a,l){l===null?ge(Di,Di.current):ge(Di,l.pool)}function ib(){var a=Vh();return a===null?null:{parent:Dt._currentValue,pool:a}}var no=Error(n(460)),sb=Error(n(474)),mu=Error(n(542)),Fh={then:function(){}};function lb(a){return a=a.status,a==="fulfilled"||a==="rejected"}function gu(){}function ob(a,l,c){switch(c=a[c],c===void 0?a.push(l):c!==l&&(l.then(gu,gu),l=c),l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,ub(a),a;default:if(typeof l.status=="string")l.then(gu,gu);else{if(a=st,a!==null&&100<a.shellSuspendCounter)throw Error(n(482));a=l,a.status="pending",a.then(function(f){if(l.status==="pending"){var p=l;p.status="fulfilled",p.value=f}},function(f){if(l.status==="pending"){var p=l;p.status="rejected",p.reason=f}})}switch(l.status){case"fulfilled":return l.value;case"rejected":throw a=l.reason,ub(a),a}throw ao=l,no}}var ao=null;function cb(){if(ao===null)throw Error(n(459));var a=ao;return ao=null,a}function ub(a){if(a===no||a===mu)throw Error(n(483))}var Ra=!1;function Wh(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xh(a,l){a=a.updateQueue,l.updateQueue===a&&(l.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,callbacks:null})}function $a(a){return{lane:a,tag:0,payload:null,callback:null,next:null}}function La(a,l,c){var f=a.updateQueue;if(f===null)return null;if(f=f.shared,(Xe&2)!==0){var p=f.pending;return p===null?l.next=l:(l.next=p.next,p.next=l),f.pending=l,l=lu(a),Xy(a,null,c),l}return su(a,f,l,c),lu(a)}function io(a,l,c){if(l=l.updateQueue,l!==null&&(l=l.shared,(c&4194048)!==0)){var f=l.lanes;f&=a.pendingLanes,c|=f,l.lanes=c,Yc(a,c)}}function Qh(a,l){var c=a.updateQueue,f=a.alternate;if(f!==null&&(f=f.updateQueue,c===f)){var p=null,y=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};y===null?p=y=E:y=y.next=E,c=c.next}while(c!==null);y===null?p=y=l:y=y.next=l}else p=y=l;c={baseState:f.baseState,firstBaseUpdate:p,lastBaseUpdate:y,shared:f.shared,callbacks:f.callbacks},a.updateQueue=c;return}a=c.lastBaseUpdate,a===null?c.firstBaseUpdate=l:a.next=l,c.lastBaseUpdate=l}var Zh=!1;function so(){if(Zh){var a=Ts;if(a!==null)throw a}}function lo(a,l,c,f){Zh=!1;var p=a.updateQueue;Ra=!1;var y=p.firstBaseUpdate,E=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var B=M,Z=B.next;B.next=null,E===null?y=Z:E.next=Z,E=B;var ue=a.alternate;ue!==null&&(ue=ue.updateQueue,M=ue.lastBaseUpdate,M!==E&&(M===null?ue.firstBaseUpdate=Z:M.next=Z,ue.lastBaseUpdate=B))}if(y!==null){var he=p.baseState;E=0,ue=Z=B=null,M=y;do{var ne=M.lane&-536870913,ae=ne!==M.lane;if(ae?(He&ne)===ne:(f&ne)===ne){ne!==0&&ne===Cs&&(Zh=!0),ue!==null&&(ue=ue.next={lane:0,tag:M.tag,payload:M.payload,callback:null,next:null});e:{var Me=a,Te=M;ne=l;var tt=c;switch(Te.tag){case 1:if(Me=Te.payload,typeof Me=="function"){he=Me.call(tt,he,ne);break e}he=Me;break e;case 3:Me.flags=Me.flags&-65537|128;case 0:if(Me=Te.payload,ne=typeof Me=="function"?Me.call(tt,he,ne):Me,ne==null)break e;he=g({},he,ne);break e;case 2:Ra=!0}}ne=M.callback,ne!==null&&(a.flags|=64,ae&&(a.flags|=8192),ae=p.callbacks,ae===null?p.callbacks=[ne]:ae.push(ne))}else ae={lane:ne,tag:M.tag,payload:M.payload,callback:M.callback,next:null},ue===null?(Z=ue=ae,B=he):ue=ue.next=ae,E|=ne;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;ae=M,M=ae.next,ae.next=null,p.lastBaseUpdate=ae,p.shared.pending=null}}while(!0);ue===null&&(B=he),p.baseState=B,p.firstBaseUpdate=Z,p.lastBaseUpdate=ue,y===null&&(p.shared.lanes=0),Ya|=E,a.lanes=E,a.memoizedState=he}}function db(a,l){if(typeof a!="function")throw Error(n(191,a));a.call(l)}function fb(a,l){var c=a.callbacks;if(c!==null)for(a.callbacks=null,a=0;a<c.length;a++)db(c[a],l)}var Ds=ee(null),xu=ee(0);function hb(a,l){a=la,ge(xu,a),ge(Ds,l),la=a|l.baseLanes}function Jh(){ge(xu,la),ge(Ds,Ds.current)}function em(){la=xu.current,ie(Ds),ie(xu)}var Ia=0,Ie=null,Je=null,At=null,pu=!1,Ps=!1,Pi=!1,vu=0,oo=0,Ms=null,i3=0;function Nt(){throw Error(n(321))}function tm(a,l){if(l===null)return!1;for(var c=0;c<l.length&&c<a.length;c++)if(!Pr(a[c],l[c]))return!1;return!0}function rm(a,l,c,f,p,y){return Ia=y,Ie=l,l.memoizedState=null,l.updateQueue=null,l.lanes=0,z.H=a===null||a.memoizedState===null?Xb:Qb,Pi=!1,y=c(f,p),Pi=!1,Ps&&(y=gb(l,c,f,p)),mb(a),y}function mb(a){z.H=_u;var l=Je!==null&&Je.next!==null;if(Ia=0,At=Je=Ie=null,pu=!1,oo=0,Ms=null,l)throw Error(n(300));a===null||Ht||(a=a.dependencies,a!==null&&du(a)&&(Ht=!0))}function gb(a,l,c,f){Ie=a;var p=0;do{if(Ps&&(Ms=null),oo=0,Ps=!1,25<=p)throw Error(n(301));if(p+=1,At=Je=null,a.updateQueue!=null){var y=a.updateQueue;y.lastEffect=null,y.events=null,y.stores=null,y.memoCache!=null&&(y.memoCache.index=0)}z.H=f3,y=l(c,f)}while(Ps);return y}function s3(){var a=z.H,l=a.useState()[0];return l=typeof l.then=="function"?co(l):l,a=a.useState()[0],(Je!==null?Je.memoizedState:null)!==a&&(Ie.flags|=1024),l}function nm(){var a=vu!==0;return vu=0,a}function am(a,l,c){l.updateQueue=a.updateQueue,l.flags&=-2053,a.lanes&=~c}function im(a){if(pu){for(a=a.memoizedState;a!==null;){var l=a.queue;l!==null&&(l.pending=null),a=a.next}pu=!1}Ia=0,At=Je=Ie=null,Ps=!1,oo=vu=0,Ms=null}function jr(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Ie.memoizedState=At=a:At=At.next=a,At}function Et(){if(Je===null){var a=Ie.alternate;a=a!==null?a.memoizedState:null}else a=Je.next;var l=At===null?Ie.memoizedState:At.next;if(l!==null)At=l,Je=a;else{if(a===null)throw Ie.alternate===null?Error(n(467)):Error(n(310));Je=a,a={memoizedState:Je.memoizedState,baseState:Je.baseState,baseQueue:Je.baseQueue,queue:Je.queue,next:null},At===null?Ie.memoizedState=At=a:At=At.next=a}return At}function sm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function co(a){var l=oo;return oo+=1,Ms===null&&(Ms=[]),a=ob(Ms,a,l),l=Ie,(At===null?l.memoizedState:At.next)===null&&(l=l.alternate,z.H=l===null||l.memoizedState===null?Xb:Qb),a}function yu(a){if(a!==null&&typeof a=="object"){if(typeof a.then=="function")return co(a);if(a.$$typeof===A)return cr(a)}throw Error(n(438,String(a)))}function lm(a){var l=null,c=Ie.updateQueue;if(c!==null&&(l=c.memoCache),l==null){var f=Ie.alternate;f!==null&&(f=f.updateQueue,f!==null&&(f=f.memoCache,f!=null&&(l={data:f.data.map(function(p){return p.slice()}),index:0})))}if(l==null&&(l={data:[],index:0}),c===null&&(c=sm(),Ie.updateQueue=c),c.memoCache=l,c=l.data[l.index],c===void 0)for(c=l.data[l.index]=Array(a),f=0;f<a;f++)c[f]=U;return l.index++,c}function ta(a,l){return typeof l=="function"?l(a):l}function bu(a){var l=Et();return om(l,Je,a)}function om(a,l,c){var f=a.queue;if(f===null)throw Error(n(311));f.lastRenderedReducer=c;var p=a.baseQueue,y=f.pending;if(y!==null){if(p!==null){var E=p.next;p.next=y.next,y.next=E}l.baseQueue=p=y,f.pending=null}if(y=a.baseState,p===null)a.memoizedState=y;else{l=p.next;var M=E=null,B=null,Z=l,ue=!1;do{var he=Z.lane&-536870913;if(he!==Z.lane?(He&he)===he:(Ia&he)===he){var ne=Z.revertLane;if(ne===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),he===Cs&&(ue=!0);else if((Ia&ne)===ne){Z=Z.next,ne===Cs&&(ue=!0);continue}else he={lane:0,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(M=B=he,E=y):B=B.next=he,Ie.lanes|=ne,Ya|=ne;he=Z.action,Pi&&c(y,he),y=Z.hasEagerState?Z.eagerState:c(y,he)}else ne={lane:he,revertLane:Z.revertLane,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null},B===null?(M=B=ne,E=y):B=B.next=ne,Ie.lanes|=he,Ya|=he;Z=Z.next}while(Z!==null&&Z!==l);if(B===null?E=y:B.next=M,!Pr(y,a.memoizedState)&&(Ht=!0,ue&&(c=Ts,c!==null)))throw c;a.memoizedState=y,a.baseState=E,a.baseQueue=B,f.lastRenderedState=y}return p===null&&(f.lanes=0),[a.memoizedState,f.dispatch]}function cm(a){var l=Et(),c=l.queue;if(c===null)throw Error(n(311));c.lastRenderedReducer=a;var f=c.dispatch,p=c.pending,y=l.memoizedState;if(p!==null){c.pending=null;var E=p=p.next;do y=a(y,E.action),E=E.next;while(E!==p);Pr(y,l.memoizedState)||(Ht=!0),l.memoizedState=y,l.baseQueue===null&&(l.baseState=y),c.lastRenderedState=y}return[y,f]}function xb(a,l,c){var f=Ie,p=Et(),y=Fe;if(y){if(c===void 0)throw Error(n(407));c=c()}else c=l();var E=!Pr((Je||p).memoizedState,c);E&&(p.memoizedState=c,Ht=!0),p=p.queue;var M=yb.bind(null,f,p,a);if(uo(2048,8,M,[a]),p.getSnapshot!==l||E||At!==null&&At.memoizedState.tag&1){if(f.flags|=2048,Rs(9,wu(),vb.bind(null,f,p,c,l),null),st===null)throw Error(n(349));y||(Ia&124)!==0||pb(f,l,c)}return c}function pb(a,l,c){a.flags|=16384,a={getSnapshot:l,value:c},l=Ie.updateQueue,l===null?(l=sm(),Ie.updateQueue=l,l.stores=[a]):(c=l.stores,c===null?l.stores=[a]:c.push(a))}function vb(a,l,c,f){l.value=c,l.getSnapshot=f,bb(l)&&wb(a)}function yb(a,l,c){return c(function(){bb(l)&&wb(a)})}function bb(a){var l=a.getSnapshot;a=a.value;try{var c=l();return!Pr(a,c)}catch{return!0}}function wb(a){var l=Os(a,2);l!==null&&Ur(l,a,2)}function um(a){var l=jr();if(typeof a=="function"){var c=a;if(a=c(),Pi){hn(!0);try{c()}finally{hn(!1)}}}return l.memoizedState=l.baseState=a,l.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:a},l}function jb(a,l,c,f){return a.baseState=c,om(a,Je,typeof f=="function"?f:ta)}function l3(a,l,c,f,p){if(Nu(a))throw Error(n(485));if(a=l.action,a!==null){var y={payload:p,action:a,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){y.listeners.push(E)}};z.T!==null?c(!0):y.isTransition=!1,f(y),c=l.pending,c===null?(y.next=l.pending=y,Nb(l,y)):(y.next=c.next,l.pending=c.next=y)}}function Nb(a,l){var c=l.action,f=l.payload,p=a.state;if(l.isTransition){var y=z.T,E={};z.T=E;try{var M=c(p,f),B=z.S;B!==null&&B(E,M),_b(a,l,M)}catch(Z){dm(a,l,Z)}finally{z.T=y}}else try{y=c(p,f),_b(a,l,y)}catch(Z){dm(a,l,Z)}}function _b(a,l,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(f){Sb(a,l,f)},function(f){return dm(a,l,f)}):Sb(a,l,c)}function Sb(a,l,c){l.status="fulfilled",l.value=c,Ob(l),a.state=c,l=a.pending,l!==null&&(c=l.next,c===l?a.pending=null:(c=c.next,l.next=c,Nb(a,c)))}function dm(a,l,c){var f=a.pending;if(a.pending=null,f!==null){f=f.next;do l.status="rejected",l.reason=c,Ob(l),l=l.next;while(l!==f)}a.action=null}function Ob(a){a=a.listeners;for(var l=0;l<a.length;l++)(0,a[l])()}function Ab(a,l){return l}function Eb(a,l){if(Fe){var c=st.formState;if(c!==null){e:{var f=Ie;if(Fe){if(bt){t:{for(var p=bt,y=Cn;p.nodeType!==8;){if(!y){p=null;break t}if(p=vn(p.nextSibling),p===null){p=null;break t}}y=p.data,p=y==="F!"||y==="F"?p:null}if(p){bt=vn(p.nextSibling),f=p.data==="F!";break e}}ki(f)}f=!1}f&&(l=c[0])}}return c=jr(),c.memoizedState=c.baseState=l,f={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ab,lastRenderedState:l},c.queue=f,c=Vb.bind(null,Ie,f),f.dispatch=c,f=um(!1),y=xm.bind(null,Ie,!1,f.queue),f=jr(),p={state:l,dispatch:null,action:a,pending:null},f.queue=p,c=l3.bind(null,Ie,p,y,c),p.dispatch=c,f.memoizedState=a,[l,c,!1]}function kb(a){var l=Et();return Cb(l,Je,a)}function Cb(a,l,c){if(l=om(a,l,Ab)[0],a=bu(ta)[0],typeof l=="object"&&l!==null&&typeof l.then=="function")try{var f=co(l)}catch(E){throw E===no?mu:E}else f=l;l=Et();var p=l.queue,y=p.dispatch;return c!==l.memoizedState&&(Ie.flags|=2048,Rs(9,wu(),o3.bind(null,p,c),null)),[f,y,a]}function o3(a,l){a.action=l}function Tb(a){var l=Et(),c=Je;if(c!==null)return Cb(l,c,a);Et(),l=l.memoizedState,c=Et();var f=c.queue.dispatch;return c.memoizedState=a,[l,f,!1]}function Rs(a,l,c,f){return a={tag:a,create:c,deps:f,inst:l,next:null},l=Ie.updateQueue,l===null&&(l=sm(),Ie.updateQueue=l),c=l.lastEffect,c===null?l.lastEffect=a.next=a:(f=c.next,c.next=a,a.next=f,l.lastEffect=a),a}function wu(){return{destroy:void 0,resource:void 0}}function Db(){return Et().memoizedState}function ju(a,l,c,f){var p=jr();f=f===void 0?null:f,Ie.flags|=a,p.memoizedState=Rs(1|l,wu(),c,f)}function uo(a,l,c,f){var p=Et();f=f===void 0?null:f;var y=p.memoizedState.inst;Je!==null&&f!==null&&tm(f,Je.memoizedState.deps)?p.memoizedState=Rs(l,y,c,f):(Ie.flags|=a,p.memoizedState=Rs(1|l,y,c,f))}function Pb(a,l){ju(8390656,8,a,l)}function Mb(a,l){uo(2048,8,a,l)}function Rb(a,l){return uo(4,2,a,l)}function $b(a,l){return uo(4,4,a,l)}function Lb(a,l){if(typeof l=="function"){a=a();var c=l(a);return function(){typeof c=="function"?c():l(null)}}if(l!=null)return a=a(),l.current=a,function(){l.current=null}}function Ib(a,l,c){c=c!=null?c.concat([a]):null,uo(4,4,Lb.bind(null,l,a),c)}function fm(){}function Ub(a,l){var c=Et();l=l===void 0?null:l;var f=c.memoizedState;return l!==null&&tm(l,f[1])?f[0]:(c.memoizedState=[a,l],a)}function qb(a,l){var c=Et();l=l===void 0?null:l;var f=c.memoizedState;if(l!==null&&tm(l,f[1]))return f[0];if(f=a(),Pi){hn(!0);try{a()}finally{hn(!1)}}return c.memoizedState=[f,l],f}function hm(a,l,c){return c===void 0||(Ia&1073741824)!==0?a.memoizedState=l:(a.memoizedState=c,a=Hw(),Ie.lanes|=a,Ya|=a,c)}function zb(a,l,c,f){return Pr(c,l)?c:Ds.current!==null?(a=hm(a,c,f),Pr(a,l)||(Ht=!0),a):(Ia&42)===0?(Ht=!0,a.memoizedState=c):(a=Hw(),Ie.lanes|=a,Ya|=a,l)}function Bb(a,l,c,f,p){var y=V.p;V.p=y!==0&&8>y?y:8;var E=z.T,M={};z.T=M,xm(a,!1,l,c);try{var B=p(),Z=z.S;if(Z!==null&&Z(M,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ue=a3(B,f);fo(a,l,ue,Ir(a))}else fo(a,l,f,Ir(a))}catch(he){fo(a,l,{then:function(){},status:"rejected",reason:he},Ir())}finally{V.p=y,z.T=E}}function c3(){}function mm(a,l,c,f){if(a.tag!==5)throw Error(n(476));var p=Hb(a).queue;Bb(a,p,l,re,c===null?c3:function(){return Kb(a),c(f)})}function Hb(a){var l=a.memoizedState;if(l!==null)return l;l={memoizedState:re,baseState:re,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:re},next:null};var c={};return l.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ta,lastRenderedState:c},next:null},a.memoizedState=l,a=a.alternate,a!==null&&(a.memoizedState=l),l}function Kb(a){var l=Hb(a).next.queue;fo(a,l,{},Ir())}function gm(){return cr(Co)}function Yb(){return Et().memoizedState}function Gb(){return Et().memoizedState}function u3(a){for(var l=a.return;l!==null;){switch(l.tag){case 24:case 3:var c=Ir();a=$a(c);var f=La(l,a,c);f!==null&&(Ur(f,l,c),io(f,l,c)),l={cache:Yh()},a.payload=l;return}l=l.return}}function d3(a,l,c){var f=Ir();c={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null},Nu(a)?Fb(l,c):(c=Rh(a,l,c,f),c!==null&&(Ur(c,a,f),Wb(c,l,f)))}function Vb(a,l,c){var f=Ir();fo(a,l,c,f)}function fo(a,l,c,f){var p={lane:f,revertLane:0,action:c,hasEagerState:!1,eagerState:null,next:null};if(Nu(a))Fb(l,p);else{var y=a.alternate;if(a.lanes===0&&(y===null||y.lanes===0)&&(y=l.lastRenderedReducer,y!==null))try{var E=l.lastRenderedState,M=y(E,c);if(p.hasEagerState=!0,p.eagerState=M,Pr(M,E))return su(a,l,p,0),st===null&&iu(),!1}catch{}finally{}if(c=Rh(a,l,p,f),c!==null)return Ur(c,a,f),Wb(c,l,f),!0}return!1}function xm(a,l,c,f){if(f={lane:2,revertLane:Fm(),action:f,hasEagerState:!1,eagerState:null,next:null},Nu(a)){if(l)throw Error(n(479))}else l=Rh(a,c,f,2),l!==null&&Ur(l,a,2)}function Nu(a){var l=a.alternate;return a===Ie||l!==null&&l===Ie}function Fb(a,l){Ps=pu=!0;var c=a.pending;c===null?l.next=l:(l.next=c.next,c.next=l),a.pending=l}function Wb(a,l,c){if((c&4194048)!==0){var f=l.lanes;f&=a.pendingLanes,c|=f,l.lanes=c,Yc(a,c)}}var _u={readContext:cr,use:yu,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useLayoutEffect:Nt,useInsertionEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useSyncExternalStore:Nt,useId:Nt,useHostTransitionStatus:Nt,useFormState:Nt,useActionState:Nt,useOptimistic:Nt,useMemoCache:Nt,useCacheRefresh:Nt},Xb={readContext:cr,use:yu,useCallback:function(a,l){return jr().memoizedState=[a,l===void 0?null:l],a},useContext:cr,useEffect:Pb,useImperativeHandle:function(a,l,c){c=c!=null?c.concat([a]):null,ju(4194308,4,Lb.bind(null,l,a),c)},useLayoutEffect:function(a,l){return ju(4194308,4,a,l)},useInsertionEffect:function(a,l){ju(4,2,a,l)},useMemo:function(a,l){var c=jr();l=l===void 0?null:l;var f=a();if(Pi){hn(!0);try{a()}finally{hn(!1)}}return c.memoizedState=[f,l],f},useReducer:function(a,l,c){var f=jr();if(c!==void 0){var p=c(l);if(Pi){hn(!0);try{c(l)}finally{hn(!1)}}}else p=l;return f.memoizedState=f.baseState=p,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:p},f.queue=a,a=a.dispatch=d3.bind(null,Ie,a),[f.memoizedState,a]},useRef:function(a){var l=jr();return a={current:a},l.memoizedState=a},useState:function(a){a=um(a);var l=a.queue,c=Vb.bind(null,Ie,l);return l.dispatch=c,[a.memoizedState,c]},useDebugValue:fm,useDeferredValue:function(a,l){var c=jr();return hm(c,a,l)},useTransition:function(){var a=um(!1);return a=Bb.bind(null,Ie,a.queue,!0,!1),jr().memoizedState=a,[!1,a]},useSyncExternalStore:function(a,l,c){var f=Ie,p=jr();if(Fe){if(c===void 0)throw Error(n(407));c=c()}else{if(c=l(),st===null)throw Error(n(349));(He&124)!==0||pb(f,l,c)}p.memoizedState=c;var y={value:c,getSnapshot:l};return p.queue=y,Pb(yb.bind(null,f,y,a),[a]),f.flags|=2048,Rs(9,wu(),vb.bind(null,f,y,c,l),null),c},useId:function(){var a=jr(),l=st.identifierPrefix;if(Fe){var c=Zn,f=Qn;c=(f&~(1<<32-lr(f)-1)).toString(32)+c,l="«"+l+"R"+c,c=vu++,0<c&&(l+="H"+c.toString(32)),l+="»"}else c=i3++,l="«"+l+"r"+c.toString(32)+"»";return a.memoizedState=l},useHostTransitionStatus:gm,useFormState:Eb,useActionState:Eb,useOptimistic:function(a){var l=jr();l.memoizedState=l.baseState=a;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return l.queue=c,l=xm.bind(null,Ie,!0,c),c.dispatch=l,[a,l]},useMemoCache:lm,useCacheRefresh:function(){return jr().memoizedState=u3.bind(null,Ie)}},Qb={readContext:cr,use:yu,useCallback:Ub,useContext:cr,useEffect:Mb,useImperativeHandle:Ib,useInsertionEffect:Rb,useLayoutEffect:$b,useMemo:qb,useReducer:bu,useRef:Db,useState:function(){return bu(ta)},useDebugValue:fm,useDeferredValue:function(a,l){var c=Et();return zb(c,Je.memoizedState,a,l)},useTransition:function(){var a=bu(ta)[0],l=Et().memoizedState;return[typeof a=="boolean"?a:co(a),l]},useSyncExternalStore:xb,useId:Yb,useHostTransitionStatus:gm,useFormState:kb,useActionState:kb,useOptimistic:function(a,l){var c=Et();return jb(c,Je,a,l)},useMemoCache:lm,useCacheRefresh:Gb},f3={readContext:cr,use:yu,useCallback:Ub,useContext:cr,useEffect:Mb,useImperativeHandle:Ib,useInsertionEffect:Rb,useLayoutEffect:$b,useMemo:qb,useReducer:cm,useRef:Db,useState:function(){return cm(ta)},useDebugValue:fm,useDeferredValue:function(a,l){var c=Et();return Je===null?hm(c,a,l):zb(c,Je.memoizedState,a,l)},useTransition:function(){var a=cm(ta)[0],l=Et().memoizedState;return[typeof a=="boolean"?a:co(a),l]},useSyncExternalStore:xb,useId:Yb,useHostTransitionStatus:gm,useFormState:Tb,useActionState:Tb,useOptimistic:function(a,l){var c=Et();return Je!==null?jb(c,Je,a,l):(c.baseState=a,[a,c.queue.dispatch])},useMemoCache:lm,useCacheRefresh:Gb},$s=null,ho=0;function Su(a){var l=ho;return ho+=1,$s===null&&($s=[]),ob($s,a,l)}function mo(a,l){l=l.props.ref,a.ref=l!==void 0?l:null}function Ou(a,l){throw l.$$typeof===x?Error(n(525)):(a=Object.prototype.toString.call(l),Error(n(31,a==="[object Object]"?"object with keys {"+Object.keys(l).join(", ")+"}":a)))}function Zb(a){var l=a._init;return l(a._payload)}function Jb(a){function l(F,G){if(a){var Q=F.deletions;Q===null?(F.deletions=[G],F.flags|=16):Q.push(G)}}function c(F,G){if(!a)return null;for(;G!==null;)l(F,G),G=G.sibling;return null}function f(F){for(var G=new Map;F!==null;)F.key!==null?G.set(F.key,F):G.set(F.index,F),F=F.sibling;return G}function p(F,G){return F=Xn(F,G),F.index=0,F.sibling=null,F}function y(F,G,Q){return F.index=Q,a?(Q=F.alternate,Q!==null?(Q=Q.index,Q<G?(F.flags|=67108866,G):Q):(F.flags|=67108866,G)):(F.flags|=1048576,G)}function E(F){return a&&F.alternate===null&&(F.flags|=67108866),F}function M(F,G,Q,fe){return G===null||G.tag!==6?(G=Lh(Q,F.mode,fe),G.return=F,G):(G=p(G,Q),G.return=F,G)}function B(F,G,Q,fe){var Oe=Q.type;return Oe===j?ue(F,G,Q.props.children,fe,Q.key):G!==null&&(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===D&&Zb(Oe)===G.type)?(G=p(G,Q.props),mo(G,Q),G.return=F,G):(G=ou(Q.type,Q.key,Q.props,null,F.mode,fe),mo(G,Q),G.return=F,G)}function Z(F,G,Q,fe){return G===null||G.tag!==4||G.stateNode.containerInfo!==Q.containerInfo||G.stateNode.implementation!==Q.implementation?(G=Ih(Q,F.mode,fe),G.return=F,G):(G=p(G,Q.children||[]),G.return=F,G)}function ue(F,G,Q,fe,Oe){return G===null||G.tag!==7?(G=Si(Q,F.mode,fe,Oe),G.return=F,G):(G=p(G,Q),G.return=F,G)}function he(F,G,Q){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Lh(""+G,F.mode,Q),G.return=F,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return Q=ou(G.type,G.key,G.props,null,F.mode,Q),mo(Q,G),Q.return=F,Q;case b:return G=Ih(G,F.mode,Q),G.return=F,G;case D:var fe=G._init;return G=fe(G._payload),he(F,G,Q)}if(ce(G)||te(G))return G=Si(G,F.mode,Q,null),G.return=F,G;if(typeof G.then=="function")return he(F,Su(G),Q);if(G.$$typeof===A)return he(F,fu(F,G),Q);Ou(F,G)}return null}function ne(F,G,Q,fe){var Oe=G!==null?G.key:null;if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Oe!==null?null:M(F,G,""+Q,fe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:return Q.key===Oe?B(F,G,Q,fe):null;case b:return Q.key===Oe?Z(F,G,Q,fe):null;case D:return Oe=Q._init,Q=Oe(Q._payload),ne(F,G,Q,fe)}if(ce(Q)||te(Q))return Oe!==null?null:ue(F,G,Q,fe,null);if(typeof Q.then=="function")return ne(F,G,Su(Q),fe);if(Q.$$typeof===A)return ne(F,G,fu(F,Q),fe);Ou(F,Q)}return null}function ae(F,G,Q,fe,Oe){if(typeof fe=="string"&&fe!==""||typeof fe=="number"||typeof fe=="bigint")return F=F.get(Q)||null,M(G,F,""+fe,Oe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case v:return F=F.get(fe.key===null?Q:fe.key)||null,B(G,F,fe,Oe);case b:return F=F.get(fe.key===null?Q:fe.key)||null,Z(G,F,fe,Oe);case D:var Ue=fe._init;return fe=Ue(fe._payload),ae(F,G,Q,fe,Oe)}if(ce(fe)||te(fe))return F=F.get(Q)||null,ue(G,F,fe,Oe,null);if(typeof fe.then=="function")return ae(F,G,Q,Su(fe),Oe);if(fe.$$typeof===A)return ae(F,G,Q,fu(G,fe),Oe);Ou(G,fe)}return null}function Me(F,G,Q,fe){for(var Oe=null,Ue=null,Ee=G,De=G=0,Yt=null;Ee!==null&&De<Q.length;De++){Ee.index>De?(Yt=Ee,Ee=null):Yt=Ee.sibling;var Ge=ne(F,Ee,Q[De],fe);if(Ge===null){Ee===null&&(Ee=Yt);break}a&&Ee&&Ge.alternate===null&&l(F,Ee),G=y(Ge,G,De),Ue===null?Oe=Ge:Ue.sibling=Ge,Ue=Ge,Ee=Yt}if(De===Q.length)return c(F,Ee),Fe&&Ai(F,De),Oe;if(Ee===null){for(;De<Q.length;De++)Ee=he(F,Q[De],fe),Ee!==null&&(G=y(Ee,G,De),Ue===null?Oe=Ee:Ue.sibling=Ee,Ue=Ee);return Fe&&Ai(F,De),Oe}for(Ee=f(Ee);De<Q.length;De++)Yt=ae(Ee,F,De,Q[De],fe),Yt!==null&&(a&&Yt.alternate!==null&&Ee.delete(Yt.key===null?De:Yt.key),G=y(Yt,G,De),Ue===null?Oe=Yt:Ue.sibling=Yt,Ue=Yt);return a&&Ee.forEach(function(ei){return l(F,ei)}),Fe&&Ai(F,De),Oe}function Te(F,G,Q,fe){if(Q==null)throw Error(n(151));for(var Oe=null,Ue=null,Ee=G,De=G=0,Yt=null,Ge=Q.next();Ee!==null&&!Ge.done;De++,Ge=Q.next()){Ee.index>De?(Yt=Ee,Ee=null):Yt=Ee.sibling;var ei=ne(F,Ee,Ge.value,fe);if(ei===null){Ee===null&&(Ee=Yt);break}a&&Ee&&ei.alternate===null&&l(F,Ee),G=y(ei,G,De),Ue===null?Oe=ei:Ue.sibling=ei,Ue=ei,Ee=Yt}if(Ge.done)return c(F,Ee),Fe&&Ai(F,De),Oe;if(Ee===null){for(;!Ge.done;De++,Ge=Q.next())Ge=he(F,Ge.value,fe),Ge!==null&&(G=y(Ge,G,De),Ue===null?Oe=Ge:Ue.sibling=Ge,Ue=Ge);return Fe&&Ai(F,De),Oe}for(Ee=f(Ee);!Ge.done;De++,Ge=Q.next())Ge=ae(Ee,F,De,Ge.value,fe),Ge!==null&&(a&&Ge.alternate!==null&&Ee.delete(Ge.key===null?De:Ge.key),G=y(Ge,G,De),Ue===null?Oe=Ge:Ue.sibling=Ge,Ue=Ge);return a&&Ee.forEach(function(hD){return l(F,hD)}),Fe&&Ai(F,De),Oe}function tt(F,G,Q,fe){if(typeof Q=="object"&&Q!==null&&Q.type===j&&Q.key===null&&(Q=Q.props.children),typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case v:e:{for(var Oe=Q.key;G!==null;){if(G.key===Oe){if(Oe=Q.type,Oe===j){if(G.tag===7){c(F,G.sibling),fe=p(G,Q.props.children),fe.return=F,F=fe;break e}}else if(G.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===D&&Zb(Oe)===G.type){c(F,G.sibling),fe=p(G,Q.props),mo(fe,Q),fe.return=F,F=fe;break e}c(F,G);break}else l(F,G);G=G.sibling}Q.type===j?(fe=Si(Q.props.children,F.mode,fe,Q.key),fe.return=F,F=fe):(fe=ou(Q.type,Q.key,Q.props,null,F.mode,fe),mo(fe,Q),fe.return=F,F=fe)}return E(F);case b:e:{for(Oe=Q.key;G!==null;){if(G.key===Oe)if(G.tag===4&&G.stateNode.containerInfo===Q.containerInfo&&G.stateNode.implementation===Q.implementation){c(F,G.sibling),fe=p(G,Q.children||[]),fe.return=F,F=fe;break e}else{c(F,G);break}else l(F,G);G=G.sibling}fe=Ih(Q,F.mode,fe),fe.return=F,F=fe}return E(F);case D:return Oe=Q._init,Q=Oe(Q._payload),tt(F,G,Q,fe)}if(ce(Q))return Me(F,G,Q,fe);if(te(Q)){if(Oe=te(Q),typeof Oe!="function")throw Error(n(150));return Q=Oe.call(Q),Te(F,G,Q,fe)}if(typeof Q.then=="function")return tt(F,G,Su(Q),fe);if(Q.$$typeof===A)return tt(F,G,fu(F,Q),fe);Ou(F,Q)}return typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint"?(Q=""+Q,G!==null&&G.tag===6?(c(F,G.sibling),fe=p(G,Q),fe.return=F,F=fe):(c(F,G),fe=Lh(Q,F.mode,fe),fe.return=F,F=fe),E(F)):c(F,G)}return function(F,G,Q,fe){try{ho=0;var Oe=tt(F,G,Q,fe);return $s=null,Oe}catch(Ee){if(Ee===no||Ee===mu)throw Ee;var Ue=Mr(29,Ee,null,F.mode);return Ue.lanes=fe,Ue.return=F,Ue}finally{}}}var Ls=Jb(!0),ew=Jb(!1),tn=ee(null),Tn=null;function Ua(a){var l=a.alternate;ge(Pt,Pt.current&1),ge(tn,a),Tn===null&&(l===null||Ds.current!==null||l.memoizedState!==null)&&(Tn=a)}function tw(a){if(a.tag===22){if(ge(Pt,Pt.current),ge(tn,a),Tn===null){var l=a.alternate;l!==null&&l.memoizedState!==null&&(Tn=a)}}else qa()}function qa(){ge(Pt,Pt.current),ge(tn,tn.current)}function ra(a){ie(tn),Tn===a&&(Tn=null),ie(Pt)}var Pt=ee(0);function Au(a){for(var l=a;l!==null;){if(l.tag===13){var c=l.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||sg(c)))return l}else if(l.tag===19&&l.memoizedProps.revealOrder!==void 0){if((l.flags&128)!==0)return l}else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return null;l=l.return}l.sibling.return=l.return,l=l.sibling}return null}function pm(a,l,c,f){l=a.memoizedState,c=c(f,l),c=c==null?l:g({},l,c),a.memoizedState=c,a.lanes===0&&(a.updateQueue.baseState=c)}var vm={enqueueSetState:function(a,l,c){a=a._reactInternals;var f=Ir(),p=$a(f);p.payload=l,c!=null&&(p.callback=c),l=La(a,p,f),l!==null&&(Ur(l,a,f),io(l,a,f))},enqueueReplaceState:function(a,l,c){a=a._reactInternals;var f=Ir(),p=$a(f);p.tag=1,p.payload=l,c!=null&&(p.callback=c),l=La(a,p,f),l!==null&&(Ur(l,a,f),io(l,a,f))},enqueueForceUpdate:function(a,l){a=a._reactInternals;var c=Ir(),f=$a(c);f.tag=2,l!=null&&(f.callback=l),l=La(a,f,c),l!==null&&(Ur(l,a,c),io(l,a,c))}};function rw(a,l,c,f,p,y,E){return a=a.stateNode,typeof a.shouldComponentUpdate=="function"?a.shouldComponentUpdate(f,y,E):l.prototype&&l.prototype.isPureReactComponent?!Wl(c,f)||!Wl(p,y):!0}function nw(a,l,c,f){a=l.state,typeof l.componentWillReceiveProps=="function"&&l.componentWillReceiveProps(c,f),typeof l.UNSAFE_componentWillReceiveProps=="function"&&l.UNSAFE_componentWillReceiveProps(c,f),l.state!==a&&vm.enqueueReplaceState(l,l.state,null)}function Mi(a,l){var c=l;if("ref"in l){c={};for(var f in l)f!=="ref"&&(c[f]=l[f])}if(a=a.defaultProps){c===l&&(c=g({},c));for(var p in a)c[p]===void 0&&(c[p]=a[p])}return c}var Eu=typeof reportError=="function"?reportError:function(a){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var l=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof a=="object"&&a!==null&&typeof a.message=="string"?String(a.message):String(a),error:a});if(!window.dispatchEvent(l))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",a);return}console.error(a)};function aw(a){Eu(a)}function iw(a){console.error(a)}function sw(a){Eu(a)}function ku(a,l){try{var c=a.onUncaughtError;c(l.value,{componentStack:l.stack})}catch(f){setTimeout(function(){throw f})}}function lw(a,l,c){try{var f=a.onCaughtError;f(c.value,{componentStack:c.stack,errorBoundary:l.tag===1?l.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function ym(a,l,c){return c=$a(c),c.tag=3,c.payload={element:null},c.callback=function(){ku(a,l)},c}function ow(a){return a=$a(a),a.tag=3,a}function cw(a,l,c,f){var p=c.type.getDerivedStateFromError;if(typeof p=="function"){var y=f.value;a.payload=function(){return p(y)},a.callback=function(){lw(l,c,f)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(a.callback=function(){lw(l,c,f),typeof p!="function"&&(Ga===null?Ga=new Set([this]):Ga.add(this));var M=f.stack;this.componentDidCatch(f.value,{componentStack:M!==null?M:""})})}function h3(a,l,c,f,p){if(c.flags|=32768,f!==null&&typeof f=="object"&&typeof f.then=="function"){if(l=c.alternate,l!==null&&eo(l,c,p,!0),c=tn.current,c!==null){switch(c.tag){case 13:return Tn===null?Hm():c.alternate===null&&wt===0&&(wt=3),c.flags&=-257,c.flags|=65536,c.lanes=p,f===Fh?c.flags|=16384:(l=c.updateQueue,l===null?c.updateQueue=new Set([f]):l.add(f),Ym(a,f,p)),!1;case 22:return c.flags|=65536,f===Fh?c.flags|=16384:(l=c.updateQueue,l===null?(l={transitions:null,markerInstances:null,retryQueue:new Set([f])},c.updateQueue=l):(c=l.retryQueue,c===null?l.retryQueue=new Set([f]):c.add(f)),Ym(a,f,p)),!1}throw Error(n(435,c.tag))}return Ym(a,f,p),Hm(),!1}if(Fe)return l=tn.current,l!==null?((l.flags&65536)===0&&(l.flags|=256),l.flags|=65536,l.lanes=p,f!==zh&&(a=Error(n(422),{cause:f}),Jl(Qr(a,c)))):(f!==zh&&(l=Error(n(423),{cause:f}),Jl(Qr(l,c))),a=a.current.alternate,a.flags|=65536,p&=-p,a.lanes|=p,f=Qr(f,c),p=ym(a.stateNode,f,p),Qh(a,p),wt!==4&&(wt=2)),!1;var y=Error(n(520),{cause:f});if(y=Qr(y,c),wo===null?wo=[y]:wo.push(y),wt!==4&&(wt=2),l===null)return!0;f=Qr(f,c),c=l;do{switch(c.tag){case 3:return c.flags|=65536,a=p&-p,c.lanes|=a,a=ym(c.stateNode,f,a),Qh(c,a),!1;case 1:if(l=c.type,y=c.stateNode,(c.flags&128)===0&&(typeof l.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Ga===null||!Ga.has(y))))return c.flags|=65536,p&=-p,c.lanes|=p,p=ow(p),cw(p,a,c,f),Qh(c,p),!1}c=c.return}while(c!==null);return!1}var uw=Error(n(461)),Ht=!1;function Jt(a,l,c,f){l.child=a===null?ew(l,null,c,f):Ls(l,a.child,c,f)}function dw(a,l,c,f,p){c=c.render;var y=l.ref;if("ref"in f){var E={};for(var M in f)M!=="ref"&&(E[M]=f[M])}else E=f;return Ti(l),f=rm(a,l,c,E,y,p),M=nm(),a!==null&&!Ht?(am(a,l,p),na(a,l,p)):(Fe&&M&&Uh(l),l.flags|=1,Jt(a,l,f,p),l.child)}function fw(a,l,c,f,p){if(a===null){var y=c.type;return typeof y=="function"&&!$h(y)&&y.defaultProps===void 0&&c.compare===null?(l.tag=15,l.type=y,hw(a,l,y,f,p)):(a=ou(c.type,null,f,l,l.mode,p),a.ref=l.ref,a.return=l,l.child=a)}if(y=a.child,!Am(a,p)){var E=y.memoizedProps;if(c=c.compare,c=c!==null?c:Wl,c(E,f)&&a.ref===l.ref)return na(a,l,p)}return l.flags|=1,a=Xn(y,f),a.ref=l.ref,a.return=l,l.child=a}function hw(a,l,c,f,p){if(a!==null){var y=a.memoizedProps;if(Wl(y,f)&&a.ref===l.ref)if(Ht=!1,l.pendingProps=f=y,Am(a,p))(a.flags&131072)!==0&&(Ht=!0);else return l.lanes=a.lanes,na(a,l,p)}return bm(a,l,c,f,p)}function mw(a,l,c){var f=l.pendingProps,p=f.children,y=a!==null?a.memoizedState:null;if(f.mode==="hidden"){if((l.flags&128)!==0){if(f=y!==null?y.baseLanes|c:c,a!==null){for(p=l.child=a.child,y=0;p!==null;)y=y|p.lanes|p.childLanes,p=p.sibling;l.childLanes=y&~f}else l.childLanes=0,l.child=null;return gw(a,l,f,c)}if((c&536870912)!==0)l.memoizedState={baseLanes:0,cachePool:null},a!==null&&hu(l,y!==null?y.cachePool:null),y!==null?hb(l,y):Jh(),tw(l);else return l.lanes=l.childLanes=536870912,gw(a,l,y!==null?y.baseLanes|c:c,c)}else y!==null?(hu(l,y.cachePool),hb(l,y),qa(),l.memoizedState=null):(a!==null&&hu(l,null),Jh(),qa());return Jt(a,l,p,c),l.child}function gw(a,l,c,f){var p=Vh();return p=p===null?null:{parent:Dt._currentValue,pool:p},l.memoizedState={baseLanes:c,cachePool:p},a!==null&&hu(l,null),Jh(),tw(l),a!==null&&eo(a,l,f,!0),null}function Cu(a,l){var c=l.ref;if(c===null)a!==null&&a.ref!==null&&(l.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(n(284));(a===null||a.ref!==c)&&(l.flags|=4194816)}}function bm(a,l,c,f,p){return Ti(l),c=rm(a,l,c,f,void 0,p),f=nm(),a!==null&&!Ht?(am(a,l,p),na(a,l,p)):(Fe&&f&&Uh(l),l.flags|=1,Jt(a,l,c,p),l.child)}function xw(a,l,c,f,p,y){return Ti(l),l.updateQueue=null,c=gb(l,f,c,p),mb(a),f=nm(),a!==null&&!Ht?(am(a,l,y),na(a,l,y)):(Fe&&f&&Uh(l),l.flags|=1,Jt(a,l,c,y),l.child)}function pw(a,l,c,f,p){if(Ti(l),l.stateNode===null){var y=As,E=c.contextType;typeof E=="object"&&E!==null&&(y=cr(E)),y=new c(f,y),l.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,y.updater=vm,l.stateNode=y,y._reactInternals=l,y=l.stateNode,y.props=f,y.state=l.memoizedState,y.refs={},Wh(l),E=c.contextType,y.context=typeof E=="object"&&E!==null?cr(E):As,y.state=l.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(pm(l,c,E,f),y.state=l.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(E=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),E!==y.state&&vm.enqueueReplaceState(y,y.state,null),lo(l,f,y,p),so(),y.state=l.memoizedState),typeof y.componentDidMount=="function"&&(l.flags|=4194308),f=!0}else if(a===null){y=l.stateNode;var M=l.memoizedProps,B=Mi(c,M);y.props=B;var Z=y.context,ue=c.contextType;E=As,typeof ue=="object"&&ue!==null&&(E=cr(ue));var he=c.getDerivedStateFromProps;ue=typeof he=="function"||typeof y.getSnapshotBeforeUpdate=="function",M=l.pendingProps!==M,ue||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(M||Z!==E)&&nw(l,y,f,E),Ra=!1;var ne=l.memoizedState;y.state=ne,lo(l,f,y,p),so(),Z=l.memoizedState,M||ne!==Z||Ra?(typeof he=="function"&&(pm(l,c,he,f),Z=l.memoizedState),(B=Ra||rw(l,c,B,f,ne,Z,E))?(ue||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount()),typeof y.componentDidMount=="function"&&(l.flags|=4194308)):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),l.memoizedProps=f,l.memoizedState=Z),y.props=f,y.state=Z,y.context=E,f=B):(typeof y.componentDidMount=="function"&&(l.flags|=4194308),f=!1)}else{y=l.stateNode,Xh(a,l),E=l.memoizedProps,ue=Mi(c,E),y.props=ue,he=l.pendingProps,ne=y.context,Z=c.contextType,B=As,typeof Z=="object"&&Z!==null&&(B=cr(Z)),M=c.getDerivedStateFromProps,(Z=typeof M=="function"||typeof y.getSnapshotBeforeUpdate=="function")||typeof y.UNSAFE_componentWillReceiveProps!="function"&&typeof y.componentWillReceiveProps!="function"||(E!==he||ne!==B)&&nw(l,y,f,B),Ra=!1,ne=l.memoizedState,y.state=ne,lo(l,f,y,p),so();var ae=l.memoizedState;E!==he||ne!==ae||Ra||a!==null&&a.dependencies!==null&&du(a.dependencies)?(typeof M=="function"&&(pm(l,c,M,f),ae=l.memoizedState),(ue=Ra||rw(l,c,ue,f,ne,ae,B)||a!==null&&a.dependencies!==null&&du(a.dependencies))?(Z||typeof y.UNSAFE_componentWillUpdate!="function"&&typeof y.componentWillUpdate!="function"||(typeof y.componentWillUpdate=="function"&&y.componentWillUpdate(f,ae,B),typeof y.UNSAFE_componentWillUpdate=="function"&&y.UNSAFE_componentWillUpdate(f,ae,B)),typeof y.componentDidUpdate=="function"&&(l.flags|=4),typeof y.getSnapshotBeforeUpdate=="function"&&(l.flags|=1024)):(typeof y.componentDidUpdate!="function"||E===a.memoizedProps&&ne===a.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&ne===a.memoizedState||(l.flags|=1024),l.memoizedProps=f,l.memoizedState=ae),y.props=f,y.state=ae,y.context=B,f=ue):(typeof y.componentDidUpdate!="function"||E===a.memoizedProps&&ne===a.memoizedState||(l.flags|=4),typeof y.getSnapshotBeforeUpdate!="function"||E===a.memoizedProps&&ne===a.memoizedState||(l.flags|=1024),f=!1)}return y=f,Cu(a,l),f=(l.flags&128)!==0,y||f?(y=l.stateNode,c=f&&typeof c.getDerivedStateFromError!="function"?null:y.render(),l.flags|=1,a!==null&&f?(l.child=Ls(l,a.child,null,p),l.child=Ls(l,null,c,p)):Jt(a,l,c,p),l.memoizedState=y.state,a=l.child):a=na(a,l,p),a}function vw(a,l,c,f){return Zl(),l.flags|=256,Jt(a,l,c,f),l.child}var wm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(a){return{baseLanes:a,cachePool:ib()}}function Nm(a,l,c){return a=a!==null?a.childLanes&~c:0,l&&(a|=rn),a}function yw(a,l,c){var f=l.pendingProps,p=!1,y=(l.flags&128)!==0,E;if((E=y)||(E=a!==null&&a.memoizedState===null?!1:(Pt.current&2)!==0),E&&(p=!0,l.flags&=-129),E=(l.flags&32)!==0,l.flags&=-33,a===null){if(Fe){if(p?Ua(l):qa(),Fe){var M=bt,B;if(B=M){e:{for(B=M,M=Cn;B.nodeType!==8;){if(!M){M=null;break e}if(B=vn(B.nextSibling),B===null){M=null;break e}}M=B}M!==null?(l.memoizedState={dehydrated:M,treeContext:Oi!==null?{id:Qn,overflow:Zn}:null,retryLane:536870912,hydrationErrors:null},B=Mr(18,null,null,0),B.stateNode=M,B.return=l,l.child=B,xr=l,bt=null,B=!0):B=!1}B||ki(l)}if(M=l.memoizedState,M!==null&&(M=M.dehydrated,M!==null))return sg(M)?l.lanes=32:l.lanes=536870912,null;ra(l)}return M=f.children,f=f.fallback,p?(qa(),p=l.mode,M=Tu({mode:"hidden",children:M},p),f=Si(f,p,c,null),M.return=l,f.return=l,M.sibling=f,l.child=M,p=l.child,p.memoizedState=jm(c),p.childLanes=Nm(a,E,c),l.memoizedState=wm,f):(Ua(l),_m(l,M))}if(B=a.memoizedState,B!==null&&(M=B.dehydrated,M!==null)){if(y)l.flags&256?(Ua(l),l.flags&=-257,l=Sm(a,l,c)):l.memoizedState!==null?(qa(),l.child=a.child,l.flags|=128,l=null):(qa(),p=f.fallback,M=l.mode,f=Tu({mode:"visible",children:f.children},M),p=Si(p,M,c,null),p.flags|=2,f.return=l,p.return=l,f.sibling=p,l.child=f,Ls(l,a.child,null,c),f=l.child,f.memoizedState=jm(c),f.childLanes=Nm(a,E,c),l.memoizedState=wm,l=p);else if(Ua(l),sg(M)){if(E=M.nextSibling&&M.nextSibling.dataset,E)var Z=E.dgst;E=Z,f=Error(n(419)),f.stack="",f.digest=E,Jl({value:f,source:null,stack:null}),l=Sm(a,l,c)}else if(Ht||eo(a,l,c,!1),E=(c&a.childLanes)!==0,Ht||E){if(E=st,E!==null&&(f=c&-c,f=(f&42)!==0?1:Ul(f),f=(f&(E.suspendedLanes|c))!==0?0:f,f!==0&&f!==B.retryLane))throw B.retryLane=f,Os(a,f),Ur(E,a,f),uw;M.data==="$?"||Hm(),l=Sm(a,l,c)}else M.data==="$?"?(l.flags|=192,l.child=a.child,l=null):(a=B.treeContext,bt=vn(M.nextSibling),xr=l,Fe=!0,Ei=null,Cn=!1,a!==null&&(Jr[en++]=Qn,Jr[en++]=Zn,Jr[en++]=Oi,Qn=a.id,Zn=a.overflow,Oi=l),l=_m(l,f.children),l.flags|=4096);return l}return p?(qa(),p=f.fallback,M=l.mode,B=a.child,Z=B.sibling,f=Xn(B,{mode:"hidden",children:f.children}),f.subtreeFlags=B.subtreeFlags&65011712,Z!==null?p=Xn(Z,p):(p=Si(p,M,c,null),p.flags|=2),p.return=l,f.return=l,f.sibling=p,l.child=f,f=p,p=l.child,M=a.child.memoizedState,M===null?M=jm(c):(B=M.cachePool,B!==null?(Z=Dt._currentValue,B=B.parent!==Z?{parent:Z,pool:Z}:B):B=ib(),M={baseLanes:M.baseLanes|c,cachePool:B}),p.memoizedState=M,p.childLanes=Nm(a,E,c),l.memoizedState=wm,f):(Ua(l),c=a.child,a=c.sibling,c=Xn(c,{mode:"visible",children:f.children}),c.return=l,c.sibling=null,a!==null&&(E=l.deletions,E===null?(l.deletions=[a],l.flags|=16):E.push(a)),l.child=c,l.memoizedState=null,c)}function _m(a,l){return l=Tu({mode:"visible",children:l},a.mode),l.return=a,a.child=l}function Tu(a,l){return a=Mr(22,a,null,l),a.lanes=0,a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},a}function Sm(a,l,c){return Ls(l,a.child,null,c),a=_m(l,l.pendingProps.children),a.flags|=2,l.memoizedState=null,a}function bw(a,l,c){a.lanes|=l;var f=a.alternate;f!==null&&(f.lanes|=l),Hh(a.return,l,c)}function Om(a,l,c,f,p){var y=a.memoizedState;y===null?a.memoizedState={isBackwards:l,rendering:null,renderingStartTime:0,last:f,tail:c,tailMode:p}:(y.isBackwards=l,y.rendering=null,y.renderingStartTime=0,y.last=f,y.tail=c,y.tailMode=p)}function ww(a,l,c){var f=l.pendingProps,p=f.revealOrder,y=f.tail;if(Jt(a,l,f.children,c),f=Pt.current,(f&2)!==0)f=f&1|2,l.flags|=128;else{if(a!==null&&(a.flags&128)!==0)e:for(a=l.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&bw(a,c,l);else if(a.tag===19)bw(a,c,l);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===l)break e;for(;a.sibling===null;){if(a.return===null||a.return===l)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}f&=1}switch(ge(Pt,f),p){case"forwards":for(c=l.child,p=null;c!==null;)a=c.alternate,a!==null&&Au(a)===null&&(p=c),c=c.sibling;c=p,c===null?(p=l.child,l.child=null):(p=c.sibling,c.sibling=null),Om(l,!1,p,c,y);break;case"backwards":for(c=null,p=l.child,l.child=null;p!==null;){if(a=p.alternate,a!==null&&Au(a)===null){l.child=p;break}a=p.sibling,p.sibling=c,c=p,p=a}Om(l,!0,c,null,y);break;case"together":Om(l,!1,null,null,void 0);break;default:l.memoizedState=null}return l.child}function na(a,l,c){if(a!==null&&(l.dependencies=a.dependencies),Ya|=l.lanes,(c&l.childLanes)===0)if(a!==null){if(eo(a,l,c,!1),(c&l.childLanes)===0)return null}else return null;if(a!==null&&l.child!==a.child)throw Error(n(153));if(l.child!==null){for(a=l.child,c=Xn(a,a.pendingProps),l.child=c,c.return=l;a.sibling!==null;)a=a.sibling,c=c.sibling=Xn(a,a.pendingProps),c.return=l;c.sibling=null}return l.child}function Am(a,l){return(a.lanes&l)!==0?!0:(a=a.dependencies,!!(a!==null&&du(a)))}function m3(a,l,c){switch(l.tag){case 3:q(l,l.stateNode.containerInfo),Ma(l,Dt,a.memoizedState.cache),Zl();break;case 27:case 5:X(l);break;case 4:q(l,l.stateNode.containerInfo);break;case 10:Ma(l,l.type,l.memoizedProps.value);break;case 13:var f=l.memoizedState;if(f!==null)return f.dehydrated!==null?(Ua(l),l.flags|=128,null):(c&l.child.childLanes)!==0?yw(a,l,c):(Ua(l),a=na(a,l,c),a!==null?a.sibling:null);Ua(l);break;case 19:var p=(a.flags&128)!==0;if(f=(c&l.childLanes)!==0,f||(eo(a,l,c,!1),f=(c&l.childLanes)!==0),p){if(f)return ww(a,l,c);l.flags|=128}if(p=l.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),ge(Pt,Pt.current),f)break;return null;case 22:case 23:return l.lanes=0,mw(a,l,c);case 24:Ma(l,Dt,a.memoizedState.cache)}return na(a,l,c)}function jw(a,l,c){if(a!==null)if(a.memoizedProps!==l.pendingProps)Ht=!0;else{if(!Am(a,c)&&(l.flags&128)===0)return Ht=!1,m3(a,l,c);Ht=(a.flags&131072)!==0}else Ht=!1,Fe&&(l.flags&1048576)!==0&&Zy(l,uu,l.index);switch(l.lanes=0,l.tag){case 16:e:{a=l.pendingProps;var f=l.elementType,p=f._init;if(f=p(f._payload),l.type=f,typeof f=="function")$h(f)?(a=Mi(f,a),l.tag=1,l=pw(null,l,f,a,c)):(l.tag=0,l=bm(null,l,f,a,c));else{if(f!=null){if(p=f.$$typeof,p===k){l.tag=11,l=dw(null,l,f,a,c);break e}else if(p===T){l.tag=14,l=fw(null,l,f,a,c);break e}}throw l=J(f)||f,Error(n(306,l,""))}}return l;case 0:return bm(a,l,l.type,l.pendingProps,c);case 1:return f=l.type,p=Mi(f,l.pendingProps),pw(a,l,f,p,c);case 3:e:{if(q(l,l.stateNode.containerInfo),a===null)throw Error(n(387));f=l.pendingProps;var y=l.memoizedState;p=y.element,Xh(a,l),lo(l,f,null,c);var E=l.memoizedState;if(f=E.cache,Ma(l,Dt,f),f!==y.cache&&Kh(l,[Dt],c,!0),so(),f=E.element,y.isDehydrated)if(y={element:f,isDehydrated:!1,cache:E.cache},l.updateQueue.baseState=y,l.memoizedState=y,l.flags&256){l=vw(a,l,f,c);break e}else if(f!==p){p=Qr(Error(n(424)),l),Jl(p),l=vw(a,l,f,c);break e}else{switch(a=l.stateNode.containerInfo,a.nodeType){case 9:a=a.body;break;default:a=a.nodeName==="HTML"?a.ownerDocument.body:a}for(bt=vn(a.firstChild),xr=l,Fe=!0,Ei=null,Cn=!0,c=ew(l,null,f,c),l.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(Zl(),f===p){l=na(a,l,c);break e}Jt(a,l,f,c)}l=l.child}return l;case 26:return Cu(a,l),a===null?(c=Oj(l.type,null,l.pendingProps,null))?l.memoizedState=c:Fe||(c=l.type,a=l.pendingProps,f=Yu(K.current).createElement(c),f[qt]=l,f[or]=a,tr(f,c,a),it(f),l.stateNode=f):l.memoizedState=Oj(l.type,a.memoizedProps,l.pendingProps,a.memoizedState),null;case 27:return X(l),a===null&&Fe&&(f=l.stateNode=Nj(l.type,l.pendingProps,K.current),xr=l,Cn=!0,p=bt,Wa(l.type)?(lg=p,bt=vn(f.firstChild)):bt=p),Jt(a,l,l.pendingProps.children,c),Cu(a,l),a===null&&(l.flags|=4194304),l.child;case 5:return a===null&&Fe&&((p=f=bt)&&(f=B3(f,l.type,l.pendingProps,Cn),f!==null?(l.stateNode=f,xr=l,bt=vn(f.firstChild),Cn=!1,p=!0):p=!1),p||ki(l)),X(l),p=l.type,y=l.pendingProps,E=a!==null?a.memoizedProps:null,f=y.children,ng(p,y)?f=null:E!==null&&ng(p,E)&&(l.flags|=32),l.memoizedState!==null&&(p=rm(a,l,s3,null,null,c),Co._currentValue=p),Cu(a,l),Jt(a,l,f,c),l.child;case 6:return a===null&&Fe&&((a=c=bt)&&(c=H3(c,l.pendingProps,Cn),c!==null?(l.stateNode=c,xr=l,bt=null,a=!0):a=!1),a||ki(l)),null;case 13:return yw(a,l,c);case 4:return q(l,l.stateNode.containerInfo),f=l.pendingProps,a===null?l.child=Ls(l,null,f,c):Jt(a,l,f,c),l.child;case 11:return dw(a,l,l.type,l.pendingProps,c);case 7:return Jt(a,l,l.pendingProps,c),l.child;case 8:return Jt(a,l,l.pendingProps.children,c),l.child;case 12:return Jt(a,l,l.pendingProps.children,c),l.child;case 10:return f=l.pendingProps,Ma(l,l.type,f.value),Jt(a,l,f.children,c),l.child;case 9:return p=l.type._context,f=l.pendingProps.children,Ti(l),p=cr(p),f=f(p),l.flags|=1,Jt(a,l,f,c),l.child;case 14:return fw(a,l,l.type,l.pendingProps,c);case 15:return hw(a,l,l.type,l.pendingProps,c);case 19:return ww(a,l,c);case 31:return f=l.pendingProps,c=l.mode,f={mode:f.mode,children:f.children},a===null?(c=Tu(f,c),c.ref=l.ref,l.child=c,c.return=l,l=c):(c=Xn(a.child,f),c.ref=l.ref,l.child=c,c.return=l,l=c),l;case 22:return mw(a,l,c);case 24:return Ti(l),f=cr(Dt),a===null?(p=Vh(),p===null&&(p=st,y=Yh(),p.pooledCache=y,y.refCount++,y!==null&&(p.pooledCacheLanes|=c),p=y),l.memoizedState={parent:f,cache:p},Wh(l),Ma(l,Dt,p)):((a.lanes&c)!==0&&(Xh(a,l),lo(l,null,null,c),so()),p=a.memoizedState,y=l.memoizedState,p.parent!==f?(p={parent:f,cache:f},l.memoizedState=p,l.lanes===0&&(l.memoizedState=l.updateQueue.baseState=p),Ma(l,Dt,f)):(f=y.cache,Ma(l,Dt,f),f!==p.cache&&Kh(l,[Dt],c,!0))),Jt(a,l,l.pendingProps.children,c),l.child;case 29:throw l.pendingProps}throw Error(n(156,l.tag))}function aa(a){a.flags|=4}function Nw(a,l){if(l.type!=="stylesheet"||(l.state.loading&4)!==0)a.flags&=-16777217;else if(a.flags|=16777216,!Tj(l)){if(l=tn.current,l!==null&&((He&4194048)===He?Tn!==null:(He&62914560)!==He&&(He&536870912)===0||l!==Tn))throw ao=Fh,sb;a.flags|=8192}}function Du(a,l){l!==null&&(a.flags|=4),a.flags&16384&&(l=a.tag!==22?yi():536870912,a.lanes|=l,zs|=l)}function go(a,l){if(!Fe)switch(a.tailMode){case"hidden":l=a.tail;for(var c=null;l!==null;)l.alternate!==null&&(c=l),l=l.sibling;c===null?a.tail=null:c.sibling=null;break;case"collapsed":c=a.tail;for(var f=null;c!==null;)c.alternate!==null&&(f=c),c=c.sibling;f===null?l||a.tail===null?a.tail=null:a.tail.sibling=null:f.sibling=null}}function yt(a){var l=a.alternate!==null&&a.alternate.child===a.child,c=0,f=0;if(l)for(var p=a.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags&65011712,f|=p.flags&65011712,p.return=a,p=p.sibling;else for(p=a.child;p!==null;)c|=p.lanes|p.childLanes,f|=p.subtreeFlags,f|=p.flags,p.return=a,p=p.sibling;return a.subtreeFlags|=f,a.childLanes=c,l}function g3(a,l,c){var f=l.pendingProps;switch(qh(l),l.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return yt(l),null;case 1:return yt(l),null;case 3:return c=l.stateNode,f=null,a!==null&&(f=a.memoizedState.cache),l.memoizedState.cache!==f&&(l.flags|=2048),ea(Dt),W(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(a===null||a.child===null)&&(Ql(l)?aa(l):a===null||a.memoizedState.isDehydrated&&(l.flags&256)===0||(l.flags|=1024,tb())),yt(l),null;case 26:return c=l.memoizedState,a===null?(aa(l),c!==null?(yt(l),Nw(l,c)):(yt(l),l.flags&=-16777217)):c?c!==a.memoizedState?(aa(l),yt(l),Nw(l,c)):(yt(l),l.flags&=-16777217):(a.memoizedProps!==f&&aa(l),yt(l),l.flags&=-16777217),null;case 27:Y(l),c=K.current;var p=l.type;if(a!==null&&l.stateNode!=null)a.memoizedProps!==f&&aa(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return yt(l),null}a=je.current,Ql(l)?Jy(l):(a=Nj(p,f,c),l.stateNode=a,aa(l))}return yt(l),null;case 5:if(Y(l),c=l.type,a!==null&&l.stateNode!=null)a.memoizedProps!==f&&aa(l);else{if(!f){if(l.stateNode===null)throw Error(n(166));return yt(l),null}if(a=je.current,Ql(l))Jy(l);else{switch(p=Yu(K.current),a){case 1:a=p.createElementNS("http://www.w3.org/2000/svg",c);break;case 2:a=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;default:switch(c){case"svg":a=p.createElementNS("http://www.w3.org/2000/svg",c);break;case"math":a=p.createElementNS("http://www.w3.org/1998/Math/MathML",c);break;case"script":a=p.createElement("div"),a.innerHTML="<script><\/script>",a=a.removeChild(a.firstChild);break;case"select":a=typeof f.is=="string"?p.createElement("select",{is:f.is}):p.createElement("select"),f.multiple?a.multiple=!0:f.size&&(a.size=f.size);break;default:a=typeof f.is=="string"?p.createElement(c,{is:f.is}):p.createElement(c)}}a[qt]=l,a[or]=f;e:for(p=l.child;p!==null;){if(p.tag===5||p.tag===6)a.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===l)break e;for(;p.sibling===null;){if(p.return===null||p.return===l)break e;p=p.return}p.sibling.return=p.return,p=p.sibling}l.stateNode=a;e:switch(tr(a,c,f),c){case"button":case"input":case"select":case"textarea":a=!!f.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&aa(l)}}return yt(l),l.flags&=-16777217,null;case 6:if(a&&l.stateNode!=null)a.memoizedProps!==f&&aa(l);else{if(typeof f!="string"&&l.stateNode===null)throw Error(n(166));if(a=K.current,Ql(l)){if(a=l.stateNode,c=l.memoizedProps,f=null,p=xr,p!==null)switch(p.tag){case 27:case 5:f=p.memoizedProps}a[qt]=l,a=!!(a.nodeValue===c||f!==null&&f.suppressHydrationWarning===!0||xj(a.nodeValue,c)),a||ki(l)}else a=Yu(a).createTextNode(f),a[qt]=l,l.stateNode=a}return yt(l),null;case 13:if(f=l.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(p=Ql(l),f!==null&&f.dehydrated!==null){if(a===null){if(!p)throw Error(n(318));if(p=l.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[qt]=l}else Zl(),(l.flags&128)===0&&(l.memoizedState=null),l.flags|=4;yt(l),p=!1}else p=tb(),a!==null&&a.memoizedState!==null&&(a.memoizedState.hydrationErrors=p),p=!0;if(!p)return l.flags&256?(ra(l),l):(ra(l),null)}if(ra(l),(l.flags&128)!==0)return l.lanes=c,l;if(c=f!==null,a=a!==null&&a.memoizedState!==null,c){f=l.child,p=null,f.alternate!==null&&f.alternate.memoizedState!==null&&f.alternate.memoizedState.cachePool!==null&&(p=f.alternate.memoizedState.cachePool.pool);var y=null;f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(y=f.memoizedState.cachePool.pool),y!==p&&(f.flags|=2048)}return c!==a&&c&&(l.child.flags|=8192),Du(l,l.updateQueue),yt(l),null;case 4:return W(),a===null&&Zm(l.stateNode.containerInfo),yt(l),null;case 10:return ea(l.type),yt(l),null;case 19:if(ie(Pt),p=l.memoizedState,p===null)return yt(l),null;if(f=(l.flags&128)!==0,y=p.rendering,y===null)if(f)go(p,!1);else{if(wt!==0||a!==null&&(a.flags&128)!==0)for(a=l.child;a!==null;){if(y=Au(a),y!==null){for(l.flags|=128,go(p,!1),a=y.updateQueue,l.updateQueue=a,Du(l,a),l.subtreeFlags=0,a=c,c=l.child;c!==null;)Qy(c,a),c=c.sibling;return ge(Pt,Pt.current&1|2),l.child}a=a.sibling}p.tail!==null&&Pe()>Ru&&(l.flags|=128,f=!0,go(p,!1),l.lanes=4194304)}else{if(!f)if(a=Au(y),a!==null){if(l.flags|=128,f=!0,a=a.updateQueue,l.updateQueue=a,Du(l,a),go(p,!0),p.tail===null&&p.tailMode==="hidden"&&!y.alternate&&!Fe)return yt(l),null}else 2*Pe()-p.renderingStartTime>Ru&&c!==536870912&&(l.flags|=128,f=!0,go(p,!1),l.lanes=4194304);p.isBackwards?(y.sibling=l.child,l.child=y):(a=p.last,a!==null?a.sibling=y:l.child=y,p.last=y)}return p.tail!==null?(l=p.tail,p.rendering=l,p.tail=l.sibling,p.renderingStartTime=Pe(),l.sibling=null,a=Pt.current,ge(Pt,f?a&1|2:a&1),l):(yt(l),null);case 22:case 23:return ra(l),em(),f=l.memoizedState!==null,a!==null?a.memoizedState!==null!==f&&(l.flags|=8192):f&&(l.flags|=8192),f?(c&536870912)!==0&&(l.flags&128)===0&&(yt(l),l.subtreeFlags&6&&(l.flags|=8192)):yt(l),c=l.updateQueue,c!==null&&Du(l,c.retryQueue),c=null,a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048),a!==null&&ie(Di),null;case 24:return c=null,a!==null&&(c=a.memoizedState.cache),l.memoizedState.cache!==c&&(l.flags|=2048),ea(Dt),yt(l),null;case 25:return null;case 30:return null}throw Error(n(156,l.tag))}function x3(a,l){switch(qh(l),l.tag){case 1:return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 3:return ea(Dt),W(),a=l.flags,(a&65536)!==0&&(a&128)===0?(l.flags=a&-65537|128,l):null;case 26:case 27:case 5:return Y(l),null;case 13:if(ra(l),a=l.memoizedState,a!==null&&a.dehydrated!==null){if(l.alternate===null)throw Error(n(340));Zl()}return a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 19:return ie(Pt),null;case 4:return W(),null;case 10:return ea(l.type),null;case 22:case 23:return ra(l),em(),a!==null&&ie(Di),a=l.flags,a&65536?(l.flags=a&-65537|128,l):null;case 24:return ea(Dt),null;case 25:return null;default:return null}}function _w(a,l){switch(qh(l),l.tag){case 3:ea(Dt),W();break;case 26:case 27:case 5:Y(l);break;case 4:W();break;case 13:ra(l);break;case 19:ie(Pt);break;case 10:ea(l.type);break;case 22:case 23:ra(l),em(),a!==null&&ie(Di);break;case 24:ea(Dt)}}function xo(a,l){try{var c=l.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&a)===a){f=void 0;var y=c.create,E=c.inst;f=y(),E.destroy=f}c=c.next}while(c!==p)}}catch(M){nt(l,l.return,M)}}function za(a,l,c){try{var f=l.updateQueue,p=f!==null?f.lastEffect:null;if(p!==null){var y=p.next;f=y;do{if((f.tag&a)===a){var E=f.inst,M=E.destroy;if(M!==void 0){E.destroy=void 0,p=l;var B=c,Z=M;try{Z()}catch(ue){nt(p,B,ue)}}}f=f.next}while(f!==y)}}catch(ue){nt(l,l.return,ue)}}function Sw(a){var l=a.updateQueue;if(l!==null){var c=a.stateNode;try{fb(l,c)}catch(f){nt(a,a.return,f)}}}function Ow(a,l,c){c.props=Mi(a.type,a.memoizedProps),c.state=a.memoizedState;try{c.componentWillUnmount()}catch(f){nt(a,l,f)}}function po(a,l){try{var c=a.ref;if(c!==null){switch(a.tag){case 26:case 27:case 5:var f=a.stateNode;break;case 30:f=a.stateNode;break;default:f=a.stateNode}typeof c=="function"?a.refCleanup=c(f):c.current=f}}catch(p){nt(a,l,p)}}function Dn(a,l){var c=a.ref,f=a.refCleanup;if(c!==null)if(typeof f=="function")try{f()}catch(p){nt(a,l,p)}finally{a.refCleanup=null,a=a.alternate,a!=null&&(a.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(p){nt(a,l,p)}else c.current=null}function Aw(a){var l=a.type,c=a.memoizedProps,f=a.stateNode;try{e:switch(l){case"button":case"input":case"select":case"textarea":c.autoFocus&&f.focus();break e;case"img":c.src?f.src=c.src:c.srcSet&&(f.srcset=c.srcSet)}}catch(p){nt(a,a.return,p)}}function Em(a,l,c){try{var f=a.stateNode;L3(f,a.type,c,l),f[or]=l}catch(p){nt(a,a.return,p)}}function Ew(a){return a.tag===5||a.tag===3||a.tag===26||a.tag===27&&Wa(a.type)||a.tag===4}function km(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||Ew(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(a.tag===27&&Wa(a.type)||a.flags&2||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(a.flags&2))return a.stateNode}}function Cm(a,l,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(a,l):(l=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,l.appendChild(a),c=c._reactRootContainer,c!=null||l.onclick!==null||(l.onclick=Ku));else if(f!==4&&(f===27&&Wa(a.type)&&(c=a.stateNode,l=null),a=a.child,a!==null))for(Cm(a,l,c),a=a.sibling;a!==null;)Cm(a,l,c),a=a.sibling}function Pu(a,l,c){var f=a.tag;if(f===5||f===6)a=a.stateNode,l?c.insertBefore(a,l):c.appendChild(a);else if(f!==4&&(f===27&&Wa(a.type)&&(c=a.stateNode),a=a.child,a!==null))for(Pu(a,l,c),a=a.sibling;a!==null;)Pu(a,l,c),a=a.sibling}function kw(a){var l=a.stateNode,c=a.memoizedProps;try{for(var f=a.type,p=l.attributes;p.length;)l.removeAttributeNode(p[0]);tr(l,f,c),l[qt]=a,l[or]=c}catch(y){nt(a,a.return,y)}}var ia=!1,_t=!1,Tm=!1,Cw=typeof WeakSet=="function"?WeakSet:Set,Kt=null;function p3(a,l){if(a=a.containerInfo,tg=Qu,a=zy(a),kh(a)){if("selectionStart"in a)var c={start:a.selectionStart,end:a.selectionEnd};else e:{c=(c=a.ownerDocument)&&c.defaultView||window;var f=c.getSelection&&c.getSelection();if(f&&f.rangeCount!==0){c=f.anchorNode;var p=f.anchorOffset,y=f.focusNode;f=f.focusOffset;try{c.nodeType,y.nodeType}catch{c=null;break e}var E=0,M=-1,B=-1,Z=0,ue=0,he=a,ne=null;t:for(;;){for(var ae;he!==c||p!==0&&he.nodeType!==3||(M=E+p),he!==y||f!==0&&he.nodeType!==3||(B=E+f),he.nodeType===3&&(E+=he.nodeValue.length),(ae=he.firstChild)!==null;)ne=he,he=ae;for(;;){if(he===a)break t;if(ne===c&&++Z===p&&(M=E),ne===y&&++ue===f&&(B=E),(ae=he.nextSibling)!==null)break;he=ne,ne=he.parentNode}he=ae}c=M===-1||B===-1?null:{start:M,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(rg={focusedElem:a,selectionRange:c},Qu=!1,Kt=l;Kt!==null;)if(l=Kt,a=l.child,(l.subtreeFlags&1024)!==0&&a!==null)a.return=l,Kt=a;else for(;Kt!==null;){switch(l=Kt,y=l.alternate,a=l.flags,l.tag){case 0:break;case 11:case 15:break;case 1:if((a&1024)!==0&&y!==null){a=void 0,c=l,p=y.memoizedProps,y=y.memoizedState,f=c.stateNode;try{var Me=Mi(c.type,p,c.elementType===c.type);a=f.getSnapshotBeforeUpdate(Me,y),f.__reactInternalSnapshotBeforeUpdate=a}catch(Te){nt(c,c.return,Te)}}break;case 3:if((a&1024)!==0){if(a=l.stateNode.containerInfo,c=a.nodeType,c===9)ig(a);else if(c===1)switch(a.nodeName){case"HEAD":case"HTML":case"BODY":ig(a);break;default:a.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((a&1024)!==0)throw Error(n(163))}if(a=l.sibling,a!==null){a.return=l.return,Kt=a;break}Kt=l.return}}function Tw(a,l,c){var f=c.flags;switch(c.tag){case 0:case 11:case 15:Ba(a,c),f&4&&xo(5,c);break;case 1:if(Ba(a,c),f&4)if(a=c.stateNode,l===null)try{a.componentDidMount()}catch(E){nt(c,c.return,E)}else{var p=Mi(c.type,l.memoizedProps);l=l.memoizedState;try{a.componentDidUpdate(p,l,a.__reactInternalSnapshotBeforeUpdate)}catch(E){nt(c,c.return,E)}}f&64&&Sw(c),f&512&&po(c,c.return);break;case 3:if(Ba(a,c),f&64&&(a=c.updateQueue,a!==null)){if(l=null,c.child!==null)switch(c.child.tag){case 27:case 5:l=c.child.stateNode;break;case 1:l=c.child.stateNode}try{fb(a,l)}catch(E){nt(c,c.return,E)}}break;case 27:l===null&&f&4&&kw(c);case 26:case 5:Ba(a,c),l===null&&f&4&&Aw(c),f&512&&po(c,c.return);break;case 12:Ba(a,c);break;case 13:Ba(a,c),f&4&&Mw(a,c),f&64&&(a=c.memoizedState,a!==null&&(a=a.dehydrated,a!==null&&(c=O3.bind(null,c),K3(a,c))));break;case 22:if(f=c.memoizedState!==null||ia,!f){l=l!==null&&l.memoizedState!==null||_t,p=ia;var y=_t;ia=f,(_t=l)&&!y?Ha(a,c,(c.subtreeFlags&8772)!==0):Ba(a,c),ia=p,_t=y}break;case 30:break;default:Ba(a,c)}}function Dw(a){var l=a.alternate;l!==null&&(a.alternate=null,Dw(l)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(l=a.stateNode,l!==null&&Ce(l)),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}var gt=null,Nr=!1;function sa(a,l,c){for(c=c.child;c!==null;)Pw(a,l,c),c=c.sibling}function Pw(a,l,c){if(gr&&typeof gr.onCommitFiberUnmount=="function")try{gr.onCommitFiberUnmount(vi,c)}catch{}switch(c.tag){case 26:_t||Dn(c,l),sa(a,l,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:_t||Dn(c,l);var f=gt,p=Nr;Wa(c.type)&&(gt=c.stateNode,Nr=!1),sa(a,l,c),Oo(c.stateNode),gt=f,Nr=p;break;case 5:_t||Dn(c,l);case 6:if(f=gt,p=Nr,gt=null,sa(a,l,c),gt=f,Nr=p,gt!==null)if(Nr)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(c.stateNode)}catch(y){nt(c,l,y)}else try{gt.removeChild(c.stateNode)}catch(y){nt(c,l,y)}break;case 18:gt!==null&&(Nr?(a=gt,wj(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,c.stateNode),Mo(a)):wj(gt,c.stateNode));break;case 4:f=gt,p=Nr,gt=c.stateNode.containerInfo,Nr=!0,sa(a,l,c),gt=f,Nr=p;break;case 0:case 11:case 14:case 15:_t||za(2,c,l),_t||za(4,c,l),sa(a,l,c);break;case 1:_t||(Dn(c,l),f=c.stateNode,typeof f.componentWillUnmount=="function"&&Ow(c,l,f)),sa(a,l,c);break;case 21:sa(a,l,c);break;case 22:_t=(f=_t)||c.memoizedState!==null,sa(a,l,c),_t=f;break;default:sa(a,l,c)}}function Mw(a,l){if(l.memoizedState===null&&(a=l.alternate,a!==null&&(a=a.memoizedState,a!==null&&(a=a.dehydrated,a!==null))))try{Mo(a)}catch(c){nt(l,l.return,c)}}function v3(a){switch(a.tag){case 13:case 19:var l=a.stateNode;return l===null&&(l=a.stateNode=new Cw),l;case 22:return a=a.stateNode,l=a._retryCache,l===null&&(l=a._retryCache=new Cw),l;default:throw Error(n(435,a.tag))}}function Dm(a,l){var c=v3(a);l.forEach(function(f){var p=A3.bind(null,a,f);c.has(f)||(c.add(f),f.then(p,p))})}function Rr(a,l){var c=l.deletions;if(c!==null)for(var f=0;f<c.length;f++){var p=c[f],y=a,E=l,M=E;e:for(;M!==null;){switch(M.tag){case 27:if(Wa(M.type)){gt=M.stateNode,Nr=!1;break e}break;case 5:gt=M.stateNode,Nr=!1;break e;case 3:case 4:gt=M.stateNode.containerInfo,Nr=!0;break e}M=M.return}if(gt===null)throw Error(n(160));Pw(y,E,p),gt=null,Nr=!1,y=p.alternate,y!==null&&(y.return=null),p.return=null}if(l.subtreeFlags&13878)for(l=l.child;l!==null;)Rw(l,a),l=l.sibling}var pn=null;function Rw(a,l){var c=a.alternate,f=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:Rr(l,a),$r(a),f&4&&(za(3,a,a.return),xo(3,a),za(5,a,a.return));break;case 1:Rr(l,a),$r(a),f&512&&(_t||c===null||Dn(c,c.return)),f&64&&ia&&(a=a.updateQueue,a!==null&&(f=a.callbacks,f!==null&&(c=a.shared.hiddenCallbacks,a.shared.hiddenCallbacks=c===null?f:c.concat(f))));break;case 26:var p=pn;if(Rr(l,a),$r(a),f&512&&(_t||c===null||Dn(c,c.return)),f&4){var y=c!==null?c.memoizedState:null;if(f=a.memoizedState,c===null)if(f===null)if(a.stateNode===null){e:{f=a.type,c=a.memoizedProps,p=p.ownerDocument||p;t:switch(f){case"title":y=p.getElementsByTagName("title")[0],(!y||y[Ne]||y[qt]||y.namespaceURI==="http://www.w3.org/2000/svg"||y.hasAttribute("itemprop"))&&(y=p.createElement(f),p.head.insertBefore(y,p.querySelector("head > title"))),tr(y,f,c),y[qt]=a,it(y),f=y;break e;case"link":var E=kj("link","href",p).get(f+(c.href||""));if(E){for(var M=0;M<E.length;M++)if(y=E[M],y.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&y.getAttribute("rel")===(c.rel==null?null:c.rel)&&y.getAttribute("title")===(c.title==null?null:c.title)&&y.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(M,1);break t}}y=p.createElement(f),tr(y,f,c),p.head.appendChild(y);break;case"meta":if(E=kj("meta","content",p).get(f+(c.content||""))){for(M=0;M<E.length;M++)if(y=E[M],y.getAttribute("content")===(c.content==null?null:""+c.content)&&y.getAttribute("name")===(c.name==null?null:c.name)&&y.getAttribute("property")===(c.property==null?null:c.property)&&y.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&y.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(M,1);break t}}y=p.createElement(f),tr(y,f,c),p.head.appendChild(y);break;default:throw Error(n(468,f))}y[qt]=a,it(y),f=y}a.stateNode=f}else Cj(p,a.type,a.stateNode);else a.stateNode=Ej(p,f,a.memoizedProps);else y!==f?(y===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):y.count--,f===null?Cj(p,a.type,a.stateNode):Ej(p,f,a.memoizedProps)):f===null&&a.stateNode!==null&&Em(a,a.memoizedProps,c.memoizedProps)}break;case 27:Rr(l,a),$r(a),f&512&&(_t||c===null||Dn(c,c.return)),c!==null&&f&4&&Em(a,a.memoizedProps,c.memoizedProps);break;case 5:if(Rr(l,a),$r(a),f&512&&(_t||c===null||Dn(c,c.return)),a.flags&32){p=a.stateNode;try{ys(p,"")}catch(ae){nt(a,a.return,ae)}}f&4&&a.stateNode!=null&&(p=a.memoizedProps,Em(a,p,c!==null?c.memoizedProps:p)),f&1024&&(Tm=!0);break;case 6:if(Rr(l,a),$r(a),f&4){if(a.stateNode===null)throw Error(n(162));f=a.memoizedProps,c=a.stateNode;try{c.nodeValue=f}catch(ae){nt(a,a.return,ae)}}break;case 3:if(Fu=null,p=pn,pn=Gu(l.containerInfo),Rr(l,a),pn=p,$r(a),f&4&&c!==null&&c.memoizedState.isDehydrated)try{Mo(l.containerInfo)}catch(ae){nt(a,a.return,ae)}Tm&&(Tm=!1,$w(a));break;case 4:f=pn,pn=Gu(a.stateNode.containerInfo),Rr(l,a),$r(a),pn=f;break;case 12:Rr(l,a),$r(a);break;case 13:Rr(l,a),$r(a),a.child.flags&8192&&a.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Im=Pe()),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Dm(a,f)));break;case 22:p=a.memoizedState!==null;var B=c!==null&&c.memoizedState!==null,Z=ia,ue=_t;if(ia=Z||p,_t=ue||B,Rr(l,a),_t=ue,ia=Z,$r(a),f&8192)e:for(l=a.stateNode,l._visibility=p?l._visibility&-2:l._visibility|1,p&&(c===null||B||ia||_t||Ri(a)),c=null,l=a;;){if(l.tag===5||l.tag===26){if(c===null){B=c=l;try{if(y=B.stateNode,p)E=y.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{M=B.stateNode;var he=B.memoizedProps.style,ne=he!=null&&he.hasOwnProperty("display")?he.display:null;M.style.display=ne==null||typeof ne=="boolean"?"":(""+ne).trim()}}catch(ae){nt(B,B.return,ae)}}}else if(l.tag===6){if(c===null){B=l;try{B.stateNode.nodeValue=p?"":B.memoizedProps}catch(ae){nt(B,B.return,ae)}}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===a)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===a)break e;for(;l.sibling===null;){if(l.return===null||l.return===a)break e;c===l&&(c=null),l=l.return}c===l&&(c=null),l.sibling.return=l.return,l=l.sibling}f&4&&(f=a.updateQueue,f!==null&&(c=f.retryQueue,c!==null&&(f.retryQueue=null,Dm(a,c))));break;case 19:Rr(l,a),$r(a),f&4&&(f=a.updateQueue,f!==null&&(a.updateQueue=null,Dm(a,f)));break;case 30:break;case 21:break;default:Rr(l,a),$r(a)}}function $r(a){var l=a.flags;if(l&2){try{for(var c,f=a.return;f!==null;){if(Ew(f)){c=f;break}f=f.return}if(c==null)throw Error(n(160));switch(c.tag){case 27:var p=c.stateNode,y=km(a);Pu(a,y,p);break;case 5:var E=c.stateNode;c.flags&32&&(ys(E,""),c.flags&=-33);var M=km(a);Pu(a,M,E);break;case 3:case 4:var B=c.stateNode.containerInfo,Z=km(a);Cm(a,Z,B);break;default:throw Error(n(161))}}catch(ue){nt(a,a.return,ue)}a.flags&=-3}l&4096&&(a.flags&=-4097)}function $w(a){if(a.subtreeFlags&1024)for(a=a.child;a!==null;){var l=a;$w(l),l.tag===5&&l.flags&1024&&l.stateNode.reset(),a=a.sibling}}function Ba(a,l){if(l.subtreeFlags&8772)for(l=l.child;l!==null;)Tw(a,l.alternate,l),l=l.sibling}function Ri(a){for(a=a.child;a!==null;){var l=a;switch(l.tag){case 0:case 11:case 14:case 15:za(4,l,l.return),Ri(l);break;case 1:Dn(l,l.return);var c=l.stateNode;typeof c.componentWillUnmount=="function"&&Ow(l,l.return,c),Ri(l);break;case 27:Oo(l.stateNode);case 26:case 5:Dn(l,l.return),Ri(l);break;case 22:l.memoizedState===null&&Ri(l);break;case 30:Ri(l);break;default:Ri(l)}a=a.sibling}}function Ha(a,l,c){for(c=c&&(l.subtreeFlags&8772)!==0,l=l.child;l!==null;){var f=l.alternate,p=a,y=l,E=y.flags;switch(y.tag){case 0:case 11:case 15:Ha(p,y,c),xo(4,y);break;case 1:if(Ha(p,y,c),f=y,p=f.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(Z){nt(f,f.return,Z)}if(f=y,p=f.updateQueue,p!==null){var M=f.stateNode;try{var B=p.shared.hiddenCallbacks;if(B!==null)for(p.shared.hiddenCallbacks=null,p=0;p<B.length;p++)db(B[p],M)}catch(Z){nt(f,f.return,Z)}}c&&E&64&&Sw(y),po(y,y.return);break;case 27:kw(y);case 26:case 5:Ha(p,y,c),c&&f===null&&E&4&&Aw(y),po(y,y.return);break;case 12:Ha(p,y,c);break;case 13:Ha(p,y,c),c&&E&4&&Mw(p,y);break;case 22:y.memoizedState===null&&Ha(p,y,c),po(y,y.return);break;case 30:break;default:Ha(p,y,c)}l=l.sibling}}function Pm(a,l){var c=null;a!==null&&a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),a=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(a=l.memoizedState.cachePool.pool),a!==c&&(a!=null&&a.refCount++,c!=null&&to(c))}function Mm(a,l){a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&to(a))}function Pn(a,l,c,f){if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Lw(a,l,c,f),l=l.sibling}function Lw(a,l,c,f){var p=l.flags;switch(l.tag){case 0:case 11:case 15:Pn(a,l,c,f),p&2048&&xo(9,l);break;case 1:Pn(a,l,c,f);break;case 3:Pn(a,l,c,f),p&2048&&(a=null,l.alternate!==null&&(a=l.alternate.memoizedState.cache),l=l.memoizedState.cache,l!==a&&(l.refCount++,a!=null&&to(a)));break;case 12:if(p&2048){Pn(a,l,c,f),a=l.stateNode;try{var y=l.memoizedProps,E=y.id,M=y.onPostCommit;typeof M=="function"&&M(E,l.alternate===null?"mount":"update",a.passiveEffectDuration,-0)}catch(B){nt(l,l.return,B)}}else Pn(a,l,c,f);break;case 13:Pn(a,l,c,f);break;case 23:break;case 22:y=l.stateNode,E=l.alternate,l.memoizedState!==null?y._visibility&2?Pn(a,l,c,f):vo(a,l):y._visibility&2?Pn(a,l,c,f):(y._visibility|=2,Is(a,l,c,f,(l.subtreeFlags&10256)!==0)),p&2048&&Pm(E,l);break;case 24:Pn(a,l,c,f),p&2048&&Mm(l.alternate,l);break;default:Pn(a,l,c,f)}}function Is(a,l,c,f,p){for(p=p&&(l.subtreeFlags&10256)!==0,l=l.child;l!==null;){var y=a,E=l,M=c,B=f,Z=E.flags;switch(E.tag){case 0:case 11:case 15:Is(y,E,M,B,p),xo(8,E);break;case 23:break;case 22:var ue=E.stateNode;E.memoizedState!==null?ue._visibility&2?Is(y,E,M,B,p):vo(y,E):(ue._visibility|=2,Is(y,E,M,B,p)),p&&Z&2048&&Pm(E.alternate,E);break;case 24:Is(y,E,M,B,p),p&&Z&2048&&Mm(E.alternate,E);break;default:Is(y,E,M,B,p)}l=l.sibling}}function vo(a,l){if(l.subtreeFlags&10256)for(l=l.child;l!==null;){var c=a,f=l,p=f.flags;switch(f.tag){case 22:vo(c,f),p&2048&&Pm(f.alternate,f);break;case 24:vo(c,f),p&2048&&Mm(f.alternate,f);break;default:vo(c,f)}l=l.sibling}}var yo=8192;function Us(a){if(a.subtreeFlags&yo)for(a=a.child;a!==null;)Iw(a),a=a.sibling}function Iw(a){switch(a.tag){case 26:Us(a),a.flags&yo&&a.memoizedState!==null&&nD(pn,a.memoizedState,a.memoizedProps);break;case 5:Us(a);break;case 3:case 4:var l=pn;pn=Gu(a.stateNode.containerInfo),Us(a),pn=l;break;case 22:a.memoizedState===null&&(l=a.alternate,l!==null&&l.memoizedState!==null?(l=yo,yo=16777216,Us(a),yo=l):Us(a));break;default:Us(a)}}function Uw(a){var l=a.alternate;if(l!==null&&(a=l.child,a!==null)){l.child=null;do l=a.sibling,a.sibling=null,a=l;while(a!==null)}}function bo(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];Kt=f,zw(f,a)}Uw(a)}if(a.subtreeFlags&10256)for(a=a.child;a!==null;)qw(a),a=a.sibling}function qw(a){switch(a.tag){case 0:case 11:case 15:bo(a),a.flags&2048&&za(9,a,a.return);break;case 3:bo(a);break;case 12:bo(a);break;case 22:var l=a.stateNode;a.memoizedState!==null&&l._visibility&2&&(a.return===null||a.return.tag!==13)?(l._visibility&=-3,Mu(a)):bo(a);break;default:bo(a)}}function Mu(a){var l=a.deletions;if((a.flags&16)!==0){if(l!==null)for(var c=0;c<l.length;c++){var f=l[c];Kt=f,zw(f,a)}Uw(a)}for(a=a.child;a!==null;){switch(l=a,l.tag){case 0:case 11:case 15:za(8,l,l.return),Mu(l);break;case 22:c=l.stateNode,c._visibility&2&&(c._visibility&=-3,Mu(l));break;default:Mu(l)}a=a.sibling}}function zw(a,l){for(;Kt!==null;){var c=Kt;switch(c.tag){case 0:case 11:case 15:za(8,c,l);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var f=c.memoizedState.cachePool.pool;f!=null&&f.refCount++}break;case 24:to(c.memoizedState.cache)}if(f=c.child,f!==null)f.return=c,Kt=f;else e:for(c=a;Kt!==null;){f=Kt;var p=f.sibling,y=f.return;if(Dw(f),f===c){Kt=null;break e}if(p!==null){p.return=y,Kt=p;break e}Kt=y}}}var y3={getCacheForType:function(a){var l=cr(Dt),c=l.data.get(a);return c===void 0&&(c=a(),l.data.set(a,c)),c}},b3=typeof WeakMap=="function"?WeakMap:Map,Xe=0,st=null,qe=null,He=0,Qe=0,Lr=null,Ka=!1,qs=!1,Rm=!1,la=0,wt=0,Ya=0,$i=0,$m=0,rn=0,zs=0,wo=null,_r=null,Lm=!1,Im=0,Ru=1/0,$u=null,Ga=null,er=0,Va=null,Bs=null,Hs=0,Um=0,qm=null,Bw=null,jo=0,zm=null;function Ir(){if((Xe&2)!==0&&He!==0)return He&-He;if(z.T!==null){var a=Cs;return a!==0?a:Fm()}return Gc()}function Hw(){rn===0&&(rn=(He&536870912)===0||Fe?ms():536870912);var a=tn.current;return a!==null&&(a.flags|=32),rn}function Ur(a,l,c){(a===st&&(Qe===2||Qe===9)||a.cancelPendingCommit!==null)&&(Ks(a,0),Fa(a,He,rn,!1)),Da(a,c),((Xe&2)===0||a!==st)&&(a===st&&((Xe&2)===0&&($i|=c),wt===4&&Fa(a,He,rn,!1)),Mn(a))}function Kw(a,l,c){if((Xe&6)!==0)throw Error(n(327));var f=!c&&(l&124)===0&&(l&a.expiredLanes)===0||hs(a,l),p=f?N3(a,l):Km(a,l,!0),y=f;do{if(p===0){qs&&!f&&Fa(a,l,0,!1);break}else{if(c=a.current.alternate,y&&!w3(c)){p=Km(a,l,!1),y=!1;continue}if(p===2){if(y=l,a.errorRecoveryDisabledLanes&y)var E=0;else E=a.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){l=E;e:{var M=a;p=wo;var B=M.current.memoizedState.isDehydrated;if(B&&(Ks(M,E).flags|=256),E=Km(M,E,!1),E!==2){if(Rm&&!B){M.errorRecoveryDisabledLanes|=y,$i|=y,p=4;break e}y=_r,_r=p,y!==null&&(_r===null?_r=y:_r.push.apply(_r,y))}p=E}if(y=!1,p!==2)continue}}if(p===1){Ks(a,0),Fa(a,l,0,!0);break}e:{switch(f=a,y=p,y){case 0:case 1:throw Error(n(345));case 4:if((l&4194048)!==l)break;case 6:Fa(f,l,rn,!Ka);break e;case 2:_r=null;break;case 3:case 5:break;default:throw Error(n(329))}if((l&62914560)===l&&(p=Im+300-Pe(),10<p)){if(Fa(f,l,rn,!Ka),ut(f,0,!0)!==0)break e;f.timeoutHandle=yj(Yw.bind(null,f,c,_r,$u,Lm,l,rn,$i,zs,Ka,y,2,-0,0),p);break e}Yw(f,c,_r,$u,Lm,l,rn,$i,zs,Ka,y,0,-0,0)}}break}while(!0);Mn(a)}function Yw(a,l,c,f,p,y,E,M,B,Z,ue,he,ne,ae){if(a.timeoutHandle=-1,he=l.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(ko={stylesheets:null,count:0,unsuspend:rD},Iw(l),he=aD(),he!==null)){a.cancelPendingCommit=he(Zw.bind(null,a,l,y,c,f,p,E,M,B,ue,1,ne,ae)),Fa(a,y,E,!Z);return}Zw(a,l,y,c,f,p,E,M,B)}function w3(a){for(var l=a;;){var c=l.tag;if((c===0||c===11||c===15)&&l.flags&16384&&(c=l.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var f=0;f<c.length;f++){var p=c[f],y=p.getSnapshot;p=p.value;try{if(!Pr(y(),p))return!1}catch{return!1}}if(c=l.child,l.subtreeFlags&16384&&c!==null)c.return=l,l=c;else{if(l===a)break;for(;l.sibling===null;){if(l.return===null||l.return===a)return!0;l=l.return}l.sibling.return=l.return,l=l.sibling}}return!0}function Fa(a,l,c,f){l&=~$m,l&=~$i,a.suspendedLanes|=l,a.pingedLanes&=~l,f&&(a.warmLanes|=l),f=a.expirationTimes;for(var p=l;0<p;){var y=31-lr(p),E=1<<y;f[y]=-1,p&=~E}c!==0&&gs(a,c,l)}function Lu(){return(Xe&6)===0?(No(0),!1):!0}function Bm(){if(qe!==null){if(Qe===0)var a=qe.return;else a=qe,Jn=Ci=null,im(a),$s=null,ho=0,a=qe;for(;a!==null;)_w(a.alternate,a),a=a.return;qe=null}}function Ks(a,l){var c=a.timeoutHandle;c!==-1&&(a.timeoutHandle=-1,U3(c)),c=a.cancelPendingCommit,c!==null&&(a.cancelPendingCommit=null,c()),Bm(),st=a,qe=c=Xn(a.current,null),He=l,Qe=0,Lr=null,Ka=!1,qs=hs(a,l),Rm=!1,zs=rn=$m=$i=Ya=wt=0,_r=wo=null,Lm=!1,(l&8)!==0&&(l|=l&32);var f=a.entangledLanes;if(f!==0)for(a=a.entanglements,f&=l;0<f;){var p=31-lr(f),y=1<<p;l|=a[p],f&=~y}return la=l,iu(),c}function Gw(a,l){Ie=null,z.H=_u,l===no||l===mu?(l=cb(),Qe=3):l===sb?(l=cb(),Qe=4):Qe=l===uw?8:l!==null&&typeof l=="object"&&typeof l.then=="function"?6:1,Lr=l,qe===null&&(wt=1,ku(a,Qr(l,a.current)))}function Vw(){var a=z.H;return z.H=_u,a===null?_u:a}function Fw(){var a=z.A;return z.A=y3,a}function Hm(){wt=4,Ka||(He&4194048)!==He&&tn.current!==null||(qs=!0),(Ya&134217727)===0&&($i&134217727)===0||st===null||Fa(st,He,rn,!1)}function Km(a,l,c){var f=Xe;Xe|=2;var p=Vw(),y=Fw();(st!==a||He!==l)&&($u=null,Ks(a,l)),l=!1;var E=wt;e:do try{if(Qe!==0&&qe!==null){var M=qe,B=Lr;switch(Qe){case 8:Bm(),E=6;break e;case 3:case 2:case 9:case 6:tn.current===null&&(l=!0);var Z=Qe;if(Qe=0,Lr=null,Ys(a,M,B,Z),c&&qs){E=0;break e}break;default:Z=Qe,Qe=0,Lr=null,Ys(a,M,B,Z)}}j3(),E=wt;break}catch(ue){Gw(a,ue)}while(!0);return l&&a.shellSuspendCounter++,Jn=Ci=null,Xe=f,z.H=p,z.A=y,qe===null&&(st=null,He=0,iu()),E}function j3(){for(;qe!==null;)Ww(qe)}function N3(a,l){var c=Xe;Xe|=2;var f=Vw(),p=Fw();st!==a||He!==l?($u=null,Ru=Pe()+500,Ks(a,l)):qs=hs(a,l);e:do try{if(Qe!==0&&qe!==null){l=qe;var y=Lr;t:switch(Qe){case 1:Qe=0,Lr=null,Ys(a,l,y,1);break;case 2:case 9:if(lb(y)){Qe=0,Lr=null,Xw(l);break}l=function(){Qe!==2&&Qe!==9||st!==a||(Qe=7),Mn(a)},y.then(l,l);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:lb(y)?(Qe=0,Lr=null,Xw(l)):(Qe=0,Lr=null,Ys(a,l,y,7));break;case 5:var E=null;switch(qe.tag){case 26:E=qe.memoizedState;case 5:case 27:var M=qe;if(!E||Tj(E)){Qe=0,Lr=null;var B=M.sibling;if(B!==null)qe=B;else{var Z=M.return;Z!==null?(qe=Z,Iu(Z)):qe=null}break t}}Qe=0,Lr=null,Ys(a,l,y,5);break;case 6:Qe=0,Lr=null,Ys(a,l,y,6);break;case 8:Bm(),wt=6;break e;default:throw Error(n(462))}}_3();break}catch(ue){Gw(a,ue)}while(!0);return Jn=Ci=null,z.H=f,z.A=p,Xe=c,qe!==null?0:(st=null,He=0,iu(),wt)}function _3(){for(;qe!==null&&!oe();)Ww(qe)}function Ww(a){var l=jw(a.alternate,a,la);a.memoizedProps=a.pendingProps,l===null?Iu(a):qe=l}function Xw(a){var l=a,c=l.alternate;switch(l.tag){case 15:case 0:l=xw(c,l,l.pendingProps,l.type,void 0,He);break;case 11:l=xw(c,l,l.pendingProps,l.type.render,l.ref,He);break;case 5:im(l);default:_w(c,l),l=qe=Qy(l,la),l=jw(c,l,la)}a.memoizedProps=a.pendingProps,l===null?Iu(a):qe=l}function Ys(a,l,c,f){Jn=Ci=null,im(l),$s=null,ho=0;var p=l.return;try{if(h3(a,p,l,c,He)){wt=1,ku(a,Qr(c,a.current)),qe=null;return}}catch(y){if(p!==null)throw qe=p,y;wt=1,ku(a,Qr(c,a.current)),qe=null;return}l.flags&32768?(Fe||f===1?a=!0:qs||(He&536870912)!==0?a=!1:(Ka=a=!0,(f===2||f===9||f===3||f===6)&&(f=tn.current,f!==null&&f.tag===13&&(f.flags|=16384))),Qw(l,a)):Iu(l)}function Iu(a){var l=a;do{if((l.flags&32768)!==0){Qw(l,Ka);return}a=l.return;var c=g3(l.alternate,l,la);if(c!==null){qe=c;return}if(l=l.sibling,l!==null){qe=l;return}qe=l=a}while(l!==null);wt===0&&(wt=5)}function Qw(a,l){do{var c=x3(a.alternate,a);if(c!==null){c.flags&=32767,qe=c;return}if(c=a.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!l&&(a=a.sibling,a!==null)){qe=a;return}qe=a=c}while(a!==null);wt=6,qe=null}function Zw(a,l,c,f,p,y,E,M,B){a.cancelPendingCommit=null;do Uu();while(er!==0);if((Xe&6)!==0)throw Error(n(327));if(l!==null){if(l===a.current)throw Error(n(177));if(y=l.lanes|l.childLanes,y|=Mh,Il(a,c,y,E,M,B),a===st&&(qe=st=null,He=0),Bs=l,Va=a,Hs=c,Um=y,qm=p,Bw=f,(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?(a.callbackNode=null,a.callbackPriority=0,E3(Gn,function(){return nj(),null})):(a.callbackNode=null,a.callbackPriority=0),f=(l.flags&13878)!==0,(l.subtreeFlags&13878)!==0||f){f=z.T,z.T=null,p=V.p,V.p=2,E=Xe,Xe|=4;try{p3(a,l,c)}finally{Xe=E,V.p=p,z.T=f}}er=1,Jw(),ej(),tj()}}function Jw(){if(er===1){er=0;var a=Va,l=Bs,c=(l.flags&13878)!==0;if((l.subtreeFlags&13878)!==0||c){c=z.T,z.T=null;var f=V.p;V.p=2;var p=Xe;Xe|=4;try{Rw(l,a);var y=rg,E=zy(a.containerInfo),M=y.focusedElem,B=y.selectionRange;if(E!==M&&M&&M.ownerDocument&&qy(M.ownerDocument.documentElement,M)){if(B!==null&&kh(M)){var Z=B.start,ue=B.end;if(ue===void 0&&(ue=Z),"selectionStart"in M)M.selectionStart=Z,M.selectionEnd=Math.min(ue,M.value.length);else{var he=M.ownerDocument||document,ne=he&&he.defaultView||window;if(ne.getSelection){var ae=ne.getSelection(),Me=M.textContent.length,Te=Math.min(B.start,Me),tt=B.end===void 0?Te:Math.min(B.end,Me);!ae.extend&&Te>tt&&(E=tt,tt=Te,Te=E);var F=Uy(M,Te),G=Uy(M,tt);if(F&&G&&(ae.rangeCount!==1||ae.anchorNode!==F.node||ae.anchorOffset!==F.offset||ae.focusNode!==G.node||ae.focusOffset!==G.offset)){var Q=he.createRange();Q.setStart(F.node,F.offset),ae.removeAllRanges(),Te>tt?(ae.addRange(Q),ae.extend(G.node,G.offset)):(Q.setEnd(G.node,G.offset),ae.addRange(Q))}}}}for(he=[],ae=M;ae=ae.parentNode;)ae.nodeType===1&&he.push({element:ae,left:ae.scrollLeft,top:ae.scrollTop});for(typeof M.focus=="function"&&M.focus(),M=0;M<he.length;M++){var fe=he[M];fe.element.scrollLeft=fe.left,fe.element.scrollTop=fe.top}}Qu=!!tg,rg=tg=null}finally{Xe=p,V.p=f,z.T=c}}a.current=l,er=2}}function ej(){if(er===2){er=0;var a=Va,l=Bs,c=(l.flags&8772)!==0;if((l.subtreeFlags&8772)!==0||c){c=z.T,z.T=null;var f=V.p;V.p=2;var p=Xe;Xe|=4;try{Tw(a,l.alternate,l)}finally{Xe=p,V.p=f,z.T=c}}er=3}}function tj(){if(er===4||er===3){er=0,be();var a=Va,l=Bs,c=Hs,f=Bw;(l.subtreeFlags&10256)!==0||(l.flags&10256)!==0?er=5:(er=0,Bs=Va=null,rj(a,a.pendingLanes));var p=a.pendingLanes;if(p===0&&(Ga=null),ql(c),l=l.stateNode,gr&&typeof gr.onCommitFiberRoot=="function")try{gr.onCommitFiberRoot(vi,l,void 0,(l.current.flags&128)===128)}catch{}if(f!==null){l=z.T,p=V.p,V.p=2,z.T=null;try{for(var y=a.onRecoverableError,E=0;E<f.length;E++){var M=f[E];y(M.value,{componentStack:M.stack})}}finally{z.T=l,V.p=p}}(Hs&3)!==0&&Uu(),Mn(a),p=a.pendingLanes,(c&4194090)!==0&&(p&42)!==0?a===zm?jo++:(jo=0,zm=a):jo=0,No(0)}}function rj(a,l){(a.pooledCacheLanes&=l)===0&&(l=a.pooledCache,l!=null&&(a.pooledCache=null,to(l)))}function Uu(a){return Jw(),ej(),tj(),nj()}function nj(){if(er!==5)return!1;var a=Va,l=Um;Um=0;var c=ql(Hs),f=z.T,p=V.p;try{V.p=32>c?32:c,z.T=null,c=qm,qm=null;var y=Va,E=Hs;if(er=0,Bs=Va=null,Hs=0,(Xe&6)!==0)throw Error(n(331));var M=Xe;if(Xe|=4,qw(y.current),Lw(y,y.current,E,c),Xe=M,No(0,!1),gr&&typeof gr.onPostCommitFiberRoot=="function")try{gr.onPostCommitFiberRoot(vi,y)}catch{}return!0}finally{V.p=p,z.T=f,rj(a,l)}}function aj(a,l,c){l=Qr(c,l),l=ym(a.stateNode,l,2),a=La(a,l,2),a!==null&&(Da(a,2),Mn(a))}function nt(a,l,c){if(a.tag===3)aj(a,a,c);else for(;l!==null;){if(l.tag===3){aj(l,a,c);break}else if(l.tag===1){var f=l.stateNode;if(typeof l.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(Ga===null||!Ga.has(f))){a=Qr(c,a),c=ow(2),f=La(l,c,2),f!==null&&(cw(c,f,l,a),Da(f,2),Mn(f));break}}l=l.return}}function Ym(a,l,c){var f=a.pingCache;if(f===null){f=a.pingCache=new b3;var p=new Set;f.set(l,p)}else p=f.get(l),p===void 0&&(p=new Set,f.set(l,p));p.has(c)||(Rm=!0,p.add(c),a=S3.bind(null,a,l,c),l.then(a,a))}function S3(a,l,c){var f=a.pingCache;f!==null&&f.delete(l),a.pingedLanes|=a.suspendedLanes&c,a.warmLanes&=~c,st===a&&(He&c)===c&&(wt===4||wt===3&&(He&62914560)===He&&300>Pe()-Im?(Xe&2)===0&&Ks(a,0):$m|=c,zs===He&&(zs=0)),Mn(a)}function ij(a,l){l===0&&(l=yi()),a=Os(a,l),a!==null&&(Da(a,l),Mn(a))}function O3(a){var l=a.memoizedState,c=0;l!==null&&(c=l.retryLane),ij(a,c)}function A3(a,l){var c=0;switch(a.tag){case 13:var f=a.stateNode,p=a.memoizedState;p!==null&&(c=p.retryLane);break;case 19:f=a.stateNode;break;case 22:f=a.stateNode._retryCache;break;default:throw Error(n(314))}f!==null&&f.delete(l),ij(a,c)}function E3(a,l){return le(a,l)}var qu=null,Gs=null,Gm=!1,zu=!1,Vm=!1,Li=0;function Mn(a){a!==Gs&&a.next===null&&(Gs===null?qu=Gs=a:Gs=Gs.next=a),zu=!0,Gm||(Gm=!0,C3())}function No(a,l){if(!Vm&&zu){Vm=!0;do for(var c=!1,f=qu;f!==null;){if(a!==0){var p=f.pendingLanes;if(p===0)var y=0;else{var E=f.suspendedLanes,M=f.pingedLanes;y=(1<<31-lr(42|a)+1)-1,y&=p&~(E&~M),y=y&201326741?y&201326741|1:y?y|2:0}y!==0&&(c=!0,cj(f,y))}else y=He,y=ut(f,f===st?y:0,f.cancelPendingCommit!==null||f.timeoutHandle!==-1),(y&3)===0||hs(f,y)||(c=!0,cj(f,y));f=f.next}while(c);Vm=!1}}function k3(){sj()}function sj(){zu=Gm=!1;var a=0;Li!==0&&(I3()&&(a=Li),Li=0);for(var l=Pe(),c=null,f=qu;f!==null;){var p=f.next,y=lj(f,l);y===0?(f.next=null,c===null?qu=p:c.next=p,p===null&&(Gs=c)):(c=f,(a!==0||(y&3)!==0)&&(zu=!0)),f=p}No(a)}function lj(a,l){for(var c=a.suspendedLanes,f=a.pingedLanes,p=a.expirationTimes,y=a.pendingLanes&-62914561;0<y;){var E=31-lr(y),M=1<<E,B=p[E];B===-1?((M&c)===0||(M&f)!==0)&&(p[E]=Dr(M,l)):B<=l&&(a.expiredLanes|=M),y&=~M}if(l=st,c=He,c=ut(a,a===l?c:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f=a.callbackNode,c===0||a===l&&(Qe===2||Qe===9)||a.cancelPendingCommit!==null)return f!==null&&f!==null&&me(f),a.callbackNode=null,a.callbackPriority=0;if((c&3)===0||hs(a,c)){if(l=c&-c,l===a.callbackPriority)return l;switch(f!==null&&me(f),ql(c)){case 2:case 8:c=fs;break;case 32:c=Gn;break;case 268435456:c=Ta;break;default:c=Gn}return f=oj.bind(null,a),c=le(c,f),a.callbackPriority=l,a.callbackNode=c,l}return f!==null&&f!==null&&me(f),a.callbackPriority=2,a.callbackNode=null,2}function oj(a,l){if(er!==0&&er!==5)return a.callbackNode=null,a.callbackPriority=0,null;var c=a.callbackNode;if(Uu()&&a.callbackNode!==c)return null;var f=He;return f=ut(a,a===st?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),f===0?null:(Kw(a,f,l),lj(a,Pe()),a.callbackNode!=null&&a.callbackNode===c?oj.bind(null,a):null)}function cj(a,l){if(Uu())return null;Kw(a,l,!0)}function C3(){q3(function(){(Xe&6)!==0?le(Cr,k3):sj()})}function Fm(){return Li===0&&(Li=ms()),Li}function uj(a){return a==null||typeof a=="symbol"||typeof a=="boolean"?null:typeof a=="function"?a:Zc(""+a)}function dj(a,l){var c=l.ownerDocument.createElement("input");return c.name=l.name,c.value=l.value,a.id&&c.setAttribute("form",a.id),l.parentNode.insertBefore(c,l),a=new FormData(a),c.parentNode.removeChild(c),a}function T3(a,l,c,f,p){if(l==="submit"&&c&&c.stateNode===p){var y=uj((p[or]||null).action),E=f.submitter;E&&(l=(l=E[or]||null)?uj(l.formAction):E.getAttribute("formAction"),l!==null&&(y=l,E=null));var M=new ru("action","action",null,f,p);a.push({event:M,listeners:[{instance:null,listener:function(){if(f.defaultPrevented){if(Li!==0){var B=E?dj(p,E):new FormData(p);mm(c,{pending:!0,data:B,method:p.method,action:y},null,B)}}else typeof y=="function"&&(M.preventDefault(),B=E?dj(p,E):new FormData(p),mm(c,{pending:!0,data:B,method:p.method,action:y},y,B))},currentTarget:p}]})}}for(var Wm=0;Wm<Ph.length;Wm++){var Xm=Ph[Wm],D3=Xm.toLowerCase(),P3=Xm[0].toUpperCase()+Xm.slice(1);xn(D3,"on"+P3)}xn(Ky,"onAnimationEnd"),xn(Yy,"onAnimationIteration"),xn(Gy,"onAnimationStart"),xn("dblclick","onDoubleClick"),xn("focusin","onFocus"),xn("focusout","onBlur"),xn(XT,"onTransitionRun"),xn(QT,"onTransitionStart"),xn(ZT,"onTransitionCancel"),xn(Vy,"onTransitionEnd"),jt("onMouseEnter",["mouseout","mouseover"]),jt("onMouseLeave",["mouseout","mouseover"]),jt("onPointerEnter",["pointerout","pointerover"]),jt("onPointerLeave",["pointerout","pointerover"]),Bt("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bt("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bt("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bt("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bt("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _o="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),M3=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(_o));function fj(a,l){l=(l&4)!==0;for(var c=0;c<a.length;c++){var f=a[c],p=f.event;f=f.listeners;e:{var y=void 0;if(l)for(var E=f.length-1;0<=E;E--){var M=f[E],B=M.instance,Z=M.currentTarget;if(M=M.listener,B!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=Z;try{y(p)}catch(ue){Eu(ue)}p.currentTarget=null,y=B}else for(E=0;E<f.length;E++){if(M=f[E],B=M.instance,Z=M.currentTarget,M=M.listener,B!==y&&p.isPropagationStopped())break e;y=M,p.currentTarget=Z;try{y(p)}catch(ue){Eu(ue)}p.currentTarget=null,y=B}}}}function ze(a,l){var c=l[kn];c===void 0&&(c=l[kn]=new Set);var f=a+"__bubble";c.has(f)||(hj(l,a,2,!1),c.add(f))}function Qm(a,l,c){var f=0;l&&(f|=4),hj(c,a,f,l)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function Zm(a){if(!a[Bu]){a[Bu]=!0,xs.forEach(function(c){c!=="selectionchange"&&(M3.has(c)||Qm(c,!1,a),Qm(c,!0,a))});var l=a.nodeType===9?a:a.ownerDocument;l===null||l[Bu]||(l[Bu]=!0,Qm("selectionchange",!1,l))}}function hj(a,l,c,f){switch(Lj(l)){case 2:var p=lD;break;case 8:p=oD;break;default:p=fg}c=p.bind(null,l,c,a),p=void 0,!bh||l!=="touchstart"&&l!=="touchmove"&&l!=="wheel"||(p=!0),f?p!==void 0?a.addEventListener(l,c,{capture:!0,passive:p}):a.addEventListener(l,c,!0):p!==void 0?a.addEventListener(l,c,{passive:p}):a.addEventListener(l,c,!1)}function Jm(a,l,c,f,p){var y=f;if((l&1)===0&&(l&2)===0&&f!==null)e:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var M=f.stateNode.containerInfo;if(M===p)break;if(E===4)for(E=f.return;E!==null;){var B=E.tag;if((B===3||B===4)&&E.stateNode.containerInfo===p)return;E=E.return}for(;M!==null;){if(E=Le(M),E===null)return;if(B=E.tag,B===5||B===6||B===26||B===27){f=y=E;continue e}M=M.parentNode}}f=f.return}by(function(){var Z=y,ue=vh(c),he=[];e:{var ne=Fy.get(a);if(ne!==void 0){var ae=ru,Me=a;switch(a){case"keypress":if(eu(c)===0)break e;case"keydown":case"keyup":ae=ET;break;case"focusin":Me="focus",ae=_h;break;case"focusout":Me="blur",ae=_h;break;case"beforeblur":case"afterblur":ae=_h;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=Ny;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=xT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=TT;break;case Ky:case Yy:case Gy:ae=yT;break;case Vy:ae=PT;break;case"scroll":case"scrollend":ae=mT;break;case"wheel":ae=RT;break;case"copy":case"cut":case"paste":ae=wT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Sy;break;case"toggle":case"beforetoggle":ae=LT}var Te=(l&4)!==0,tt=!Te&&(a==="scroll"||a==="scrollend"),F=Te?ne!==null?ne+"Capture":null:ne;Te=[];for(var G=Z,Q;G!==null;){var fe=G;if(Q=fe.stateNode,fe=fe.tag,fe!==5&&fe!==26&&fe!==27||Q===null||F===null||(fe=Bl(G,F),fe!=null&&Te.push(So(G,fe,Q))),tt)break;G=G.return}0<Te.length&&(ne=new ae(ne,Me,null,c,ue),he.push({event:ne,listeners:Te}))}}if((l&7)===0){e:{if(ne=a==="mouseover"||a==="pointerover",ae=a==="mouseout"||a==="pointerout",ne&&c!==ph&&(Me=c.relatedTarget||c.fromElement)&&(Le(Me)||Me[En]))break e;if((ae||ne)&&(ne=ue.window===ue?ue:(ne=ue.ownerDocument)?ne.defaultView||ne.parentWindow:window,ae?(Me=c.relatedTarget||c.toElement,ae=Z,Me=Me?Le(Me):null,Me!==null&&(tt=o(Me),Te=Me.tag,Me!==tt||Te!==5&&Te!==27&&Te!==6)&&(Me=null)):(ae=null,Me=Z),ae!==Me)){if(Te=Ny,fe="onMouseLeave",F="onMouseEnter",G="mouse",(a==="pointerout"||a==="pointerover")&&(Te=Sy,fe="onPointerLeave",F="onPointerEnter",G="pointer"),tt=ae==null?ne:mt(ae),Q=Me==null?ne:mt(Me),ne=new Te(fe,G+"leave",ae,c,ue),ne.target=tt,ne.relatedTarget=Q,fe=null,Le(ue)===Z&&(Te=new Te(F,G+"enter",Me,c,ue),Te.target=Q,Te.relatedTarget=tt,fe=Te),tt=fe,ae&&Me)t:{for(Te=ae,F=Me,G=0,Q=Te;Q;Q=Vs(Q))G++;for(Q=0,fe=F;fe;fe=Vs(fe))Q++;for(;0<G-Q;)Te=Vs(Te),G--;for(;0<Q-G;)F=Vs(F),Q--;for(;G--;){if(Te===F||F!==null&&Te===F.alternate)break t;Te=Vs(Te),F=Vs(F)}Te=null}else Te=null;ae!==null&&mj(he,ne,ae,Te,!1),Me!==null&&tt!==null&&mj(he,tt,Me,Te,!0)}}e:{if(ne=Z?mt(Z):window,ae=ne.nodeName&&ne.nodeName.toLowerCase(),ae==="select"||ae==="input"&&ne.type==="file")var Oe=Py;else if(Ty(ne))if(My)Oe=VT;else{Oe=YT;var Ue=KT}else ae=ne.nodeName,!ae||ae.toLowerCase()!=="input"||ne.type!=="checkbox"&&ne.type!=="radio"?Z&&xh(Z.elementType)&&(Oe=Py):Oe=GT;if(Oe&&(Oe=Oe(a,Z))){Dy(he,Oe,c,ue);break e}Ue&&Ue(a,ne,Z),a==="focusout"&&Z&&ne.type==="number"&&Z.memoizedProps.value!=null&&gh(ne,"number",ne.value)}switch(Ue=Z?mt(Z):window,a){case"focusin":(Ty(Ue)||Ue.contentEditable==="true")&&(Ns=Ue,Ch=Z,Xl=null);break;case"focusout":Xl=Ch=Ns=null;break;case"mousedown":Th=!0;break;case"contextmenu":case"mouseup":case"dragend":Th=!1,By(he,c,ue);break;case"selectionchange":if(WT)break;case"keydown":case"keyup":By(he,c,ue)}var Ee;if(Oh)e:{switch(a){case"compositionstart":var De="onCompositionStart";break e;case"compositionend":De="onCompositionEnd";break e;case"compositionupdate":De="onCompositionUpdate";break e}De=void 0}else js?ky(a,c)&&(De="onCompositionEnd"):a==="keydown"&&c.keyCode===229&&(De="onCompositionStart");De&&(Oy&&c.locale!=="ko"&&(js||De!=="onCompositionStart"?De==="onCompositionEnd"&&js&&(Ee=wy()):(Pa=ue,wh="value"in Pa?Pa.value:Pa.textContent,js=!0)),Ue=Hu(Z,De),0<Ue.length&&(De=new _y(De,a,null,c,ue),he.push({event:De,listeners:Ue}),Ee?De.data=Ee:(Ee=Cy(c),Ee!==null&&(De.data=Ee)))),(Ee=UT?qT(a,c):zT(a,c))&&(De=Hu(Z,"onBeforeInput"),0<De.length&&(Ue=new _y("onBeforeInput","beforeinput",null,c,ue),he.push({event:Ue,listeners:De}),Ue.data=Ee)),T3(he,a,Z,c,ue)}fj(he,l)})}function So(a,l,c){return{instance:a,listener:l,currentTarget:c}}function Hu(a,l){for(var c=l+"Capture",f=[];a!==null;){var p=a,y=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||y===null||(p=Bl(a,c),p!=null&&f.unshift(So(a,p,y)),p=Bl(a,l),p!=null&&f.push(So(a,p,y))),a.tag===3)return f;a=a.return}return[]}function Vs(a){if(a===null)return null;do a=a.return;while(a&&a.tag!==5&&a.tag!==27);return a||null}function mj(a,l,c,f,p){for(var y=l._reactName,E=[];c!==null&&c!==f;){var M=c,B=M.alternate,Z=M.stateNode;if(M=M.tag,B!==null&&B===f)break;M!==5&&M!==26&&M!==27||Z===null||(B=Z,p?(Z=Bl(c,y),Z!=null&&E.unshift(So(c,Z,B))):p||(Z=Bl(c,y),Z!=null&&E.push(So(c,Z,B)))),c=c.return}E.length!==0&&a.push({event:l,listeners:E})}var R3=/\r\n?/g,$3=/\u0000|\uFFFD/g;function gj(a){return(typeof a=="string"?a:""+a).replace(R3,`
`).replace($3,"")}function xj(a,l){return l=gj(l),gj(a)===l}function Ku(){}function et(a,l,c,f,p,y){switch(c){case"children":typeof f=="string"?l==="body"||l==="textarea"&&f===""||ys(a,f):(typeof f=="number"||typeof f=="bigint")&&l!=="body"&&ys(a,""+f);break;case"className":Ot(a,"class",f);break;case"tabIndex":Ot(a,"tabindex",f);break;case"dir":case"role":case"viewBox":case"width":case"height":Ot(a,c,f);break;case"style":vy(a,f,y);break;case"data":if(l!=="object"){Ot(a,"data",f);break}case"src":case"href":if(f===""&&(l!=="a"||c!=="href")){a.removeAttribute(c);break}if(f==null||typeof f=="function"||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Zc(""+f),a.setAttribute(c,f);break;case"action":case"formAction":if(typeof f=="function"){a.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof y=="function"&&(c==="formAction"?(l!=="input"&&et(a,l,"name",p.name,p,null),et(a,l,"formEncType",p.formEncType,p,null),et(a,l,"formMethod",p.formMethod,p,null),et(a,l,"formTarget",p.formTarget,p,null)):(et(a,l,"encType",p.encType,p,null),et(a,l,"method",p.method,p,null),et(a,l,"target",p.target,p,null)));if(f==null||typeof f=="symbol"||typeof f=="boolean"){a.removeAttribute(c);break}f=Zc(""+f),a.setAttribute(c,f);break;case"onClick":f!=null&&(a.onclick=Ku);break;case"onScroll":f!=null&&ze("scroll",a);break;case"onScrollEnd":f!=null&&ze("scrollend",a);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"multiple":a.multiple=f&&typeof f!="function"&&typeof f!="symbol";break;case"muted":a.muted=f&&typeof f!="function"&&typeof f!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(f==null||typeof f=="function"||typeof f=="boolean"||typeof f=="symbol"){a.removeAttribute("xlink:href");break}c=Zc(""+f),a.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""+f):a.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":f&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,""):a.removeAttribute(c);break;case"capture":case"download":f===!0?a.setAttribute(c,""):f!==!1&&f!=null&&typeof f!="function"&&typeof f!="symbol"?a.setAttribute(c,f):a.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":f!=null&&typeof f!="function"&&typeof f!="symbol"&&!isNaN(f)&&1<=f?a.setAttribute(c,f):a.removeAttribute(c);break;case"rowSpan":case"start":f==null||typeof f=="function"||typeof f=="symbol"||isNaN(f)?a.removeAttribute(c):a.setAttribute(c,f);break;case"popover":ze("beforetoggle",a),ze("toggle",a),zl(a,"popover",f);break;case"xlinkActuate":dt(a,"http://www.w3.org/1999/xlink","xlink:actuate",f);break;case"xlinkArcrole":dt(a,"http://www.w3.org/1999/xlink","xlink:arcrole",f);break;case"xlinkRole":dt(a,"http://www.w3.org/1999/xlink","xlink:role",f);break;case"xlinkShow":dt(a,"http://www.w3.org/1999/xlink","xlink:show",f);break;case"xlinkTitle":dt(a,"http://www.w3.org/1999/xlink","xlink:title",f);break;case"xlinkType":dt(a,"http://www.w3.org/1999/xlink","xlink:type",f);break;case"xmlBase":dt(a,"http://www.w3.org/XML/1998/namespace","xml:base",f);break;case"xmlLang":dt(a,"http://www.w3.org/XML/1998/namespace","xml:lang",f);break;case"xmlSpace":dt(a,"http://www.w3.org/XML/1998/namespace","xml:space",f);break;case"is":zl(a,"is",f);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=fT.get(c)||c,zl(a,c,f))}}function eg(a,l,c,f,p,y){switch(c){case"style":vy(a,f,y);break;case"dangerouslySetInnerHTML":if(f!=null){if(typeof f!="object"||!("__html"in f))throw Error(n(61));if(c=f.__html,c!=null){if(p.children!=null)throw Error(n(60));a.innerHTML=c}}break;case"children":typeof f=="string"?ys(a,f):(typeof f=="number"||typeof f=="bigint")&&ys(a,""+f);break;case"onScroll":f!=null&&ze("scroll",a);break;case"onScrollEnd":f!=null&&ze("scrollend",a);break;case"onClick":f!=null&&(a.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wi.hasOwnProperty(c))e:{if(c[0]==="o"&&c[1]==="n"&&(p=c.endsWith("Capture"),l=c.slice(2,p?c.length-7:void 0),y=a[or]||null,y=y!=null?y[c]:null,typeof y=="function"&&a.removeEventListener(l,y,p),typeof f=="function")){typeof y!="function"&&y!==null&&(c in a?a[c]=null:a.hasAttribute(c)&&a.removeAttribute(c)),a.addEventListener(l,f,p);break e}c in a?a[c]=f:f===!0?a.setAttribute(c,""):zl(a,c,f)}}}function tr(a,l,c){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",a),ze("load",a);var f=!1,p=!1,y;for(y in c)if(c.hasOwnProperty(y)){var E=c[y];if(E!=null)switch(y){case"src":f=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:et(a,l,y,E,c,null)}}p&&et(a,l,"srcSet",c.srcSet,c,null),f&&et(a,l,"src",c.src,c,null);return;case"input":ze("invalid",a);var M=y=E=p=null,B=null,Z=null;for(f in c)if(c.hasOwnProperty(f)){var ue=c[f];if(ue!=null)switch(f){case"name":p=ue;break;case"type":E=ue;break;case"checked":B=ue;break;case"defaultChecked":Z=ue;break;case"value":y=ue;break;case"defaultValue":M=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(n(137,l));break;default:et(a,l,f,ue,c,null)}}my(a,y,M,B,Z,E,p,!1),Xc(a);return;case"select":ze("invalid",a),f=E=y=null;for(p in c)if(c.hasOwnProperty(p)&&(M=c[p],M!=null))switch(p){case"value":y=M;break;case"defaultValue":E=M;break;case"multiple":f=M;default:et(a,l,p,M,c,null)}l=y,c=E,a.multiple=!!f,l!=null?vs(a,!!f,l,!1):c!=null&&vs(a,!!f,c,!0);return;case"textarea":ze("invalid",a),y=p=f=null;for(E in c)if(c.hasOwnProperty(E)&&(M=c[E],M!=null))switch(E){case"value":f=M;break;case"defaultValue":p=M;break;case"children":y=M;break;case"dangerouslySetInnerHTML":if(M!=null)throw Error(n(91));break;default:et(a,l,E,M,c,null)}xy(a,f,p,y),Xc(a);return;case"option":for(B in c)if(c.hasOwnProperty(B)&&(f=c[B],f!=null))switch(B){case"selected":a.selected=f&&typeof f!="function"&&typeof f!="symbol";break;default:et(a,l,B,f,c,null)}return;case"dialog":ze("beforetoggle",a),ze("toggle",a),ze("cancel",a),ze("close",a);break;case"iframe":case"object":ze("load",a);break;case"video":case"audio":for(f=0;f<_o.length;f++)ze(_o[f],a);break;case"image":ze("error",a),ze("load",a);break;case"details":ze("toggle",a);break;case"embed":case"source":case"link":ze("error",a),ze("load",a);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Z in c)if(c.hasOwnProperty(Z)&&(f=c[Z],f!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,l));default:et(a,l,Z,f,c,null)}return;default:if(xh(l)){for(ue in c)c.hasOwnProperty(ue)&&(f=c[ue],f!==void 0&&eg(a,l,ue,f,c,void 0));return}}for(M in c)c.hasOwnProperty(M)&&(f=c[M],f!=null&&et(a,l,M,f,c,null))}function L3(a,l,c,f){switch(l){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,y=null,E=null,M=null,B=null,Z=null,ue=null;for(ae in c){var he=c[ae];if(c.hasOwnProperty(ae)&&he!=null)switch(ae){case"checked":break;case"value":break;case"defaultValue":B=he;default:f.hasOwnProperty(ae)||et(a,l,ae,null,f,he)}}for(var ne in f){var ae=f[ne];if(he=c[ne],f.hasOwnProperty(ne)&&(ae!=null||he!=null))switch(ne){case"type":y=ae;break;case"name":p=ae;break;case"checked":Z=ae;break;case"defaultChecked":ue=ae;break;case"value":E=ae;break;case"defaultValue":M=ae;break;case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(n(137,l));break;default:ae!==he&&et(a,l,ne,ae,f,he)}}mh(a,E,M,B,Z,ue,y,p);return;case"select":ae=E=M=ne=null;for(y in c)if(B=c[y],c.hasOwnProperty(y)&&B!=null)switch(y){case"value":break;case"multiple":ae=B;default:f.hasOwnProperty(y)||et(a,l,y,null,f,B)}for(p in f)if(y=f[p],B=c[p],f.hasOwnProperty(p)&&(y!=null||B!=null))switch(p){case"value":ne=y;break;case"defaultValue":M=y;break;case"multiple":E=y;default:y!==B&&et(a,l,p,y,f,B)}l=M,c=E,f=ae,ne!=null?vs(a,!!c,ne,!1):!!f!=!!c&&(l!=null?vs(a,!!c,l,!0):vs(a,!!c,c?[]:"",!1));return;case"textarea":ae=ne=null;for(M in c)if(p=c[M],c.hasOwnProperty(M)&&p!=null&&!f.hasOwnProperty(M))switch(M){case"value":break;case"children":break;default:et(a,l,M,null,f,p)}for(E in f)if(p=f[E],y=c[E],f.hasOwnProperty(E)&&(p!=null||y!=null))switch(E){case"value":ne=p;break;case"defaultValue":ae=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(n(91));break;default:p!==y&&et(a,l,E,p,f,y)}gy(a,ne,ae);return;case"option":for(var Me in c)if(ne=c[Me],c.hasOwnProperty(Me)&&ne!=null&&!f.hasOwnProperty(Me))switch(Me){case"selected":a.selected=!1;break;default:et(a,l,Me,null,f,ne)}for(B in f)if(ne=f[B],ae=c[B],f.hasOwnProperty(B)&&ne!==ae&&(ne!=null||ae!=null))switch(B){case"selected":a.selected=ne&&typeof ne!="function"&&typeof ne!="symbol";break;default:et(a,l,B,ne,f,ae)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Te in c)ne=c[Te],c.hasOwnProperty(Te)&&ne!=null&&!f.hasOwnProperty(Te)&&et(a,l,Te,null,f,ne);for(Z in f)if(ne=f[Z],ae=c[Z],f.hasOwnProperty(Z)&&ne!==ae&&(ne!=null||ae!=null))switch(Z){case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(n(137,l));break;default:et(a,l,Z,ne,f,ae)}return;default:if(xh(l)){for(var tt in c)ne=c[tt],c.hasOwnProperty(tt)&&ne!==void 0&&!f.hasOwnProperty(tt)&&eg(a,l,tt,void 0,f,ne);for(ue in f)ne=f[ue],ae=c[ue],!f.hasOwnProperty(ue)||ne===ae||ne===void 0&&ae===void 0||eg(a,l,ue,ne,f,ae);return}}for(var F in c)ne=c[F],c.hasOwnProperty(F)&&ne!=null&&!f.hasOwnProperty(F)&&et(a,l,F,null,f,ne);for(he in f)ne=f[he],ae=c[he],!f.hasOwnProperty(he)||ne===ae||ne==null&&ae==null||et(a,l,he,ne,f,ae)}var tg=null,rg=null;function Yu(a){return a.nodeType===9?a:a.ownerDocument}function pj(a){switch(a){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vj(a,l){if(a===0)switch(l){case"svg":return 1;case"math":return 2;default:return 0}return a===1&&l==="foreignObject"?0:a}function ng(a,l){return a==="textarea"||a==="noscript"||typeof l.children=="string"||typeof l.children=="number"||typeof l.children=="bigint"||typeof l.dangerouslySetInnerHTML=="object"&&l.dangerouslySetInnerHTML!==null&&l.dangerouslySetInnerHTML.__html!=null}var ag=null;function I3(){var a=window.event;return a&&a.type==="popstate"?a===ag?!1:(ag=a,!0):(ag=null,!1)}var yj=typeof setTimeout=="function"?setTimeout:void 0,U3=typeof clearTimeout=="function"?clearTimeout:void 0,bj=typeof Promise=="function"?Promise:void 0,q3=typeof queueMicrotask=="function"?queueMicrotask:typeof bj<"u"?function(a){return bj.resolve(null).then(a).catch(z3)}:yj;function z3(a){setTimeout(function(){throw a})}function Wa(a){return a==="head"}function wj(a,l){var c=l,f=0,p=0;do{var y=c.nextSibling;if(a.removeChild(c),y&&y.nodeType===8)if(c=y.data,c==="/$"){if(0<f&&8>f){c=f;var E=a.ownerDocument;if(c&1&&Oo(E.documentElement),c&2&&Oo(E.body),c&4)for(c=E.head,Oo(c),E=c.firstChild;E;){var M=E.nextSibling,B=E.nodeName;E[Ne]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&E.rel.toLowerCase()==="stylesheet"||c.removeChild(E),E=M}}if(p===0){a.removeChild(y),Mo(l);return}p--}else c==="$"||c==="$?"||c==="$!"?p++:f=c.charCodeAt(0)-48;else f=0;c=y}while(c);Mo(l)}function ig(a){var l=a.firstChild;for(l&&l.nodeType===10&&(l=l.nextSibling);l;){var c=l;switch(l=l.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":ig(c),Ce(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}a.removeChild(c)}}function B3(a,l,c,f){for(;a.nodeType===1;){var p=c;if(a.nodeName.toLowerCase()!==l.toLowerCase()){if(!f&&(a.nodeName!=="INPUT"||a.type!=="hidden"))break}else if(f){if(!a[Ne])switch(l){case"meta":if(!a.hasAttribute("itemprop"))break;return a;case"link":if(y=a.getAttribute("rel"),y==="stylesheet"&&a.hasAttribute("data-precedence"))break;if(y!==p.rel||a.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||a.getAttribute("title")!==(p.title==null?null:p.title))break;return a;case"style":if(a.hasAttribute("data-precedence"))break;return a;case"script":if(y=a.getAttribute("src"),(y!==(p.src==null?null:p.src)||a.getAttribute("type")!==(p.type==null?null:p.type)||a.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&y&&a.hasAttribute("async")&&!a.hasAttribute("itemprop"))break;return a;default:return a}}else if(l==="input"&&a.type==="hidden"){var y=p.name==null?null:""+p.name;if(p.type==="hidden"&&a.getAttribute("name")===y)return a}else return a;if(a=vn(a.nextSibling),a===null)break}return null}function H3(a,l,c){if(l==="")return null;for(;a.nodeType!==3;)if((a.nodeType!==1||a.nodeName!=="INPUT"||a.type!=="hidden")&&!c||(a=vn(a.nextSibling),a===null))return null;return a}function sg(a){return a.data==="$!"||a.data==="$?"&&a.ownerDocument.readyState==="complete"}function K3(a,l){var c=a.ownerDocument;if(a.data!=="$?"||c.readyState==="complete")l();else{var f=function(){l(),c.removeEventListener("DOMContentLoaded",f)};c.addEventListener("DOMContentLoaded",f),a._reactRetry=f}}function vn(a){for(;a!=null;a=a.nextSibling){var l=a.nodeType;if(l===1||l===3)break;if(l===8){if(l=a.data,l==="$"||l==="$!"||l==="$?"||l==="F!"||l==="F")break;if(l==="/$")return null}}return a}var lg=null;function jj(a){a=a.previousSibling;for(var l=0;a;){if(a.nodeType===8){var c=a.data;if(c==="$"||c==="$!"||c==="$?"){if(l===0)return a;l--}else c==="/$"&&l++}a=a.previousSibling}return null}function Nj(a,l,c){switch(l=Yu(c),a){case"html":if(a=l.documentElement,!a)throw Error(n(452));return a;case"head":if(a=l.head,!a)throw Error(n(453));return a;case"body":if(a=l.body,!a)throw Error(n(454));return a;default:throw Error(n(451))}}function Oo(a){for(var l=a.attributes;l.length;)a.removeAttributeNode(l[0]);Ce(a)}var nn=new Map,_j=new Set;function Gu(a){return typeof a.getRootNode=="function"?a.getRootNode():a.nodeType===9?a:a.ownerDocument}var oa=V.d;V.d={f:Y3,r:G3,D:V3,C:F3,L:W3,m:X3,X:Z3,S:Q3,M:J3};function Y3(){var a=oa.f(),l=Lu();return a||l}function G3(a){var l=zt(a);l!==null&&l.tag===5&&l.type==="form"?Kb(l):oa.r(a)}var Fs=typeof document>"u"?null:document;function Sj(a,l,c){var f=Fs;if(f&&typeof l=="string"&&l){var p=Xr(l);p='link[rel="'+a+'"][href="'+p+'"]',typeof c=="string"&&(p+='[crossorigin="'+c+'"]'),_j.has(p)||(_j.add(p),a={rel:a,crossOrigin:c,href:l},f.querySelector(p)===null&&(l=f.createElement("link"),tr(l,"link",a),it(l),f.head.appendChild(l)))}}function V3(a){oa.D(a),Sj("dns-prefetch",a,null)}function F3(a,l){oa.C(a,l),Sj("preconnect",a,l)}function W3(a,l,c){oa.L(a,l,c);var f=Fs;if(f&&a&&l){var p='link[rel="preload"][as="'+Xr(l)+'"]';l==="image"&&c&&c.imageSrcSet?(p+='[imagesrcset="'+Xr(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(p+='[imagesizes="'+Xr(c.imageSizes)+'"]')):p+='[href="'+Xr(a)+'"]';var y=p;switch(l){case"style":y=Ws(a);break;case"script":y=Xs(a)}nn.has(y)||(a=g({rel:"preload",href:l==="image"&&c&&c.imageSrcSet?void 0:a,as:l},c),nn.set(y,a),f.querySelector(p)!==null||l==="style"&&f.querySelector(Ao(y))||l==="script"&&f.querySelector(Eo(y))||(l=f.createElement("link"),tr(l,"link",a),it(l),f.head.appendChild(l)))}}function X3(a,l){oa.m(a,l);var c=Fs;if(c&&a){var f=l&&typeof l.as=="string"?l.as:"script",p='link[rel="modulepreload"][as="'+Xr(f)+'"][href="'+Xr(a)+'"]',y=p;switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":y=Xs(a)}if(!nn.has(y)&&(a=g({rel:"modulepreload",href:a},l),nn.set(y,a),c.querySelector(p)===null)){switch(f){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Eo(y)))return}f=c.createElement("link"),tr(f,"link",a),it(f),c.head.appendChild(f)}}}function Q3(a,l,c){oa.S(a,l,c);var f=Fs;if(f&&a){var p=gn(f).hoistableStyles,y=Ws(a);l=l||"default";var E=p.get(y);if(!E){var M={loading:0,preload:null};if(E=f.querySelector(Ao(y)))M.loading=5;else{a=g({rel:"stylesheet",href:a,"data-precedence":l},c),(c=nn.get(y))&&og(a,c);var B=E=f.createElement("link");it(B),tr(B,"link",a),B._p=new Promise(function(Z,ue){B.onload=Z,B.onerror=ue}),B.addEventListener("load",function(){M.loading|=1}),B.addEventListener("error",function(){M.loading|=2}),M.loading|=4,Vu(E,l,f)}E={type:"stylesheet",instance:E,count:1,state:M},p.set(y,E)}}}function Z3(a,l){oa.X(a,l);var c=Fs;if(c&&a){var f=gn(c).hoistableScripts,p=Xs(a),y=f.get(p);y||(y=c.querySelector(Eo(p)),y||(a=g({src:a,async:!0},l),(l=nn.get(p))&&cg(a,l),y=c.createElement("script"),it(y),tr(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function J3(a,l){oa.M(a,l);var c=Fs;if(c&&a){var f=gn(c).hoistableScripts,p=Xs(a),y=f.get(p);y||(y=c.querySelector(Eo(p)),y||(a=g({src:a,async:!0,type:"module"},l),(l=nn.get(p))&&cg(a,l),y=c.createElement("script"),it(y),tr(y,"link",a),c.head.appendChild(y)),y={type:"script",instance:y,count:1,state:null},f.set(p,y))}}function Oj(a,l,c,f){var p=(p=K.current)?Gu(p):null;if(!p)throw Error(n(446));switch(a){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(l=Ws(c.href),c=gn(p).hoistableStyles,f=c.get(l),f||(f={type:"style",instance:null,count:0,state:null},c.set(l,f)),f):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){a=Ws(c.href);var y=gn(p).hoistableStyles,E=y.get(a);if(E||(p=p.ownerDocument||p,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},y.set(a,E),(y=p.querySelector(Ao(a)))&&!y._p&&(E.instance=y,E.state.loading=5),nn.has(a)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},nn.set(a,c),y||eD(p,a,c,E.state))),l&&f===null)throw Error(n(528,""));return E}if(l&&f!==null)throw Error(n(529,""));return null;case"script":return l=c.async,c=c.src,typeof c=="string"&&l&&typeof l!="function"&&typeof l!="symbol"?(l=Xs(c),c=gn(p).hoistableScripts,f=c.get(l),f||(f={type:"script",instance:null,count:0,state:null},c.set(l,f)),f):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,a))}}function Ws(a){return'href="'+Xr(a)+'"'}function Ao(a){return'link[rel="stylesheet"]['+a+"]"}function Aj(a){return g({},a,{"data-precedence":a.precedence,precedence:null})}function eD(a,l,c,f){a.querySelector('link[rel="preload"][as="style"]['+l+"]")?f.loading=1:(l=a.createElement("link"),f.preload=l,l.addEventListener("load",function(){return f.loading|=1}),l.addEventListener("error",function(){return f.loading|=2}),tr(l,"link",c),it(l),a.head.appendChild(l))}function Xs(a){return'[src="'+Xr(a)+'"]'}function Eo(a){return"script[async]"+a}function Ej(a,l,c){if(l.count++,l.instance===null)switch(l.type){case"style":var f=a.querySelector('style[data-href~="'+Xr(c.href)+'"]');if(f)return l.instance=f,it(f),f;var p=g({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return f=(a.ownerDocument||a).createElement("style"),it(f),tr(f,"style",p),Vu(f,c.precedence,a),l.instance=f;case"stylesheet":p=Ws(c.href);var y=a.querySelector(Ao(p));if(y)return l.state.loading|=4,l.instance=y,it(y),y;f=Aj(c),(p=nn.get(p))&&og(f,p),y=(a.ownerDocument||a).createElement("link"),it(y);var E=y;return E._p=new Promise(function(M,B){E.onload=M,E.onerror=B}),tr(y,"link",f),l.state.loading|=4,Vu(y,c.precedence,a),l.instance=y;case"script":return y=Xs(c.src),(p=a.querySelector(Eo(y)))?(l.instance=p,it(p),p):(f=c,(p=nn.get(y))&&(f=g({},c),cg(f,p)),a=a.ownerDocument||a,p=a.createElement("script"),it(p),tr(p,"link",f),a.head.appendChild(p),l.instance=p);case"void":return null;default:throw Error(n(443,l.type))}else l.type==="stylesheet"&&(l.state.loading&4)===0&&(f=l.instance,l.state.loading|=4,Vu(f,c.precedence,a));return l.instance}function Vu(a,l,c){for(var f=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=f.length?f[f.length-1]:null,y=p,E=0;E<f.length;E++){var M=f[E];if(M.dataset.precedence===l)y=M;else if(y!==p)break}y?y.parentNode.insertBefore(a,y.nextSibling):(l=c.nodeType===9?c.head:c,l.insertBefore(a,l.firstChild))}function og(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.title==null&&(a.title=l.title)}function cg(a,l){a.crossOrigin==null&&(a.crossOrigin=l.crossOrigin),a.referrerPolicy==null&&(a.referrerPolicy=l.referrerPolicy),a.integrity==null&&(a.integrity=l.integrity)}var Fu=null;function kj(a,l,c){if(Fu===null){var f=new Map,p=Fu=new Map;p.set(c,f)}else p=Fu,f=p.get(c),f||(f=new Map,p.set(c,f));if(f.has(a))return f;for(f.set(a,null),c=c.getElementsByTagName(a),p=0;p<c.length;p++){var y=c[p];if(!(y[Ne]||y[qt]||a==="link"&&y.getAttribute("rel")==="stylesheet")&&y.namespaceURI!=="http://www.w3.org/2000/svg"){var E=y.getAttribute(l)||"";E=a+E;var M=f.get(E);M?M.push(y):f.set(E,[y])}}return f}function Cj(a,l,c){a=a.ownerDocument||a,a.head.insertBefore(c,l==="title"?a.querySelector("head > title"):null)}function tD(a,l,c){if(c===1||l.itemProp!=null)return!1;switch(a){case"meta":case"title":return!0;case"style":if(typeof l.precedence!="string"||typeof l.href!="string"||l.href==="")break;return!0;case"link":if(typeof l.rel!="string"||typeof l.href!="string"||l.href===""||l.onLoad||l.onError)break;switch(l.rel){case"stylesheet":return a=l.disabled,typeof l.precedence=="string"&&a==null;default:return!0}case"script":if(l.async&&typeof l.async!="function"&&typeof l.async!="symbol"&&!l.onLoad&&!l.onError&&l.src&&typeof l.src=="string")return!0}return!1}function Tj(a){return!(a.type==="stylesheet"&&(a.state.loading&3)===0)}var ko=null;function rD(){}function nD(a,l,c){if(ko===null)throw Error(n(475));var f=ko;if(l.type==="stylesheet"&&(typeof c.media!="string"||matchMedia(c.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=Ws(c.href),y=a.querySelector(Ao(p));if(y){a=y._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(f.count++,f=Wu.bind(f),a.then(f,f)),l.state.loading|=4,l.instance=y,it(y);return}y=a.ownerDocument||a,c=Aj(c),(p=nn.get(p))&&og(c,p),y=y.createElement("link"),it(y);var E=y;E._p=new Promise(function(M,B){E.onload=M,E.onerror=B}),tr(y,"link",c),l.instance=y}f.stylesheets===null&&(f.stylesheets=new Map),f.stylesheets.set(l,a),(a=l.state.preload)&&(l.state.loading&3)===0&&(f.count++,l=Wu.bind(f),a.addEventListener("load",l),a.addEventListener("error",l))}}function aD(){if(ko===null)throw Error(n(475));var a=ko;return a.stylesheets&&a.count===0&&ug(a,a.stylesheets),0<a.count?function(l){var c=setTimeout(function(){if(a.stylesheets&&ug(a,a.stylesheets),a.unsuspend){var f=a.unsuspend;a.unsuspend=null,f()}},6e4);return a.unsuspend=l,function(){a.unsuspend=null,clearTimeout(c)}}:null}function Wu(){if(this.count--,this.count===0){if(this.stylesheets)ug(this,this.stylesheets);else if(this.unsuspend){var a=this.unsuspend;this.unsuspend=null,a()}}}var Xu=null;function ug(a,l){a.stylesheets=null,a.unsuspend!==null&&(a.count++,Xu=new Map,l.forEach(iD,a),Xu=null,Wu.call(a))}function iD(a,l){if(!(l.state.loading&4)){var c=Xu.get(a);if(c)var f=c.get(null);else{c=new Map,Xu.set(a,c);for(var p=a.querySelectorAll("link[data-precedence],style[data-precedence]"),y=0;y<p.length;y++){var E=p[y];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),f=E)}f&&c.set(null,f)}p=l.instance,E=p.getAttribute("data-precedence"),y=c.get(E)||f,y===f&&c.set(null,p),c.set(E,p),this.count++,f=Wu.bind(this),p.addEventListener("load",f),p.addEventListener("error",f),y?y.parentNode.insertBefore(p,y.nextSibling):(a=a.nodeType===9?a.head:a,a.insertBefore(p,a.firstChild)),l.state.loading|=4}}var Co={$$typeof:A,Provider:null,Consumer:null,_currentValue:re,_currentValue2:re,_threadCount:0};function sD(a,l,c,f,p,y,E,M){this.tag=1,this.containerInfo=a,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=bi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bi(0),this.hiddenUpdates=bi(null),this.identifierPrefix=f,this.onUncaughtError=p,this.onCaughtError=y,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=M,this.incompleteTransitions=new Map}function Dj(a,l,c,f,p,y,E,M,B,Z,ue,he){return a=new sD(a,l,c,E,M,B,Z,he),l=1,y===!0&&(l|=24),y=Mr(3,null,null,l),a.current=y,y.stateNode=a,l=Yh(),l.refCount++,a.pooledCache=l,l.refCount++,y.memoizedState={element:f,isDehydrated:c,cache:l},Wh(y),a}function Pj(a){return a?(a=As,a):As}function Mj(a,l,c,f,p,y){p=Pj(p),f.context===null?f.context=p:f.pendingContext=p,f=$a(l),f.payload={element:c},y=y===void 0?null:y,y!==null&&(f.callback=y),c=La(a,f,l),c!==null&&(Ur(c,a,l),io(c,a,l))}function Rj(a,l){if(a=a.memoizedState,a!==null&&a.dehydrated!==null){var c=a.retryLane;a.retryLane=c!==0&&c<l?c:l}}function dg(a,l){Rj(a,l),(a=a.alternate)&&Rj(a,l)}function $j(a){if(a.tag===13){var l=Os(a,67108864);l!==null&&Ur(l,a,67108864),dg(a,67108864)}}var Qu=!0;function lD(a,l,c,f){var p=z.T;z.T=null;var y=V.p;try{V.p=2,fg(a,l,c,f)}finally{V.p=y,z.T=p}}function oD(a,l,c,f){var p=z.T;z.T=null;var y=V.p;try{V.p=8,fg(a,l,c,f)}finally{V.p=y,z.T=p}}function fg(a,l,c,f){if(Qu){var p=hg(f);if(p===null)Jm(a,l,f,Zu,c),Ij(a,f);else if(uD(p,a,l,c,f))f.stopPropagation();else if(Ij(a,f),l&4&&-1<cD.indexOf(a)){for(;p!==null;){var y=zt(p);if(y!==null)switch(y.tag){case 3:if(y=y.stateNode,y.current.memoizedState.isDehydrated){var E=mn(y.pendingLanes);if(E!==0){var M=y;for(M.pendingLanes|=2,M.entangledLanes|=2;E;){var B=1<<31-lr(E);M.entanglements[1]|=B,E&=~B}Mn(y),(Xe&6)===0&&(Ru=Pe()+500,No(0))}}break;case 13:M=Os(y,2),M!==null&&Ur(M,y,2),Lu(),dg(y,2)}if(y=hg(f),y===null&&Jm(a,l,f,Zu,c),y===p)break;p=y}p!==null&&f.stopPropagation()}else Jm(a,l,f,null,c)}}function hg(a){return a=vh(a),mg(a)}var Zu=null;function mg(a){if(Zu=null,a=Le(a),a!==null){var l=o(a);if(l===null)a=null;else{var c=l.tag;if(c===13){if(a=u(l),a!==null)return a;a=null}else if(c===3){if(l.stateNode.current.memoizedState.isDehydrated)return l.tag===3?l.stateNode.containerInfo:null;a=null}else l!==a&&(a=null)}}return Zu=a,null}function Lj(a){switch(a){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ye()){case Cr:return 2;case fs:return 8;case Gn:case Ll:return 32;case Ta:return 268435456;default:return 32}default:return 32}}var gg=!1,Xa=null,Qa=null,Za=null,To=new Map,Do=new Map,Ja=[],cD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ij(a,l){switch(a){case"focusin":case"focusout":Xa=null;break;case"dragenter":case"dragleave":Qa=null;break;case"mouseover":case"mouseout":Za=null;break;case"pointerover":case"pointerout":To.delete(l.pointerId);break;case"gotpointercapture":case"lostpointercapture":Do.delete(l.pointerId)}}function Po(a,l,c,f,p,y){return a===null||a.nativeEvent!==y?(a={blockedOn:l,domEventName:c,eventSystemFlags:f,nativeEvent:y,targetContainers:[p]},l!==null&&(l=zt(l),l!==null&&$j(l)),a):(a.eventSystemFlags|=f,l=a.targetContainers,p!==null&&l.indexOf(p)===-1&&l.push(p),a)}function uD(a,l,c,f,p){switch(l){case"focusin":return Xa=Po(Xa,a,l,c,f,p),!0;case"dragenter":return Qa=Po(Qa,a,l,c,f,p),!0;case"mouseover":return Za=Po(Za,a,l,c,f,p),!0;case"pointerover":var y=p.pointerId;return To.set(y,Po(To.get(y)||null,a,l,c,f,p)),!0;case"gotpointercapture":return y=p.pointerId,Do.set(y,Po(Do.get(y)||null,a,l,c,f,p)),!0}return!1}function Uj(a){var l=Le(a.target);if(l!==null){var c=o(l);if(c!==null){if(l=c.tag,l===13){if(l=u(c),l!==null){a.blockedOn=l,Vc(a.priority,function(){if(c.tag===13){var f=Ir();f=Ul(f);var p=Os(c,f);p!==null&&Ur(p,c,f),dg(c,f)}});return}}else if(l===3&&c.stateNode.current.memoizedState.isDehydrated){a.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}a.blockedOn=null}function Ju(a){if(a.blockedOn!==null)return!1;for(var l=a.targetContainers;0<l.length;){var c=hg(a.nativeEvent);if(c===null){c=a.nativeEvent;var f=new c.constructor(c.type,c);ph=f,c.target.dispatchEvent(f),ph=null}else return l=zt(c),l!==null&&$j(l),a.blockedOn=c,!1;l.shift()}return!0}function qj(a,l,c){Ju(a)&&c.delete(l)}function dD(){gg=!1,Xa!==null&&Ju(Xa)&&(Xa=null),Qa!==null&&Ju(Qa)&&(Qa=null),Za!==null&&Ju(Za)&&(Za=null),To.forEach(qj),Do.forEach(qj)}function ed(a,l){a.blockedOn===l&&(a.blockedOn=null,gg||(gg=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,dD)))}var td=null;function zj(a){td!==a&&(td=a,e.unstable_scheduleCallback(e.unstable_NormalPriority,function(){td===a&&(td=null);for(var l=0;l<a.length;l+=3){var c=a[l],f=a[l+1],p=a[l+2];if(typeof f!="function"){if(mg(f||c)===null)continue;break}var y=zt(c);y!==null&&(a.splice(l,3),l-=3,mm(y,{pending:!0,data:p,method:c.method,action:f},f,p))}}))}function Mo(a){function l(B){return ed(B,a)}Xa!==null&&ed(Xa,a),Qa!==null&&ed(Qa,a),Za!==null&&ed(Za,a),To.forEach(l),Do.forEach(l);for(var c=0;c<Ja.length;c++){var f=Ja[c];f.blockedOn===a&&(f.blockedOn=null)}for(;0<Ja.length&&(c=Ja[0],c.blockedOn===null);)Uj(c),c.blockedOn===null&&Ja.shift();if(c=(a.ownerDocument||a).$$reactFormReplay,c!=null)for(f=0;f<c.length;f+=3){var p=c[f],y=c[f+1],E=p[or]||null;if(typeof y=="function")E||zj(c);else if(E){var M=null;if(y&&y.hasAttribute("formAction")){if(p=y,E=y[or]||null)M=E.formAction;else if(mg(p)!==null)continue}else M=E.action;typeof M=="function"?c[f+1]=M:(c.splice(f,3),f-=3),zj(c)}}}function xg(a){this._internalRoot=a}rd.prototype.render=xg.prototype.render=function(a){var l=this._internalRoot;if(l===null)throw Error(n(409));var c=l.current,f=Ir();Mj(c,f,a,l,null,null)},rd.prototype.unmount=xg.prototype.unmount=function(){var a=this._internalRoot;if(a!==null){this._internalRoot=null;var l=a.containerInfo;Mj(a.current,2,null,a,null,null),Lu(),l[En]=null}};function rd(a){this._internalRoot=a}rd.prototype.unstable_scheduleHydration=function(a){if(a){var l=Gc();a={blockedOn:null,target:a,priority:l};for(var c=0;c<Ja.length&&l!==0&&l<Ja[c].priority;c++);Ja.splice(c,0,a),c===0&&Uj(a)}};var Bj=t.version;if(Bj!=="19.1.1")throw Error(n(527,Bj,"19.1.1"));V.findDOMNode=function(a){var l=a._reactInternals;if(l===void 0)throw typeof a.render=="function"?Error(n(188)):(a=Object.keys(a).join(","),Error(n(268,a)));return a=h(l),a=a!==null?m(a):null,a=a===null?null:a.stateNode,a};var fD={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nd.isDisabled&&nd.supportsFiber)try{vi=nd.inject(fD),gr=nd}catch{}}return $o.createRoot=function(a,l){if(!s(a))throw Error(n(299));var c=!1,f="",p=aw,y=iw,E=sw,M=null;return l!=null&&(l.unstable_strictMode===!0&&(c=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(y=l.onCaughtError),l.onRecoverableError!==void 0&&(E=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(M=l.unstable_transitionCallbacks)),l=Dj(a,1,!1,null,null,c,f,p,y,E,M,null),a[En]=l.current,Zm(a),new xg(l)},$o.hydrateRoot=function(a,l,c){if(!s(a))throw Error(n(299));var f=!1,p="",y=aw,E=iw,M=sw,B=null,Z=null;return c!=null&&(c.unstable_strictMode===!0&&(f=!0),c.identifierPrefix!==void 0&&(p=c.identifierPrefix),c.onUncaughtError!==void 0&&(y=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(M=c.onRecoverableError),c.unstable_transitionCallbacks!==void 0&&(B=c.unstable_transitionCallbacks),c.formState!==void 0&&(Z=c.formState)),l=Dj(a,1,!0,l,c??null,f,p,y,E,M,B,Z),l.context=Pj(null),c=l.current,f=Ir(),f=Ul(f),p=$a(f),p.callback=null,La(c,p,f),c=f,l.current.lanes=c,Da(l,c),Mn(l),a[En]=l.current,Zm(a),new rd(l)},$o.version="19.1.1",$o}var Zj;function _D(){if(Zj)return yg.exports;Zj=1;function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}return e(),yg.exports=ND(),yg.exports}var SD=_D();/**
 * react-router v7.8.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jj="popstate";function OD(e={}){function t(n,s){let{pathname:o,search:u,hash:d}=n.location;return dx("",{pathname:o,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:nc(s)}return ED(t,r,null,e)}function Lt(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function Nn(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function AD(){return Math.random().toString(36).substring(2,10)}function e1(e,t){return{usr:e.state,key:e.key,idx:t}}function dx(e,t,r=null,n){return{pathname:typeof e=="string"?e:e.pathname,search:"",hash:"",...typeof t=="string"?bc(t):t,state:r,key:t&&t.key||n||AD()}}function nc({pathname:e="/",search:t="",hash:r=""}){return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function bc(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function ED(e,t,r,n={}){let{window:s=document.defaultView,v5Compat:o=!1}=n,u=s.history,d="POP",h=null,m=g();m==null&&(m=0,u.replaceState({...u.state,idx:m},""));function g(){return(u.state||{idx:null}).idx}function x(){d="POP";let _=g(),O=_==null?null:_-m;m=_,h&&h({action:d,location:N.location,delta:O})}function v(_,O){d="PUSH";let S=dx(N.location,_,O);m=g()+1;let A=e1(S,m),k=N.createHref(S);try{u.pushState(A,"",k)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;s.location.assign(k)}o&&h&&h({action:d,location:N.location,delta:1})}function b(_,O){d="REPLACE";let S=dx(N.location,_,O);m=g();let A=e1(S,m),k=N.createHref(S);u.replaceState(A,"",k),o&&h&&h({action:d,location:N.location,delta:0})}function j(_){return kD(_)}let N={get action(){return d},get location(){return e(s,u)},listen(_){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(Jj,x),h=_,()=>{s.removeEventListener(Jj,x),h=null}},createHref(_){return t(s,_)},createURL:j,encodeLocation(_){let O=j(_);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:v,replace:b,go(_){return u.go(_)}};return N}function kD(e,t=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),Lt(r,"No window.location.(origin|href) available to create URL");let n=typeof e=="string"?e:nc(e);return n=n.replace(/ $/,"%20"),!t&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function R2(e,t,r="/"){return CD(e,t,r,!1)}function CD(e,t,r,n){let s=typeof t=="string"?bc(t):t,o=ba(s.pathname||"/",r);if(o==null)return null;let u=$2(e);TD(u);let d=null;for(let h=0;d==null&&h<u.length;++h){let m=BD(o);d=qD(u[h],m,n)}return d}function $2(e,t=[],r=[],n="",s=!1){let o=(u,d,h=s,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(n)&&h)return;Lt(g.relativePath.startsWith(n),`Absolute route path "${g.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(n.length)}let x=xa([n,g.relativePath]),v=r.concat(g);u.children&&u.children.length>0&&(Lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${x}".`),$2(u.children,t,v,x,h)),!(u.path==null&&!u.index)&&t.push({path:x,score:ID(x,u.index),routesMeta:v})};return e.forEach((u,d)=>{if(u.path===""||!u.path?.includes("?"))o(u,d);else for(let h of L2(u.path))o(u,d,!0,h)}),t}function L2(e){let t=e.split("/");if(t.length===0)return[];let[r,...n]=t,s=r.endsWith("?"),o=r.replace(/\?$/,"");if(n.length===0)return s?[o,""]:[o];let u=L2(n.join("/")),d=[];return d.push(...u.map(h=>h===""?o:[o,h].join("/"))),s&&d.push(...u),d.map(h=>e.startsWith("/")&&h===""?"/":h)}function TD(e){e.sort((t,r)=>t.score!==r.score?r.score-t.score:UD(t.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var DD=/^:[\w-]+$/,PD=3,MD=2,RD=1,$D=10,LD=-2,t1=e=>e==="*";function ID(e,t){let r=e.split("/"),n=r.length;return r.some(t1)&&(n+=LD),t&&(n+=MD),r.filter(s=>!t1(s)).reduce((s,o)=>s+(DD.test(o)?PD:o===""?RD:$D),n)}function UD(e,t){return e.length===t.length&&e.slice(0,-1).every((n,s)=>n===t[s])?e[e.length-1]-t[t.length-1]:0}function qD(e,t,r=!1){let{routesMeta:n}=e,s={},o="/",u=[];for(let d=0;d<n.length;++d){let h=n[d],m=d===n.length-1,g=o==="/"?t:t.slice(o.length)||"/",x=Cd({path:h.relativePath,caseSensitive:h.caseSensitive,end:m},g),v=h.route;if(!x&&m&&r&&!n[n.length-1].route.index&&(x=Cd({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},g)),!x)return null;Object.assign(s,x.params),u.push({params:s,pathname:xa([o,x.pathname]),pathnameBase:GD(xa([o,x.pathnameBase])),route:v}),x.pathnameBase!=="/"&&(o=xa([o,x.pathnameBase]))}return u}function Cd(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=zD(e.path,e.caseSensitive,e.end),s=t.match(r);if(!s)return null;let o=s[0],u=o.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:n.reduce((m,{paramName:g,isOptional:x},v)=>{if(g==="*"){let j=d[v]||"";u=o.slice(0,o.length-j.length).replace(/(.)\/+$/,"$1")}const b=d[v];return x&&!b?m[g]=void 0:m[g]=(b||"").replace(/%2F/g,"/"),m},{}),pathname:o,pathnameBase:u,pattern:e}}function zD(e,t=!1,r=!0){Nn(e==="*"||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,h)=>(n.push({paramName:d,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(n.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),n]}function BD(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Nn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function ba(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&n!=="/"?null:e.slice(r)||"/"}function HD(e,t="/"){let{pathname:r,search:n="",hash:s=""}=typeof e=="string"?bc(e):e;return{pathname:r?r.startsWith("/")?r:KD(r,t):t,search:VD(n),hash:FD(s)}}function KD(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function Ng(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function YD(e){return e.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function I2(e){let t=YD(e);return t.map((r,n)=>n===t.length-1?r.pathname:r.pathnameBase)}function U2(e,t,r,n=!1){let s;typeof e=="string"?s=bc(e):(s={...e},Lt(!s.pathname||!s.pathname.includes("?"),Ng("?","pathname","search",s)),Lt(!s.pathname||!s.pathname.includes("#"),Ng("#","pathname","hash",s)),Lt(!s.search||!s.search.includes("#"),Ng("#","search","hash",s)));let o=e===""||s.pathname==="",u=o?"/":s.pathname,d;if(u==null)d=r;else{let x=t.length-1;if(!n&&u.startsWith("..")){let v=u.split("/");for(;v[0]==="..";)v.shift(),x-=1;s.pathname=v.join("/")}d=x>=0?t[x]:"/"}let h=HD(s,d),m=u&&u!=="/"&&u.endsWith("/"),g=(o||u===".")&&r.endsWith("/");return!h.pathname.endsWith("/")&&(m||g)&&(h.pathname+="/"),h}var xa=e=>e.join("/").replace(/\/\/+/g,"/"),GD=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),VD=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,FD=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function WD(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}var q2=["POST","PUT","PATCH","DELETE"];new Set(q2);var XD=["GET",...q2];new Set(XD);var Sl=w.createContext(null);Sl.displayName="DataRouter";var bf=w.createContext(null);bf.displayName="DataRouterState";w.createContext(!1);var z2=w.createContext({isTransitioning:!1});z2.displayName="ViewTransition";var QD=w.createContext(new Map);QD.displayName="Fetchers";var ZD=w.createContext(null);ZD.displayName="Await";var Hn=w.createContext(null);Hn.displayName="Navigation";var wf=w.createContext(null);wf.displayName="Location";var Kn=w.createContext({outlet:null,matches:[],isDataRoute:!1});Kn.displayName="Route";var pp=w.createContext(null);pp.displayName="RouteError";function JD(e,{relative:t}={}){Lt(wc(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=w.useContext(Hn),{hash:s,pathname:o,search:u}=jc(e,{relative:t}),d=o;return r!=="/"&&(d=o==="/"?r:xa([r,o])),n.createHref({pathname:d,search:u,hash:s})}function wc(){return w.useContext(wf)!=null}function ui(){return Lt(wc(),"useLocation() may be used only in the context of a <Router> component."),w.useContext(wf).location}var B2="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function H2(e){w.useContext(Hn).static||w.useLayoutEffect(e)}function vt(){let{isDataRoute:e}=w.useContext(Kn);return e?fP():eP()}function eP(){Lt(wc(),"useNavigate() may be used only in the context of a <Router> component.");let e=w.useContext(Sl),{basename:t,navigator:r}=w.useContext(Hn),{matches:n}=w.useContext(Kn),{pathname:s}=ui(),o=JSON.stringify(I2(n)),u=w.useRef(!1);return H2(()=>{u.current=!0}),w.useCallback((h,m={})=>{if(Nn(u.current,B2),!u.current)return;if(typeof h=="number"){r.go(h);return}let g=U2(h,JSON.parse(o),s,m.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:xa([t,g.pathname])),(m.replace?r.replace:r.push)(g,m.state,m)},[t,r,o,s,e])}w.createContext(null);function Sn(){let{matches:e}=w.useContext(Kn),t=e[e.length-1];return t?t.params:{}}function jc(e,{relative:t}={}){let{matches:r}=w.useContext(Kn),{pathname:n}=ui(),s=JSON.stringify(I2(r));return w.useMemo(()=>U2(e,JSON.parse(s),n,t==="path"),[e,s,n,t])}function tP(e,t){return K2(e)}function K2(e,t,r,n,s){Lt(wc(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=w.useContext(Hn),{matches:u}=w.useContext(Kn),d=u[u.length-1],h=d?d.params:{},m=d?d.pathname:"/",g=d?d.pathnameBase:"/",x=d&&d.route;{let S=x&&x.path||"";Y2(m,!x||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let v=ui(),b;b=v;let j=b.pathname||"/",N=j;if(g!=="/"){let S=g.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(S.length).join("/")}let _=R2(e,{pathname:N});return Nn(x||_!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),Nn(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),sP(_&&_.map(S=>Object.assign({},S,{params:Object.assign({},h,S.params),pathname:xa([g,o.encodeLocation?o.encodeLocation(S.pathname).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?g:xa([g,o.encodeLocation?o.encodeLocation(S.pathnameBase).pathname:S.pathnameBase])})),u,r,n,s)}function rP(){let e=dP(),t=WD(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},o={padding:"2px 4px",backgroundColor:n},u=null;return console.error("Error handled by React Router default ErrorBoundary:",e),u=w.createElement(w.Fragment,null,w.createElement("p",null,"💿 Hey developer 👋"),w.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",w.createElement("code",{style:o},"ErrorBoundary")," or"," ",w.createElement("code",{style:o},"errorElement")," prop on your route.")),w.createElement(w.Fragment,null,w.createElement("h2",null,"Unexpected Application Error!"),w.createElement("h3",{style:{fontStyle:"italic"}},t),r?w.createElement("pre",{style:s},r):null,u)}var nP=w.createElement(rP,null),aP=class extends w.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return this.state.error!==void 0?w.createElement(Kn.Provider,{value:this.props.routeContext},w.createElement(pp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function iP({routeContext:e,match:t,children:r}){let n=w.useContext(Sl);return n&&n.static&&n.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=t.route.id),w.createElement(Kn.Provider,{value:e},r)}function sP(e,t=[],r=null,n=null,s=null){if(e==null){if(!r)return null;if(r.errors)e=r.matches;else if(t.length===0&&!r.initialized&&r.matches.length>0)e=r.matches;else return null}let o=e,u=r?.errors;if(u!=null){let m=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);Lt(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,m+1))}let d=!1,h=-1;if(r)for(let m=0;m<o.length;m++){let g=o[m];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(h=m),g.route.id){let{loaderData:x,errors:v}=r,b=g.route.loader&&!x.hasOwnProperty(g.route.id)&&(!v||v[g.route.id]===void 0);if(g.route.lazy||b){d=!0,h>=0?o=o.slice(0,h+1):o=[o[0]];break}}}return o.reduceRight((m,g,x)=>{let v,b=!1,j=null,N=null;r&&(v=u&&g.route.id?u[g.route.id]:void 0,j=g.route.errorElement||nP,d&&(h<0&&x===0?(Y2("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),b=!0,N=null):h===x&&(b=!0,N=g.route.hydrateFallbackElement||null)));let _=t.concat(o.slice(0,x+1)),O=()=>{let S;return v?S=j:b?S=N:g.route.Component?S=w.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=m,w.createElement(iP,{match:g,routeContext:{outlet:m,matches:_,isDataRoute:r!=null},children:S})};return r&&(g.route.ErrorBoundary||g.route.errorElement||x===0)?w.createElement(aP,{location:r.location,revalidation:r.revalidation,component:j,error:v,children:O(),routeContext:{outlet:null,matches:_,isDataRoute:!0},unstable_onError:n}):O()},null)}function vp(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function lP(e){let t=w.useContext(Sl);return Lt(t,vp(e)),t}function oP(e){let t=w.useContext(bf);return Lt(t,vp(e)),t}function cP(e){let t=w.useContext(Kn);return Lt(t,vp(e)),t}function yp(e){let t=cP(e),r=t.matches[t.matches.length-1];return Lt(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function uP(){return yp("useRouteId")}function dP(){let e=w.useContext(pp),t=oP("useRouteError"),r=yp("useRouteError");return e!==void 0?e:t.errors?.[r]}function fP(){let{router:e}=lP("useNavigate"),t=yp("useNavigate"),r=w.useRef(!1);return H2(()=>{r.current=!0}),w.useCallback(async(s,o={})=>{Nn(r.current,B2),r.current&&(typeof s=="number"?e.navigate(s):await e.navigate(s,{fromRouteId:t,...o}))},[e,t])}var r1={};function Y2(e,t,r){!t&&!r1[e]&&(r1[e]=!0,Nn(!1,r))}w.memo(hP);function hP({routes:e,future:t,state:r,unstable_onError:n}){return K2(e,void 0,r,n,t)}function mP({basename:e="/",children:t=null,location:r,navigationType:n="POP",navigator:s,static:o=!1}){Lt(!wc(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=e.replace(/^\/*/,"/"),d=w.useMemo(()=>({basename:u,navigator:s,static:o,future:{}}),[u,s,o]);typeof r=="string"&&(r=bc(r));let{pathname:h="/",search:m="",hash:g="",state:x=null,key:v="default"}=r,b=w.useMemo(()=>{let j=ba(h,u);return j==null?null:{location:{pathname:j,search:m,hash:g,state:x,key:v},navigationType:n}},[u,h,m,g,x,v,n]);return Nn(b!=null,`<Router basename="${u}"> is not able to match the URL "${h}${m}${g}" because it does not start with the basename, so the <Router> won't render anything.`),b==null?null:w.createElement(Hn.Provider,{value:d},w.createElement(wf.Provider,{children:t,value:b}))}var Od="get",Ad="application/x-www-form-urlencoded";function jf(e){return e!=null&&typeof e.tagName=="string"}function gP(e){return jf(e)&&e.tagName.toLowerCase()==="button"}function xP(e){return jf(e)&&e.tagName.toLowerCase()==="form"}function pP(e){return jf(e)&&e.tagName.toLowerCase()==="input"}function vP(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function yP(e,t){return e.button===0&&(!t||t==="_self")&&!vP(e)}function fx(e=""){return new URLSearchParams(typeof e=="string"||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map(s=>[r,s]):[[r,n]])},[]))}function bP(e,t){let r=fx(e);return t&&t.forEach((n,s)=>{r.has(s)||t.getAll(s).forEach(o=>{r.append(s,o)})}),r}var ad=null;function wP(){if(ad===null)try{new FormData(document.createElement("form"),0),ad=!1}catch{ad=!0}return ad}var jP=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function _g(e){return e!=null&&!jP.has(e)?(Nn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ad}"`),null):e}function NP(e,t){let r,n,s,o,u;if(xP(e)){let d=e.getAttribute("action");n=d?ba(d,t):null,r=e.getAttribute("method")||Od,s=_g(e.getAttribute("enctype"))||Ad,o=new FormData(e)}else if(gP(e)||pP(e)&&(e.type==="submit"||e.type==="image")){let d=e.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=e.getAttribute("formaction")||d.getAttribute("action");if(n=h?ba(h,t):null,r=e.getAttribute("formmethod")||d.getAttribute("method")||Od,s=_g(e.getAttribute("formenctype"))||_g(d.getAttribute("enctype"))||Ad,o=new FormData(d,e),!wP()){let{name:m,type:g,value:x}=e;if(g==="image"){let v=m?`${m}.`:"";o.append(`${v}x`,"0"),o.append(`${v}y`,"0")}else m&&o.append(m,x)}}else{if(jf(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Od,n=null,s=Ad,u=e}return o&&s==="text/plain"&&(u=o,o=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:o,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function bp(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function _P(e,t,r){let n=typeof e=="string"?new URL(e,typeof window>"u"?"server://singlefetch/":window.location.origin):e;return n.pathname==="/"?n.pathname=`_root.${r}`:t&&ba(n.pathname,t)==="/"?n.pathname=`${t.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function SP(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OP(e){return e==null?!1:e.href==null?e.rel==="preload"&&typeof e.imageSrcSet=="string"&&typeof e.imageSizes=="string":typeof e.rel=="string"&&typeof e.href=="string"}async function AP(e,t,r){let n=await Promise.all(e.map(async s=>{let o=t.routes[s.route.id];if(o){let u=await SP(o,r);return u.links?u.links():[]}return[]}));return TP(n.flat(1).filter(OP).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function n1(e,t,r,n,s,o){let u=(h,m)=>r[m]?h.route.id!==r[m].route.id:!0,d=(h,m)=>r[m].pathname!==h.pathname||r[m].route.path?.endsWith("*")&&r[m].params["*"]!==h.params["*"];return o==="assets"?t.filter((h,m)=>u(h,m)||d(h,m)):o==="data"?t.filter((h,m)=>{let g=n.routes[h.route.id];if(!g||!g.hasLoader)return!1;if(u(h,m)||d(h,m))return!0;if(h.route.shouldRevalidate){let x=h.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof x=="boolean")return x}return!0}):[]}function EP(e,t,{includeHydrateFallback:r}={}){return kP(e.map(n=>{let s=t.routes[n.route.id];if(!s)return[];let o=[s.module];return s.clientActionModule&&(o=o.concat(s.clientActionModule)),s.clientLoaderModule&&(o=o.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(o=o.concat(s.hydrateFallbackModule)),s.imports&&(o=o.concat(s.imports)),o}).flat(1))}function kP(e){return[...new Set(e)]}function CP(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}function TP(e,t){let r=new Set;return new Set(t),e.reduce((n,s)=>{let o=JSON.stringify(CP(s));return r.has(o)||(r.add(o),n.push({key:o,link:s})),n},[])}function G2(){let e=w.useContext(Sl);return bp(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function DP(){let e=w.useContext(bf);return bp(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var wp=w.createContext(void 0);wp.displayName="FrameworkContext";function V2(){let e=w.useContext(wp);return bp(e,"You must render this element inside a <HydratedRouter> element"),e}function PP(e,t){let r=w.useContext(wp),[n,s]=w.useState(!1),[o,u]=w.useState(!1),{onFocus:d,onBlur:h,onMouseEnter:m,onMouseLeave:g,onTouchStart:x}=t,v=w.useRef(null);w.useEffect(()=>{if(e==="render"&&u(!0),e==="viewport"){let N=O=>{O.forEach(S=>{u(S.isIntersecting)})},_=new IntersectionObserver(N,{threshold:.5});return v.current&&_.observe(v.current),()=>{_.disconnect()}}},[e]),w.useEffect(()=>{if(n){let N=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(N)}}},[n]);let b=()=>{s(!0)},j=()=>{s(!1),u(!1)};return r?e!=="intent"?[o,v,{}]:[o,v,{onFocus:Lo(d,b),onBlur:Lo(h,j),onMouseEnter:Lo(m,b),onMouseLeave:Lo(g,j),onTouchStart:Lo(x,b)}]:[!1,v,{}]}function Lo(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function MP({page:e,...t}){let{router:r}=G2(),n=w.useMemo(()=>R2(r.routes,e,r.basename),[r.routes,e,r.basename]);return n?w.createElement($P,{page:e,matches:n,...t}):null}function RP(e){let{manifest:t,routeModules:r}=V2(),[n,s]=w.useState([]);return w.useEffect(()=>{let o=!1;return AP(e,t,r).then(u=>{o||s(u)}),()=>{o=!0}},[e,t,r]),n}function $P({page:e,matches:t,...r}){let n=ui(),{manifest:s,routeModules:o}=V2(),{basename:u}=G2(),{loaderData:d,matches:h}=DP(),m=w.useMemo(()=>n1(e,t,h,s,n,"data"),[e,t,h,s,n]),g=w.useMemo(()=>n1(e,t,h,s,n,"assets"),[e,t,h,s,n]),x=w.useMemo(()=>{if(e===n.pathname+n.search+n.hash)return[];let j=new Set,N=!1;if(t.forEach(O=>{let S=s.routes[O.route.id];!S||!S.hasLoader||(!m.some(A=>A.route.id===O.route.id)&&O.route.id in d&&o[O.route.id]?.shouldRevalidate||S.hasClientLoader?N=!0:j.add(O.route.id))}),j.size===0)return[];let _=_P(e,u,"data");return N&&j.size>0&&_.searchParams.set("_routes",t.filter(O=>j.has(O.route.id)).map(O=>O.route.id).join(",")),[_.pathname+_.search]},[u,d,n,s,m,t,e,o]),v=w.useMemo(()=>EP(g,s),[g,s]),b=RP(g);return w.createElement(w.Fragment,null,x.map(j=>w.createElement("link",{key:j,rel:"prefetch",as:"fetch",href:j,...r})),v.map(j=>w.createElement("link",{key:j,rel:"modulepreload",href:j,...r})),b.map(({key:j,link:N})=>w.createElement("link",{key:j,nonce:r.nonce,...N})))}function LP(...e){return t=>{e.forEach(r=>{typeof r=="function"?r(t):r!=null&&(r.current=t)})}}var F2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{F2&&(window.__reactRouterVersion="7.8.2")}catch{}function IP({basename:e,children:t,window:r}){let n=w.useRef();n.current==null&&(n.current=OD({window:r,v5Compat:!0}));let s=n.current,[o,u]=w.useState({action:s.action,location:s.location}),d=w.useCallback(h=>{w.startTransition(()=>u(h))},[u]);return w.useLayoutEffect(()=>s.listen(d),[s,d]),w.createElement(mP,{basename:e,children:t,location:o.location,navigationType:o.action,navigator:s})}var W2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,X2=w.forwardRef(function({onClick:t,discover:r="render",prefetch:n="none",relative:s,reloadDocument:o,replace:u,state:d,target:h,to:m,preventScrollReset:g,viewTransition:x,...v},b){let{basename:j}=w.useContext(Hn),N=typeof m=="string"&&W2.test(m),_,O=!1;if(typeof m=="string"&&N&&(_=m,F2))try{let $=new URL(window.location.href),U=m.startsWith("//")?new URL($.protocol+m):new URL(m),L=ba(U.pathname,j);U.origin===$.origin&&L!=null?m=L+U.search+U.hash:O=!0}catch{Nn(!1,`<Link to="${m}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let S=JD(m,{relative:s}),[A,k,C]=PP(n,v),P=BP(m,{replace:u,state:d,target:h,preventScrollReset:g,relative:s,viewTransition:x});function T($){t&&t($),$.defaultPrevented||P($)}let D=w.createElement("a",{...v,...C,href:_||S,onClick:O||o?t:T,ref:LP(b,k),target:h,"data-discover":!N&&r==="render"?"true":void 0});return A&&!N?w.createElement(w.Fragment,null,D,w.createElement(MP,{page:S})):D});X2.displayName="Link";var UP=w.forwardRef(function({"aria-current":t="page",caseSensitive:r=!1,className:n="",end:s=!1,style:o,to:u,viewTransition:d,children:h,...m},g){let x=jc(u,{relative:m.relative}),v=ui(),b=w.useContext(bf),{navigator:j,basename:N}=w.useContext(Hn),_=b!=null&&FP(x)&&d===!0,O=j.encodeLocation?j.encodeLocation(x).pathname:x.pathname,S=v.pathname,A=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(S=S.toLowerCase(),A=A?A.toLowerCase():null,O=O.toLowerCase()),A&&N&&(A=ba(A,N)||A);const k=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let C=S===O||!s&&S.startsWith(O)&&S.charAt(k)==="/",P=A!=null&&(A===O||!s&&A.startsWith(O)&&A.charAt(O.length)==="/"),T={isActive:C,isPending:P,isTransitioning:_},D=C?t:void 0,$;typeof n=="function"?$=n(T):$=[n,C?"active":null,P?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let U=typeof o=="function"?o(T):o;return w.createElement(X2,{...m,"aria-current":D,className:$,ref:g,style:U,to:u,viewTransition:d},typeof h=="function"?h(T):h)});UP.displayName="NavLink";var qP=w.forwardRef(({discover:e="render",fetcherKey:t,navigate:r,reloadDocument:n,replace:s,state:o,method:u=Od,action:d,onSubmit:h,relative:m,preventScrollReset:g,viewTransition:x,...v},b)=>{let j=GP(),N=VP(d,{relative:m}),_=u.toLowerCase()==="get"?"get":"post",O=typeof d=="string"&&W2.test(d),S=A=>{if(h&&h(A),A.defaultPrevented)return;A.preventDefault();let k=A.nativeEvent.submitter,C=k?.getAttribute("formmethod")||u;j(k||A.currentTarget,{fetcherKey:t,method:C,navigate:r,replace:s,state:o,relative:m,preventScrollReset:g,viewTransition:x})};return w.createElement("form",{ref:b,method:_,action:N,onSubmit:n?h:S,...v,"data-discover":!O&&e==="render"?"true":void 0})});qP.displayName="Form";function zP(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Q2(e){let t=w.useContext(Sl);return Lt(t,zP(e)),t}function BP(e,{target:t,replace:r,state:n,preventScrollReset:s,relative:o,viewTransition:u}={}){let d=vt(),h=ui(),m=jc(e,{relative:o});return w.useCallback(g=>{if(yP(g,t)){g.preventDefault();let x=r!==void 0?r:nc(h)===nc(m);d(e,{replace:x,state:n,preventScrollReset:s,relative:o,viewTransition:u})}},[h,d,m,r,n,t,e,s,o,u])}function HP(e){Nn(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let t=w.useRef(fx(e)),r=w.useRef(!1),n=ui(),s=w.useMemo(()=>bP(n.search,r.current?null:t.current),[n.search]),o=vt(),u=w.useCallback((d,h)=>{const m=fx(typeof d=="function"?d(new URLSearchParams(s)):d);r.current=!0,o("?"+m,h)},[o,s]);return[s,u]}var KP=0,YP=()=>`__${String(++KP)}__`;function GP(){let{router:e}=Q2("useSubmit"),{basename:t}=w.useContext(Hn),r=uP();return w.useCallback(async(n,s={})=>{let{action:o,method:u,encType:d,formData:h,body:m}=NP(n,t);if(s.navigate===!1){let g=s.fetcherKey||YP();await e.fetch(g,r,s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||d,flushSync:s.flushSync})}else await e.navigate(s.action||o,{preventScrollReset:s.preventScrollReset,formData:h,body:m,formMethod:s.method||u,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,t,r])}function VP(e,{relative:t}={}){let{basename:r}=w.useContext(Hn),n=w.useContext(Kn);Lt(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),o={...jc(e||".",{relative:t})},u=ui();if(e==null){o.search=u.search;let d=new URLSearchParams(o.search),h=d.getAll("index");if(h.some(g=>g==="")){d.delete("index"),h.filter(x=>x).forEach(x=>d.append("index",x));let g=d.toString();o.search=g?`?${g}`:""}}return(!e||e===".")&&s.route.index&&(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(o.pathname=o.pathname==="/"?r:xa([r,o.pathname])),nc(o)}function FP(e,{relative:t}={}){let r=w.useContext(z2);Lt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=Q2("useViewTransitionState"),s=jc(e,{relative:t});if(!r.isTransitioning)return!1;let o=ba(r.currentLocation.pathname,n)||r.currentLocation.pathname,u=ba(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Cd(s.pathname,u)!=null||Cd(s.pathname,o)!=null}var WP=M2();function XP(){return i.jsxs("div",{className:"flex flex-col items-center justify-center h-screen text-center px-4",children:[i.jsx("h1",{className:"text-5xl md:text-5xl font-semibold text-gray-100",children:"404"}),i.jsx("h1",{className:"text-2xl md:text-3xl font-semibold mt-6",children:"This page has not been generated"}),i.jsx("p",{className:"mt-4 text-xl md:text-2xl text-gray-500",children:"Tell me what you would like on this page"})]})}const QP="modulepreload",ZP=function(e){return"/"+e},a1={},Nc=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){let m=function(g){return Promise.all(g.map(x=>Promise.resolve(x).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};var u=m;document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),h=d?.nonce||d?.getAttribute("nonce");s=m(r.map(g=>{if(g=ZP(g),g in a1)return;a1[g]=!0;const x=g.endsWith(".css"),v=x?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${g}"]${v}`))return;const b=document.createElement("link");if(b.rel=x?"stylesheet":QP,x||(b.as="script"),b.crossOrigin="",b.href=g,h&&b.setAttribute("nonce",h),document.head.appendChild(b),x)return new Promise((j,N)=>{b.addEventListener("load",j),b.addEventListener("error",()=>N(new Error(`Unable to preload CSS for ${g}`)))})}))}function o(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return s.then(d=>{for(const h of d||[])h.status==="rejected"&&o(h.reason);return t().catch(o)})},JP=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ol);return{default:n}},[]).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class jp extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class eM extends jp{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class i1 extends jp{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class s1 extends jp{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var hx;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(hx||(hx={}));var tM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class rM{constructor(t,{headers:r={},customFetch:n,region:s=hx.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=JP(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return tM(this,void 0,void 0,function*(){try{const{headers:s,method:o,body:u}=r;let d={},{region:h}=r;h||(h=this.region);const m=new URL(`${this.url}/${t}`);h&&h!=="any"&&(d["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let g;u&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(d["Content-Type"]="application/octet-stream",g=u):typeof u=="string"?(d["Content-Type"]="text/plain",g=u):typeof FormData<"u"&&u instanceof FormData?g=u:(d["Content-Type"]="application/json",g=JSON.stringify(u)));const x=yield this.fetch(m.toString(),{method:o||"POST",headers:Object.assign(Object.assign(Object.assign({},d),this.headers),s),body:g}).catch(N=>{throw new eM(N)}),v=x.headers.get("x-relay-error");if(v&&v==="true")throw new i1(x);if(!x.ok)throw new s1(x);let b=((n=x.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),j;return b==="application/json"?j=yield x.json():b==="application/octet-stream"?j=yield x.blob():b==="text/event-stream"?j=x:b==="multipart/form-data"?j=yield x.formData():j=yield x.text(),{data:j,error:null,response:x}}catch(s){return{data:null,error:s,response:s instanceof s1||s instanceof i1?s.context:void 0}}})}}var Gt={},Qs={},Zs={},Js={},el={},tl={},nM=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},gl=nM();const aM=gl.fetch,Z2=gl.fetch.bind(gl),J2=gl.Headers,iM=gl.Request,sM=gl.Response,Ol=Object.freeze(Object.defineProperty({__proto__:null,Headers:J2,Request:iM,Response:sM,default:Z2,fetch:aM},Symbol.toStringTag,{value:"Module"})),lM=gD(Ol);var id={},l1;function eO(){if(l1)return id;l1=1,Object.defineProperty(id,"__esModule",{value:!0});class e extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return id.default=e,id}var o1;function tO(){if(o1)return tl;o1=1;var e=tl&&tl.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(tl,"__esModule",{value:!0});const t=e(lM),r=e(eO());class n{constructor(o){var u,d;this.shouldThrowOnError=!1,this.method=o.method,this.url=o.url,this.headers=new Headers(o.headers),this.schema=o.schema,this.body=o.body,this.shouldThrowOnError=(u=o.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=o.signal,this.isMaybeSingle=(d=o.isMaybeSingle)!==null&&d!==void 0?d:!1,o.fetch?this.fetch=o.fetch:typeof fetch>"u"?this.fetch=t.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(o,u){return this.headers=new Headers(this.headers),this.headers.set(o,u),this}then(o,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let h=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async m=>{var g,x,v,b;let j=null,N=null,_=null,O=m.status,S=m.statusText;if(m.ok){if(this.method!=="HEAD"){const P=await m.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((g=this.headers.get("Accept"))===null||g===void 0)&&g.includes("application/vnd.pgrst.plan+text"))?N=P:N=JSON.parse(P))}const k=(x=this.headers.get("Prefer"))===null||x===void 0?void 0:x.match(/count=(exact|planned|estimated)/),C=(v=m.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");k&&C&&C.length>1&&(_=parseInt(C[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(N)&&(N.length>1?(j={code:"PGRST116",details:`Results contain ${N.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},N=null,_=null,O=406,S="Not Acceptable"):N.length===1?N=N[0]:N=null)}else{const k=await m.text();try{j=JSON.parse(k),Array.isArray(j)&&m.status===404&&(N=[],j=null,O=200,S="OK")}catch{m.status===404&&k===""?(O=204,S="No Content"):j={message:k}}if(j&&this.isMaybeSingle&&(!((b=j?.details)===null||b===void 0)&&b.includes("0 rows"))&&(j=null,O=200,S="OK"),j&&this.shouldThrowOnError)throw new r.default(j)}return{error:j,data:N,count:_,status:O,statusText:S}});return this.shouldThrowOnError||(h=h.catch(m=>{var g,x,v;return{error:{message:`${(g=m?.name)!==null&&g!==void 0?g:"FetchError"}: ${m?.message}`,details:`${(x=m?.stack)!==null&&x!==void 0?x:""}`,hint:"",code:`${(v=m?.code)!==null&&v!==void 0?v:""}`},data:null,count:null,status:0,statusText:""}})),h.then(o,u)}returns(){return this}overrideTypes(){return this}}return tl.default=n,tl}var c1;function rO(){if(c1)return el;c1=1;var e=el&&el.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(el,"__esModule",{value:!0});const t=e(tO());class r extends t.default{select(s){let o=!1;const u=(s??"*").split("").map(d=>/\s/.test(d)&&!o?"":(d==='"'&&(o=!o),d)).join("");return this.url.searchParams.set("select",u),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:o=!0,nullsFirst:u,foreignTable:d,referencedTable:h=d}={}){const m=h?`${h}.order`:"order",g=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${g?`${g},`:""}${s}.${o?"asc":"desc"}${u===void 0?"":u?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:o,referencedTable:u=o}={}){const d=typeof u>"u"?"limit":`${u}.limit`;return this.url.searchParams.set(d,`${s}`),this}range(s,o,{foreignTable:u,referencedTable:d=u}={}){const h=typeof d>"u"?"offset":`${d}.offset`,m=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(h,`${s}`),this.url.searchParams.set(m,`${o-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:o=!1,settings:u=!1,buffers:d=!1,wal:h=!1,format:m="text"}={}){var g;const x=[s?"analyze":null,o?"verbose":null,u?"settings":null,d?"buffers":null,h?"wal":null].filter(Boolean).join("|"),v=(g=this.headers.get("Accept"))!==null&&g!==void 0?g:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${v}"; options=${x};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}}return el.default=r,el}var u1;function Np(){if(u1)return Js;u1=1;var e=Js&&Js.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Js,"__esModule",{value:!0});const t=e(rO());class r extends t.default{eq(s,o){return this.url.searchParams.append(s,`eq.${o}`),this}neq(s,o){return this.url.searchParams.append(s,`neq.${o}`),this}gt(s,o){return this.url.searchParams.append(s,`gt.${o}`),this}gte(s,o){return this.url.searchParams.append(s,`gte.${o}`),this}lt(s,o){return this.url.searchParams.append(s,`lt.${o}`),this}lte(s,o){return this.url.searchParams.append(s,`lte.${o}`),this}like(s,o){return this.url.searchParams.append(s,`like.${o}`),this}likeAllOf(s,o){return this.url.searchParams.append(s,`like(all).{${o.join(",")}}`),this}likeAnyOf(s,o){return this.url.searchParams.append(s,`like(any).{${o.join(",")}}`),this}ilike(s,o){return this.url.searchParams.append(s,`ilike.${o}`),this}ilikeAllOf(s,o){return this.url.searchParams.append(s,`ilike(all).{${o.join(",")}}`),this}ilikeAnyOf(s,o){return this.url.searchParams.append(s,`ilike(any).{${o.join(",")}}`),this}is(s,o){return this.url.searchParams.append(s,`is.${o}`),this}in(s,o){const u=Array.from(new Set(o)).map(d=>typeof d=="string"&&new RegExp("[,()]").test(d)?`"${d}"`:`${d}`).join(",");return this.url.searchParams.append(s,`in.(${u})`),this}contains(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cs.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cs.{${o.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(o)}`),this}containedBy(s,o){return typeof o=="string"?this.url.searchParams.append(s,`cd.${o}`):Array.isArray(o)?this.url.searchParams.append(s,`cd.{${o.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(o)}`),this}rangeGt(s,o){return this.url.searchParams.append(s,`sr.${o}`),this}rangeGte(s,o){return this.url.searchParams.append(s,`nxl.${o}`),this}rangeLt(s,o){return this.url.searchParams.append(s,`sl.${o}`),this}rangeLte(s,o){return this.url.searchParams.append(s,`nxr.${o}`),this}rangeAdjacent(s,o){return this.url.searchParams.append(s,`adj.${o}`),this}overlaps(s,o){return typeof o=="string"?this.url.searchParams.append(s,`ov.${o}`):this.url.searchParams.append(s,`ov.{${o.join(",")}}`),this}textSearch(s,o,{config:u,type:d}={}){let h="";d==="plain"?h="pl":d==="phrase"?h="ph":d==="websearch"&&(h="w");const m=u===void 0?"":`(${u})`;return this.url.searchParams.append(s,`${h}fts${m}.${o}`),this}match(s){return Object.entries(s).forEach(([o,u])=>{this.url.searchParams.append(o,`eq.${u}`)}),this}not(s,o,u){return this.url.searchParams.append(s,`not.${o}.${u}`),this}or(s,{foreignTable:o,referencedTable:u=o}={}){const d=u?`${u}.or`:"or";return this.url.searchParams.append(d,`(${s})`),this}filter(s,o,u){return this.url.searchParams.append(s,`${o}.${u}`),this}}return Js.default=r,Js}var d1;function nO(){if(d1)return Zs;d1=1;var e=Zs&&Zs.__importDefault||function(n){return n&&n.__esModule?n:{default:n}};Object.defineProperty(Zs,"__esModule",{value:!0});const t=e(Np());class r{constructor(s,{headers:o={},schema:u,fetch:d}){this.url=s,this.headers=new Headers(o),this.schema=u,this.fetch=d}select(s,{head:o=!1,count:u}={}){const d=o?"HEAD":"GET";let h=!1;const m=(s??"*").split("").map(g=>/\s/.test(g)&&!h?"":(g==='"'&&(h=!h),g)).join("");return this.url.searchParams.set("select",m),u&&this.headers.append("Prefer",`count=${u}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(s,{count:o,defaultToNull:u=!0}={}){var d;const h="POST";if(o&&this.headers.append("Prefer",`count=${o}`),u||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const m=s.reduce((g,x)=>g.concat(Object.keys(x)),[]);if(m.length>0){const g=[...new Set(m)].map(x=>`"${x}"`);this.url.searchParams.set("columns",g.join(","))}}return new t.default({method:h,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}upsert(s,{onConflict:o,ignoreDuplicates:u=!1,count:d,defaultToNull:h=!0}={}){var m;const g="POST";if(this.headers.append("Prefer",`resolution=${u?"ignore":"merge"}-duplicates`),o!==void 0&&this.url.searchParams.set("on_conflict",o),d&&this.headers.append("Prefer",`count=${d}`),h||this.headers.append("Prefer","missing=default"),Array.isArray(s)){const x=s.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(x.length>0){const v=[...new Set(x)].map(b=>`"${b}"`);this.url.searchParams.set("columns",v.join(","))}}return new t.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(s,{count:o}={}){var u;const d="PATCH";return o&&this.headers.append("Prefer",`count=${o}`),new t.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:s,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}delete({count:s}={}){var o;const u="DELETE";return s&&this.headers.append("Prefer",`count=${s}`),new t.default({method:u,url:this.url,headers:this.headers,schema:this.schema,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}}return Zs.default=r,Zs}var f1;function oM(){if(f1)return Qs;f1=1;var e=Qs&&Qs.__importDefault||function(s){return s&&s.__esModule?s:{default:s}};Object.defineProperty(Qs,"__esModule",{value:!0});const t=e(nO()),r=e(Np());class n{constructor(o,{headers:u={},schema:d,fetch:h}={}){this.url=o,this.headers=new Headers(u),this.schemaName=d,this.fetch=h}from(o){const u=new URL(`${this.url}/${o}`);return new t.default(u,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(o){return new n(this.url,{headers:this.headers,schema:o,fetch:this.fetch})}rpc(o,u={},{head:d=!1,get:h=!1,count:m}={}){var g;let x;const v=new URL(`${this.url}/rpc/${o}`);let b;d||h?(x=d?"HEAD":"GET",Object.entries(u).filter(([N,_])=>_!==void 0).map(([N,_])=>[N,Array.isArray(_)?`{${_.join(",")}}`:`${_}`]).forEach(([N,_])=>{v.searchParams.append(N,_)})):(x="POST",b=u);const j=new Headers(this.headers);return m&&j.set("Prefer",`count=${m}`),new r.default({method:x,url:v,headers:j,schema:this.schemaName,body:b,fetch:(g=this.fetch)!==null&&g!==void 0?g:fetch})}}return Qs.default=n,Qs}var h1;function cM(){if(h1)return Gt;h1=1;var e=Gt&&Gt.__importDefault||function(d){return d&&d.__esModule?d:{default:d}};Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.PostgrestError=Gt.PostgrestBuilder=Gt.PostgrestTransformBuilder=Gt.PostgrestFilterBuilder=Gt.PostgrestQueryBuilder=Gt.PostgrestClient=void 0;const t=e(oM());Gt.PostgrestClient=t.default;const r=e(nO());Gt.PostgrestQueryBuilder=r.default;const n=e(Np());Gt.PostgrestFilterBuilder=n.default;const s=e(rO());Gt.PostgrestTransformBuilder=s.default;const o=e(tO());Gt.PostgrestBuilder=o.default;const u=e(eO());return Gt.PostgrestError=u.default,Gt.default={PostgrestClient:t.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:s.default,PostgrestBuilder:o.default,PostgrestError:u.default},Gt}var uM=cM();const dM=Bn(uM),{PostgrestClient:fM,PostgrestQueryBuilder:fF,PostgrestFilterBuilder:hF,PostgrestTransformBuilder:mF,PostgrestBuilder:gF,PostgrestError:xF}=dM;class hM{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"&&process.versions&&process.versions.node){const r=parseInt(process.versions.node.split(".")[0]);return r>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${r} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${r} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const mM="2.15.4",gM=`realtime-js/${mM}`,xM="1.0.0",mx=1e4,pM=1e3,vM=100;var Wo;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Wo||(Wo={}));var Rt;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Rt||(Rt={}));var bn;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(bn||(bn={}));var gx;(function(e){e.websocket="websocket"})(gx||(gx={}));var Yi;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Yi||(Yi={}));class yM{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),o=r.getUint8(2);let u=this.HEADER_LENGTH+2;const d=n.decode(t.slice(u,u+s));u=u+s;const h=n.decode(t.slice(u,u+o));u=u+o;const m=JSON.parse(n.decode(t.slice(u,t.byteLength)));return{ref:null,topic:d,event:h,payload:m}}}class aO{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var lt;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(lt||(lt={}));const m1=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((o,u)=>(o[u]=bM(u,e,t,s),o),{})},bM=(e,t,r,n)=>{const s=t.find(d=>d.name===e),o=s?.type,u=r[e];return o&&!n.includes(o)?iO(o,u):xx(u)},iO=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return _M(t,r)}switch(e){case lt.bool:return wM(t);case lt.float4:case lt.float8:case lt.int2:case lt.int4:case lt.int8:case lt.numeric:case lt.oid:return jM(t);case lt.json:case lt.jsonb:return NM(t);case lt.timestamp:return SM(t);case lt.abstime:case lt.date:case lt.daterange:case lt.int4range:case lt.int8range:case lt.money:case lt.reltime:case lt.text:case lt.time:case lt.timestamptz:case lt.timetz:case lt.tsrange:case lt.tstzrange:return xx(t);default:return xx(t)}},xx=e=>e,wM=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},jM=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},NM=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},_M=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let o;const u=e.slice(1,r);try{o=JSON.parse("["+u+"]")}catch{o=u?u.split(","):[]}return o.map(d=>iO(t,d))}return e},SM=e=>typeof e=="string"?e.replace(" ","T"):e,sO=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Sg{constructor(t,r,n={},s=mx){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var g1;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(g1||(g1={}));class Xo{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=r?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Xo.syncState(this.state,s,o,u),this.pendingDiffs.forEach(h=>{this.state=Xo.syncDiff(this.state,h,o,u)}),this.pendingDiffs=[],d()}),this.channel._on(n.diff,{},s=>{const{onJoin:o,onLeave:u,onSync:d}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Xo.syncDiff(this.state,s,o,u),d())}),this.onJoin((s,o,u)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:o,newPresences:u})}),this.onLeave((s,o,u)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:o,leftPresences:u})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const o=this.cloneDeep(t),u=this.transformState(r),d={},h={};return this.map(o,(m,g)=>{u[m]||(h[m]=g)}),this.map(u,(m,g)=>{const x=o[m];if(x){const v=g.map(_=>_.presence_ref),b=x.map(_=>_.presence_ref),j=g.filter(_=>b.indexOf(_.presence_ref)<0),N=x.filter(_=>v.indexOf(_.presence_ref)<0);j.length>0&&(d[m]=j),N.length>0&&(h[m]=N)}else d[m]=g}),this.syncDiff(o,{joins:d,leaves:h},n,s)}static syncDiff(t,r,n,s){const{joins:o,leaves:u}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(o,(d,h)=>{var m;const g=(m=t[d])!==null&&m!==void 0?m:[];if(t[d]=this.cloneDeep(h),g.length>0){const x=t[d].map(b=>b.presence_ref),v=g.filter(b=>x.indexOf(b.presence_ref)<0);t[d].unshift(...v)}n(d,g,h)}),this.map(u,(d,h)=>{let m=t[d];if(!m)return;const g=h.map(x=>x.presence_ref);m=m.filter(x=>g.indexOf(x.presence_ref)<0),t[d]=m,s(d,m,h),m.length===0&&delete t[d]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(o=>(o.presence_ref=o.phx_ref,delete o.phx_ref,delete o.phx_ref_prev,o)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var x1;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(x1||(x1={}));var Qo;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Qo||(Qo={}));var ua;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(ua||(ua={}));class _p{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Rt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Sg(this,bn.join,this.params,this.timeout),this.rejoinTimer=new aO(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Rt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Rt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Rt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(bn.reply,{},(s,o)=>{this._trigger(this._replyEventName(o),s)}),this.presence=new Xo(this),this.broadcastEndpointURL=sO(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,o;if(this.socket.isConnected()||this.socket.connect(),this.state==Rt.closed){const{config:{broadcast:u,presence:d,private:h}}=this.params,m=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(b=>b.filter))!==null&&s!==void 0?s:[],g=!!this.bindings[Qo.PRESENCE]&&this.bindings[Qo.PRESENCE].length>0||((o=this.params.config.presence)===null||o===void 0?void 0:o.enabled)===!0,x={},v={broadcast:u,presence:Object.assign(Object.assign({},d),{enabled:g}),postgres_changes:m,private:h};this.socket.accessTokenValue&&(x.access_token=this.socket.accessTokenValue),this._onError(b=>t?.(ua.CHANNEL_ERROR,b)),this._onClose(()=>t?.(ua.CLOSED)),this.updateJoinPayload(Object.assign({config:v},x)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:b})=>{var j;if(this.socket.setAuth(),b===void 0){t?.(ua.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,_=(j=N?.length)!==null&&j!==void 0?j:0,O=[];for(let S=0;S<_;S++){const A=N[S],{filter:{event:k,schema:C,table:P,filter:T}}=A,D=b&&b[S];if(D&&D.event===k&&D.schema===C&&D.table===P&&D.filter===T)O.push(Object.assign(Object.assign({},A),{id:D.id}));else{this.unsubscribe(),this.state=Rt.errored,t?.(ua.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=O,t&&t(ua.SUBSCRIBED);return}}).receive("error",b=>{this.state=Rt.errored,t?.(ua.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(b).join(", ")||"error")))}).receive("timeout",()=>{t?.(ua.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Rt.joined&&t===Qo.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:o,payload:u}=t,h={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:u,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=m.body)===null||s===void 0?void 0:s.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var u,d,h;const m=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((h=(d=(u=this.params)===null||u===void 0?void 0:u.config)===null||d===void 0?void 0:d.broadcast)===null||h===void 0)&&h.ack)&&o("ok"),m.receive("ok",()=>o("ok")),m.receive("error",()=>o("error")),m.receive("timeout",()=>o("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Rt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(bn.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Sg(this,bn.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n?.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Rt.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,o=setTimeout(()=>s.abort(),n),u=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(o),u}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Sg(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>vM){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,o;const u=t.toLocaleLowerCase(),{close:d,error:h,leave:m,join:g}=bn;if(n&&[d,h,m,g].indexOf(u)>=0&&n!==this._joinRef())return;let v=this._onMessage(u,r,n);if(r&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(u)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(b=>{var j,N,_;return((j=b.filter)===null||j===void 0?void 0:j.event)==="*"||((_=(N=b.filter)===null||N===void 0?void 0:N.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===u}).map(b=>b.callback(v,n)):(o=this.bindings[u])===null||o===void 0||o.filter(b=>{var j,N,_,O,S,A;if(["broadcast","presence","postgres_changes"].includes(u))if("id"in b){const k=b.id,C=(j=b.filter)===null||j===void 0?void 0:j.event;return k&&((N=r.ids)===null||N===void 0?void 0:N.includes(k))&&(C==="*"||C?.toLocaleLowerCase()===((_=r.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const k=(S=(O=b?.filter)===null||O===void 0?void 0:O.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return k==="*"||k===((A=r?.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return b.type.toLocaleLowerCase()===u}).map(b=>{if(typeof v=="object"&&"ids"in v){const j=v.data,{schema:N,table:_,commit_timestamp:O,type:S,errors:A}=j;v=Object.assign(Object.assign({},{schema:N,table:_,commit_timestamp:O,eventType:S,new:{},old:{},errors:A}),this._getPayloadRecords(j))}b.callback(v,n)})}_isClosed(){return this.state===Rt.closed}_isJoined(){return this.state===Rt.joined}_isJoining(){return this.state===Rt.joining}_isLeaving(){return this.state===Rt.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),o={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(o):this.bindings[s]=[o],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var o;return!(((o=s.type)===null||o===void 0?void 0:o.toLocaleLowerCase())===n&&_p.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(bn.close,{},t)}_onError(t){this._on(bn.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Rt.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=m1(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=m1(t.columns,t.old_record)),r}}const Og=()=>{},sd={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},OM=[1e3,2e3,5e3,1e4],AM=1e4,EM=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class kM{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=mx,this.transport=null,this.heartbeatIntervalMs=sd.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Og,this.ref=0,this.reconnectTimer=null,this.logger=Og,this.conn=null,this.sendBuffer=[],this.serializer=new yM,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...u)=>Nc(async()=>{const{default:d}=await Promise.resolve().then(()=>Ol);return{default:d}},void 0).then(({default:d})=>d(...u)).catch(d=>{throw new Error(`Failed to load @supabase/node-fetch: ${d.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):o=fetch,(...u)=>o(...u)},!(!((n=r?.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${gx.websocket}`,this.httpEndpoint=sO(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=hM.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:xM}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Wo.connecting:return Yi.Connecting;case Wo.open:return Yi.Open;case Wo.closing:return Yi.Closing;default:return Yi.Closed}}isConnected(){return this.connectionState()===Yi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(o=>o.topic===n);if(s)return s;{const o=new _p(`realtime:${t}`,r,this);return this.channels.push(o),o}}push(t){const{topic:r,event:n,payload:s,ref:o}=t,u=()=>{this.encode(t,d=>{var h;(h=this.conn)===null||h===void 0||h.send(d)})};this.log("push",`${r} ${n} (${o})`,s),this.isConnected()?u():this.sendBuffer.push(u)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(pM,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},sd.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:o,ref:u}=r,d=u?`(${u})`:"",h=o.status||"";this.log("receive",`${h} ${n} ${s} ${d}`.trim(),o),this.channels.filter(m=>m._isMember(n)).forEach(m=>m._trigger(s,o,u)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(bn.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([EM],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:gM};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(bn.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new aO(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},sd.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,o,u,d,h,m,g;if(this.transport=(r=t?.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t?.timeout)!==null&&n!==void 0?n:mx,this.heartbeatIntervalMs=(s=t?.heartbeatIntervalMs)!==null&&s!==void 0?s:sd.HEARTBEAT_INTERVAL,this.worker=(o=t?.worker)!==null&&o!==void 0?o:!1,this.accessToken=(u=t?.accessToken)!==null&&u!==void 0?u:null,this.heartbeatCallback=(d=t?.heartbeatCallback)!==null&&d!==void 0?d:Og,t?.params&&(this.params=t.params),t?.logger&&(this.logger=t.logger),(t?.logLevel||t?.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(h=t?.reconnectAfterMs)!==null&&h!==void 0?h:(x=>OM[x-1]||AM),this.encode=(m=t?.encode)!==null&&m!==void 0?m:((x,v)=>v(JSON.stringify(x))),this.decode=(g=t?.decode)!==null&&g!==void 0?g:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t?.workerUrl}}}class Sp extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $t(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class CM extends Sp{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class px extends Sp{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var TM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const lO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ol);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},DM=()=>TM(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Nc(()=>Promise.resolve().then(()=>Ol),void 0)).Response:Response}),vx=e=>{if(Array.isArray(e))return e.map(r=>vx(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,o=>o.toUpperCase().replace(/[-_]/g,""));t[s]=vx(n)}),t},PM=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var ls=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const Ag=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),MM=(e,t,r)=>ls(void 0,void 0,void 0,function*(){const n=yield DM();e instanceof n&&!r?.noResolveJson?e.json().then(s=>{const o=e.status||500,u=s?.statusCode||o+"";t(new CM(Ag(s),o,u))}).catch(s=>{t(new px(Ag(s),s))}):t(new px(Ag(e),e))}),RM=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"||!n?s:(PM(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t?.headers),s.body=JSON.stringify(n)):s.body=n,t?.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function _c(e,t,r,n,s,o){return ls(this,void 0,void 0,function*(){return new Promise((u,d)=>{e(r,RM(t,n,s,o)).then(h=>{if(!h.ok)throw h;return n?.noResolveJson?h:h.json()}).then(h=>u(h)).catch(h=>MM(h,d,n))})})}function Td(e,t,r,n){return ls(this,void 0,void 0,function*(){return _c(e,"GET",t,r,n)})}function Rn(e,t,r,n,s){return ls(this,void 0,void 0,function*(){return _c(e,"POST",t,n,s,r)})}function yx(e,t,r,n,s){return ls(this,void 0,void 0,function*(){return _c(e,"PUT",t,n,s,r)})}function $M(e,t,r,n){return ls(this,void 0,void 0,function*(){return _c(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function oO(e,t,r,n,s){return ls(this,void 0,void 0,function*(){return _c(e,"DELETE",t,n,s,r)})}var pr=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const LM={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},p1={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class IM{constructor(t,r={},n,s){this.url=t,this.headers=r,this.bucketId=n,this.fetch=lO(s)}uploadOrUpdate(t,r,n,s){return pr(this,void 0,void 0,function*(){try{let o;const u=Object.assign(Object.assign({},p1),s);let d=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(u.upsert)});const h=u.metadata;typeof Blob<"u"&&n instanceof Blob?(o=new FormData,o.append("cacheControl",u.cacheControl),h&&o.append("metadata",this.encodeMetadata(h)),o.append("",n)):typeof FormData<"u"&&n instanceof FormData?(o=n,o.append("cacheControl",u.cacheControl),h&&o.append("metadata",this.encodeMetadata(h))):(o=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType,h&&(d["x-metadata"]=this.toBase64(this.encodeMetadata(h)))),s?.headers&&(d=Object.assign(Object.assign({},d),s.headers));const m=this._removeEmptyFolders(r),g=this._getFinalPath(m),x=yield(t=="PUT"?yx:Rn)(this.fetch,`${this.url}/object/${g}`,o,Object.assign({headers:d},u?.duplex?{duplex:u.duplex}:{}));return{data:{path:m,id:x.Id,fullPath:x.Key},error:null}}catch(o){if($t(o))return{data:null,error:o};throw o}})}upload(t,r,n){return pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return pr(this,void 0,void 0,function*(){const o=this._removeEmptyFolders(t),u=this._getFinalPath(o),d=new URL(this.url+`/object/upload/sign/${u}`);d.searchParams.set("token",r);try{let h;const m=Object.assign({upsert:p1.upsert},s),g=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&n instanceof Blob?(h=new FormData,h.append("cacheControl",m.cacheControl),h.append("",n)):typeof FormData<"u"&&n instanceof FormData?(h=n,h.append("cacheControl",m.cacheControl)):(h=n,g["cache-control"]=`max-age=${m.cacheControl}`,g["content-type"]=m.contentType);const x=yield yx(this.fetch,d.toString(),h,{headers:g});return{data:{path:o,fullPath:x.Key},error:null}}catch(h){if($t(h))return{data:null,error:h};throw h}})}createSignedUploadUrl(t,r){return pr(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r?.upsert&&(s["x-upsert"]="true");const o=yield Rn(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),u=new URL(this.url+o.url),d=u.searchParams.get("token");if(!d)throw new Sp("No token returned by API");return{data:{signedUrl:u.toString(),path:t,token:d},error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}update(t,r,n){return pr(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return pr(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}copy(t,r,n){return pr(this,void 0,void 0,function*(){try{return{data:{path:(yield Rn(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return pr(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),o=yield Rn(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n?.transform?{transform:n.transform}:{}),{headers:this.headers});const u=n?.download?`&download=${n.download===!0?"":n.download}`:"";return o={signedUrl:encodeURI(`${this.url}${o.signedURL}${u}`)},{data:o,error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return pr(this,void 0,void 0,function*(){try{const s=yield Rn(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(u=>Object.assign(Object.assign({},u),{signedUrl:u.signedURL?encodeURI(`${this.url}${u.signedURL}${o}`):null})),error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}download(t,r){return pr(this,void 0,void 0,function*(){const s=typeof r?.transform<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString(r?.transform||{}),u=o?`?${o}`:"";try{const d=this._getFinalPath(t);return{data:yield(yield Td(this.fetch,`${this.url}/${s}/${d}${u}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(d){if($t(d))return{data:null,error:d};throw d}})}info(t){return pr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield Td(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:vx(n),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}exists(t){return pr(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield $M(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if($t(n)&&n instanceof px){const s=n.originalError;if([400,404].includes(s?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],o=r?.download?`download=${r.download===!0?"":r.download}`:"";o!==""&&s.push(o);const d=typeof r?.transform<"u"?"render/image":"object",h=this.transformOptsToQueryString(r?.transform||{});h!==""&&s.push(h);let m=s.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${d}/public/${n}${m}`)}}}remove(t){return pr(this,void 0,void 0,function*(){try{return{data:yield oO(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}list(t,r,n){return pr(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},LM),r),{prefix:t||""});return{data:yield Rn(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if($t(s))return{data:null,error:s};throw s}})}listV2(t,r){return pr(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Rn(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const UM="2.11.1",qM={"X-Client-Info":`storage-js/${UM}`};var rl=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class zM{constructor(t,r={},n,s){const o=new URL(t);s?.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase.")),this.url=o.href,this.headers=Object.assign(Object.assign({},qM),r),this.fetch=lO(n)}listBuckets(){return rl(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if($t(t))return{data:null,error:t};throw t}})}getBucket(t){return rl(this,void 0,void 0,function*(){try{return{data:yield Td(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return rl(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return rl(this,void 0,void 0,function*(){try{return{data:yield yx(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if($t(n))return{data:null,error:n};throw n}})}emptyBucket(t){return rl(this,void 0,void 0,function*(){try{return{data:yield Rn(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}deleteBucket(t){return rl(this,void 0,void 0,function*(){try{return{data:yield oO(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if($t(r))return{data:null,error:r};throw r}})}}class BM extends zM{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new IM(this.url,this.headers,t,this.fetch)}}const HM="2.57.0";let Go="";typeof Deno<"u"?Go="deno":typeof document<"u"?Go="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Go="react-native":Go="node";const KM={"X-Client-Info":`supabase-js-${Go}/${HM}`},YM={headers:KM},GM={schema:"public"},VM={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},FM={};var WM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};const XM=e=>{let t;return e?t=e:typeof fetch>"u"?t=Z2:t=fetch,(...r)=>t(...r)},QM=()=>typeof Headers>"u"?J2:Headers,ZM=(e,t,r)=>{const n=XM(r),s=QM();return(o,u)=>WM(void 0,void 0,void 0,function*(){var d;const h=(d=yield t())!==null&&d!==void 0?d:e;let m=new s(u?.headers);return m.has("apikey")||m.set("apikey",e),m.has("Authorization")||m.set("Authorization",`Bearer ${h}`),n(o,Object.assign(Object.assign({},u),{headers:m}))})};var JM=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};function e4(e){return e.endsWith("/")?e:e+"/"}function t4(e,t){var r,n;const{db:s,auth:o,realtime:u,global:d}=e,{db:h,auth:m,realtime:g,global:x}=t,v={db:Object.assign(Object.assign({},h),s),auth:Object.assign(Object.assign({},m),o),realtime:Object.assign(Object.assign({},g),u),storage:{},global:Object.assign(Object.assign(Object.assign({},x),d),{headers:Object.assign(Object.assign({},(r=x?.headers)!==null&&r!==void 0?r:{}),(n=d?.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>JM(this,void 0,void 0,function*(){return""})};return e.accessToken?v.accessToken=e.accessToken:delete v.accessToken,v}const cO="2.71.1",ol=30*1e3,bx=3,Eg=bx*ol,r4="http://localhost:9999",n4="supabase.auth.token",a4={"X-Client-Info":`gotrue-js/${cO}`},wx="X-Supabase-Api-Version",uO={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},i4=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,s4=600*1e3;class Op extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function Re(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class l4 extends Op{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function o4(e){return Re(e)&&e.name==="AuthApiError"}class dO extends Op{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class di extends Op{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class ri extends di{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function c4(e){return Re(e)&&e.name==="AuthSessionMissingError"}class ld extends di{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class od extends di{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class cd extends di{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function u4(e){return Re(e)&&e.name==="AuthImplicitGrantRedirectError"}class v1 extends di{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class jx extends di{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function kg(e){return Re(e)&&e.name==="AuthRetryableFetchError"}class y1 extends di{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class Nx extends di{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const Dd="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),b1=` 	
\r=`.split(""),d4=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<b1.length;t+=1)e[b1[t].charCodeAt(0)]=-2;for(let t=0;t<Dd.length;t+=1)e[Dd[t].charCodeAt(0)]=t;return e})();function w1(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Dd[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(Dd[n]),t.queuedBits-=6}}function fO(e,t,r){const n=d4[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function j1(e){const t=[],r=u=>{t.push(String.fromCodePoint(u))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},o=u=>{m4(u,n,r)};for(let u=0;u<e.length;u+=1)fO(e.charCodeAt(u),s,o);return t.join("")}function f4(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function h4(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}f4(n,t)}}function m4(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if((e>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function g4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)fO(e.charCodeAt(s),r,n);return new Uint8Array(t)}function x4(e){const t=[];return h4(e,r=>t.push(r)),new Uint8Array(t)}function p4(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>w1(s,r,n)),w1(null,r,n),t.join("")}function v4(e){return Math.round(Date.now()/1e3)+e}function y4(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const yn=()=>typeof window<"u"&&typeof document<"u",Ii={tested:!1,writable:!1},hO=()=>{if(!yn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Ii.tested)return Ii.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),Ii.tested=!0,Ii.writable=!0}catch{Ii.tested=!0,Ii.writable=!1}return Ii.writable};function b4(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,o)=>{t[o]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const mO=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>Nc(async()=>{const{default:n}=await Promise.resolve().then(()=>Ol);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},w4=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",cl=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ui=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ti=async(e,t)=>{await e.removeItem(t)};class Nf{constructor(){this.promise=new Nf.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Nf.promiseConstructor=Promise;function Cg(e){const t=e.split(".");if(t.length!==3)throw new Nx("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!i4.test(t[n]))throw new Nx("JWT not in base64url format");return{header:JSON.parse(j1(t[0])),payload:JSON.parse(j1(t[1])),signature:g4(t[2]),raw:{header:t[0],payload:t[1]}}}async function j4(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function N4(e,t){return new Promise((n,s)=>{(async()=>{for(let o=0;o<1/0;o++)try{const u=await e(o);if(!t(o,null,u)){n(u);return}}catch(u){if(!t(o,u)){s(u);return}}})()})}function _4(e){return("0"+e.toString(16)).substr(-2)}function S4(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let o=0;o<56;o++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,_4).join("")}async function O4(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(o=>String.fromCharCode(o)).join("")}async function A4(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await O4(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function nl(e,t,r=!1){const n=S4();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await cl(e,`${t}-code-verifier`,s);const o=await A4(n);return[o,n===o?"plain":"s256"]}const E4=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k4(e){const t=e.headers.get(wx);if(!t||!t.match(E4))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function C4(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function T4(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const D4=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function al(e){if(!D4.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tg(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function N1(e){return JSON.parse(JSON.stringify(e))}var P4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const zi=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),M4=[502,503,504];async function _1(e){var t;if(!w4(e))throw new jx(zi(e),0);if(M4.includes(e.status))throw new jx(zi(e),e.status);let r;try{r=await e.json()}catch(o){throw new dO(zi(o),o)}let n;const s=k4(e);if(s&&s.getTime()>=uO["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new y1(zi(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ri}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((o,u)=>o&&typeof u=="string",!0))throw new y1(zi(r),e.status,r.weak_password.reasons);throw new l4(zi(r),e.status||500,n)}const R4=(e,t,r,n)=>{const s={method:e,headers:t?.headers||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Be(e,t,r,n){var s;const o=Object.assign({},n?.headers);o[wx]||(o[wx]=uO["2024-01-01"].name),n?.jwt&&(o.Authorization=`Bearer ${n.jwt}`);const u=(s=n?.query)!==null&&s!==void 0?s:{};n?.redirectTo&&(u.redirect_to=n.redirectTo);const d=Object.keys(u).length?"?"+new URLSearchParams(u).toString():"",h=await $4(e,t,r+d,{headers:o,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(h):{data:Object.assign({},h),error:null}}async function $4(e,t,r,n,s,o){const u=R4(t,n,s,o);let d;try{d=await e(r,Object.assign({},u))}catch(h){throw console.error(h),new jx(zi(h),0)}if(d.ok||await _1(d),n?.noResolveJson)return d;try{return await d.json()}catch(h){await _1(h)}}function ca(e){var t;let r=null;q4(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=v4(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function S1(e){const t=ca(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ii(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function L4(e){return{data:e,error:null}}function I4(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o}=e,u=P4(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),d={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:o},h=Object.assign({},u);return{data:{properties:d,user:h},error:null}}function U4(e){return e}function q4(e){return e.access_token&&e.refresh_token&&e.expires_in}const Dg=["global","local","others"];var z4=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class B4{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=mO(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Dg[0]){if(Dg.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Dg.join(", ")}`);try{return await Be(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Be(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:ii})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=z4(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n?.newEmail,delete s.newEmail),await Be(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:I4,redirectTo:r?.redirectTo})}catch(r){if(Re(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Be(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ii})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,o,u,d,h;try{const m={nextPage:null,lastPage:0,total:0},g=await Be(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t?.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(o=(s=t?.perPage)===null||s===void 0?void 0:s.toString())!==null&&o!==void 0?o:""},xform:U4});if(g.error)throw g.error;const x=await g.json(),v=(u=g.headers.get("x-total-count"))!==null&&u!==void 0?u:0,b=(h=(d=g.headers.get("link"))===null||d===void 0?void 0:d.split(","))!==null&&h!==void 0?h:[];return b.length>0&&(b.forEach(j=>{const N=parseInt(j.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(j.split(";")[1].split("=")[1]);m[`${_}Page`]=N}),m.total=parseInt(v)),{data:Object.assign(Object.assign({},x),m),error:null}}catch(m){if(Re(m))return{data:{users:[]},error:m};throw m}}async getUserById(t){al(t);try{return await Be(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ii})}catch(r){if(Re(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){al(t);try{return await Be(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:ii})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){al(t);try{return await Be(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:ii})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){al(t.userId);try{const{data:r,error:n}=await Be(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _deleteFactor(t){al(t.userId),al(t.id);try{return{data:await Be(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}}function O1(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function H4(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const il={debug:!!(globalThis&&hO()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class gO extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class K4 extends gO{}async function Y4(e,t,r){il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),il.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){il.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{il.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw il.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new K4(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(il.debug)try{const o=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(o,null,"  "))}catch(o){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",o)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}H4();const G4={url:r4,storageKey:n4,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:a4,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function A1(e,t,r){return await r()}const sl={};class ac{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=ac.nextInstanceID,ac.nextInstanceID+=1,this.instanceID>0&&yn()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},G4),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new B4({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=mO(s.fetch),this.lock=s.lock||A1,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:yn()&&(!((r=globalThis?.navigator)===null||r===void 0)&&r.locks)?this.lock=Y4:this.lock=A1,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:hO()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=O1(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=O1(this.memoryStorage)),yn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async o=>{this._debug("received broadcast notification from other tab or client",o),await this._notifyAllSubscribers(o.data.event,o.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=sl[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){sl[this.storageKey]=Object.assign(Object.assign({},sl[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=sl[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){sl[this.storageKey]=Object.assign(Object.assign({},sl[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${cO}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=b4(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),yn()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:o}=await this._getSessionFromURL(r,n);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),u4(o)){const h=(t=o.details)===null||t===void 0?void 0:t.code;if(h==="identity_already_exists"||h==="identity_not_found"||h==="single_identity_not_deletable")return{error:o}}return await this._removeSession(),{error:o}}const{session:u,redirectType:d}=s;return this._debug("#_initialize()","detected session in URL",u,"redirect type",d),await this._saveSession(u),setTimeout(async()=>{d==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",u):await this._notifyAllSubscribers("SIGNED_IN",u)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return Re(r)?{error:r}:{error:new dO("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const o=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t?.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t?.options)===null||s===void 0?void 0:s.captchaToken}},xform:ca}),{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Re(o))return{data:{user:null,session:null},error:o};throw o}}async signUp(t){var r,n,s;try{let o;if("email"in t){const{email:g,password:x,options:v}=t;let b=null,j=null;this.flowType==="pkce"&&([b,j]=await nl(this.storage,this.storageKey)),o=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:x,data:(r=v?.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:b,code_challenge_method:j},xform:ca})}else if("phone"in t){const{phone:g,password:x,options:v}=t;o=await Be(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:x,data:(n=v?.data)!==null&&n!==void 0?n:{},channel:(s=v?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:ca})}else throw new od("You must provide either an email or phone number and a password");const{data:u,error:d}=o;if(d||!u)return{data:{user:null,session:null},error:d};const h=u.session,m=u.user;return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(o){if(Re(o))return{data:{user:null,session:null},error:o};throw o}}async signInWithPassword(t){try{let r;if("email"in t){const{email:o,password:u,options:d}=t;r=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:S1})}else if("phone"in t){const{phone:o,password:u,options:d}=t;r=await Be(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:u,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:S1})}else throw new od("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new ld}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,o;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=t.options)===null||o===void 0?void 0:o.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,o,u,d,h,m,g,x,v,b;let j,N;if("message"in t)j=t.message,N=t.signature;else{const{chain:_,wallet:O,statement:S,options:A}=t;let k;if(yn())if(typeof O=="object")k=O;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))k=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!A?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=O}const C=new URL((r=A?.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in k&&k.signIn){const P=await k.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A?.signInWithSolana),{version:"1",domain:C.host,uri:C.href}),S?{statement:S}:null));let T;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")T=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)T=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in T&&"signature"in T&&(typeof T.signedMessage=="string"||T.signedMessage instanceof Uint8Array)&&T.signature instanceof Uint8Array)j=typeof T.signedMessage=="string"?T.signedMessage:new TextDecoder().decode(T.signedMessage),N=T.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in k)||typeof k.signMessage!="function"||!("publicKey"in k)||typeof k!="object"||!k.publicKey||!("toBase58"in k.publicKey)||typeof k.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");j=[`${C.host} wants you to sign in with your Solana account:`,k.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${C.href}`,`Issued At: ${(s=(n=A?.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((o=A?.signInWithSolana)===null||o===void 0)&&o.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((u=A?.signInWithSolana)===null||u===void 0)&&u.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((d=A?.signInWithSolana)===null||d===void 0)&&d.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((h=A?.signInWithSolana)===null||h===void 0)&&h.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((m=A?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((x=(g=A?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||x===void 0)&&x.length?["Resources",...A.signInWithSolana.resources.map(T=>`- ${T}`)]:[]].join(`
`);const P=await k.signMessage(new TextEncoder().encode(j),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=P}}try{const{data:_,error:O}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:j,signature:p4(N)},!((v=t.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(b=t.options)===null||b===void 0?void 0:b.captchaToken}}:null),xform:ca});if(O)throw O;return!_||!_.session||!_.user?{data:{user:null,session:null},error:new ld}:(_.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),{data:Object.assign({},_),error:O})}catch(_){if(Re(_))return{data:{user:null,session:null},error:_};throw _}}async _exchangeCodeForSession(t){const r=await Ui(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:o,error:u}=await Be(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:ca});if(await ti(this.storage,`${this.storageKey}-code-verifier`),u)throw u;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new ld}:(o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:u})}catch(o){if(Re(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:o,nonce:u}=t,d=await Be(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:o,nonce:u,gotrue_meta_security:{captcha_token:r?.captchaToken}},xform:ca}),{data:h,error:m}=d;return m?{data:{user:null,session:null},error:m}:!h||!h.session||!h.user?{data:{user:null,session:null},error:new ld}:(h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",h.session)),{data:h,error:m})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,o,u;try{if("email"in t){const{email:d,options:h}=t;let m=null,g=null;this.flowType==="pkce"&&([m,g]=await nl(this.storage,this.storageKey));const{error:x}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:d,data:(r=h?.data)!==null&&r!==void 0?r:{},create_user:(n=h?.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},code_challenge:m,code_challenge_method:g},redirectTo:h?.emailRedirectTo});return{data:{user:null,session:null},error:x}}if("phone"in t){const{phone:d,options:h}=t,{data:m,error:g}=await Be(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:d,data:(s=h?.data)!==null&&s!==void 0?s:{},create_user:(o=h?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:h?.captchaToken},channel:(u=h?.channel)!==null&&u!==void 0?u:"sms"}});return{data:{user:null,session:null,messageId:m?.message_id},error:g}}throw new od("You must provide either an email or phone number.")}catch(d){if(Re(d))return{data:{user:null,session:null},error:d};throw d}}async verifyOtp(t){var r,n;try{let s,o;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,o=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:u,error:d}=await Be(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:ca});if(d)throw d;if(!u)throw new Error("An error occurred on token verification.");const h=u.session,m=u.user;return h?.access_token&&(await this._saveSession(h),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",h)),{data:{user:m,session:h},error:null}}catch(s){if(Re(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let o=null,u=null;return this.flowType==="pkce"&&([o,u]=await nl(this.storage,this.storageKey)),await Be(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:u}),headers:this.headers,xform:L4})}catch(o){if(Re(o))return{data:null,error:o};throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new ri;const{error:s}=await Be(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(Re(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:o}=t,{error:u}=await Be(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:u}}else if("phone"in t){const{phone:n,type:s,options:o}=t,{data:u,error:d}=await Be(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:u?.message_id},error:d}}throw new od("You must provide either an email or phone number and a type")}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await Ui(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<Eg:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const u=await Ui(this.userStorage,this.storageKey+"-user");u?.user?t.user=u.user:t.user=Tg()}if(this.storage.isServer&&t.user){let u=this.suppressGetSessionWarning;t=new Proxy(t,{get:(h,m,g)=>(!u&&m==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),u=!0,this.suppressGetSessionWarning=!0),Reflect.get(h,m,g))})}return{data:{session:t},error:null}}const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ii}):await this._useSession(async r=>{var n,s,o;const{data:u,error:d}=r;if(d)throw d;return!(!((n=u.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ri}:await Be(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=u.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:ii})})}catch(r){if(Re(r))return c4(r)&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:o}=n;if(o)throw o;if(!s.session)throw new ri;const u=s.session;let d=null,h=null;this.flowType==="pkce"&&t.email!=null&&([d,h]=await nl(this.storage,this.storageKey));const{data:m,error:g}=await Be(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r?.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:d,code_challenge_method:h}),jwt:u.access_token,xform:ii});if(g)throw g;return u.user=m.user,await this._saveSession(u),await this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}})}catch(n){if(Re(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new ri;const r=Date.now()/1e3;let n=r,s=!0,o=null;const{payload:u}=Cg(t.access_token);if(u.exp&&(n=u.exp,s=n<=r),s){const{session:d,error:h}=await this._callRefreshToken(t.refresh_token);if(h)return{data:{user:null,session:null},error:h};if(!d)return{data:{user:null,session:null},error:null};o=d}else{const{data:d,error:h}=await this._getUser(t.access_token);if(h)throw h;o={access_token:t.access_token,refresh_token:t.refresh_token,user:d.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(r){if(Re(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:u,error:d}=r;if(d)throw d;t=(n=u.session)!==null&&n!==void 0?n:void 0}if(!t?.refresh_token)throw new ri;const{session:s,error:o}=await this._callRefreshToken(t.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(Re(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!yn())throw new cd("No browser detected.");if(t.error||t.error_description||t.error_code)throw new cd(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new v1("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new cd("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new v1("No code detected.");const{data:S,error:A}=await this._exchangeCodeForSession(t.code);if(A)throw A;const k=new URL(window.location.href);return k.searchParams.delete("code"),window.history.replaceState(window.history.state,"",k.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:o,refresh_token:u,expires_in:d,expires_at:h,token_type:m}=t;if(!o||!d||!u||!m)throw new cd("No session defined in URL");const g=Math.round(Date.now()/1e3),x=parseInt(d);let v=g+x;h&&(v=parseInt(h));const b=v-g;b*1e3<=ol&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${b}s, should have been closer to ${x}s`);const j=v-x;g-j>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",j,v,g):g-j<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",j,v,g);const{data:N,error:_}=await this._getUser(o);if(_)throw _;const O={provider_token:n,provider_refresh_token:s,access_token:o,expires_in:x,expires_at:v,refresh_token:u,token_type:m,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:O,redirectType:t.type},error:null}}catch(n){if(Re(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await Ui(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{error:o};const u=(n=s.session)===null||n===void 0?void 0:n.access_token;if(u){const{error:d}=await this.admin.signOut(u,t);if(d&&!(o4(d)&&(d.status===404||d.status===401||d.status===403)))return{error:d}}return t!=="others"&&(await this._removeSession(),await ti(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=y4(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:o},error:u}=r;if(u)throw u;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",o)),this._debug("INITIAL_SESSION","callback id",t,"session",o)}catch(o){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",o),console.error(o)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await nl(this.storage,this.storageKey,!0));try{return await Be(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(o){if(Re(o))return{data:null,error:o};throw o}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(Re(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async o=>{var u,d,h,m,g;const{data:x,error:v}=o;if(v)throw v;const b=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(u=t.options)===null||u===void 0?void 0:u.redirectTo,scopes:(d=t.options)===null||d===void 0?void 0:d.scopes,queryParams:(h=t.options)===null||h===void 0?void 0:h.queryParams,skipBrowserRedirect:!0});return await Be(this.fetch,"GET",b,{headers:this.headers,jwt:(g=(m=x.session)===null||m===void 0?void 0:m.access_token)!==null&&g!==void 0?g:void 0})});if(s)throw s;return yn()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n?.url),{data:{provider:t.provider,url:n?.url},error:null}}catch(n){if(Re(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:u}=r;if(u)throw u;return await Be(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=o.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await N4(async s=>(s>0&&await j4(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Be(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:ca})),(s,o)=>{const u=200*Math.pow(2,s);return o&&kg(o)&&Date.now()+u-n<ol})}catch(n){if(this._debug(r,"error",n),Re(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),yn()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await Ui(this.storage,this.storageKey);if(s&&this.userStorage){let u=await Ui(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!u&&(u={user:s.user},await cl(this.userStorage,this.storageKey+"-user",u)),s.user=(t=u?.user)!==null&&t!==void 0?t:Tg()}else if(s&&!s.user&&!s.user){const u=await Ui(this.storage,this.storageKey+"-user");u&&u?.user?(s.user=u.user,await ti(this.storage,this.storageKey+"-user"),await cl(this.storage,this.storageKey,s)):s.user=Tg()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const o=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Eg;if(this._debug(n,`session has${o?"":" not"} expired with margin of ${Eg}s`),o){if(this.autoRefreshToken&&s.refresh_token){const{error:u}=await this._callRefreshToken(s.refresh_token);u&&(console.error(u),kg(u)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",u),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:u,error:d}=await this._getUser(s.access_token);!d&&u?.user?(s.user=u.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(u){console.error("Error getting user data:",u),this._debug(n,"error getting user data, skipping SIGNED_IN notification",u)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new ri;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Nf;const{data:o,error:u}=await this._refreshAccessToken(t);if(u)throw u;if(!o.session)throw new ri;await this._saveSession(o.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);const d={session:o.session,error:null};return this.refreshingDeferred.resolve(d),d}catch(o){if(this._debug(s,"error",o),Re(o)){const u={session:null,error:o};return kg(o)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(u),u}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const o=[],u=Array.from(this.stateChangeEmitters.values()).map(async d=>{try{await d.callback(t,r)}catch(h){o.push(h)}});if(await Promise.all(u),o.length>0){for(let d=0;d<o.length;d+=1)console.error(o[d]);throw o[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await cl(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const o=N1(s);await cl(this.storage,this.storageKey,o)}else{const s=N1(r);await cl(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await ti(this.storage,this.storageKey),await ti(this.storage,this.storageKey+"-code-verifier"),await ti(this.storage,this.storageKey+"-user"),this.userStorage&&await ti(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&yn()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),ol);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/ol);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${ol}ms, refresh threshold is ${bx} ticks`),s<=bx&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof gO)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!yn()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n?.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[o,u]=await nl(this.storage,this.storageKey),d=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(u)}`});s.push(d.toString())}if(n?.queryParams){const o=new URLSearchParams(n.queryParams);s.push(o.toString())}return n?.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Be(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:o,error:u}=r;if(u)return{data:null,error:u};const d=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:h,error:m}=await Be(this.fetch,"POST",`${this.url}/factors`,{body:d,headers:this.headers,jwt:(n=o?.session)===null||n===void 0?void 0:n.access_token});return m?{data:null,error:m}:(t.factorType==="totp"&&(!((s=h?.totp)===null||s===void 0)&&s.qr_code)&&(h.totp.qr_code=`data:image/svg+xml;utf-8,${h.totp.qr_code}`),{data:h,error:null})})}catch(r){if(Re(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;if(o)return{data:null,error:o};const{data:u,error:d}=await Be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+u.expires_in},u)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",u),{data:u,error:d})})}catch(r){if(Re(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:o}=r;return o?{data:null,error:o}:await Be(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s?.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(Re(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=t?.factors||[],s=n.filter(u=>u.factor_type==="totp"&&u.status==="verified"),o=n.filter(u=>u.factor_type==="phone"&&u.status==="verified");return{data:{all:n,totp:s,phone:o},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:o}=t;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=Cg(s.access_token);let d=null;u.aal&&(d=u.aal);let h=d;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(x=>x.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(h="aal2");const g=u.amr||[];return{data:{currentLevel:d,nextLevel:h,currentAuthenticationMethods:g},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(d=>d.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(d=>d.kid===t),n&&this.jwks_cached_at+s4>s)return n;const{data:o,error:u}=await Be(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(u)throw u;return!o.keys||o.keys.length===0||(this.jwks=o,this.jwks_cached_at=s,n=o.keys.find(d=>d.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:b,error:j}=await this.getSession();if(j||!b.session)return{data:null,error:j};n=b.session.access_token}const{header:s,payload:o,signature:u,raw:{header:d,payload:h}}=Cg(n);r?.allowExpired||C4(o.exp);const m=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r?.keys?{keys:r.keys}:r?.jwks);if(!m){const{error:b}=await this.getUser(n);if(b)throw b;return{data:{claims:o,header:s,signature:u},error:null}}const g=T4(s.alg),x=await crypto.subtle.importKey("jwk",m,g,!0,["verify"]);if(!await crypto.subtle.verify(g,x,u,x4(`${d}.${h}`)))throw new Nx("Invalid JWT signature");return{data:{claims:o,header:s,signature:u},error:null}}catch(n){if(Re(n))return{data:null,error:n};throw n}}}ac.nextInstanceID=0;const V4=ac;class F4 extends V4{constructor(t){super(t)}}var W4=function(e,t,r,n){function s(o){return o instanceof r?o:new r(function(u){u(o)})}return new(r||(r=Promise))(function(o,u){function d(g){try{m(n.next(g))}catch(x){u(x)}}function h(g){try{m(n.throw(g))}catch(x){u(x)}}function m(g){g.done?o(g.value):s(g.value).then(d,h)}m((n=n.apply(e,t||[])).next())})};class X4{constructor(t,r,n){var s,o,u;if(this.supabaseUrl=t,this.supabaseKey=r,!t)throw new Error("supabaseUrl is required.");if(!r)throw new Error("supabaseKey is required.");const d=e4(t),h=new URL(d);this.realtimeUrl=new URL("realtime/v1",h),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",h),this.storageUrl=new URL("storage/v1",h),this.functionsUrl=new URL("functions/v1",h);const m=`sb-${h.hostname.split(".")[0]}-auth-token`,g={db:GM,realtime:FM,auth:Object.assign(Object.assign({},VM),{storageKey:m}),global:YM},x=t4(n??{},g);this.storageKey=(s=x.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(o=x.global.headers)!==null&&o!==void 0?o:{},x.accessToken?(this.accessToken=x.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((u=x.auth)!==null&&u!==void 0?u:{},this.headers,x.global.fetch),this.fetch=ZM(r,this._getAccessToken.bind(this),x.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},x.realtime)),this.rest=new fM(new URL("rest/v1",h).href,{headers:this.headers,schema:x.db.schema,fetch:this.fetch}),this.storage=new BM(this.storageUrl.href,this.headers,this.fetch,n?.storage),x.accessToken||this._listenForAuthEvents()}get functions(){return new rM(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return W4(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,storageKey:u,flowType:d,lock:h,debug:m},g,x){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new F4({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),g),storageKey:u,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:o,flowType:d,lock:h,debug:m,fetch:x,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new kM(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n?.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Q4=(e,t,r)=>new X4(e,t,r);function Z4(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}Z4()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const J4="https://isqdmjyxmbkpoqyznsgd.supabase.co",e6="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImlzcWRtanl4bWJrcG9xeXpuc2dkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTcwMDc0NjgsImV4cCI6MjA3MjU4MzQ2OH0.BGfohmNtDi27CWkQqgZ3EA2PilmbbHW6M0i-n6Bd40w",pe=Q4(J4,e6,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),t6=async e=>{try{const{data:t}=await pe.from("users").select("id").eq("phone",e.phone).single();if(t)throw new Error("이미 등록된 전화번호입니다.");const r=e.password,n=crypto.randomUUID(),{data:s,error:o}=await pe.from("users").insert({id:n,name:e.name,phone:e.phone,password:r,status:"pending",role:"admin"}).select().single();if(o)throw console.error("회원가입 오류:",o),o;return s}catch(t){throw console.error("회원가입 실패:",t),t}},r6=async(e,t)=>{try{const{data:r,error:n}=await pe.from("users").select("*").eq("role","admin");if(n)throw new Error("사용자 조회에 실패했습니다.");if(!r||r.length===0)throw new Error("등록된 사장님이 없습니다.");const s=r.find(o=>o.password===t);if(!s)throw new Error("비밀번호가 올바르지 않습니다.");if(s.status!=="approved")throw new Error("아직 승인되지 않은 계정입니다. 관리자에게 문의하세요.");return s}catch(r){throw console.error("로그인 실패:",r),r}},n6=async e=>{try{console.log("🔍 슈퍼 어드민 로그인 시도...");const{data:t,error:r}=await pe.from("users").select("*").eq("role","super_admin");if(console.log("📊 슈퍼 어드민 조회 결과:",{superAdmins:t,error:r}),r)throw console.error("❌ 데이터베이스 오류:",r),new Error(`데이터베이스 오류: ${r.message}`);if(!t||t.length===0)throw console.error("❌ 슈퍼 어드민 계정 없음"),new Error("슈퍼 어드민 계정을 찾을 수 없습니다. 데이터베이스에 계정을 생성해주세요.");const n=t[0];if(console.log("✅ 슈퍼 어드민 계정 발견:",n),e!=="admin123")throw console.error("❌ 비밀번호 불일치"),new Error("비밀번호가 올바르지 않습니다.");return console.log("✅ 로그인 성공"),n}catch(t){throw console.error("슈퍼 어드민 로그인 실패:",t),t}},a6=async()=>{try{const{data:e,error:t}=await pe.from("users").select("*").eq("role","admin").order("created_at",{ascending:!1});if(t)throw console.error("사용자 조회 오류:",t),t;return!e||e.length===0?[]:await Promise.all(e.map(async n=>{try{const{data:s}=await pe.from("user_stores").select(`
              store_id,
              stores (
                name
              )
            `).eq("user_id",n.id).limit(1);return{...n,store_name:s?.[0]?.stores?.name||null}}catch(s){return console.error(`사용자 ${n.id}의 매장 정보 조회 실패:`,s),{...n,store_name:null}}}))}catch(e){throw console.error("사용자 조회 실패:",e),e}},i6=async(e,t)=>{try{const{error:r}=await pe.from("users").update({status:"approved",updated_at:new Date().toISOString()}).eq("id",e);if(r)throw r;const{error:n}=await pe.from("user_stores").insert({user_id:e,store_id:t,role:"owner",approved_at:new Date().toISOString()});if(n)throw n;return{success:!0}}catch(r){throw console.error("사용자 승인 실패:",r),r}},E1=async e=>{try{const{error:t}=await pe.from("users").update({status:"rejected",updated_at:new Date().toISOString()}).eq("id",e);if(t)throw t;return{success:!0}}catch(t){throw console.error("사용자 거부 실패:",t),t}},xO=w.createContext(void 0),s6=({children:e})=>{const[t,r]=w.useState(null),[n,s]=w.useState(!0);w.useEffect(()=>{const m=localStorage.getItem("user");if(m)try{r(JSON.parse(m))}catch(g){console.error("사용자 정보 로드 실패:",g),localStorage.removeItem("user")}s(!1)},[]);const h={user:t,loading:n,login:async(m,g)=>{try{s(!0);const x=await r6(m,g);r(x),localStorage.setItem("user",JSON.stringify(x))}catch(x){throw console.error("로그인 실패:",x),x}finally{s(!1)}},loginSuperAdmin:async m=>{try{s(!0);const g=await n6(m);r(g),localStorage.setItem("user",JSON.stringify(g))}catch(g){throw console.error("슈퍼 어드민 로그인 실패:",g),g}finally{s(!1)}},logout:()=>{r(null),localStorage.removeItem("user")}};return i.jsx(xO.Provider,{value:h,children:e})},ir=()=>{const e=w.useContext(xO);if(e===void 0)throw new Error("useNewAuth must be used within an AuthProvider");return e};function br(){vt();const{user:e}=ir();return i.jsx("div",{className:"bg-white sticky top-0 z-50",children:i.jsx("div",{className:"px-4 py-3",children:i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:"https://static.readdy.ai/image/912b0945f01d9fdb4ff4544659653c90/2d4890bd82abce85d430bd82d04df8d6.png",alt:"페이톡 로고",className:"w-12 h-12"})})})})}function On(){return i.jsx("footer",{className:"bg-gray-50 py-6 mt-6 no-print",children:i.jsxs("div",{className:"px-4 max-w-6xl mx-auto",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("div",{className:"mb-3",children:i.jsx("h3",{className:"text-lg font-bold text-orange-500",style:{fontFamily:"Pacifico, serif"},children:"페이톡"})}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"연락처"}),i.jsxs("div",{className:"space-y-1 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-phone-line text-orange-500"}),i.jsx("span",{children:"02-1234-5678"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-mail-line text-orange-500"}),i.jsx("span",{children:"mnkijo424@gmail.com"})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-time-line text-orange-500"}),i.jsx("span",{children:"평일 09:00 - 18:00"})]})]})]})]}),i.jsx("div",{className:"border-t border-gray-200 pt-4",children:i.jsx("div",{className:"text-center",children:i.jsxs("div",{className:"text-gray-600 text-sm",children:[i.jsx("p",{children:"© 2025 페이톡. 모든 권리 보유."}),i.jsx("p",{className:"mt-1",children:"사업자등록번호: 227-09-52974 | 대표: 조광현"})]})})})]})})}const pO=async()=>{try{const{data:e,error:t}=await pe.from("inquiries").select("*").order("created_at",{ascending:!1});if(t)throw console.error("문의 조회 오류:",t),t;return e||[]}catch(e){throw console.error("문의 조회 실패:",e),e}},l6=async e=>{try{const{data:t,error:r}=await pe.from("inquiries").insert({name:e.name,phone:e.phone,store_name:e.store_name,status:"미확인",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select().single();if(r)throw console.error("문의 생성 오류:",r),r.code==="42501"?(console.log("RLS 정책 오류 - Supabase에서 다음 SQL을 실행해주세요:"),console.log('DROP POLICY IF EXISTS "Anyone can create inquiries" ON public.inquiries;'),console.log('CREATE POLICY "Allow anonymous inquiry creation" ON public.inquiries FOR INSERT WITH CHECK (true);'),new Error("문의 생성 권한이 없습니다. 관리자에게 문의하세요.")):r;return t}catch(t){throw console.error("문의 생성 실패:",t),t}},o6=async(e,t)=>{try{const{error:r}=await pe.from("inquiries").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error("문의 상태 업데이트 오류:",r),r}catch(r){throw console.error("문의 상태 업데이트 실패:",r),r}},c6=async e=>{try{const{error:t}=await pe.from("inquiries").delete().eq("id",e);if(t)throw console.error("문의 삭제 오류:",t),t}catch(t){throw console.error("문의 삭제 실패:",t),t}},vO=async()=>{try{const{count:e,error:t}=await pe.from("stores").select("*",{count:"exact",head:!0});if(t)throw console.error("매장 수 조회 오류:",t),t;const{count:r,error:n}=await pe.from("orders").select("*",{count:"exact",head:!0});if(n)throw console.error("주문 수 조회 오류:",n),n;return{totalStores:e||0,totalOrders:r||0}}catch(e){return console.error("통계 데이터 조회 실패:",e),{totalStores:0,totalOrders:0}}},u6=(e,t)=>{const r=window.location.origin;let n=r;return e==="admin"?n=`${r}/admin-dashboard`:e==="menu"&&t&&(n=`${r}/menu/${t}`),{name:e==="admin"?"PayTalk 관리자":"PayTalk 메뉴",short_name:e==="admin"?"관리자":"메뉴",description:e==="admin"?"PayTalk 매장 관리 시스템":"PayTalk 반찬 주문 시스템",start_url:n,display:"standalone",background_color:"#ffffff",theme_color:"#f97316",orientation:"portrait",icons:[{src:"/logo.png",sizes:"192x192",type:"image/png",purpose:"any maskable"},{src:"/logo.png",sizes:"512x512",type:"image/png",purpose:"any maskable"}],categories:["food","shopping","lifestyle"],lang:"ko",dir:"ltr"}},k1=(e,t)=>{const r=u6(e,t),n=document.querySelector('link[rel="manifest"]');n&&n.remove();const s=document.createElement("link");return s.rel="manifest",s.href=`data:application/json,${encodeURIComponent(JSON.stringify(r))}`,document.head.appendChild(s),r};function d6(){const e=vt(),[t]=HP(),[r,n]=w.useState(!1),[s,o]=w.useState({name:"",phone:"",storeName:""}),[u,d]=w.useState({totalStores:0,totalOrders:0}),[h,m]=w.useState(!0);w.useEffect(()=>{x(),g()},[]);const g=()=>{const b=t.get("redirect"),j=t.get("storeId");b==="admin"?(k1("admin"),e("/")):b==="menu"&&j&&(k1("menu",j),e(`/menu/${j}`))},x=async()=>{try{m(!0);const b=await vO();d(b)}catch(b){console.error("통계 로드 실패:",b)}finally{m(!1)}},v=async b=>{b.preventDefault();try{await l6({name:s.name,phone:s.phone,store_name:s.storeName}),alert("문의가 성공적으로 제출되었습니다. 빠른 시일 내에 연락드리겠습니다."),o({name:"",phone:"",storeName:""}),n(!1)}catch(j){console.error("문의 제출 오류:",j),alert("문의 제출에 실패했습니다. 다시 시도해주세요.")}};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(br,{}),i.jsx("section",{className:"bg-gradient-to-br from-orange-500 to-orange-600 text-white py-20",children:i.jsxs("div",{className:"container mx-auto px-4 text-center",children:[i.jsx("h1",{className:"text-5xl font-bold mb-6",children:"페이톡"}),i.jsx("p",{className:"text-xl mb-12 max-w-2xl mx-auto",children:"반찬 사장님들을 위한 스마트한 주문 관리 시스템"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-4 sm:p-6",children:[i.jsx("div",{className:"text-2xl sm:text-4xl font-bold mb-2",children:h?i.jsx("div",{className:"animate-pulse bg-white bg-opacity-30 h-8 sm:h-10 w-16 sm:w-20 mx-auto rounded"}):u.totalStores.toLocaleString()}),i.jsx("div",{className:"text-sm sm:text-lg opacity-90",children:"가입된 매장"})]}),i.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-4 sm:p-6",children:[i.jsx("div",{className:"text-2xl sm:text-4xl font-bold mb-2",children:h?i.jsx("div",{className:"animate-pulse bg-white bg-opacity-30 h-8 sm:h-10 w-16 sm:w-20 mx-auto rounded"}):u.totalOrders.toLocaleString()}),i.jsx("div",{className:"text-sm sm:text-lg opacity-90",children:"총 주문 수"})]}),i.jsxs("div",{className:"bg-white bg-opacity-10 backdrop-blur-sm rounded-xl p-4 sm:p-6 sm:col-span-2 lg:col-span-1",children:[i.jsx("div",{className:"text-2xl sm:text-4xl font-bold mb-2 text-green-300",children:"0원"}),i.jsx("div",{className:"text-sm sm:text-lg opacity-90",children:"수수료"})]})]})]})}),i.jsx("section",{className:"py-8 bg-gray-50",children:i.jsx("div",{className:"container mx-auto px-4 space-y-6"})}),i.jsx("section",{className:"py-20",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-3xl font-bold text-center text-gray-800 mb-12",children:"페이톡만의 특별한 장점"}),i.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-smartphone-line text-2xl text-orange-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"간편한 주문 관리"}),i.jsx("p",{className:"text-gray-600",children:"직관적인 인터페이스로 주문을 쉽게 관리하고 상태를 실시간으로 추적할 수 있습니다."})]}),i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-bar-chart-line text-2xl text-orange-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"상세한 통계"}),i.jsx("p",{className:"text-gray-600",children:"매출, 주문 현황, 인기 메뉴 등 사장님에게 필요한 모든 데이터를 한눈에 확인하세요."})]}),i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-2xl text-green-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"수수료 0원"}),i.jsx("p",{className:"text-gray-600",children:"배달의민족, 단골앱과 달리 수수료가 전혀 없습니다. 모든 수익이 사장님의 것입니다."})]}),i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-shield-check-line text-2xl text-blue-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"직접 고객 관리"}),i.jsx("p",{className:"text-gray-600",children:"중간 업체 없이 고객과 직접 소통하여 더 나은 서비스와 관계를 구축할 수 있습니다."})]}),i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-purple-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-settings-3-line text-2xl text-purple-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"완전한 자율성"}),i.jsx("p",{className:"text-gray-600",children:"메뉴, 가격, 운영시간을 자유롭게 설정하고 언제든지 변경할 수 있습니다."})]}),i.jsxs("div",{className:"text-center p-6",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-customer-service-line text-2xl text-red-500"})}),i.jsx("h3",{className:"text-xl font-semibold mb-3",children:"24/7 고객 지원"}),i.jsx("p",{className:"text-gray-600",children:"언제든지 문의사항이 있으시면 연락주세요. 빠르고 친절한 지원을 제공합니다."})]})]})]})}),i.jsx("section",{className:"bg-gray-800 text-white py-20",children:i.jsxs("div",{className:"container mx-auto px-4 text-center",children:[i.jsx("h2",{className:"text-3xl font-bold mb-6",children:"지금 시작하세요"}),i.jsx("p",{className:"text-xl mb-8 max-w-2xl mx-auto",children:"페이톡과 함께 반찬 사업을 더욱 효율적으로 관리해보세요."}),i.jsx("button",{onClick:()=>n(!0),className:"bg-orange-500 hover:bg-orange-600 text-white px-8 py-3 rounded-lg font-semibold transition-colors",children:"매장 문의하기"})]})}),r&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-md w-full",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"매장 개설 문의"}),i.jsx("button",{onClick:()=>n(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("i",{className:"ri-close-line text-xl"})})]}),i.jsxs("form",{onSubmit:v,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"이름 *"}),i.jsx("input",{type:"text",required:!0,value:s.name,onChange:b=>o({...s,name:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"이름을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호 *"}),i.jsx("input",{type:"tel",required:!0,value:s.phone,onChange:b=>o({...s,phone:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"010-1234-5678"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가게 이름 *"}),i.jsx("input",{type:"text",required:!0,value:s.storeName,onChange:b=>o({...s,storeName:b.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"가게 이름을 입력하세요"})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>n(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"문의 제출"})]})]})]})}),i.jsx("div",{className:"w-full bg-white border-t border-gray-200 py-4",children:i.jsx("div",{className:"max-w-4xl mx-auto px-4",children:i.jsxs("button",{onClick:()=>{const b=prompt("매장 ID를 입력해주세요:");b&&e(`/order-status/${b}`)},className:"group w-full inline-flex items-center justify-center gap-3 px-6 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold text-base rounded-2xl shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-300 ease-out",children:[i.jsx("div",{className:"w-6 h-6 bg-white bg-opacity-20 rounded-full flex items-center justify-center group-hover:bg-opacity-30 transition-all duration-300",children:i.jsx("i",{className:"ri-shopping-bag-3-line text-lg"})}),i.jsx("span",{children:"내 주문 보러가기"})]})})}),i.jsx(On,{})]})}function C1(){const e=vt(),{login:t}=ir(),[r,n]=w.useState(!0),[s,o]=w.useState(!1),[u,d]=w.useState(""),[h,m]=w.useState(""),[g,x]=w.useState({password:""}),[v,b]=w.useState({name:"",phone:"",password:"",confirmPassword:""}),j=async _=>{_.preventDefault(),o(!0),d("");try{await t("",g.password),e("/admin-dashboard")}catch(O){d(O.message||"로그인에 실패했습니다.")}finally{o(!1)}},N=async _=>{if(_.preventDefault(),o(!0),d(""),m(""),v.password!==v.confirmPassword){d("비밀번호가 일치하지 않습니다."),o(!1);return}if(v.password.length!==4){d("비밀번호는 4자리 숫자여야 합니다."),o(!1);return}if(!/^\d{4}$/.test(v.password)){d("비밀번호는 4자리 숫자만 입력해주세요."),o(!1);return}try{await t6({name:v.name,phone:v.phone,password:v.password}),m("회원가입이 완료되었습니다. 관리자 승인 후 로그인할 수 있습니다."),b({name:"",phone:"",password:"",confirmPassword:""}),setTimeout(()=>{n(!0),m("")},3e3)}catch(O){d(O.message||"회원가입에 실패했습니다.")}finally{o(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-white",children:[i.jsx(br,{}),i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] px-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-orange-500 to-orange-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:i.jsx("span",{className:"text-white font-bold text-2xl",children:"P"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"PayTalk"}),i.jsx("p",{className:"text-gray-500",children:r?"사장님 로그인":"사장님 회원가입"})]}),u&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:u}),h&&i.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-6",children:h}),r?i.jsxs("form",{onSubmit:j,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),i.jsx("input",{type:"password",value:g.password,onChange:_=>x({...g,password:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"4자리 숫자 비밀번호를 입력하세요",maxLength:4,required:!0})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50",children:s?"로그인 중...":"로그인"})]}):i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"이름"}),i.jsx("input",{type:"text",value:v.name,onChange:_=>b({...v,name:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"이름을 입력하세요",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"전화번호"}),i.jsx("input",{type:"tel",value:v.phone,onChange:_=>{const O=_.target.value.replace(/[^0-9]/g,"");b({...v,phone:O})},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"01012345678",maxLength:11,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호 (4자리 숫자)"}),i.jsx("input",{type:"password",value:v.password,onChange:_=>{const O=_.target.value.replace(/[^0-9]/g,"");b({...v,password:O})},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"4자리 숫자 비밀번호를 입력하세요",maxLength:4,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호 확인"}),i.jsx("input",{type:"password",value:v.confirmPassword,onChange:_=>{const O=_.target.value.replace(/[^0-9]/g,"");b({...v,confirmPassword:O})},className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent",placeholder:"4자리 숫자 비밀번호를 다시 입력하세요",maxLength:4,required:!0})]}),i.jsx("button",{type:"submit",disabled:s,className:"w-full bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50",children:s?"회원가입 중...":"회원가입"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{onClick:()=>{n(!r),d(""),m("")},className:"text-orange-600 hover:text-orange-700 font-medium",children:r?"아직 계정이 없으신가요? 회원가입":"이미 계정이 있으신가요? 로그인"})})]})})}),i.jsx(On,{})]})}function f6(){const e=vt(),{user:t,loginSuperAdmin:r,loading:n}=ir(),[s,o]=w.useState(""),[u,d]=w.useState(!1),[h,m]=w.useState(""),g=async x=>{x.preventDefault(),d(!0),m("");try{await r(s),e("/super-admin")}catch(v){m(v.message||"로그인에 실패했습니다.")}finally{d(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-orange-50 to-white",children:[i.jsx(br,{}),i.jsx("div",{className:"flex items-center justify-center min-h-[calc(100vh-200px)] px-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 border border-gray-100",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500 to-red-600 rounded-2xl flex items-center justify-center mx-auto mb-4 shadow-lg",children:i.jsx("i",{className:"ri-shield-keyhole-line text-white text-2xl"})}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:"슈퍼 어드민"}),t?i.jsxs("div",{className:"text-green-600 font-semibold",children:[t.name,"님 반갑습니다! 🎉"]}):i.jsx("p",{className:"text-gray-500",children:"관리자 로그인"})]}),h&&i.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-6",children:h}),t?i.jsx("div",{className:"space-y-6",children:i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"text-gray-600 mb-4",children:"슈퍼 어드민 페이지로 이동하세요"}),i.jsx("button",{onClick:()=>e("/super-admin"),className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl",children:"슈퍼 어드민 페이지로 이동"})]})}):i.jsxs("form",{onSubmit:g,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"비밀번호"}),i.jsx("input",{type:"password",value:s,onChange:x=>o(x.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-red-500 focus:border-transparent",placeholder:"관리자 비밀번호를 입력하세요",required:!0})]}),i.jsx("button",{type:"submit",disabled:u,className:"w-full bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white py-3 px-4 rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50",children:u?"로그인 중...":"로그인"})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("p",{className:"text-sm text-gray-500",children:"슈퍼 어드민만 접근할 수 있는 페이지입니다."})})]})})}),i.jsx(On,{})]})}function h6(){const e=vt();return w.useEffect(()=>{(async()=>{try{console.log("🔄 OAuth 콜백 처리 시작");const{data:r,error:n}=await pe.auth.getSession();if(n){console.error("❌ 세션 확인 오류:",n),e("/");return}if(r.session){console.log("✅ 로그인 성공:",r.session.user.email);try{const{data:s}=await pe.from("users").select("role").eq("id",r.session.user.id).single();console.log("👤 사용자 역할:",s?.role),s?.role==="admin"?(console.log("🏪 관리자 - admin-dashboard로 이동"),e("/admin-dashboard")):(console.log("👥 일반 사용자 - admin-dashboard로 이동"),e("/admin-dashboard"))}catch{console.log("⚠️ 프로필 확인 실패, 기본적으로 admin-dashboard로 이동"),e("/admin-dashboard")}}else console.log("❌ 세션이 없음, 홈페이지로 이동"),e("/")}catch(r){console.error("❌ 인증 콜백 처리 오류:",r),e("/")}})()},[e]),i.jsx("div",{className:"min-h-screen bg-gradient-to-b from-orange-50 to-white flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로그인 처리 중..."})]})})}const m6=async(e,t)=>{try{console.log("OneSignal Player ID 저장 시작:",{userId:t,playerId:e});const{data:r,error:n}=await pe.from("user_push_subscriptions").upsert({user_id:t,onesignal_player_id:e,is_active:!0,created_at:new Date().toISOString(),updated_at:new Date().toISOString()}).select();return console.log("OneSignal Player ID 저장 응답:",{data:r,error:n}),n?(console.error("❌ OneSignal Player ID 저장 실패:",n),!1):(console.log("✅ OneSignal Player ID 저장 성공:",r),!0)}catch(r){return console.error("OneSignal Player ID 저장 실패:",r),!1}},g6=(e,t)=>({title:"새 주문 접수",body:`${e}에 새로운 주문이 들어왔습니다! (주문번호: ${t})`}),x6=async e=>{const{data:t,error:r}=await pe.from("orders").insert({user_id:e.user_id,store_id:e.store_id,order_type:e.order_type,delivery_address:e.delivery_address,delivery_time:e.delivery_time,pickup_time:e.pickup_time,special_requests:e.special_requests,depositor_name:e.depositor_name,customer_name:e.customer_name,customer_phone:e.customer_phone,customer_address:e.customer_address,subtotal:e.subtotal,total:e.total,status:"입금대기"}).select().single();if(r)throw console.error("주문 생성 오류:",r),console.error("주문 데이터:",e),new Error(`주문 생성 실패: ${r.message} (코드: ${r.code})`);const n=e.items.map(o=>({order_id:t.id,menu_id:o.menu_id,quantity:o.quantity,price:o.price})),{error:s}=await pe.from("order_items").insert(n);if(s)throw console.error("주문 아이템 생성 오류:",s),console.error("주문 아이템 데이터:",n),new Error(`주문 아이템 생성 실패: ${s.message} (코드: ${s.code})`);if(e.daily_menu_data)try{const o=e.daily_menu_data.items.map(d=>({daily_menu_id:e.daily_menu_data.daily_menu_id,order_id:t.id,menu_id:d.menuId,quantity:d.quantity})),{error:u}=await pe.from("daily_menu_orders").insert(o);if(u)console.error("일일 메뉴 주문 데이터 저장 오류:",u);else{console.log("일일 메뉴 주문 데이터 저장 성공");try{for(const d of e.daily_menu_data.items){const{data:h,error:m}=await pe.from("daily_menu_items").select("id, current_quantity").eq("daily_menu_id",e.daily_menu_data.daily_menu_id).eq("menu_id",d.menuId).single();if(m||!h){console.error(`일일메뉴 아이템 조회 실패 (menu_id: ${d.menuId}):`,m);continue}const g=Math.max(0,h.current_quantity-d.quantity),x=g>0,{error:v}=await pe.from("daily_menu_items").update({current_quantity:g,is_available:x}).eq("id",h.id);v?console.error(`일일메뉴 아이템 수량 차감 실패 (item_id: ${h.id}):`,v):console.log(`일일메뉴 아이템 수량 차감 성공: ${d.menuId} - ${d.quantity}개 차감`)}}catch(d){console.error("일일메뉴 수량 차감 중 오류:",d)}}}catch(o){console.error("일일 메뉴 주문 데이터 저장 중 오류:",o)}try{const[o,u]=await Promise.all([pe.from("stores").select("name, phone, bank_account, account_holder, owner_id").eq("id",e.store_id).single(),pe.from("menus").select("name").in("id",e.items.map(d=>d.menu_id))]);if(o.data&&u.data){const d=e.items.map(h=>`${u.data.find(g=>g.id===h.menu_id)?.name||"메뉴"} x${h.quantity}`).join(", ");if(console.log("고객 알림은 발송하지 않습니다. 사장님에게만 알림을 발송합니다."),o.data.owner_id){const h=g6(o.data.name,t.id);console.log("=== 사장님 푸시 알림 발송 시작 ==="),console.log("사장님 정보:",{ownerId:o.data.owner_id,storeName:o.data.name,orderId:t.id,notification:h});try{console.log("사장님에게 푸시 알림 발송 시도...");const{data:m,error:g}=await pe.functions.invoke("send-push-notification",{body:{userId:o.data.owner_id,title:h.title,body:h.body,data:{orderId:t.id,type:"new_order"}}});g?(console.error("❌ 서버사이드 푸시 알림 발송 실패:",g),console.log("ℹ️ 사장님이 PWA를 설치하고 푸시 알림을 활성화해야 합니다")):console.log("✅ 서버사이드 푸시 알림 발송 성공:",m)}catch(m){console.error("사장님 푸시 알림 발송 중 오류:",m)}console.log("=== 사장님 푸시 알림 발송 완료 ===")}else console.warn("⚠️ 매장에 owner_id가 설정되지 않음 - 푸시 알림을 발송할 수 없습니다:",o.data),console.log("ℹ️ 주문은 정상적으로 생성되었습니다. 매장 관리자에게 연락하여 owner_id를 설정해주세요.")}}catch(o){console.error("알림톡 발송 오류:",o)}return t},xl=async e=>{const{data:t,error:r}=await pe.from("orders").select("*").eq("store_id",e).order("created_at",{ascending:!1});if(r)throw console.error("매장 주문 목록 가져오기 오류:",r),r;return await Promise.all((t||[]).map(async s=>{const{data:o,error:u}=await pe.from("order_items").select(`
          *,
          menus (
            id,
            name,
            price
          )
        `).eq("order_id",s.id);u&&console.error("주문 아이템 가져오기 오류:",u);const{data:d,error:h}=await pe.from("daily_menu_orders").select(`
          *,
          daily_menus (
            id,
            menu_date,
            title
          ),
          menus (
            id,
            name,
            price
          )
        `).eq("order_id",s.id);return h&&console.error("일일 메뉴 주문 가져오기 오류:",h),{...s,order_items:o||[],daily_menu_orders:d||[]}}))},Ap=async(e,t)=>{console.log("주문 상태 업데이트 시작:",{orderId:e,status:t});const{data:r,error:n}=await pe.from("orders").select("id, status, store_id").eq("id",e).single();if(n)throw console.error("주문 존재 확인 오류:",n),new Error(`주문을 찾을 수 없습니다: ${n.message}`);console.log("기존 주문 정보:",r);const{data:{user:s},error:o}=await pe.auth.getUser();o?console.error("사용자 정보 확인 오류:",o):console.log("현재 사용자:",s?.id,s?.email);const{data:u,error:d}=await pe.from("orders").update({status:t,updated_at:new Date().toISOString()}).eq("id",e).select(`
      *,
      stores (
        name,
        phone
      ),
      order_items (
        quantity,
        price,
        menus (
          name
        )
      )
    `).single();if(d)throw console.error("주문 상태 업데이트 오류:",d),console.error("주문 ID:",e),console.error("새 상태:",t),console.error("에러 상세:",d.message,d.details,d.hint),console.error("에러 코드:",d.code),d;return console.log("주문 상태 업데이트 성공:",{orderId:e,status:t,data:u}),window.dispatchEvent(new CustomEvent("orderStatusChanged",{detail:{orderId:e,status:t,updatedOrder:u}})),u},yO=async e=>{const{data:t,error:r}=await pe.from("delivery_areas").select("*").eq("store_id",e).eq("is_active",!0).order("area_name");if(r)throw console.error("배달지역 조회 오류:",r),r;return t||[]},p6=async(e,t,r)=>{console.log("🔍 createDeliveryArea 호출:",{storeId:e,areaName:t,deliveryFee:r}),console.log("⚠️ 권한 확인을 임시로 비활성화했습니다 (테스트용)");const{data:n,error:s}=await pe.from("delivery_areas").insert({store_id:e,area_name:t,delivery_fee:r,is_active:!0}).select().single();if(s)throw console.error("❌ 배달지역 생성 오류:",s),s;return console.log("✅ 배달지역 생성 성공:",n),n},v6=async(e,t,r)=>{const{data:n,error:s}=await pe.from("delivery_areas").select("store_id").eq("id",e).single();if(s)throw console.error("❌ 배달지역 조회 실패:",s),new Error("배달지역을 찾을 수 없습니다.");const{data:o,error:u}=await pe.from("stores").select("id, owner_id").eq("id",n.store_id).single();if(u)throw console.error("❌ 매장 정보 조회 실패:",u),new Error("매장 정보를 찾을 수 없습니다.");const{data:{user:d}}=await pe.auth.getUser();if(o.owner_id!==d?.id)throw new Error("이 배달지역을 수정할 권한이 없습니다.");const{data:h,error:m}=await pe.from("delivery_areas").update({area_name:t,delivery_fee:r,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(m)throw console.error("배달지역 수정 오류:",m),m;return h},y6=async e=>{const{data:t,error:r}=await pe.from("delivery_areas").select("store_id").eq("id",e).single();if(r)throw console.error("❌ 배달지역 조회 실패:",r),new Error("배달지역을 찾을 수 없습니다.");const{data:n,error:s}=await pe.from("stores").select("id, owner_id").eq("id",t.store_id).single();if(s)throw console.error("❌ 매장 정보 조회 실패:",s),new Error("매장 정보를 찾을 수 없습니다.");const{data:{user:o}}=await pe.auth.getUser();if(n.owner_id!==o?.id)throw new Error("이 배달지역을 삭제할 권한이 없습니다.");const{error:u}=await pe.from("delivery_areas").update({is_active:!1,updated_at:new Date().toISOString()}).eq("id",e);if(u)throw console.error("배달지역 삭제 오류:",u),u},b6=async e=>{const{data:t,error:r}=await pe.from("delivery_areas").select("delivery_fee").eq("id",e).eq("is_active",!0).single();return r?(console.error("배달비 조회 오류:",r),0):t?.delivery_fee||0},w6=()=>i.jsx("div",{className:"bg-white",children:i.jsx("div",{className:"px-4 py-3",children:i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:"https://static.readdy.ai/image/912b0945f01d9fdb4ff4544659653c90/2d4890bd82abce85d430bd82d04df8d6.png",alt:"페이톡 로고",className:"w-12 h-12"})})})}),j6=e=>{const[,t,r]=e.split("-").map(Number);return`${t}/${r}`};function N6(){const e=vt(),[t,r]=w.useState([]),[n,s]=w.useState(null),[o,u]=w.useState("delivery"),[d,h]=w.useState(""),[m,g]=w.useState(""),[x,v]=w.useState(""),[b,j]=w.useState(""),[N,_]=w.useState(""),[O,S]=w.useState(""),[A,k]=w.useState(""),[C,P]=w.useState(!0),[T,D]=w.useState(!1),[$,U]=w.useState(null),[L,te]=w.useState([]),[de,J]=w.useState(""),[ce,z]=w.useState(0),V=w.useRef(!1),re=()=>{if($?.menuDate)return $.menuDate;if(!n){const be=new Date;return new Date(be.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0]}const q=new Date,W=new Date(q.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),X=n.order_cutoff_time||"15:00",[Y,H]=X.split(":").map(Number),le=new Date(W),me=new Date(le);return me.setHours(Y,H,0,0),W>me?new Date(le.getTime()+1440*60*1e3).toISOString().split("T")[0]:le.toISOString().split("T")[0]},ve=(q,W)=>{if(!W)return new Date().toISOString().split("T")[0];const X=new Date,Y=new Date(X.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),H=W.order_cutoff_time||"15:00",[le,me]=H.split(":").map(Number),oe=new Date(Y),be=new Date(oe);return be.setHours(le,me,0,0),Y>be?new Date(oe.getTime()+1440*60*1e3).toISOString().split("T")[0]:oe.toISOString().split("T")[0]};if(w.useEffect(()=>{if(V.current)return;V.current=!0,console.log("useEffect 실행됨"),(async()=>{const W=localStorage.getItem("cart"),X=localStorage.getItem("storeInfo"),Y=localStorage.getItem("dailyMenuCart");if(W&&X){r(JSON.parse(W));const H=JSON.parse(X);console.log("로드된 매장 정보:",H),console.log("배달 시간대 슬롯:",H.delivery_time_slots),s(H);try{const oe=await yO(H.id);te(oe),oe.length>0&&J(oe[0].id)}catch(oe){console.error("배달지역 로드 실패:",oe)}if(Y)try{const oe=JSON.parse(Y);console.log("일일 메뉴 장바구니 데이터:",oe),U(oe),console.log("일일 메뉴 날짜 설정:",oe.menuDate);try{const be=oe.items.map(Ye=>Ye.menuId),{data:Pe}=await pe.from("menus").select("id, name, price").in("id",be);if(Pe){const Ye=oe.items.map((Cr,fs)=>{const Gn=Pe.find(Ll=>Ll.id===Cr.menuId);return{id:`daily-${fs}-${Date.now()}-${Cr.menuId}`,originalMenuId:Cr.menuId,name:Gn?.name||`메뉴-${Cr.menuId}`,price:Gn?.price||0,quantity:Cr.quantity}});r(Ye)}}catch(be){console.error("메뉴 정보 가져오기 오류:",be);const Pe=oe.items.map((Ye,Cr)=>({id:`daily-${Cr}-${Date.now()}-${Ye.menuId}`,originalMenuId:Ye.menuId,name:`일일메뉴-${Ye.menuId}`,price:0,quantity:Ye.quantity}));r(Pe)}}catch(oe){console.error("일일 메뉴 장바구니 데이터 파싱 오류:",oe)}else{const oe=ve(void 0,H);console.log("일반 메뉴 날짜 설정:",oe)}if(H.delivery_time_slots&&H.delivery_time_slots.length>0){const oe=H.delivery_time_slots.filter(be=>be.enabled);oe.length>0&&g(`${oe[0].name} (${oe[0].start}-${oe[0].end})`)}const me=(parseInt(H.business_hours_start?.split(":")[0]||"9")+1).toString().padStart(2,"0");v(`${me}:00`),P(!1)}else P(!1),e("/")})()},[]),w.useEffect(()=>{(async()=>{if(console.log("🔍 배달비 업데이트 시도:",{selectedDeliveryArea:de,orderType:o}),de&&o==="delivery")try{const W=await b6(de);console.log("✅ 배달비 조회 성공:",W),z(W)}catch(W){console.error("❌ 배달비 조회 실패:",W),z(0)}else console.log("⚠️ 배달비 0으로 설정:",{selectedDeliveryArea:de,orderType:o}),z(0)})()},[de,o]),C)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"로딩 중..."}),i.jsx("p",{className:"text-gray-600",children:"잠시만 기다려주세요."})]})});if(!n||t.length===0)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"ri-shopping-cart-line text-6xl text-gray-300 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-600 mb-2",children:"장바구니가 비어있습니다"}),i.jsx("p",{className:"text-gray-500 mb-4",children:"맛있는 반찬을 담아보세요"}),i.jsx("button",{onClick:()=>e("/stores"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-3 rounded-lg whitespace-nowrap cursor-pointer",children:"매장으로 돌아가기"})]})});const I=t.reduce((q,W)=>q+W.price*W.quantity,0),ee=I+(o==="delivery"?ce:0),ie=n?.minimum_order_amount||0,ge=o==="pickup"||I>=ie,je=ie-I,ye=(q,W)=>{if(W===0){const X=t.filter(Y=>Y.id!==q);r(X),localStorage.setItem("cart",JSON.stringify(X))}else{const X=t.map(Y=>Y.id===q?{...Y,quantity:W}:Y);r(X),localStorage.setItem("cart",JSON.stringify(X))}},K=q=>{const W=t.filter(X=>X.id!==q);r(W),localStorage.setItem("cart",JSON.stringify(W))},we=async()=>{if(T)return;if(!n){alert("매장 정보를 찾을 수 없습니다.");return}if(!O.trim()){alert("고객명을 입력해주세요.");return}if(!A.trim()){alert("전화번호를 입력해주세요.");return}if(!/^010-?\d{4}-?\d{4}$/.test(A.replace(/\s/g,""))){alert(`전화번호를 올바르게 입력해주세요.

예: 010-1234-5678 또는 01012345678

알림톡 발송을 위해 정확한 전화번호가 필요합니다.`);return}if(o==="delivery"){if(!d.trim()){alert("배달 주소를 입력해주세요.");return}if(!m){alert("배달 희망 시간을 선택해주세요.");return}if(I<ie){alert(`최소주문금액 ${ie.toLocaleString()}원을 맞춰주세요.

현재 주문금액: ${I.toLocaleString()}원
부족한 금액: ${je.toLocaleString()}원`);return}}else if(!x){alert("픽업 희망 시간을 선택해주세요.");return}if(!N.trim()){alert("입금자명을 입력해주세요.");return}D(!0);try{const W=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(H){const le=Math.random()*16|0;return(H==="x"?le:le&3|8).toString(16)});console.log("🔍 디버깅 - deliveryTime:",m),console.log("🔍 디버깅 - pickupTime:",x);const X={user_id:W(),store_id:n.id,order_type:o,delivery_address:o==="delivery"?d:void 0,delivery_time:o==="delivery"?m:void 0,pickup_time:o==="pickup"?x:void 0,special_requests:b||void 0,depositor_name:N,customer_name:O,customer_phone:A,customer_address:o==="delivery"?d:void 0,subtotal:I,delivery_fee:o==="delivery"?ce:0,total:ee,delivery_area_id:o==="delivery"?de:void 0,items:t.map(H=>({menu_id:H.originalMenuId||H.id,quantity:H.quantity,price:H.price})),daily_menu_data:$?{daily_menu_id:$.dailyMenuId,menu_date:$.menuDate,items:$.items}:void 0},Y=await x6(X);Y?(localStorage.removeItem("cart"),localStorage.removeItem("storeInfo"),localStorage.removeItem("dailyMenuCart"),e(`/order-complete/${Y.id}`)):alert("주문 생성에 실패했습니다. 다시 시도해주세요.")}catch(W){console.error("주문 생성 오류:",W),alert("주문 생성 중 오류가 발생했습니다. 다시 시도해주세요.")}finally{D(!1)}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[i.jsx(w6,{}),i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsxs("div",{className:"px-4 py-4 flex items-center",children:[i.jsx("button",{onClick:()=>e(-1),className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsx("i",{className:"ri-arrow-left-line text-xl"})}),i.jsx("h1",{className:"text-lg font-semibold ml-2",children:"주문하기"})]})}),i.jsxs("div",{className:"max-w-4xl mx-auto p-4 space-y-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-bag-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"주문 방식"})]}),i.jsxs("div",{className:"flex gap-4",children:[i.jsx("button",{onClick:()=>u("delivery"),className:`flex-1 py-4 px-6 rounded-xl border-2 text-center cursor-pointer transition-all duration-300 font-semibold ${o==="delivery"?"border-orange-500 bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg transform scale-105":"border-gray-300 text-gray-600 hover:border-orange-300 hover:bg-orange-50 hover:shadow-md"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("i",{className:"ri-truck-line text-lg"}),i.jsx("span",{className:"text-base",children:"배달"})]})}),i.jsx("button",{onClick:()=>u("pickup"),className:`flex-1 py-4 px-6 rounded-xl border-2 text-center cursor-pointer transition-all duration-300 font-semibold ${o==="pickup"?"border-orange-500 bg-gradient-to-r from-orange-500 to-orange-600 text-white shadow-lg transform scale-105":"border-gray-300 text-gray-600 hover:border-orange-300 hover:bg-orange-50 hover:shadow-md"}`,children:i.jsxs("div",{className:"flex items-center justify-center gap-2",children:[i.jsx("i",{className:"ri-store-3-line text-lg"}),i.jsx("span",{className:"text-base",children:"픽업"})]})})]})]}),o==="delivery"&&L.length>0&&i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-map-pin-line text-orange-500"}),"배달지역 선택"]}),!ge&&i.jsxs("div",{className:"mb-4 p-4 bg-orange-50 border border-orange-200 rounded-xl",children:[i.jsxs("div",{className:"flex items-center gap-2 text-orange-700",children:[i.jsx("i",{className:"ri-information-line text-lg"}),i.jsx("span",{className:"font-semibold",children:"최소주문금액 미달"})]}),i.jsxs("p",{className:"text-sm text-orange-600 mt-1",children:[je.toLocaleString(),"원 더 담으면 주문 가능합니다"]})]}),i.jsx("div",{className:"grid gap-3",children:L.map(q=>i.jsx("button",{onClick:()=>J(q.id),className:`p-4 rounded-xl border-2 transition-all duration-200 text-left ${de===q.id?"border-orange-500 bg-orange-50":"border-gray-200 hover:border-orange-300 hover:bg-gray-50"}`,children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:q.area_name}),i.jsx("p",{className:"text-sm text-gray-600",children:"배달 가능 지역"})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"text-lg font-bold text-orange-600",children:[q.delivery_fee.toLocaleString(),"원"]}),i.jsx("p",{className:"text-xs text-gray-500",children:"배달비"})]})]})},q.id))})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-user-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"고객 정보"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-2",children:["고객명 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:O,onChange:q=>S(q.target.value),placeholder:"이름을 입력해주세요",className:"w-full p-4 border-2 border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 transition-all duration-200 hover:border-gray-400"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-2",children:["전화번호 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"tel",value:A,onChange:q=>{const X=q.target.value.replace(/[^0-9]/g,"").slice(0,11);k(X)},placeholder:"01023432321",className:"w-full p-4 border-2 border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 transition-all duration-200 hover:border-gray-400"}),i.jsx("div",{className:"text-sm text-gray-500 mt-2",children:"숫자만 입력하세요 (예: 01023432321)"})]})]})]}),o==="delivery"&&i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-truck-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"배달 정보"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-2",children:["배달 주소 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:d,onChange:q=>h(q.target.value),placeholder:"상세 주소를 입력해주세요",className:"w-full p-4 border-2 border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 transition-all duration-200 hover:border-gray-400"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-4",children:["배달 시간대 선택 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"grid grid-cols-1 gap-3",children:n?.delivery_time_slots?.filter(q=>q.enabled).map(q=>i.jsx("button",{onClick:()=>g(`${q.name} (${q.start}-${q.end})`),className:`p-4 rounded-xl border-2 text-left transition-all duration-200 ${m===`${q.name} (${q.start}-${q.end})`?"border-orange-500 bg-orange-50 text-orange-600 shadow-md":"border-gray-200 bg-white text-gray-600 hover:border-orange-300 hover:bg-orange-25"}`,children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 rounded-full border-2 flex items-center justify-center",children:m===`${q.name} (${q.start}-${q.end})`&&i.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full"})}),i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"font-medium flex items-center gap-2",children:[i.jsx("i",{className:"ri-truck-line"}),q.name]}),i.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:[j6(re())," ",q.start," - ",q.end]})]})]})},q.name))}),i.jsx("div",{className:"text-xs text-gray-500 mt-2",children:"원하는 배달 시간대를 선택하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"배달 요청사항"}),i.jsx("textarea",{value:b,onChange:q=>j(q.target.value),placeholder:"특별한 요청사항이 있으시면 입력해주세요",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg text-sm resize-none"})]})]})]}),o==="pickup"&&i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-store-3-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"픽업 정보"})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-orange-100 p-4 rounded-xl border border-orange-200",children:[i.jsx("div",{className:"font-bold text-lg text-gray-800 mb-2",children:n?.name}),i.jsxs("div",{className:"text-base text-gray-600 space-y-1",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-time-line text-orange-500"}),i.jsxs("span",{children:["영업시간: ",n?.business_hours_start||"09:00"," ~ ",n?.business_hours_end||"21:00"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-phone-line text-orange-500"}),i.jsxs("span",{children:["전화번호: ",n?.phone]})]})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-4",children:["픽업 희망 시간 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 border border-orange-200 rounded-2xl p-6 shadow-sm",children:[i.jsx("div",{className:"text-center mb-6",children:i.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-white rounded-full shadow-sm",children:[i.jsx("i",{className:"ri-time-line text-orange-500"}),i.jsx("span",{className:"text-sm font-semibold text-gray-700",children:"픽업 희망 시간을 선택하세요"})]})}),i.jsxs("div",{className:"flex gap-6 items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-center mb-3",children:i.jsx("span",{className:"text-xs font-bold text-gray-600 bg-white px-3 py-1 rounded-full",children:"시간"})}),i.jsx("div",{className:"h-40 overflow-y-auto border-2 border-white rounded-xl bg-white shadow-inner",children:i.jsx("div",{className:"py-2",children:(()=>{const q=parseInt(n?.business_hours_start?.split(":")[0]||"9"),W=parseInt(n?.business_hours_end?.split(":")[0]||"21");return Array.from({length:W-q+1},(X,Y)=>{const H=(q+Y).toString().padStart(2,"0");return i.jsxs("div",{onClick:()=>{const le=x.split(":")[1]||"00";v(`${H}:${le}`)},className:`px-4 py-3 text-center cursor-pointer transition-all duration-200 border-b border-gray-100 last:border-b-0 ${x.startsWith(H)?"bg-gradient-to-r from-orange-500 to-orange-600 text-white font-bold shadow-md":"hover:bg-gradient-to-r hover:from-orange-50 hover:to-orange-100 text-gray-700 font-medium"}`,children:[H,"시"]},H)})})()})})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"text-center mb-3",children:i.jsx("span",{className:"text-xs font-bold text-gray-600 bg-white px-3 py-1 rounded-full",children:"분"})}),i.jsx("div",{className:"h-40 overflow-y-auto border-2 border-white rounded-xl bg-white shadow-inner",children:i.jsx("div",{className:"py-2",children:["00","10","20","30","40","50"].map(q=>i.jsxs("div",{onClick:()=>{const W=x.split(":")[0]||"00";v(`${W}:${q}`)},className:`px-4 py-3 text-center cursor-pointer transition-all duration-200 border-b border-gray-100 last:border-b-0 ${x.endsWith(q)?"bg-gradient-to-r from-orange-500 to-orange-600 text-white font-bold shadow-md":"hover:bg-gradient-to-r hover:from-orange-50 hover:to-orange-100 text-gray-700 font-medium"}`,children:[q,"분"]},q))})})]})]}),i.jsx("div",{className:"text-center mt-6",children:i.jsxs("div",{className:"inline-flex items-center gap-3 px-6 py-3 bg-white rounded-2xl shadow-lg border border-orange-200",children:[i.jsx("i",{className:"ri-time-line text-orange-500 text-lg"}),i.jsx("span",{className:"font-bold text-gray-800",children:"선택된 시간: "}),i.jsx("span",{className:"font-bold text-orange-600 text-lg",children:x})]})})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-bank-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"입금자 정보 (무통장입금)"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-base font-semibold text-gray-800 mb-2",children:["입금자명 ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",value:N,onChange:q=>_(q.target.value),placeholder:"입금자명을 입력해주세요",className:"w-full p-4 border-2 border-gray-300 rounded-xl text-base focus:outline-none focus:ring-2 focus:ring-orange-200 focus:border-orange-500 transition-all duration-200 hover:border-gray-400"})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border-2 border-gray-200 hover:border-orange-300 transition-all duration-300",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"주문 상품"})]}),i.jsx("div",{className:"max-h-64 overflow-y-auto space-y-3 pr-2 mb-4",children:t.map(q=>i.jsxs("div",{className:"flex items-center justify-between py-2",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"font-medium text-gray-800",children:q.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[(q.price||0).toLocaleString(),"원"]})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center bg-white border border-gray-200 rounded-full",children:[i.jsx("button",{onClick:()=>ye(q.id,q.quantity-1),className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-l-full transition-colors",children:i.jsx("i",{className:"ri-subtract-line text-sm"})}),i.jsx("span",{className:"px-3 py-1 text-sm font-medium text-gray-700 min-w-[2rem] text-center",children:q.quantity}),i.jsx("button",{onClick:()=>ye(q.id,q.quantity+1),className:"w-8 h-8 flex items-center justify-center text-gray-600 hover:text-orange-500 hover:bg-orange-50 rounded-r-full transition-colors",children:i.jsx("i",{className:"ri-add-line text-sm"})})]}),i.jsx("button",{onClick:()=>K(q.id),className:"w-8 h-8 flex items-center justify-center text-red-500 hover:text-red-700 hover:bg-red-50 rounded-full transition-colors",title:"메뉴 삭제",children:i.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]},q.id))}),i.jsxs("div",{className:"border-t border-gray-200 pt-4 space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:"상품 금액"}),i.jsxs("span",{className:"text-gray-800",children:[I.toLocaleString(),"원"]})]}),o==="delivery"&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600",children:"배달비"}),i.jsxs("span",{className:"text-gray-800",children:[ce.toLocaleString(),"원"]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[i.jsx("span",{className:"font-bold text-lg text-gray-800",children:"총 결제 금액"}),i.jsxs("span",{className:"font-bold text-2xl text-orange-500",children:[ee.toLocaleString(),"원"]})]})]})]})]}),i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t-2 border-gray-200 p-6 shadow-2xl",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsx("button",{onClick:we,disabled:T||!ge,className:`w-full py-5 px-6 rounded-2xl font-bold text-xl whitespace-nowrap transition-all duration-300 shadow-xl ${T||!ge?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 hover:shadow-2xl transform hover:scale-[1.02] cursor-pointer"} text-white`,children:i.jsx("div",{className:"flex items-center justify-center gap-3",children:T?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white"}),i.jsx("span",{children:"주문 처리 중..."})]}):ge?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"ri-shopping-bag-line text-2xl"}),i.jsxs("span",{children:[ee.toLocaleString(),"원 주문하기"]})]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"ri-information-line text-2xl"}),i.jsx("span",{children:"최소주문금액 미달"})]})})})})}),i.jsx(On,{})]})}function _6(){const e=vt(),{orderId:t}=Sn(),[r,n]=w.useState(null),[s,o]=w.useState(!0),[u,d]=w.useState(!1);if(w.useEffect(()=>{(async()=>{if(!t){e("/stores");return}try{const{data:g,error:x}=await pe.from("orders").select(`
            id,
            created_at,
            customer_name,
            customer_phone,
            depositor_name,
            delivery_address,
            delivery_time,
            pickup_time,
            special_requests,
            order_type,
            subtotal,
            delivery_fee,
            total,
            delivery_area_id,
            stores (
              name,
              phone,
              bank_account,
              account_holder
            ),
            order_items (
              price,
              quantity,
              menus (
                name
              )
            ),
            daily_menu_orders (
              daily_menu_id,
              menu_id,
              quantity,
              daily_menus (
                menu_date,
                title
              ),
              menus (
                name,
                price
              )
            )
          `).eq("id",t).single();if(x){console.error("주문 정보 로드 오류:",x),e("/stores");return}n(g)}catch(g){console.error("주문 정보 로드 오류:",g),e("/stores")}finally{o(!1)}})()},[t,e]),s)return i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"주문 정보를 불러오는 중..."})]})});if(!r)return null;const h=()=>{r?.stores?.bank_account&&(navigator.clipboard.writeText(r.stores.bank_account),d(!0),setTimeout(()=>d(!1),2e3))};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 to-orange-100",children:[i.jsx(br,{}),i.jsxs("div",{className:"max-w-md mx-auto px-3 py-4 space-y-4 sm:space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("i",{className:"ri-check-line text-2xl sm:text-3xl text-green-600"})}),i.jsx("h1",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-2",children:"주문 완료!"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-500 mb-3 sm:mb-4",children:["주문번호: ",r.id.slice(-8).toUpperCase()]}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"입금 확인 후 조리가 시작됩니다"})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4",children:"주문 메뉴"}),i.jsx("div",{className:"space-y-2 sm:space-y-3",children:r.daily_menu_orders?.map((m,g)=>i.jsxs("div",{className:"flex justify-between items-start py-2",children:[i.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-900 font-medium block",children:m.menus.name}),i.jsxs("span",{className:"text-xs sm:text-sm text-gray-500",children:["× ",m.quantity,"개"]})]}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-800 font-semibold flex-shrink-0",children:[((m.menus?.price||0)*m.quantity).toLocaleString(),"원"]})]},g))}),i.jsxs("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gray-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"상품 금액"}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-800",children:[r.subtotal.toLocaleString(),"원"]})]}),r.order_type==="delivery"&&i.jsxs("div",{className:"flex justify-between items-center mb-2",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-600",children:"배달비"}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-800",children:[(r.delivery_fee||r.total-r.subtotal||0).toLocaleString(),"원"]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 border-t border-gray-200",children:[i.jsx("span",{className:"text-base sm:text-lg font-bold text-gray-900",children:"총 결제 금액"}),i.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:[r.total.toLocaleString(),"원"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4",children:"입금 정보"}),i.jsxs("div",{className:"bg-gray-50 rounded-xl p-3 sm:p-4 mb-3 sm:mb-4",children:[i.jsx("div",{className:"text-lg sm:text-2xl font-bold text-gray-900 mb-1 font-mono break-all",children:r.stores.bank_account}),i.jsxs("div",{className:"text-xs sm:text-sm text-gray-500",children:["예금주: ",r.stores.account_holder]})]}),i.jsxs("button",{onClick:h,className:"w-full bg-orange-500 hover:bg-orange-600 text-white px-4 py-3 sm:py-2 rounded-lg font-medium transition-colors flex items-center justify-center gap-2 shadow-sm hover:shadow-md text-sm sm:text-base min-h-[48px]",children:[i.jsx("i",{className:"ri-file-copy-line text-base"}),"복사"]})]}),i.jsxs("div",{className:"bg-green-50 rounded-2xl shadow-sm border border-green-100 p-4 sm:p-6",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-calendar-line text-green-600 text-base sm:text-lg"}),"픽업 시간"]}),i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[r.delivery_address&&i.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-2 sm:p-3 bg-white rounded-xl",children:[i.jsx("i",{className:"ri-map-pin-line text-green-600 mt-1 text-sm sm:text-base"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"배달 주소"}),i.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-semibold break-words",children:r.delivery_address})]})]}),r.delivery_time&&i.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-2 sm:p-3 bg-white rounded-xl",children:[i.jsx("i",{className:"ri-time-line text-green-600 mt-1 text-sm sm:text-base"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"배달 시간"}),i.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-bold break-words",children:(()=>{const m=r.delivery_time.split(" ");if(m.length>=3){const g=m[0],x=m.slice(1).join(" "),[v,b,j]=g.split("-").map(Number);return`${new Date(v,b-1,j).toLocaleDateString("ko-KR",{month:"long",day:"numeric"})} ${x}`}return r.delivery_time})()})]})]}),r.pickup_time&&i.jsxs("div",{className:"flex items-start gap-2 sm:gap-3 p-2 sm:p-3 bg-white rounded-xl",children:[i.jsx("i",{className:"ri-time-line text-green-600 mt-1 text-sm sm:text-base"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-xs sm:text-sm text-gray-600 font-medium",children:"픽업 시간"}),i.jsx("div",{className:"text-sm sm:text-base text-gray-900 font-bold break-words",children:r.pickup_time})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-4 sm:p-6 text-center",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4",children:"문의 안내"}),i.jsx("p",{className:"text-gray-500 text-xs sm:text-sm mb-3 sm:mb-4",children:"주문 취소나 문의사항이 있으시면"}),i.jsx("a",{href:`tel:${r.stores.phone}`,className:"text-xl sm:text-2xl font-bold text-orange-600 hover:text-orange-700 transition-colors block mb-2",children:r.stores.phone}),i.jsx("p",{className:"text-gray-500 text-xs sm:text-sm mb-3 sm:mb-2",children:"로 연락해주세요"}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mt-3",children:[i.jsx("i",{className:"ri-information-line text-gray-600 text-sm sm:text-base"}),i.jsx("p",{className:"text-gray-700 text-sm sm:text-base font-medium",children:"입금 후 주문 상태는 밴드 글 링크에서 확인하세요"})]})]})]}),u&&i.jsx("div",{className:"fixed top-4 left-4 right-4 sm:left-auto sm:right-4 bg-green-500 text-white px-4 py-3 rounded-lg shadow-lg z-50 text-sm font-medium text-center sm:text-left",children:"계좌번호가 복사되었습니다"}),i.jsx(On,{})]})}const S6=async e=>{console.log("🔍 메뉴 조회 시작 - 매장 ID:",e);const{data:t,error:r}=await pe.from("menus").select("*").eq("store_id",e).order("category",{ascending:!0}).order("name",{ascending:!0});if(r)throw console.error("❌ 메뉴 목록 가져오기 오류:",r),r;return console.log("✅ 메뉴 조회 성공:",t?.length||0,"개 메뉴"),t&&t.length>0&&console.log("📋 메뉴 목록:",t.map(n=>`${n.name} (${n.category})`)),t||[]},O6=async e=>{const{data:t,error:r}=await pe.from("menus").insert({store_id:e.store_id,name:e.name,price:e.price,category:e.category,description:e.description||null,is_available:e.is_available??!0}).select().single();if(r)throw console.error("메뉴 생성 오류:",r),r;return t},A6=async(e,t)=>{const{data:r,error:n}=await pe.from("menus").update({...t,updated_at:new Date().toISOString()}).eq("id",e).select().single();if(n)throw console.error("메뉴 수정 오류:",n),n;return r},E6=async e=>{const{error:t}=await pe.from("menus").delete().eq("id",e);if(t)throw console.error("메뉴 삭제 오류:",t),t},k6=async e=>{const{data:t,error:r}=await pe.from("user_stores").select(`
      stores (
        id,
        name,
        category,
        delivery_area,
        phone,
        business_hours_start,
        business_hours_end,
        order_cutoff_time,
        minimum_order_amount,
        pickup_time_slots,
        delivery_time_slots,
        bank_account,
        account_holder
      )
    `).eq("user_id",e).eq("role","owner").order("created_at",{ascending:!1});if(r)throw console.error("사용자 매장 목록 가져오기 오류:",r),r;return t?.map(n=>n.stores).filter(Boolean)||[]},Ep=async e=>{const{data:t,error:r}=await pe.from("user_stores").select(`
      store_id,
      stores (
        id,
        name,
        category,
        delivery_area,
        phone,
        business_hours_start,
        business_hours_end,
        order_cutoff_time,
        minimum_order_amount,
        pickup_time_slots,
        delivery_time_slots,
        bank_account,
        account_holder,
        created_at,
        updated_at
      )
    `).eq("user_id",e).eq("role","owner").order("created_at",{ascending:!1});if(r)throw console.error("사용자 소유 매장 목록 가져오기 오류:",r),r;return t?.map(n=>n.stores).filter(Boolean)||[]},C6=async e=>{const{data:t,error:r}=await pe.from("orders").select(`
      *,
      users (
        name,
        phone,
        email
      ),
      order_items (
        quantity,
        price,
        menus (
          name
        )
      )
    `).eq("store_id",e).order("created_at",{ascending:!1});if(r)throw console.error("매장 주문 목록 가져오기 오류:",r),r;return t||[]},T6=async(e,t)=>{const{error:r}=await pe.from("orders").update({status:t,updated_at:new Date().toISOString()}).eq("id",e);if(r)throw console.error("주문 상태 업데이트 오류:",r),r};class D6{cache=new Map;DEFAULT_TTL=300*1e3;set(t,r,n=this.DEFAULT_TTL){this.cache.set(t,{data:r,timestamp:Date.now(),ttl:n})}get(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>r.ttl?(this.cache.delete(t),null):r.data:null}has(t){const r=this.cache.get(t);return r?Date.now()-r.timestamp>r.ttl?(this.cache.delete(t),!1):!0:!1}delete(t){this.cache.delete(t)}clear(){this.cache.clear()}deletePattern(t){const r=new RegExp(t);for(const n of this.cache.keys())r.test(n)&&this.cache.delete(n)}}const ic=new D6,sc={STORES:"stores"},wa=async()=>{console.log("📡 getStores API 호출 시작");const e=ic.get(sc.STORES);if(e)return console.log("✅ getStores 캐시에서 반환:",e.length,"개"),e;const{data:t,error:r}=await pe.from("stores").select("*").order("created_at",{ascending:!1});if(r)throw console.error("❌ 매장 목록 가져오기 오류:",r),new Error(`매장 목록을 불러오는데 실패했습니다: ${r.message}`);const n=t||[];return console.log("✅ getStores API 응답:",n),ic.set(sc.STORES,n,300*1e3),n},bO=async e=>{if(!e)throw new Error("매장 ID가 필요합니다.");const{data:t,error:r}=await pe.from("stores").select("*").eq("id",e).single();if(r)throw console.error("매장 정보 가져오기 오류:",r),new Error(`매장 정보를 불러오는데 실패했습니다: ${r.message}`);return t},P6=async(e,t)=>{if(!e.name?.trim())throw new Error("매장명을 입력해주세요.");if(!e.category?.trim())throw new Error("카테고리를 선택해주세요.");if(!e.delivery_area?.trim())throw new Error("배달지역을 입력해주세요.");if(!e.phone?.trim())throw new Error("전화번호를 입력해주세요.");if(!e.bank_account?.trim())throw new Error("계좌번호를 입력해주세요.");if(!e.account_holder?.trim())throw new Error("예금주명을 입력해주세요.");const r={...e,owner_id:null},{data:n,error:s}=await pe.from("stores").insert(r).select().single();if(s)throw console.error("매장 생성 오류:",s),new Error(`매장 생성에 실패했습니다: ${s.message}`);return ic.delete(sc.STORES),n},_x=async(e,t)=>{if(console.log("🔄 updateStore API 호출:",e,t),console.log("💰 최소주문금액 API 전송값:",t.minimum_order_amount),!e)throw new Error("매장 ID가 필요합니다.");if(t.name!==void 0&&!t.name?.trim())throw new Error("매장명을 입력해주세요.");if(t.category!==void 0&&!t.category?.trim())throw new Error("카테고리를 선택해주세요.");const{data:r,error:n}=await pe.from("stores").update(t).eq("id",e).select().single();if(n)throw console.error("매장 수정 오류:",n),new Error(`매장 수정에 실패했습니다: ${n.message}`);return console.log("✅ updateStore API 응답:",r),console.log("💰 최소주문금액 API 응답값:",r?.minimum_order_amount),ic.delete(sc.STORES),r},M6=async e=>{if(!e)throw new Error("매장 ID가 필요합니다.");const{error:t}=await pe.from("stores").delete().eq("id",e);if(t)throw console.error("매장 삭제 오류:",t),new Error(`매장 삭제에 실패했습니다: ${t.message}`);ic.delete(sc.STORES)},_f=async e=>{if(!e)throw new Error("매장 ID가 필요합니다.");const{data:t,error:r}=await pe.from("menus").select("*").eq("store_id",e).order("category",{ascending:!0});if(r)throw console.error("메뉴 목록 가져오기 오류:",r),new Error(`메뉴 목록을 불러오는데 실패했습니다: ${r.message}`);return t||[]},kp=async e=>{if(!e.store_id)throw new Error("매장 ID가 필요합니다.");if(!e.name?.trim())throw new Error("메뉴명을 입력해주세요.");if(!e.price||e.price<=0)throw new Error("올바른 가격을 입력해주세요.");console.log("📝 데이터베이스에 메뉴 저장 시작:",e);const t={...e,category:e.category||"인기메뉴"};console.log("💾 실제 저장할 데이터:",t);const{data:r,error:n}=await pe.from("menus").insert(t).select().single();if(n)throw console.error("❌ 메뉴 생성 오류:",n),new Error(`메뉴 생성에 실패했습니다: ${n.message}`);return console.log("✅ 데이터베이스에 메뉴 저장 성공:",r),r},lc=async(e,t)=>{if(!e)throw new Error("메뉴 ID가 필요합니다.");if(t.name!==void 0&&!t.name?.trim())throw new Error("메뉴명을 입력해주세요.");if(t.price!==void 0&&t.price<=0)throw new Error("올바른 가격을 입력해주세요.");console.log("📝 메뉴 수정 시작:",{menuId:e,updateData:t});const{data:r,error:n}=await pe.from("menus").update(t).eq("id",e).select().single();if(n)throw console.error("❌ 메뉴 수정 오류:",n),new Error(`메뉴 수정에 실패했습니다: ${n.message}`);return console.log("✅ 메뉴 수정 성공:",r),r},Cp=async e=>{if(!e)throw new Error("메뉴 ID가 필요합니다.");const{error:t}=await pe.from("menus").delete().eq("id",e);if(t)throw console.error("메뉴 삭제 오류:",t),new Error(`메뉴 삭제에 실패했습니다: ${t.message}`)};function R6(){const e=vt(),{user:t,loading:r}=ir(),[n,s]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState("입금대기"),[m,g]=w.useState("today"),[x,v]=w.useState(""),[b,j]=w.useState(!1),[N,_]=w.useState(!1),[O,S]=w.useState(!1),[A,k]=w.useState("orders"),[C,P]=w.useState(""),[T,D]=w.useState(1),[$]=w.useState(15),[U,L]=w.useState(!1),[te,de]=w.useState(null),J=["메인요리","국물류","김치류","젓갈류","나물류","조림류","특별반찬","인기메뉴","세트메뉴","월식메뉴"],[ce,z]=w.useState([]),[V,re]=w.useState(!1),[ve,I]=w.useState(!1),[ee,ie]=w.useState(null),[ge,je]=w.useState("메인요리"),[ye,K]=w.useState({name:"",description:"",price:"",category:"",is_available:!0}),[we,q]=w.useState(!1),[W,X]=w.useState(!1),[Y,H]=w.useState({name:"",phone:"",address:"",description:"",business_hours_start:"",business_hours_end:"",order_deadline_hour:"",order_deadline_minute:"",delivery_area:"",delivery_fee:0}),{storeId:le}=Sn(),[me,oe]=w.useState("");w.useEffect(()=>{le||(console.log("⚠️ storeId가 없어서 admin-dashboard로 리다이렉트"),e("/admin-dashboard"))},[le,e]);const[be,Pe]=w.useState(null);w.useEffect(()=>{const R=xe=>{const _e=xe.target;b&&!_e.closest(".date-picker-container")&&j(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[b]),w.useEffect(()=>{const R=xe=>{const _e=xe.target;N&&!_e.closest(".period-dropdown-container")&&_(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[N]),w.useEffect(()=>{D(1)},[d,m,x,C]),w.useEffect(()=>{const R=xe=>{const{orderId:_e,status:Ne}=xe.detail;console.log(`다른 페이지에서 주문 ${_e} 상태가 ${Ne}로 변경됨. 데이터 새로고침 중...`),s(Ce=>Ce.map(Le=>Le.id===_e?{...Le,status:Ne}:Le))};return window.addEventListener("orderStatusChanged",R),()=>{window.removeEventListener("orderStatusChanged",R)}},[]);const Ye=async()=>{if(t?.id)try{re(!0);let R=le;if(!R){if(t.role==="admin"){const{data:xe}=await pe.from("user_stores").select(`
              stores (
                id,
                name,
                category,
                delivery_area,
                phone,
                business_hours_start,
                business_hours_end,
                pickup_time_slots,
                delivery_time_slots,
                bank_account,
                account_holder
              )
            `).eq("user_id",t.id).eq("role","owner");if(xe&&xe.length>0)R=xe[0].stores?.[0]?.id;else{console.log("관리하는 매장이 없습니다."),z([]);return}}else if(t.role==="super_admin"){const xe=await wa();if(xe.length>0)R=xe[0].id;else{console.log("등록된 매장이 없습니다."),z([]);return}}}if(console.log("🎯 메뉴 로드 대상 매장 ID:",R),R){const xe=await _f(R);console.log("📋 로드된 메뉴 데이터:",xe),z(xe)}else console.log("⚠️ 매장 ID가 없어서 메뉴를 로드할 수 없습니다."),z([])}catch(R){console.error("❌ 메뉴 데이터 로드 실패:",R)}finally{re(!1)}};w.useEffect(()=>{A==="menus"&&t?.id&&Ye()},[A,t?.id]),w.useEffect(()=>{be&&(console.log("🏪 currentStore 업데이트:",be),console.log("💰 최소주문금액:",be.minimum_order_amount))},[be]);const Cr=async()=>{if(le)try{console.log("🔍 매장 정보 로드 시도, storeId:",le);const{data:R,error:xe}=await pe.from("stores").select("*").eq("id",le).single();if(xe){console.error("❌ 매장 정보 로드 실패:",xe);return}R?(Pe(R),oe(R.name),console.log("✅ 매장 정보 로드됨:",R)):console.log("⚠️ 매장 데이터 없음")}catch(R){console.error("❌ 매장 정보 로드 오류:",R)}else console.log("⚠️ storeId 없음")};w.useEffect(()=>{Cr()},[le]);const fs=()=>{be&&(H({name:be.name||"",phone:be.phone||"",address:be.address||"",description:be.description||"",business_hours_start:be.business_hours_start||"",business_hours_end:be.business_hours_end||"",order_deadline_hour:be.order_deadline_hour||"",order_deadline_minute:be.order_deadline_minute||"",delivery_area:be.delivery_area||"",delivery_fee:be.delivery_fee||0}),X(!0))},Gn=async R=>{if(R.preventDefault(),!!le)try{const{error:xe}=await pe.from("stores").update({name:Y.name,phone:Y.phone,address:Y.address,description:Y.description,business_hours_start:Y.business_hours_start,business_hours_end:Y.business_hours_end,order_deadline_hour:Y.order_deadline_hour,order_deadline_minute:Y.order_deadline_minute,delivery_area:Y.delivery_area,delivery_fee:Y.delivery_fee,updated_at:new Date().toISOString()}).eq("id",le);if(xe)throw xe;await Cr(),X(!1),alert("매장 정보가 수정되었습니다.")}catch(xe){console.error("매장 정보 수정 실패:",xe),alert("매장 정보 수정에 실패했습니다.")}},Ll=async()=>{if(console.log("🔗 주문 링크 복사 시도"),console.log("🏪 URL storeId:",le),console.log("🏪 URL storeName:",me),!le){console.error("❌ URL에 storeId가 없습니다");return}try{const R=`${window.location.origin}/menu/${le}`;console.log("🔗 복사할 링크:",R),await navigator.clipboard.writeText(R),q(!0),setTimeout(()=>{q(!1)},2e3),console.log("✅ 링크 복사 성공")}catch(R){console.error("❌ 링크 복사 실패:",R),alert("링크 복사에 실패했습니다. 다시 시도해주세요.")}};w.useEffect(()=>{if(!r){if(!t){e("/admin-login");return}if(t&&t.role!=="admin"&&t.role!=="super_admin"){e("/stores");return}}},[t,r,e]),w.useEffect(()=>{(async()=>{if(!(!t||t.role!=="admin"&&t.role!=="super_admin"))try{u(!0);let xe=[];if(t.role==="super_admin"&&le)xe=await xl(le),console.log(`매장 ${me}의 주문:`,xe);else{console.log("🔍 getUserStores 호출, userId:",t.id);const Ne=await k6(t.id);if(console.log("🏪 사용자 매장 목록:",Ne),Ne.length===0){console.log("관리하는 매장이 없습니다."),s([]);return}for(const Ce of Ne){const Le=await xl(Ce.id);console.log(`매장 ${Ce.name}의 주문:`,Le),xe.push(...Le)}xe.sort((Ce,Le)=>new Date(Le.created_at).getTime()-new Date(Ce.created_at).getTime()),Ne.length>0&&(console.log("🏪 현재 매장 설정:",Ne[0]),Pe(Ne[0]))}const _e=await Promise.all(xe.map(async Ne=>{const{data:Ce}=await pe.from("order_items").select(`
                *,
                menus (
                  id,
                  name
                )
              `).eq("order_id",Ne.id);return{...Ne,order_items:Ce||[]}}));s(_e),console.log("로드된 주문 데이터:",_e)}catch(xe){console.error("주문 데이터 로드 오류:",xe)}finally{u(!1)}})()},[t,le,me]);const Ta=(R,xe)=>{const _e=n.find(Ce=>Ce.id===R),Ne=_e?En(_e,n):0;console.log("주문 상태 변경 요청:",{orderId:R,orderNumber:Ne,newStatus:xe}),de({orderId:R,orderNumber:Ne,newStatus:xe}),L(!0)},ih=async()=>{if(te)try{const{orderId:R,newStatus:xe}=te;await Ap(R,xe),s(n.map(_e=>_e.id===R?{..._e,status:xe}:_e)),console.log(`주문 ${R} 상태가 ${xe}로 변경되었습니다.`),alert(`주문 상태가 ${xe}로 변경되었습니다.

고객은 주문 조회 링크에서 실시간으로 상태를 확인할 수 있습니다.`)}catch(R){console.error("주문 상태 변경 오류:",R),alert("주문 상태 변경에 실패했습니다.")}finally{L(!1),de(null)}},sh=()=>{L(!1),de(null)},vi=R=>{confirm("정말로 주문을 취소하시겠습니까?")&&s(n.filter(xe=>xe.id!==R))},gr=()=>{const{logout:R}=ir();R(),e("/admin-login")},hn=R=>{console.log("날짜 선택됨:",R),R?(v(R),g("custom")):(v(""),g("today")),D(1),j(!1),S(!1)},lr=R=>{g(R),D(1),R!=="custom"&&v(""),S(!1)},Tr=R=>{if(R.delivery_time){const xe=R.delivery_time.match(/(\d{4}-\d{2}-\d{2})/);if(xe)return xe[1]}if(R.pickup_time){const xe=R.pickup_time.match(/(\d{4}-\d{2}-\d{2})/);if(xe)return xe[1]}return new Date(R.created_at).toISOString().split("T")[0]},lh=(R,xe,_e)=>{const Ne=new Date,Ce=new Date(Ne.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),Le=new Date(Ce.getFullYear(),Ce.getMonth(),Ce.getDate());switch(xe){case"today":return R.filter(Bt=>Tr(Bt)===Le.toISOString().split("T")[0]);case"yesterday":const zt=new Date(Le);zt.setDate(zt.getDate()-1);const mt=zt.toISOString().split("T")[0];return R.filter(Bt=>Tr(Bt)===mt);case"week":const gn=new Date(Le);gn.setDate(Le.getDate()-Le.getDay());const it=gn.toISOString().split("T")[0];return R.filter(Bt=>{const jt=Tr(Bt);return jt>=it&&jt<=Le.toISOString().split("T")[0]});case"month":const wi=new Date(Le.getFullYear(),Le.getMonth(),1).toISOString().split("T")[0];return R.filter(Bt=>{const jt=Tr(Bt);return jt>=wi&&jt<=Le.toISOString().split("T")[0]});case"custom":return!_e||_e===""?R:R.filter(Bt=>{const jt=Tr(Bt);return console.log("날짜 비교:",{deliveryDate:jt,customDate:_e,match:jt===_e}),jt===_e});default:return R}},oh=R=>{const xe={};return R.forEach(_e=>{_e.order_items?.forEach(Ne=>{const Ce=Ne.menus.name;xe[Ce]=(xe[Ce]||0)+Ne.quantity})}),Object.entries(xe).map(([_e,Ne])=>({name:_e,count:Ne})).sort((_e,Ne)=>Ne.count-_e.count).slice(0,4)},Vn=R=>{const xe=R.filter(Ne=>Ne.order_type==="pickup"),_e={};return xe.forEach(Ne=>{if(Ne.pickup_time){const Ce=Ne.pickup_time;_e[Ce]=(_e[Ce]||0)+1}}),Object.entries(_e).map(([Ne,Ce])=>({time:Ne,orders:Ce})).sort((Ne,Ce)=>Ce.orders-Ne.orders)},Fn=R=>{const xe=R.filter(Ne=>Ne.order_type==="delivery"),_e={};return xe.forEach(Ne=>{if(Ne.delivery_time){const Ce=Ne.delivery_time;_e[Ce]=(_e[Ce]||0)+1}}),Object.entries(_e).map(([Ne,Ce])=>({time:Ne,orders:Ce})).sort((Ne,Ce)=>Ce.orders-Ne.orders)},mn=R=>["일","월","화","수","목","금","토"].map((_e,Ne)=>{const Ce=R.filter(zt=>new Date(zt.created_at).getDay()===Ne),Le=Ce.reduce((zt,mt)=>zt+mt.total,0);return{name:_e,orders:Ce.length,revenue:Le}}),ut=lh(n,m,x);console.log("현재 필터 상태:",{selectedPeriod:m,selectedDate:x,totalOrders:n.length,filteredOrders:ut.length});const Dr=ut.filter(R=>R.status===d).filter(R=>{if(!C.trim())return!0;const xe=C.toLowerCase();return R.depositor_name?.toLowerCase().includes(xe)||R.delivery_address?.toLowerCase().includes(xe)||R.customer_name?.toLowerCase().includes(xe)||R.customer_phone?.includes(C)}).sort((R,xe)=>new Date(xe.created_at).getTime()-new Date(R.created_at).getTime()),ms=ce.filter(R=>R.category===ge),yi=Math.ceil(Dr.length/$),bi=(T-1)*$,Da=bi+$,Il=Dr.slice(bi,Da),gs=R=>{D(R),window.scrollTo({top:0,behavior:"smooth"})},Yc=()=>{const R=window.open("","_blank");if(!R)return;const xe=document.querySelector(".print-content");xe&&(R.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>주문 내역 프린트</title>
          <style>
            body {
              font-family: Arial, sans-serif;
              margin: 0;
              padding: 20px;
              font-size: 12px;
              line-height: 1.4;
            }
            .print-header {
              text-align: center;
              margin-bottom: 20px;
              border-bottom: 2px solid #333;
              padding-bottom: 10px;
            }
            .print-order {
              margin-bottom: 15px;
              padding: 10px;
              border: 1px solid #ddd;
              page-break-inside: avoid;
            }
            .print-order-header {
              display: flex;
              justify-content: space-between;
              margin-bottom: 8px;
              font-weight: bold;
            }
            .print-order-details {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 10px;
              margin-bottom: 8px;
            }
            .print-order-items {
              margin-bottom: 8px;
            }
            .print-order-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 2px;
            }
            .print-order-total {
              text-align: right;
              font-weight: bold;
              border-top: 1px solid #ddd;
              padding-top: 5px;
            }
            @media print {
              body { margin: 0; padding: 15px; }
            }
          </style>
        </head>
        <body>
          ${xe.innerHTML}
        </body>
      </html>
    `),R.document.close(),R.focus(),R.addEventListener("afterprint",()=>{const _e=R.document.createElement("div");_e.innerHTML=`
        <div style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
          <button onclick="window.close()" style="
            background: #f97316; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 8px; 
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          ">
            <i class="ri-arrow-left-line" style="margin-right: 5px;"></i>
            뒤로가기
          </button>
        </div>
      `,R.document.body.appendChild(_e)}),setTimeout(()=>{R.print()},500))},Ul=async R=>{if(R.preventDefault(),!!t?.id)try{let xe=le;if(!xe){if(t.role==="admin"){const{data:Ne}=await pe.from("user_stores").select(`
              stores (
                id,
                name,
                category,
                delivery_area,
                phone,
                business_hours_start,
                business_hours_end,
                pickup_time_slots,
                delivery_time_slots,
                bank_account,
                account_holder
              )
            `).eq("user_id",t.id).eq("role","owner");if(Ne&&Ne.length>0)xe=Ne[0].stores?.[0]?.id;else{alert("관리하는 매장이 없습니다.");return}}else if(t.role==="super_admin"){const Ne=await wa();if(Ne.length>0)xe=Ne[0].id;else{alert("등록된 매장이 없습니다.");return}}}const _e={store_id:xe,name:ye.name,description:ye.description,price:parseFloat(ye.price)||0,category:ye.category,is_available:ye.is_available};ee?await lc(ee.id,_e):await kp(_e),I(!1),ie(null),K({name:"",description:"",price:"",category:"",is_available:!0}),Ye()}catch(xe){console.error("❌ 메뉴 저장 실패:",xe),alert("메뉴 저장에 실패했습니다.")}},ql=async R=>{if(confirm("정말로 이 메뉴를 삭제하시겠습니까?"))try{await Cp(R),Ye()}catch(xe){console.error("❌ 메뉴 삭제 실패:",xe),alert("메뉴 삭제에 실패했습니다.")}},Gc=async R=>{try{await lc(R.id,{is_available:!R.is_available}),Ye()}catch(xe){console.error("❌ 메뉴 상태 변경 실패:",xe),alert("메뉴 상태 변경에 실패했습니다.")}},Vc=oh(ut),Zt=R=>{const _e={today:"오늘",yesterday:"어제",week:"이번주",month:"이번달",custom:x||"선택한 날짜"}[m]||"전체";return R===""?_e:`${_e} ${R}`},qt=R=>{switch(R){case"입금대기":return"bg-yellow-100 text-yellow-800";case"입금확인":return"bg-blue-100 text-blue-800";case"배달완료":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},or=R=>R==="입금대기"||R==="입금확인",En=(R,xe)=>{const _e=Tr(R),Ne=xe.filter(Le=>Tr(Le)===_e),Ce=Ne.findIndex(Le=>Le.id===R.id);return Ne.length-Ce},kn=(R,xe)=>{const _e=R.reduce((it,xs)=>it+xs.total,0),Ne=R.length,Ce=Ne>0?Math.round(_e/Ne):0;let Le=0;const zt=new Date,mt=new Date(zt.getFullYear(),zt.getMonth(),zt.getDate());switch(xe){case"today":const it=new Date(mt);it.setDate(it.getDate()-1),Le=R.filter(Ot=>Tr(Ot)===it.toISOString().split("T")[0]).reduce((Ot,dt)=>Ot+dt.total,0);break;case"yesterday":const wi=new Date(mt);wi.setDate(mt.getDate()-2),Le=R.filter(Ot=>Tr(Ot)===wi.toISOString().split("T")[0]).reduce((Ot,dt)=>Ot+dt.total,0);break;case"week":const jt=new Date(mt);jt.setDate(mt.getDate()-mt.getDay()-7);const Fc=new Date(mt);Fc.setDate(mt.getDate()-mt.getDay()-1),Le=R.filter(Ot=>{const dt=Tr(Ot);return dt>=jt.toISOString().split("T")[0]&&dt<=Fc.toISOString().split("T")[0]}).reduce((Ot,dt)=>Ot+dt.total,0);break;case"month":const Wc=new Date(mt.getFullYear(),mt.getMonth()-1,1),uh=new Date(mt.getFullYear(),mt.getMonth(),0);Le=R.filter(Ot=>{const dt=Tr(Ot);return dt>=Wc.toISOString().split("T")[0]&&dt<=uh.toISOString().split("T")[0]}).reduce((Ot,dt)=>Ot+dt.total,0);break}const gn=Le>0?Math.round((_e-Le)/Le*100):_e>0?100:0;return{totalRevenue:_e,totalOrders:Ne,averageOrderValue:Ce,revenueGrowthRate:gn}};return r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"인증 정보를 확인하는 중..."})]})}):!t||t.role!=="admin"&&t.role!=="super_admin"?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"관리자만 접근할 수 있는 페이지입니다."}),i.jsx("button",{onClick:()=>e("/stores"),className:"bg-orange-500 hover:bg-orange-600 text-white px-6 py-2 rounded-lg transition-colors",children:"매장 목록으로 이동"})]})}):i.jsxs(i.Fragment,{children:[i.jsx("style",{dangerouslySetInnerHTML:{__html:`
          @media print {
            body * {
              visibility: hidden;
            }
            .print-content, .print-content * {
              visibility: visible;
            }
            .print-content {
              position: absolute;
              left: 0;
              top: 0;
              width: 100%;
              background: white;
              padding: 20px;
              font-size: 12px;
              line-height: 1.4;
            }
            .print-header {
              text-align: center;
              margin-bottom: 20px;
              border-bottom: 2px solid #333;
              padding-bottom: 10px;
            }
            .print-order {
              margin-bottom: 15px;
              padding: 10px;
              border: 1px solid #ddd;
              page-break-inside: avoid;
            }
            .print-order-header {
              display: flex;
              justify-content: space-between;
              margin-bottom: 8px;
              font-weight: bold;
            }
            .print-order-details {
              display: grid;
              grid-template-columns: 1fr 1fr;
              gap: 10px;
              margin-bottom: 8px;
            }
            .print-order-items {
              margin-bottom: 8px;
            }
            .print-order-item {
              display: flex;
              justify-content: space-between;
              margin-bottom: 2px;
            }
            .print-order-total {
              text-align: right;
              font-weight: bold;
              border-top: 1px solid #ddd;
              padding-top: 5px;
            }
            .no-print {
              display: none !important;
            }
          }
          
          /* 모던 드롭다운 스타일 */
          .modern-select {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
          }
          
          .modern-select option {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            font-weight: 500;
            padding: 12px 16px;
            background: white;
            color: #374151;
            border: none;
            font-size: 14px;
            line-height: 1.5;
          }
          
          .modern-select option:hover {
            background: #f9fafb;
            color: #111827;
          }
          
          .modern-select option:checked {
            background: #fef3c7;
            color: #92400e;
            font-weight: 600;
          }
        `}}),i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[i.jsx("div",{className:"bg-white shadow-sm border-b no-print",children:i.jsx("div",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>e(-1),className:"mr-3 p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"뒤로가기",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:me?`${me} 관리자`:"매장 관리자"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("button",{onClick:gr,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md flex items-center whitespace-nowrap cursor-pointer text-sm",children:[i.jsx("i",{className:"ri-logout-box-r-line mr-1.5 text-xs"}),"로그아웃"]})})]})})}),i.jsxs("div",{className:"p-4 lg:p-6 flex-1 max-w-7xl mx-auto w-full",children:[i.jsxs("div",{className:"flex space-x-2 sm:space-x-3 mb-6 no-print overflow-x-auto pb-1",children:[i.jsxs("button",{onClick:()=>k("orders"),className:`px-3 sm:px-6 py-3 rounded-lg text-sm sm:text-base font-medium transition-colors whitespace-nowrap flex-shrink-0 ${A==="orders"?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:"ri-file-list-3-line mr-2 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"주문 내역"}),i.jsx("span",{className:"sm:hidden",children:"주문"})]}),i.jsxs("button",{onClick:()=>k("menus"),className:`px-3 sm:px-6 py-3 rounded-lg text-sm sm:text-base font-medium transition-colors whitespace-nowrap flex-shrink-0 ${A==="menus"?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:"ri-restaurant-line mr-2 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"메뉴 관리"}),i.jsx("span",{className:"sm:hidden",children:"메뉴"})]}),i.jsxs("button",{onClick:()=>k("statistics"),className:`px-3 sm:px-6 py-3 rounded-lg text-sm sm:text-base font-medium transition-colors whitespace-nowrap flex-shrink-0 ${A==="statistics"?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:"ri-bar-chart-line mr-2 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"통계"}),i.jsx("span",{className:"sm:hidden",children:"통계"})]}),i.jsxs("button",{onClick:()=>k("store"),className:`px-3 sm:px-6 py-3 rounded-lg text-sm sm:text-base font-medium transition-colors whitespace-nowrap flex-shrink-0 ${A==="store"?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:"ri-store-line mr-2 sm:mr-2"}),i.jsx("span",{className:"hidden sm:inline",children:"매장 관리"}),i.jsx("span",{className:"sm:hidden",children:"매장"})]})]}),A==="orders"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"주문 내역"}),i.jsx("p",{className:"text-sm text-gray-600",children:"모든 주문 정보를 상세하게 확인할 수 있습니다"})]}),Dr.length>0&&i.jsxs("button",{onClick:Yc,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm whitespace-nowrap cursor-pointer",children:[i.jsx("i",{className:"ri-printer-line"}),"프린트"]})]})}),i.jsxs("div",{className:"space-y-4 mb-6 no-print",children:[i.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 p-4 shadow-md",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("i",{className:"ri-search-line text-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"검색"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:C,onChange:R=>P(R.target.value),placeholder:"입금자명, 배달주소, 고객명, 전화번호로 검색...",className:"w-full px-4 py-3 pl-10 pr-4 bg-gray-50 border-0 rounded-xl text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:bg-white transition-all duration-200 hover:bg-gray-100"}),i.jsx("i",{className:"ri-search-line absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 p-4 shadow-md",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("i",{className:"ri-filter-3-line text-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"필터"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-calendar-line text-gray-500 text-sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"기간"})]}),i.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:[{key:"today",label:"오늘",icon:"ri-calendar-today-line"},{key:"yesterday",label:"어제",icon:"ri-calendar-check-line"},{key:"week",label:"이번주",icon:"ri-calendar-week-line"},{key:"month",label:"이번달",icon:"ri-calendar-month-line"}].map(R=>i.jsxs("button",{onClick:()=>lr(R.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center gap-1 ${m===R.key?"bg-orange-500 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:[i.jsx("i",{className:`${R.icon} text-xs`}),i.jsx("span",{children:R.label})]},R.key))}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2",children:[i.jsxs("button",{onClick:()=>S(!O),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center justify-center gap-2 ${m==="custom"?"bg-orange-500 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:[i.jsx("i",{className:"ri-calendar-line"}),x||"날짜 선택"]}),m==="custom"&&x&&i.jsxs("button",{onClick:()=>{v(""),g("today")},className:"px-3 py-2 bg-gray-100 text-gray-600 rounded-lg hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[i.jsx("i",{className:"ri-close-line"}),i.jsx("span",{children:"초기화"})]})]}),O&&i.jsxs("div",{className:"bg-white border border-gray-300 rounded-xl p-4 shadow-lg",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"날짜 선택"}),i.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("i",{className:"ri-close-line"})})]}),i.jsx("input",{type:"date",value:x||"",onChange:R=>{hn(R.target.value),S(!1)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-filter-line text-gray-500 text-sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"상태"})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[{key:"입금대기",label:"입금대기",count:ut.filter(R=>R.status==="입금대기").length,icon:"ri-time-line"},{key:"입금확인",label:"입금확인",count:ut.filter(R=>R.status==="입금확인").length,icon:"ri-check-line"},{key:"배달완료",label:"배달완료",count:ut.filter(R=>R.status==="배달완료").length,icon:"ri-truck-line"}].map(R=>i.jsxs("button",{onClick:()=>h(R.key),className:`px-3 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex flex-col items-center gap-1 ${d===R.key?"bg-gray-800 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:[i.jsxs("div",{className:"flex items-center gap-1",children:[i.jsx("i",{className:`${R.icon} text-xs`}),i.jsx("span",{children:R.label})]}),i.jsxs("span",{className:"text-xs opacity-75",children:["(",R.count,")"]})]},R.key))})]})]})]})]}),Il.length>0&&!C&&i.jsx("div",{className:"mb-4 flex justify-center",children:i.jsx("div",{className:"inline-flex items-center px-3 py-1.5 bg-gray-100 border border-gray-200 rounded-full",children:i.jsxs("span",{className:"text-gray-700 text-sm",children:[i.jsx("i",{className:"ri-calendar-line mr-1 text-orange-500"}),Zt("")," ",Dr.length,"개의 주문이 들어왔습니다"]})})}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:o?i.jsx("div",{className:"col-span-full bg-white rounded-lg p-8 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"주문 데이터를 불러오는 중..."})]})}):Il.length===0?i.jsx("div",{className:"col-span-full bg-white rounded-lg p-8 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx("i",{className:"ri-shopping-cart-line text-4xl mb-4"}),i.jsx("p",{children:"선택한 조건에 해당하는 주문이 없습니다."})]})}):Il.map(R=>{const{date:xe,time:_e}={date:new Date(R.created_at).toLocaleDateString("ko-KR"),time:new Date(R.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return i.jsx("div",{className:"bg-white rounded-lg shadow-md border-2 border-gray-300 hover:shadow-lg hover:border-orange-400 transition-all duration-200 overflow-hidden",children:i.jsxs("div",{className:"p-4 lg:p-5",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between mb-3 gap-2",children:[i.jsxs("h3",{className:"font-semibold text-gray-800 text-lg",children:["주문번호: ",En(R,Dr)]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap ${qt(R.status)}`,children:R.status}),i.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap ${R.order_type==="delivery"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:R.order_type==="delivery"?"배달":"픽업"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-3 text-sm text-gray-600",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-calendar-line text-gray-400"}),i.jsxs("span",{children:["주문일시: ",xe," ",_e]})]}),R.order_type==="delivery"&&R.delivery_address&&i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("i",{className:"ri-map-pin-line text-gray-400 mt-0.5"}),i.jsxs("span",{children:["배달주소: ",R.delivery_address]})]}),R.delivery_time&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-truck-line text-gray-400"}),i.jsxs("span",{children:["배달시간: ",R.delivery_time]})]}),R.pickup_time&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-store-line text-gray-400"}),i.jsxs("span",{children:["픽업시간: ",R.pickup_time]})]})]}),i.jsxs("div",{className:"space-y-2",children:[R.depositor_name&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-user-line text-gray-400"}),i.jsxs("span",{children:["입금자명: ",R.depositor_name]})]}),R.customer_name&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-user-3-line text-gray-400"}),i.jsxs("span",{children:["고객명: ",R.customer_name]})]}),R.customer_phone&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-phone-line text-gray-400"}),i.jsxs("span",{children:["연락처: ",R.customer_phone]})]})]})]})]}),i.jsxs("div",{className:"border-t pt-3",children:[i.jsx("div",{className:"space-y-1 mb-3",children:R.order_items?.map((Ne,Ce)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-600",children:[Ne.menus.name," x ",Ne.quantity]}),i.jsxs("span",{className:"text-gray-800",children:[(Ne.price*Ne.quantity).toLocaleString(),"원"]})]},Ce))||i.jsx("div",{className:"text-gray-500 text-sm",children:"주문 상품 정보 없음"})}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("span",{className:"font-semibold text-gray-800",children:"총 결제 금액"}),i.jsxs("span",{className:"font-bold text-lg text-orange-500",children:[R.total.toLocaleString(),"원"]})]})]}),R.special_requests&&i.jsx("div",{className:"mt-3 pt-3 border-t",children:i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-message-line mr-2"}),i.jsxs("span",{children:["요청사항: ",R.special_requests]})]})}),i.jsx("div",{className:"mt-4 pt-3 border-t",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[R.status==="입금대기"&&i.jsx(i.Fragment,{children:i.jsx("button",{onClick:()=>Ta(R.id,"입금확인"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금확인"})}),R.status==="입금확인"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>Ta(R.id,"입금대기"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금대기로"}),R.order_type==="delivery"&&i.jsx("button",{onClick:()=>Ta(R.id,"배달완료"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"배달완료"})]}),R.status==="배달완료"&&R.order_type==="delivery"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>Ta(R.id,"입금대기"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금대기로"}),i.jsx("button",{onClick:()=>Ta(R.id,"입금확인"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금확인으로"})]}),or(R.status)&&i.jsx("button",{onClick:()=>vi(R.id),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"주문취소"})]})})]})},R.id)})}),Dr.length>0&&i.jsx("div",{className:"mt-6 flex justify-center no-print",children:yi>1&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>gs(T-1),disabled:T===1,className:`px-3 py-2 rounded-lg text-sm ${T===1?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:i.jsx("i",{className:"ri-arrow-left-s-line"})}),(()=>{let xe=Math.max(1,T-Math.floor(2.5)),_e=Math.min(yi,xe+5-1);_e-xe+1<5&&(xe=Math.max(1,_e-5+1));const Ne=[];for(let Ce=xe;Ce<=_e;Ce++)Ne.push(Ce);return Ne.map(Ce=>i.jsx("button",{onClick:()=>gs(Ce),className:`px-3 py-2 rounded-lg text-sm ${T===Ce?"bg-orange-500 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:Ce},Ce))})(),i.jsx("button",{onClick:()=>gs(T+1),disabled:T===yi,className:`px-3 py-2 rounded-lg text-sm ${T===yi?"bg-gray-100 text-gray-400 cursor-not-allowed":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:i.jsx("i",{className:"ri-arrow-right-s-line"})})]})}),Dr.length>0&&i.jsxs("div",{className:"mt-4 text-center text-sm text-gray-500 no-print",children:[bi+1,"-",Math.min(Da,Dr.length)," / ",Dr.length,"개 주문"]}),i.jsxs("div",{className:"print-content",style:{display:"none",visibility:"hidden"},children:[i.jsxs("div",{className:"print-header",children:[i.jsxs("h1",{style:{fontSize:"18px",margin:"0 0 5px 0"},children:[me||"매장"," 주문 내역"]}),i.jsxs("p",{style:{margin:"0",fontSize:"14px"},children:[m==="today"?"오늘":m==="yesterday"?"어제":x||"전체"," 주문 목록"]}),i.jsxs("p",{style:{margin:"5px 0 0 0",fontSize:"12px"},children:["프린트 일시: ",new Date().toLocaleString("ko-KR")]})]}),Dr.map(R=>{const{date:xe,time:_e}={date:new Date(R.created_at).toLocaleDateString("ko-KR"),time:new Date(R.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return i.jsxs("div",{className:"print-order",children:[i.jsxs("div",{className:"print-order-header",children:[i.jsxs("span",{children:["주문번호: ",En(R,Dr)]}),i.jsx("span",{children:R.status})]}),i.jsxs("div",{className:"print-order-details",children:[i.jsxs("div",{children:[i.jsx("strong",{children:"주문일시:"})," ",xe," ",_e]}),i.jsxs("div",{children:[i.jsx("strong",{children:"주문방식:"})," ",R.order_type==="delivery"?"배달":"픽업"]}),R.delivery_address&&i.jsxs("div",{children:[i.jsx("strong",{children:"배달주소:"})," ",R.delivery_address]}),R.delivery_time&&i.jsxs("div",{children:[i.jsx("strong",{children:"배달시간:"})," ",R.delivery_time]}),R.pickup_time&&i.jsxs("div",{children:[i.jsx("strong",{children:"픽업시간:"})," ",R.pickup_time]}),R.depositor_name&&i.jsxs("div",{children:[i.jsx("strong",{children:"입금자명:"})," ",R.depositor_name]}),R.customer_name&&i.jsxs("div",{children:[i.jsx("strong",{children:"고객명:"})," ",R.customer_name]}),R.customer_phone&&i.jsxs("div",{children:[i.jsx("strong",{children:"연락처:"})," ",R.customer_phone]}),R.special_requests&&i.jsxs("div",{children:[i.jsx("strong",{children:"요청사항:"})," ",R.special_requests]})]}),i.jsxs("div",{className:"print-order-items",children:[i.jsx("strong",{children:"주문 상품:"}),R.order_items?.map((Ne,Ce)=>i.jsxs("div",{className:"print-order-item",children:[i.jsxs("span",{children:[Ne.menus.name," x ",Ne.quantity]}),i.jsxs("span",{children:[(Ne.price*Ne.quantity).toLocaleString(),"원"]})]},Ce))||i.jsx("div",{children:"주문 상품 정보 없음"})]}),i.jsxs("div",{className:"print-order-total",children:["총 결제 금액: ",R.total.toLocaleString(),"원"]})]},R.id)})]})]}),A==="statistics"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"매장 통계"}),i.jsx("p",{className:"text-sm text-gray-600",children:"매장의 주문 현황과 매출 통계를 확인할 수 있습니다"})]})}),i.jsxs("div",{className:"bg-white rounded-lg border-2 border-gray-300 p-4 shadow-md mb-6",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("i",{className:"ri-calendar-check-line text-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"통계 기간"})]}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[[{key:"today",label:"오늘",icon:"ri-calendar-today-line"},{key:"yesterday",label:"어제",icon:""},{key:"week",label:"이번주",icon:"ri-calendar-week-line"},{key:"month",label:"이번달",icon:"ri-calendar-month-line"}].map(R=>i.jsxs("button",{onClick:()=>lr(R.key),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${m===R.key?"bg-orange-500 text-white shadow-md":"bg-gray-50 text-gray-600 hover:bg-orange-50 hover:text-orange-600 border border-gray-200"}`,children:[R.icon&&i.jsx("i",{className:`${R.icon} text-base ${m===R.key?"text-white":"text-gray-400"}`}),i.jsx("span",{children:R.label})]},R.key)),i.jsxs("div",{className:"relative date-picker-container",children:[i.jsxs("button",{onClick:R=>{R.stopPropagation(),console.log("날짜 선택 버튼 클릭됨, 현재 selectedPeriod:",m),j(!b)},className:`px-4 py-2 rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2 ${m==="custom"?"bg-orange-500 text-white shadow-md":"bg-gray-50 text-gray-600 hover:bg-orange-50 hover:text-orange-600 border border-gray-200"}`,children:[i.jsx("i",{className:`ri-calendar-line text-base ${m==="custom"?"text-white":"text-gray-400"}`}),i.jsx("span",{children:x||"날짜 선택"})]}),b&&i.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-200 rounded-lg shadow-lg z-20 p-3 min-w-[250px]",onClick:R=>R.stopPropagation(),children:[i.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[i.jsx("i",{className:"ri-calendar-line text-orange-500 text-sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"날짜 선택"})]}),i.jsx("input",{type:"date",value:x||"",onChange:R=>{console.log("날짜 선택됨:",R.target.value),hn(R.target.value)},className:"w-full px-3 py-2 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-transparent text-sm",max:new Date(new Date().toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0],autoFocus:!0,placeholder:"날짜를 선택하세요"}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsx("button",{onClick:R=>{R.stopPropagation(),j(!1)},className:"px-3 py-1 text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded transition-colors",children:"닫기"})})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-600",children:Zt("총 매출")}),i.jsxs("p",{className:"text-lg font-bold text-green-600",children:[kn(ut,m).totalRevenue.toLocaleString(),"원"]})]}),i.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-green-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-600",children:Zt("총 주문수")}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:kn(ut,m).totalOrders.toLocaleString()})]}),i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-blue-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-600",children:Zt("평균 주문액")}),i.jsxs("p",{className:"text-lg font-bold text-purple-600",children:[kn(ut,m).averageOrderValue.toLocaleString(),"원"]})]}),i.jsx("div",{className:"w-8 h-8 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-bar-chart-line text-purple-600"})})]})}),i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-md border-2 border-gray-300",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs font-medium text-gray-600",children:Zt("매출 증가율")}),i.jsxs("p",{className:`text-lg font-bold ${kn(ut,m).revenueGrowthRate>=0?"text-green-600":"text-red-600"}`,children:[kn(ut,m).revenueGrowthRate>=0?"+":"",kn(ut,m).revenueGrowthRate,"%"]})]}),i.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-trending-up-line text-orange-600"})})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md border-2 border-gray-300",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-store-line text-orange-500"}),Zt("픽업 시간대별 주문")]}),i.jsxs("div",{className:"space-y-3",children:[Vn(ut).map((R,xe)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:R.time}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full",children:i.jsx("div",{className:"h-2 bg-orange-500 rounded-full transition-all duration-300",style:{width:`${Vn(ut).length>0?R.orders/Math.max(...Vn(ut).map(_e=>_e.orders))*100:0}%`}})}),i.jsxs("span",{className:"text-sm font-medium text-gray-800 w-8 text-right",children:[R.orders,"건"]})]})]},xe)),Vn(ut).length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-4",children:[i.jsx("i",{className:"ri-store-line text-2xl mb-2"}),i.jsx("p",{className:"text-sm",children:"픽업 주문이 없습니다"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md border-2 border-gray-300",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-truck-line text-orange-500"}),Zt("배달 시간대별 주문")]}),i.jsxs("div",{className:"space-y-3",children:[Fn(ut).map((R,xe)=>i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:R.time}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-24 h-2 bg-gray-200 rounded-full",children:i.jsx("div",{className:"h-2 bg-orange-500 rounded-full transition-all duration-300",style:{width:`${Fn(ut).length>0?R.orders/Math.max(...Fn(ut).map(_e=>_e.orders))*100:0}%`}})}),i.jsxs("span",{className:"text-sm font-medium text-gray-800 w-8 text-right",children:[R.orders,"건"]})]})]},xe)),Fn(ut).length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-4",children:[i.jsx("i",{className:"ri-truck-line text-2xl mb-2"}),i.jsx("p",{className:"text-sm",children:"배달 주문이 없습니다"})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-lg p-6 shadow-md border-2 border-gray-300 mb-6",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-calendar-line text-orange-500"}),"요일별 성과 (전체 기간)"]}),i.jsx("div",{className:"grid grid-cols-7 gap-2",children:mn(n).map((R,xe)=>i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"text-xs text-gray-500 mb-1",children:R.name}),i.jsx("div",{className:"text-lg font-bold text-gray-800",children:R.orders}),i.jsxs("div",{className:"text-xs text-gray-500",children:[R.revenue.toLocaleString(),"원"]}),i.jsx("div",{className:"w-full h-1 bg-gray-200 rounded-full mt-2",children:i.jsx("div",{className:"h-1 bg-orange-500 rounded-full transition-all duration-300",style:{width:`${mn(n).length>0?R.orders/Math.max(...mn(n).map(_e=>_e.orders))*100:0}%`}})})]},xe))})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4 shadow-md border-2 border-gray-300",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:Zt("인기 메뉴")}),i.jsx("div",{className:"space-y-3",children:Vc.length>0?Vc.map((R,xe)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-orange-100 rounded-full flex items-center justify-center mr-3",children:i.jsxs("span",{className:"text-orange-600 font-bold text-sm",children:["#",xe+1]})}),i.jsx("span",{className:"text-gray-800 font-medium",children:R.name})]}),i.jsx("div",{className:"flex items-center",children:i.jsxs("span",{className:"text-sm font-semibold text-orange-600 bg-orange-100 px-2 py-1 rounded-full",children:[R.count,"개"]})})]},xe)):i.jsxs("div",{className:"text-center text-gray-500 py-8",children:[i.jsx("i",{className:"ri-restaurant-line text-4xl mb-3 text-gray-300"}),i.jsx("p",{className:"text-lg",children:"주문된 메뉴가 없습니다"}),i.jsx("p",{className:"text-sm",children:"선택한 기간에 주문된 메뉴가 없습니다"})]})})]})]}),A==="menus"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"메뉴 관리"}),i.jsx("p",{className:"text-sm text-gray-600",children:"매장의 메뉴를 추가, 수정, 삭제할 수 있습니다"})]}),i.jsxs("button",{onClick:()=>{console.log("메뉴 추가 버튼 클릭됨"),ie(null),K({name:"",description:"",price:"",category:"",is_available:!0}),I(!0),console.log("showMenuModal 상태:",!0)},className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm whitespace-nowrap cursor-pointer",children:[i.jsx("i",{className:"ri-add-line"}),"메뉴 추가"]})]})}),ce.length>0&&i.jsx("div",{className:"bg-white px-4 py-4 border-b shadow-sm mb-0",children:i.jsx("div",{className:"flex space-x-2 overflow-x-auto pb-1",children:J.map(R=>ce.filter(_e=>_e.category===R).length===0?null:i.jsxs("button",{onClick:()=>je(R),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 whitespace-nowrap ${ge===R?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:`ri-restaurant-line mr-1.5 ${ge===R?"text-white":"text-gray-600"}`}),R]},R))})}),V?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"메뉴를 불러오는 중..."})]}):ms.length>0?i.jsx("div",{className:"bg-white",children:ms.map((R,xe)=>i.jsx("div",{className:`px-4 py-4 hover:bg-gray-50 transition-colors duration-200 ${xe!==ms.length-1?"border-b border-gray-100":""}`,children:i.jsx("div",{className:"flex gap-4",children:i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("h3",{className:"font-semibold text-black text-base truncate",children:R.name}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:"text-black font-semibold text-base",children:[(R.price||0).toLocaleString(),"원"]})})]}),i.jsx("p",{className:"text-sm text-gray-500 mb-2 line-clamp-2 leading-relaxed",children:R.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs("span",{className:`text-xs px-3 py-1.5 rounded-full font-medium flex items-center gap-1 ${R.is_available?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:[i.jsx("i",{className:`ri-${R.is_available?"check":"close"}-line text-xs`}),R.is_available?"주문가능":"품절"]})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>Gc(R),className:`w-8 h-8 rounded-full text-sm font-medium transition-all duration-200 flex items-center justify-center ${R.is_available?"bg-green-100 text-green-700 hover:bg-green-200":"bg-red-100 text-red-700 hover:bg-red-200"}`,children:i.jsx("i",{className:`ri-${R.is_available?"check":"close"}-line text-sm`})}),i.jsx("button",{onClick:()=>{ie(R),K({name:R.name,description:R.description||"",price:R.price.toString(),category:R.category,is_available:R.is_available}),I(!0)},className:"w-8 h-8 rounded-full text-sm font-medium transition-all duration-200 flex items-center justify-center bg-white text-black border border-gray-300 hover:bg-gray-100",children:i.jsx("i",{className:"ri-edit-line text-sm"})}),i.jsx("button",{onClick:()=>{confirm("정말로 이 메뉴를 삭제하시겠습니까?")&&ql(R.id)},className:"w-8 h-8 rounded-full text-sm font-medium transition-all duration-200 flex items-center justify-center text-gray-500 hover:text-red-500 hover:bg-red-50",children:i.jsx("i",{className:"ri-delete-bin-line text-sm"})})]})]})]})})},R.id))}):i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-20 h-20 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-restaurant-line text-3xl text-orange-400"})}),i.jsx("h3",{className:"text-lg font-medium text-gray-600 mb-2",children:"메뉴가 없습니다"}),i.jsx("p",{className:"text-gray-500",children:"이 카테고리에 등록된 메뉴가 없습니다."})]})]})]}),ve&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md border-2 border-gray-300 shadow-xl",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:ee?"메뉴 수정":"메뉴 추가"}),i.jsxs("form",{onSubmit:Ul,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메뉴명 *"}),i.jsx("input",{type:"text",value:ye.name,onChange:R=>K({...ye,name:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"메뉴명을 입력하세요",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),i.jsx("textarea",{value:ye.description,onChange:R=>K({...ye,description:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"메뉴 설명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가격 *"}),i.jsx("input",{type:"number",value:ye.price,onChange:R=>K({...ye,price:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"가격을 입력하세요",min:"0",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리 *"}),i.jsxs("select",{value:ye.category,onChange:R=>K({...ye,category:R.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,children:[i.jsx("option",{value:"",children:"카테고리를 선택하세요"}),J.map(R=>i.jsx("option",{value:R,children:R},R))]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"is_available",checked:ye.is_available,onChange:R=>K({...ye,is_available:R.target.checked}),className:"w-4 h-4 text-orange-600 border-gray-300 rounded focus:ring-orange-500"}),i.jsx("label",{htmlFor:"is_available",className:"ml-2 text-sm text-gray-700",children:"판매 가능"})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg font-medium",children:ee?"수정하기":"추가하기"}),i.jsx("button",{type:"button",onClick:()=>{I(!1),ie(null),K({name:"",description:"",price:"",category:"",is_available:!0})},className:"flex-1 bg-gray-300 hover:bg-gray-400 text-gray-700 py-3 px-4 rounded-lg font-medium",children:"취소"})]})]})]})}),A==="store"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"mb-6 px-4",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-2",children:"매장 정보 관리"}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:"매장의 기본 정보를 확인하고 수정할 수 있습니다."})]}),i.jsx("div",{className:"mb-6 px-4",children:i.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 rounded-2xl p-6 border border-gray-200",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl flex items-center justify-center mx-auto mb-3",children:i.jsx("i",{className:"ri-share-line text-white text-xl"})}),i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:"주문 링크 공유"}),i.jsx("p",{className:"text-sm text-gray-600",children:"고객들이 이 링크로 주문할 수 있습니다"})]}),i.jsx("div",{className:"bg-white rounded-xl p-4 mb-4 border-2 border-gray-300 shadow-md",children:i.jsx("div",{className:"font-mono text-sm text-gray-700 break-all",children:le?`${window.location.origin}/menu/${le}`:"로딩 중..."})}),i.jsx("button",{onClick:Ll,className:`w-full py-3 px-4 rounded-xl font-semibold text-sm transition-all duration-200 flex items-center justify-center gap-2 ${we?"bg-green-500 hover:bg-green-600 text-white":"bg-orange-500 hover:bg-orange-600 text-white"}`,children:we?i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"ri-check-line text-lg"}),i.jsx("span",{children:"복사 완료!"})]}):i.jsxs(i.Fragment,{children:[i.jsx("i",{className:"ri-file-copy-line text-lg"}),i.jsx("span",{children:"링크 복사하기"})]})})]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md border-2 border-gray-300 p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"매장 정보"}),i.jsxs("button",{onClick:fs,className:"bg-orange-500 hover:bg-orange-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center gap-2",children:[i.jsx("i",{className:"ri-edit-line"}),"수정"]})]}),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-store-line text-orange-500"}),"기본 정보"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"매장명"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:be?.name||me||"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"카테고리"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:be?.category||"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"전화번호"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:be?.phone||"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달 지역"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:be?.delivery_area||"로딩 중..."})})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-time-line text-orange-500"}),"운영 정보"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"운영시간"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:be?.business_hours_start&&be?.business_hours_end?`${be.business_hours_start} - ${be.business_hours_end}`:"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주문마감시간"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:be?.order_cutoff_time||"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"최소주문금액"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:be?.minimum_order_amount?`${be.minimum_order_amount.toLocaleString()}원`:"로딩 중..."})})]})]})]}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-md font-semibold text-gray-800 mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-bank-line text-orange-500"}),"결제 정보"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"계좌번호"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900 font-mono",children:be?.bank_account||"로딩 중..."})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"예금주"}),i.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border",children:i.jsx("span",{className:"text-gray-900",children:be?.account_holder||"로딩 중..."})})]})]})]}),i.jsx("div",{className:"pt-4 border-t border-gray-200",children:i.jsx("div",{className:"bg-blue-50 rounded-lg p-4",children:i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("i",{className:"ri-information-line text-blue-500 text-lg mt-0.5"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm text-blue-800 font-medium mb-2",children:"배달비 설정"}),i.jsx("p",{className:"text-sm text-blue-700 mb-3",children:'배달지역별 배달비 설정은 상단의 "배달비 설정" 탭에서 관리할 수 있습니다.'}),i.jsxs("button",{onClick:()=>e("/admin-dashboard"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm font-medium transition-colors inline-flex items-center gap-2",children:[i.jsx("i",{className:"ri-truck-line"}),"배달비 설정으로 이동"]})]})]})})})]})]})]}),U&&te&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm w-full border-2 border-gray-300 shadow-xl",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-question-line text-2xl text-orange-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"주문상태 변경"}),i.jsxs("p",{className:"text-gray-600 mb-4",children:["주문 #",te.orderNumber,"의 상태를",i.jsx("br",{}),i.jsx("span",{className:"font-semibold text-orange-600",children:te.newStatus}),"로 변경하시겠습니까?"]}),i.jsx("div",{className:"bg-blue-100 border-l-4 border-blue-500 p-3 mb-6",children:i.jsxs("p",{className:"text-sm text-blue-800 font-medium",children:[i.jsx("i",{className:"ri-information-line mr-1"}),"고객 주문 조회 페이지에 실시간으로 반영됩니다"]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:sh,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{onClick:ih,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"확인"})]})]})})}),W&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto border-2 border-gray-300 shadow-xl",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"매장 정보 수정"}),i.jsx("button",{onClick:()=>X(!1),className:"text-gray-400 hover:text-gray-600",children:i.jsx("i",{className:"ri-close-line text-xl"})})]}),i.jsxs("form",{onSubmit:Gn,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"기본 정보"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"매장명"}),i.jsx("input",{type:"text",value:Y.name,onChange:R=>H({...Y,name:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"전화번호"}),i.jsx("input",{type:"tel",value:Y.phone,onChange:R=>H({...Y,phone:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주소"}),i.jsx("input",{type:"text",value:Y.address,onChange:R=>H({...Y,address:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"매장 설명"}),i.jsx("textarea",{value:Y.description,onChange:R=>H({...Y,description:R.target.value}),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"운영 정보"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"운영 시작시간"}),i.jsx("input",{type:"time",value:Y.business_hours_start,onChange:R=>H({...Y,business_hours_start:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"운영 종료시간"}),i.jsx("input",{type:"time",value:Y.business_hours_end,onChange:R=>H({...Y,business_hours_end:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주문마감시간 (시)"}),i.jsx("input",{type:"number",min:"0",max:"23",value:Y.order_deadline_hour,onChange:R=>H({...Y,order_deadline_hour:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"주문마감시간 (분)"}),i.jsx("input",{type:"number",min:"0",max:"59",value:Y.order_deadline_minute,onChange:R=>H({...Y,order_deadline_minute:R.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),i.jsxs("div",{children:[i.jsx("h4",{className:"text-lg font-medium text-gray-800 mb-4",children:"배달 정보"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달 지역"}),i.jsx("input",{type:"text",value:Y.delivery_area,onChange:R=>H({...Y,delivery_area:R.target.value}),placeholder:"예: 강남구, 서초구, 송파구",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"기본 배달비 (원)"}),i.jsx("input",{type:"number",min:"0",value:Y.delivery_fee,onChange:R=>H({...Y,delivery_fee:parseInt(R.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>X(!1),className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"수정 완료"})]})]})]})})}),i.jsx(On,{})]})]})}function $6({redirectType:e,storeId:t,className:r=""}){const[n,s]=w.useState(null),[o,u]=w.useState(!1);w.useEffect(()=>{const h=g=>{g.preventDefault(),s(g)},m=()=>{u(!0),s(null)};return window.addEventListener("beforeinstallprompt",h),window.addEventListener("appinstalled",m),window.matchMedia("(display-mode: standalone)").matches&&u(!0),()=>{window.removeEventListener("beforeinstallprompt",h),window.removeEventListener("appinstalled",m)}},[]);const d=async()=>{if(!n)return;if(Notification.permission==="default"){if(await Notification.requestPermission()!=="granted"){alert("알림 권한이 거부되었습니다. 브라우저 설정에서 알림을 허용해주세요.");return}}else if(Notification.permission==="denied"){alert("알림 권한이 거부되었습니다. 브라우저 설정에서 알림을 허용해주세요.");return}const h=new URL(window.location.href);h.searchParams.set("redirect",e),t&&h.searchParams.set("storeId",t),window.history.replaceState({},"",h.toString()),n.prompt();const{outcome:m}=await n.userChoice;console.log(m==="accepted"?"PWA 설치됨":"PWA 설치 취소됨"),s(null)};return o?i.jsx("div",{className:`text-center ${r}`,children:i.jsxs("div",{className:"inline-flex items-center px-4 py-2 bg-green-100 text-green-800 rounded-lg",children:[i.jsx("i",{className:"ri-check-line text-lg mr-2"}),"앱이 설치되었습니다"]})}):n?i.jsxs("button",{onClick:d,className:`inline-flex items-center px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors ${r}`,children:[i.jsx("i",{className:"ri-download-line text-lg mr-2"}),e==="admin"?"관리자 앱 설치":"메뉴 앱 설치"]}):i.jsx("div",{className:`text-center ${r}`,children:i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[i.jsxs("div",{className:"flex items-center justify-center mb-2",children:[i.jsx("i",{className:"ri-smartphone-line text-blue-600 text-xl mr-2"}),i.jsx("span",{className:"text-blue-800 font-semibold",children:"앱 설치 방법"})]}),i.jsx("p",{className:"text-sm text-blue-700 mb-2",children:"갤럭시에서 푸시 알림을 받으려면 앱을 설치해주세요"}),i.jsx("div",{className:"text-xs text-blue-600",children:'브라우저 메뉴(⋮) → "홈 화면에 추가" → "추가"'})]})})}const L6=async()=>{try{if(typeof window<"u"&&window.OneSignal){console.log("OneSignal Player ID 가져오기 시도 (v16)...");for(let e=0;e<10;e++){console.log(`OneSignal Player ID 시도 ${e+1}/10...`);let t=null;if(window.OneSignal.User?.PushSubscription?.id&&(t=window.OneSignal.User.PushSubscription.id,console.log("방법 1로 Player ID 획득:",t)),!t&&window.OneSignal.User?.onesignalId&&(t=window.OneSignal.User.onesignalId,console.log("방법 2로 Player ID 획득:",t)),!t&&typeof window.OneSignal.getPlayerId=="function")try{t=await window.OneSignal.getPlayerId(),console.log("방법 3으로 Player ID 획득:",t)}catch(r){console.warn("getPlayerId 호출 실패:",r)}if(t&&t!==null&&t!==void 0)return console.log("✅ OneSignal Player ID 최종 획득:",t),t;await new Promise(r=>setTimeout(r,500))}return console.warn("❌ OneSignal Player ID를 찾을 수 없음 (v16) - 10회 시도 후 포기"),console.log("OneSignal 디버깅 정보:",{OneSignalExists:!!window.OneSignal,UserExists:!!window.OneSignal.User,PushSubscriptionExists:!!window.OneSignal.User?.PushSubscription,PushSubscriptionId:window.OneSignal.User?.PushSubscription?.id,OneSignalId:window.OneSignal.User?.onesignalId,OptedIn:window.OneSignal.User?.PushSubscription?.optedIn}),null}return null}catch(e){return console.error("OneSignal 사용자 ID 가져오기 실패 (v16):",e),null}},I6=async()=>{try{console.log("=== OneSignal 구독 시작 ==="),console.log("window.OneSignal 존재:",!!window.OneSignal),console.log("window.OneSignalInitialized:",!!window.OneSignalInitialized),console.log("브라우저 정보:",navigator.userAgent);let e=0;for(;e<50&&(!window.OneSignal||!window.OneSignalInitialized);)console.log(`OneSignal 초기화 대기 중... (${e+1}/50)`),await new Promise(n=>setTimeout(n,100)),e++;if(!window.OneSignal)return console.error("OneSignal이 초기화되지 않았습니다."),!1;if(console.log("OneSignal 초기화 완료, 구독 시도..."),/iPad|iPhone|iPod/.test(navigator.userAgent)){console.log("iOS 기기 감지, OneSignal v16 구독 시도...");try{console.log("iOS OneSignal v16 권한 요청..."),await window.OneSignal.Notifications.requestPermission(),console.log("iOS OneSignal v16 권한 요청 완료");try{await window.OneSignal.setExternalUserId("user_"+Date.now()),console.log("iOS OneSignal 사용자 등록 완료")}catch(n){console.warn("iOS OneSignal 사용자 등록 실패:",n)}console.log("iOS Player ID 설정 대기 중...");for(let n=0;n<20;n++){console.log(`iOS Player ID 확인 시도 ${n+1}/20...`);const s=window.OneSignal.User?.PushSubscription?.id,o=window.OneSignal.User?.PushSubscription?.optedIn;if(console.log(`시도 ${n+1} - Player ID:`,s,"OptedIn:",o),s&&o)return console.log("✅ iOS OneSignal 구독 성공, Player ID 확인됨"),!0;await new Promise(u=>setTimeout(u,1e3))}return console.error("❌ iOS OneSignal Player ID를 20초 동안 기다렸지만 설정되지 않았습니다."),console.log("iOS OneSignal 최종 상태:",{optedIn:window.OneSignal.User?.PushSubscription?.optedIn,playerId:window.OneSignal.User?.PushSubscription?.id,onesignalId:window.OneSignal.User?.onesignalId}),!1}catch(n){return console.error("iOS OneSignal 구독 실패:",n),!1}}console.log("Android/Desktop에서 OneSignal 구독 시도...");try{await window.OneSignal.setExternalUserId("user_"+Date.now()),console.log("OneSignal 사용자 등록 완료")}catch(n){console.warn("OneSignal 사용자 등록 실패:",n)}console.log("Android/Desktop OneSignal v16 푸시 알림 권한 요청...");try{await window.OneSignal.Notifications.requestPermission(),console.log("OneSignal v16 권한 요청 완료")}catch(n){console.error("OneSignal v16 권한 요청 실패:",n)}console.log("구독 상태 확인 대기 중..."),await new Promise(n=>setTimeout(n,2e3));const r=window.OneSignal.User?.PushSubscription?.optedIn||!1;return console.log("OneSignal v16 구독 활성화 결과:",r),console.log("=== OneSignal v16 구독 완료 ==="),r}catch(e){return console.error("OneSignal 구독 활성화 실패:",e),console.error("에러 상세:",e.message),!1}},U6=async e=>{try{typeof window<"u"&&window.OneSignal&&(window.OneSignal.User.addTag("user_id",e),console.log("OneSignal v16 사용자 태그 설정 완료:",e))}catch(t){console.error("OneSignal v16 사용자 태그 설정 실패:",t)}},q6=()=>typeof window<"u"&&!!window.OneSignal;function wO(){const{user:e}=ir(),[t,r]=w.useState(!1),[n,s]=w.useState(!1),[o,u]=w.useState("");w.useEffect(()=>{e&&d()},[e]);const d=async()=>{if(e)try{if("serviceWorker"in navigator&&"PushManager"in window){const x=await(await navigator.serviceWorker.ready).pushManager.getSubscription();r(!!x)}}catch(g){console.error("구독 상태 확인 실패:",g)}},h=()=>{const g=window.matchMedia("(display-mode: standalone)").matches,x=window.navigator.standalone===!0,v=document.referrer.includes("android-app://"),b=g||x||v;return console.log("PWA 감지 결과:",{isStandalone:g,isIOSStandalone:x,isAndroidApp:v,isPWA:b,userAgent:navigator.userAgent,referrer:document.referrer}),b},m=async()=>{if(e){s(!0),u("");try{if(t){if("serviceWorker"in navigator&&"PushManager"in window){const x=await(await navigator.serviceWorker.ready).pushManager.getSubscription();x&&await x.unsubscribe()}r(!1),u("푸시 알림이 비활성화되었습니다.")}else{if(q6()||console.warn("OneSignal이 아직 로드되지 않았습니다. 기본 알림으로 진행합니다."),!h()){u(`❌ PWA에서만 푸시 알림을 사용할 수 있습니다.

📱 갤럭시에서 앱 설치 방법:
1. 브라우저 메뉴(⋮) → "홈 화면에 추가" 클릭
2. "추가" 버튼 클릭
3. 홈 화면에서 앱 아이콘으로 접속

설치 후 다시 시도해주세요!`),s(!1);return}if(console.log("기본 알림 권한 요청..."),Notification.permission==="default"){if(await Notification.requestPermission()!=="granted"){u("알림 권한이 거부되었습니다. 브라우저 설정에서 알림을 허용해주세요."),s(!1);return}}else if(Notification.permission==="denied"){u("알림 권한이 거부되었습니다. 브라우저 설정에서 알림을 허용해주세요."),s(!1);return}console.log("알림 권한 허용됨, OneSignal 시도...");try{const g=/iPad|iPhone|iPod/.test(navigator.userAgent),x=g?3e4:15e3,v=new Promise((j,N)=>setTimeout(()=>N(new Error("OneSignal 타임아웃")),x)),b=await Promise.race([I6(),v]);if(console.log("OneSignal 구독 결과:",b),b){console.log("OneSignal Player ID 가져오기 시도...");const j=await L6();if(j)if(console.log("OneSignal Player ID 획득:",j),await m6(j,e.id)){if(console.log("✅ OneSignal Player ID 데이터베이스 저장 성공"),await U6(e.id),console.log("OneSignal 사용자 태그 설정 완료:",e.id),r(!0),u("✅ 푸시 알림이 활성화되었습니다! (OneSignal)"),"serviceWorker"in navigator)try{await(await navigator.serviceWorker.ready).showNotification("푸시 알림 활성화",{body:"새 주문이 들어오면 알림을 받을 수 있습니다!",icon:"/favicon.ico",badge:"/favicon.ico",vibrate:[200,100,200]}),console.log("✅ 테스트 알림 발송 성공")}catch(_){console.error("테스트 알림 발송 실패:",_)}return}else{console.error("❌ OneSignal Player ID 데이터베이스 저장 실패"),u("❌ OneSignal 설정 저장에 실패했습니다."),s(!1);return}else{console.error("❌ OneSignal Player ID를 가져올 수 없음"),u(g?"❌ iOS OneSignal 설정에 실패했습니다. 다시 시도해주세요.":"❌ OneSignal Player ID 설정에 실패했습니다."),s(!1);return}}else{console.error("❌ OneSignal 구독에 실패했습니다."),u(g?"❌ iOS OneSignal 구독에 실패했습니다. 브라우저 알림 설정을 확인해주세요.":"❌ OneSignal 구독에 실패했습니다."),s(!1);return}}catch(g){console.error("OneSignal 구독 실패:",g);const x=/iPad|iPhone|iPod/.test(navigator.userAgent);g.message.includes("타임아웃")?u(x?"❌ iOS OneSignal 타임아웃이 발생했습니다. 브라우저를 재시작하고 다시 시도해주세요.":"❌ OneSignal 타임아웃이 발생했습니다."):u("❌ OneSignal 설정에 실패했습니다: "+g.message),s(!1);return}}}catch(g){console.error("알림 설정 오류:",g),u("❌ 알림 설정에 실패했습니다: "+g.message)}finally{s(!1)}}};return e?i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mb-4",children:h()&&i.jsxs("div",{className:"inline-flex items-center px-3 py-1 bg-green-100 text-green-800 rounded-lg text-sm",children:[i.jsx("i",{className:"ri-smartphone-line text-lg mr-2"}),"PWA 모드 (폰)"]})}),i.jsx("button",{onClick:m,disabled:n,className:`px-6 py-3 rounded-lg font-medium transition-all ${t?"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"} ${n?"opacity-50 cursor-not-allowed":""}`,children:n?"처리중...":t?"푸시 알림 비활성화":"푸시 알림 활성화"}),o&&i.jsx("div",{className:`mt-3 text-sm whitespace-pre-line ${o.includes("✅")?"text-green-600":o.includes("❌")?"text-red-600":"text-blue-600"}`,children:o})]}):null}function z6(){const e=vt(),{user:t,loading:r}=ir(),[n,s]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState(null);w.useEffect(()=>{if(!r&&!t){e("/admin-login");return}if(!r&&t&&t.role!=="admin"){e("/stores");return}t&&t.role==="admin"&&m()},[t,r,e]),w.useEffect(()=>{const g=x=>{const v=x.detail;console.log("새 주문 알림:",v),"Notification"in window&&Notification.permission==="granted"&&new Notification("새 주문이 도착했습니다!",{body:`${v.customer_name}님이 주문하셨습니다.`,icon:"/icon-192x192.png",badge:"/icon-192x192.png"})};return window.addEventListener("newOrder",g),()=>{window.removeEventListener("newOrder",g)}},[]);const m=async()=>{try{u(!0);const g=await Ep(t?.id);s(g)}catch(g){console.error("매장 정보 로드 실패:",g)}finally{u(!1)}};return r||o?i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(br,{}),i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-2",children:"관리자 대시보드"}),i.jsx("p",{className:"text-gray-600",children:"매장을 관리하고 주문을 확인하세요"})]}),n.length>0&&i.jsx(i.Fragment,{children:n.length>0&&i.jsxs("div",{className:"bg-white rounded-xl shadow-md border-2 border-gray-300 p-8 mb-8",children:[i.jsxs("div",{className:"text-center mb-8",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:n[0]?.name||"매장 정보 없음"}),i.jsx("p",{className:"text-gray-500",children:"장수반찬을 운영하고 계시군요! 🍽️"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[i.jsxs("button",{onClick:()=>e(`/admin/${n[0]?.id}/orders`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-shopping-cart-line text-lg text-blue-500"}),i.jsx("span",{children:"주문내역"})]}),i.jsxs("button",{onClick:()=>e(`/admin/${n[0]?.id}/menu`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-restaurant-line text-lg text-green-500"}),i.jsx("span",{children:"메뉴관리"})]}),i.jsxs("button",{onClick:()=>e(`/admin/${n[0]?.id}/daily-menu`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-calendar-line text-lg text-indigo-500"}),i.jsx("span",{children:"주문서 링크 만들기"})]}),i.jsxs("button",{onClick:()=>e(`/admin/${n[0]?.id}/analytics`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-bar-chart-line text-lg text-purple-500"}),i.jsx("span",{children:"성과분석"})]}),i.jsxs("button",{onClick:()=>e(`/admin/${n[0]?.id}/store`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-store-line text-lg text-orange-500"}),i.jsx("span",{children:"매장관리"})]}),i.jsxs("button",{onClick:()=>e(`/admin/delivery-settings/${n[0]?.id}`),className:"bg-white hover:bg-gray-50 text-gray-800 py-3 px-4 rounded-xl font-medium text-sm shadow-sm hover:shadow-md transition-all duration-300 flex items-center justify-center gap-2 border border-gray-200",children:[i.jsx("i",{className:"ri-truck-line text-lg text-purple-500"}),i.jsx("span",{children:"배달비 설정"})]})]})]})}),i.jsx("div",{className:"text-center mb-8",children:i.jsx($6,{})}),i.jsxs("div",{className:"bg-white rounded-xl shadow-md border-2 border-gray-300 p-8 mb-8",children:[i.jsx("div",{className:"text-center mb-6",children:i.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"알림 설정"})}),i.jsx(wO,{})]})]}),i.jsx(On,{})]})}const B6=async()=>{try{const{data:e,error:t}=await pe.from("stores").select("id, name, created_at");if(t)throw t;const r=e?.length||0,n=r,s=r*1e6,o=n*3e4;let u=0;return e?.forEach(d=>{const h=new Date(d.created_at),m=new Date,g=Math.max(0,(m.getFullYear()-h.getFullYear())*12+(m.getMonth()-h.getMonth()));u+=3e4*g}),{total_revenue:s+u,monthly_revenue:o,initial_revenue:s,monthly_fee_revenue:u,additional_revenue:0,active_contracts:n,total_contracts:r}}catch(e){throw console.error("수익 요약 조회 실패:",e),e}},H6=async()=>{try{const e=new Date,t=new Date(e.getTime()-720*60*60*1e3),r=new Date(e.getTime()-2160*60*60*1e3),{data:n,error:s}=await pe.from("users").select("id").eq("role","admin");if(s)throw s;const{data:o,error:u}=await pe.from("orders").select("user_id").gte("created_at",t.toISOString());if(u)throw u;const{data:d,error:h}=await pe.from("orders").select("user_id").gte("created_at",r.toISOString());if(h)throw h;const m=n?.length||0,g=new Set(o?.map(j=>j.user_id)||[]),x=new Set(d?.map(j=>j.user_id)||[]).size,v=m-x,b=m>0?v/m*100:0;return{total_owners:m,active_owners:x,churned_owners:v,churn_rate:Math.round(b*100)/100,last_30_days_churn:g.size}}catch(e){throw console.error("사장님 이탈률 계산 실패:",e),e}};function jO(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(r=jO(e[t]))&&(n&&(n+=" "),n+=r)}else for(r in e)e[r]&&(n&&(n+=" "),n+=r);return n}function We(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=jO(e))&&(n&&(n+=" "),n+=t);return n}var Pg={},Mg={},T1;function K6(){return T1||(T1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==="__proto__"}e.isUnsafeProperty=t})(Mg)),Mg}var Rg={},D1;function NO(){return D1||(D1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}e.isDeepKey=t})(Rg)),Rg}var $g={},P1;function _O(){return P1||(P1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}e.toKey=t})($g)),$g}var Lg={},M1;function Tp(){return M1||(M1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){const n=[],s=r.length;if(s===0)return n;let o=0,u="",d="",h=!1;for(r.charCodeAt(0)===46&&(n.push(""),o++);o<s;){const m=r[o];d?m==="\\"&&o+1<s?(o++,u+=r[o]):m===d?d="":u+=m:h?m==='"'||m==="'"?d=m:m==="]"?(h=!1,n.push(u),u=""):u+=m:m==="["?(h=!0,u&&(n.push(u),u="")):m==="."?u&&(n.push(u),u=""):u+=m,o++}return u&&n.push(u),n}e.toPath=t})(Lg)),Lg}var R1;function Dp(){return R1||(R1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=K6(),r=NO(),n=_O(),s=Tp();function o(d,h,m){if(d==null)return m;switch(typeof h){case"string":{if(t.isUnsafeProperty(h))return m;const g=d[h];return g===void 0?r.isDeepKey(h)?o(d,s.toPath(h),m):m:g}case"number":case"symbol":{typeof h=="number"&&(h=n.toKey(h));const g=d[h];return g===void 0?m:g}default:{if(Array.isArray(h))return u(d,h,m);if(Object.is(h?.valueOf(),-0)?h="-0":h=String(h),t.isUnsafeProperty(h))return m;const g=d[h];return g===void 0?m:g}}}function u(d,h,m){if(h.length===0)return m;let g=d;for(let x=0;x<h.length;x++){if(g==null||t.isUnsafeProperty(h[x]))return m;g=g[h[x]]}return g===void 0?m:g}e.get=o})(Pg)),Pg}var Ig,$1;function Y6(){return $1||($1=1,Ig=Dp().get),Ig}var G6=Y6();const pl=Bn(G6);var Ug={exports:{}},rt={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L1;function V6(){if(L1)return rt;L1=1;var e=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),v=Symbol.for("react.view_transition"),b=Symbol.for("react.client.reference");function j(N){if(typeof N=="object"&&N!==null){var _=N.$$typeof;switch(_){case e:switch(N=N.type,N){case r:case s:case n:case h:case m:case v:return N;default:switch(N=N&&N.$$typeof,N){case u:case d:case x:case g:return N;case o:return N;default:return _}}case t:return _}}}return rt.ContextConsumer=o,rt.ContextProvider=u,rt.Element=e,rt.ForwardRef=d,rt.Fragment=r,rt.Lazy=x,rt.Memo=g,rt.Portal=t,rt.Profiler=s,rt.StrictMode=n,rt.Suspense=h,rt.SuspenseList=m,rt.isContextConsumer=function(N){return j(N)===o},rt.isContextProvider=function(N){return j(N)===u},rt.isElement=function(N){return typeof N=="object"&&N!==null&&N.$$typeof===e},rt.isForwardRef=function(N){return j(N)===d},rt.isFragment=function(N){return j(N)===r},rt.isLazy=function(N){return j(N)===x},rt.isMemo=function(N){return j(N)===g},rt.isPortal=function(N){return j(N)===t},rt.isProfiler=function(N){return j(N)===s},rt.isStrictMode=function(N){return j(N)===n},rt.isSuspense=function(N){return j(N)===h},rt.isSuspenseList=function(N){return j(N)===m},rt.isValidElementType=function(N){return typeof N=="string"||typeof N=="function"||N===r||N===s||N===n||N===h||N===m||typeof N=="object"&&N!==null&&(N.$$typeof===x||N.$$typeof===g||N.$$typeof===u||N.$$typeof===o||N.$$typeof===d||N.$$typeof===b||N.getModuleId!==void 0)},rt.typeOf=j,rt}var I1;function F6(){return I1||(I1=1,Ug.exports=V6()),Ug.exports}var W6=F6(),Or=e=>e===0?0:e>0?1:-1,Er=e=>typeof e=="number"&&e!=+e,Gi=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Ae=e=>(typeof e=="number"||e instanceof Number)&&!Er(e),In=e=>Ae(e)||typeof e=="string",X6=0,oc=e=>{var t=++X6;return"".concat(e||"").concat(t)},_n=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ae(t)&&typeof t!="string")return n;var o;if(Gi(t)){if(r==null)return n;var u=t.indexOf("%");o=r*parseFloat(t.slice(0,u))/100}else o=+t;return Er(o)&&(o=n),s&&r!=null&&o>r&&(o=r),o},SO=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,r={},n=0;n<t;n++)if(!r[e[n]])r[e[n]]=!0;else return!0;return!1};function ct(e,t,r){return Ae(e)&&Ae(t)?e+r*(t-e):t}function OO(e,t,r){if(!(!e||!e.length))return e.find(n=>n&&(typeof t=="function"?t(n):pl(n,t))===r)}var ht=e=>e===null||typeof e>"u",Sc=e=>ht(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1)),Q6=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Pp(e){if(typeof e!="string")return!1;var t=Q6;return t.includes(e)}var Z6=["viewBox","children"],U1=["points","pathLength"],qg={svg:Z6,polygon:U1,polyline:U1},Mp=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(w.isValidElement(e)&&(r=e.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(s=>{Pp(s)&&(n[s]=(o=>r[s](r,o)))}),n},J6=(e,t,r)=>n=>(e(t,r,n),null),Rp=(e,t,r)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var n=null;return Object.keys(e).forEach(s=>{var o=e[s];Pp(s)&&typeof o=="function"&&(n||(n={}),n[s]=J6(o,t,r))}),n},e5=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"];function AO(e){if(typeof e!="string")return!1;var t=e5;return t.includes(e)}function Oa(e){var t=Object.entries(e).filter(r=>{var[n]=r;return AO(n)});return Object.fromEntries(t)}var q1=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",z1=null,zg=null,EO=e=>{if(e===z1&&Array.isArray(zg))return zg;var t=[];return w.Children.forEach(e,r=>{ht(r)||(W6.isFragment(r)?t=t.concat(EO(r.props.children)):t.push(r))}),zg=t,z1=e,t};function t5(e,t){var r=[],n=[];return Array.isArray(t)?n=t.map(s=>q1(s)):n=[q1(t)],EO(e).forEach(s=>{var o=pl(s,"type.displayName")||pl(s,"type.name");n.indexOf(o)!==-1&&r.push(s)}),r}var Sf=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,r5=(e,t,r,n)=>{var s;if(typeof t=="symbol"||typeof t=="number")return!0;var o=(s=n&&qg?.[n])!==null&&s!==void 0?s:[],u=t.startsWith("data-"),d=typeof e!="function"&&(!!n&&o.includes(t)||AO(t)),h=!!r&&Pp(t);return u||d||h},xt=(e,t,r)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(w.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var s={};return Object.keys(n).forEach(o=>{var u;r5((u=n)===null||u===void 0?void 0:u[o],o,t,r)&&(s[o]=n[o])}),s},n5=["children","width","height","viewBox","className","style","title","desc"];function Sx(){return Sx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Sx.apply(null,arguments)}function a5(e,t){if(e==null)return{};var r,n,s=i5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function i5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var kO=w.forwardRef((e,t)=>{var{children:r,width:n,height:s,viewBox:o,className:u,style:d,title:h,desc:m}=e,g=a5(e,n5),x=o||{width:n,height:s,x:0,y:0},v=We("recharts-surface",u);return w.createElement("svg",Sx({},xt(g,!0,"svg"),{className:v,width:n,height:s,style:d,viewBox:"".concat(x.x," ").concat(x.y," ").concat(x.width," ").concat(x.height),ref:t}),w.createElement("title",null,h),w.createElement("desc",null,m),r)}),s5=["children","className"];function Ox(){return Ox=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Ox.apply(null,arguments)}function l5(e,t){if(e==null)return{};var r,n,s=o5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function o5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var hr=w.forwardRef((e,t)=>{var{children:r,className:n}=e,s=l5(e,s5),o=We("recharts-layer",n);return w.createElement("g",Ox({className:o},xt(s,!0),{ref:t}),r)}),c5=w.createContext(null);function ot(e){return function(){return e}}const CO=Math.cos,Pd=Math.sin,An=Math.sqrt,Md=Math.PI,Of=2*Md,Ax=Math.PI,Ex=2*Ax,Bi=1e-6,u5=Ex-Bi;function TO(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function d5(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return TO;const r=10**t;return function(n){this._+=n[0];for(let s=1,o=n.length;s<o;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class f5{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?TO:d5(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,s){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(t,r,n,s,o,u){this._append`C${+t},${+r},${+n},${+s},${this._x1=+o},${this._y1=+u}`}arcTo(t,r,n,s,o){if(t=+t,r=+r,n=+n,s=+s,o=+o,o<0)throw new Error(`negative radius: ${o}`);let u=this._x1,d=this._y1,h=n-t,m=s-r,g=u-t,x=d-r,v=g*g+x*x;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(v>Bi)if(!(Math.abs(x*h-m*g)>Bi)||!o)this._append`L${this._x1=t},${this._y1=r}`;else{let b=n-u,j=s-d,N=h*h+m*m,_=b*b+j*j,O=Math.sqrt(N),S=Math.sqrt(v),A=o*Math.tan((Ax-Math.acos((N+v-_)/(2*O*S)))/2),k=A/S,C=A/O;Math.abs(k-1)>Bi&&this._append`L${t+k*g},${r+k*x}`,this._append`A${o},${o},0,0,${+(x*b>g*j)},${this._x1=t+C*h},${this._y1=r+C*m}`}}arc(t,r,n,s,o,u){if(t=+t,r=+r,n=+n,u=!!u,n<0)throw new Error(`negative radius: ${n}`);let d=n*Math.cos(s),h=n*Math.sin(s),m=t+d,g=r+h,x=1^u,v=u?s-o:o-s;this._x1===null?this._append`M${m},${g}`:(Math.abs(this._x1-m)>Bi||Math.abs(this._y1-g)>Bi)&&this._append`L${m},${g}`,n&&(v<0&&(v=v%Ex+Ex),v>u5?this._append`A${n},${n},0,1,${x},${t-d},${r-h}A${n},${n},0,1,${x},${this._x1=m},${this._y1=g}`:v>Bi&&this._append`A${n},${n},0,${+(v>=Ax)},${x},${this._x1=t+n*Math.cos(o)},${this._y1=r+n*Math.sin(o)}`)}rect(t,r,n,s){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function $p(e){let t=3;return e.digits=function(r){if(!arguments.length)return t;if(r==null)t=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);t=n}return e},()=>new f5(t)}function Lp(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function DO(e){this._context=e}DO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Af(e){return new DO(e)}function PO(e){return e[0]}function MO(e){return e[1]}function RO(e,t){var r=ot(!0),n=null,s=Af,o=null,u=$p(d);e=typeof e=="function"?e:e===void 0?PO:ot(e),t=typeof t=="function"?t:t===void 0?MO:ot(t);function d(h){var m,g=(h=Lp(h)).length,x,v=!1,b;for(n==null&&(o=s(b=u())),m=0;m<=g;++m)!(m<g&&r(x=h[m],m,h))===v&&((v=!v)?o.lineStart():o.lineEnd()),v&&o.point(+e(x,m,h),+t(x,m,h));if(b)return o=null,b+""||null}return d.x=function(h){return arguments.length?(e=typeof h=="function"?h:ot(+h),d):e},d.y=function(h){return arguments.length?(t=typeof h=="function"?h:ot(+h),d):t},d.defined=function(h){return arguments.length?(r=typeof h=="function"?h:ot(!!h),d):r},d.curve=function(h){return arguments.length?(s=h,n!=null&&(o=s(n)),d):s},d.context=function(h){return arguments.length?(h==null?n=o=null:o=s(n=h),d):n},d}function ud(e,t,r){var n=null,s=ot(!0),o=null,u=Af,d=null,h=$p(m);e=typeof e=="function"?e:e===void 0?PO:ot(+e),t=typeof t=="function"?t:ot(t===void 0?0:+t),r=typeof r=="function"?r:r===void 0?MO:ot(+r);function m(x){var v,b,j,N=(x=Lp(x)).length,_,O=!1,S,A=new Array(N),k=new Array(N);for(o==null&&(d=u(S=h())),v=0;v<=N;++v){if(!(v<N&&s(_=x[v],v,x))===O)if(O=!O)b=v,d.areaStart(),d.lineStart();else{for(d.lineEnd(),d.lineStart(),j=v-1;j>=b;--j)d.point(A[j],k[j]);d.lineEnd(),d.areaEnd()}O&&(A[v]=+e(_,v,x),k[v]=+t(_,v,x),d.point(n?+n(_,v,x):A[v],r?+r(_,v,x):k[v]))}if(S)return d=null,S+""||null}function g(){return RO().defined(s).curve(u).context(o)}return m.x=function(x){return arguments.length?(e=typeof x=="function"?x:ot(+x),n=null,m):e},m.x0=function(x){return arguments.length?(e=typeof x=="function"?x:ot(+x),m):e},m.x1=function(x){return arguments.length?(n=x==null?null:typeof x=="function"?x:ot(+x),m):n},m.y=function(x){return arguments.length?(t=typeof x=="function"?x:ot(+x),r=null,m):t},m.y0=function(x){return arguments.length?(t=typeof x=="function"?x:ot(+x),m):t},m.y1=function(x){return arguments.length?(r=x==null?null:typeof x=="function"?x:ot(+x),m):r},m.lineX0=m.lineY0=function(){return g().x(e).y(t)},m.lineY1=function(){return g().x(e).y(r)},m.lineX1=function(){return g().x(n).y(t)},m.defined=function(x){return arguments.length?(s=typeof x=="function"?x:ot(!!x),m):s},m.curve=function(x){return arguments.length?(u=x,o!=null&&(d=u(o)),m):u},m.context=function(x){return arguments.length?(x==null?o=d=null:d=u(o=x),m):o},m}class $O{constructor(t,r){this._context=t,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,r){switch(t=+t,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,r):this._context.moveTo(t,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,r,t,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,t,this._y0,t,r);break}}this._x0=t,this._y0=r}}function h5(e){return new $O(e,!0)}function m5(e){return new $O(e,!1)}const Ip={draw(e,t){const r=An(t/Md);e.moveTo(r,0),e.arc(0,0,r,0,Of)}},g5={draw(e,t){const r=An(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},LO=An(1/3),x5=LO*2,p5={draw(e,t){const r=An(t/x5),n=r*LO;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},v5={draw(e,t){const r=An(t),n=-r/2;e.rect(n,n,r,r)}},y5=.8908130915292852,IO=Pd(Md/10)/Pd(7*Md/10),b5=Pd(Of/10)*IO,w5=-CO(Of/10)*IO,j5={draw(e,t){const r=An(t*y5),n=b5*r,s=w5*r;e.moveTo(0,-r),e.lineTo(n,s);for(let o=1;o<5;++o){const u=Of*o/5,d=CO(u),h=Pd(u);e.lineTo(h*r,-d*r),e.lineTo(d*n-h*s,h*n+d*s)}e.closePath()}},Bg=An(3),N5={draw(e,t){const r=-An(t/(Bg*3));e.moveTo(0,r*2),e.lineTo(-Bg*r,-r),e.lineTo(Bg*r,-r),e.closePath()}},an=-.5,sn=An(3)/2,kx=1/An(12),_5=(kx/2+1)*3,S5={draw(e,t){const r=An(t/_5),n=r/2,s=r*kx,o=n,u=r*kx+r,d=-o,h=u;e.moveTo(n,s),e.lineTo(o,u),e.lineTo(d,h),e.lineTo(an*n-sn*s,sn*n+an*s),e.lineTo(an*o-sn*u,sn*o+an*u),e.lineTo(an*d-sn*h,sn*d+an*h),e.lineTo(an*n+sn*s,an*s-sn*n),e.lineTo(an*o+sn*u,an*u-sn*o),e.lineTo(an*d+sn*h,an*h-sn*d),e.closePath()}};function O5(e,t){let r=null,n=$p(s);e=typeof e=="function"?e:ot(e||Ip),t=typeof t=="function"?t:ot(t===void 0?64:+t);function s(){let o;if(r||(r=o=n()),e.apply(this,arguments).draw(r,+t.apply(this,arguments)),o)return r=null,o+""||null}return s.type=function(o){return arguments.length?(e=typeof o=="function"?o:ot(o),s):e},s.size=function(o){return arguments.length?(t=typeof o=="function"?o:ot(+o),s):t},s.context=function(o){return arguments.length?(r=o??null,s):r},s}function Rd(){}function $d(e,t,r){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+r)/6)}function UO(e){this._context=e}UO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:$d(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:$d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function A5(e){return new UO(e)}function qO(e){this._context=e}qO.prototype={areaStart:Rd,areaEnd:Rd,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:$d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function E5(e){return new qO(e)}function zO(e){this._context=e}zO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+e)/6,n=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:$d(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function k5(e){return new zO(e)}function BO(e){this._context=e}BO.prototype={areaStart:Rd,areaEnd:Rd,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function C5(e){return new BO(e)}function B1(e){return e<0?-1:1}function H1(e,t,r){var n=e._x1-e._x0,s=t-e._x1,o=(e._y1-e._y0)/(n||s<0&&-0),u=(r-e._y1)/(s||n<0&&-0),d=(o*s+u*n)/(n+s);return(B1(o)+B1(u))*Math.min(Math.abs(o),Math.abs(u),.5*Math.abs(d))||0}function K1(e,t){var r=e._x1-e._x0;return r?(3*(e._y1-e._y0)/r-t)/2:t}function Hg(e,t,r){var n=e._x0,s=e._y0,o=e._x1,u=e._y1,d=(o-n)/3;e._context.bezierCurveTo(n+d,s+d*t,o-d,u-d*r,o,u)}function Ld(e){this._context=e}Ld.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Hg(this,this._t0,K1(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var r=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Hg(this,K1(this,r=H1(this,e,t)),r);break;default:Hg(this,this._t0,r=H1(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=r}}};function HO(e){this._context=new KO(e)}(HO.prototype=Object.create(Ld.prototype)).point=function(e,t){Ld.prototype.point.call(this,t,e)};function KO(e){this._context=e}KO.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,r,n,s,o){this._context.bezierCurveTo(t,e,n,r,o,s)}};function T5(e){return new Ld(e)}function D5(e){return new HO(e)}function YO(e){this._context=e}YO.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,r=e.length;if(r)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),r===2)this._context.lineTo(e[1],t[1]);else for(var n=Y1(e),s=Y1(t),o=0,u=1;u<r;++o,++u)this._context.bezierCurveTo(n[0][o],s[0][o],n[1][o],s[1][o],e[u],t[u]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Y1(e){var t,r=e.length-1,n,s=new Array(r),o=new Array(r),u=new Array(r);for(s[0]=0,o[0]=2,u[0]=e[0]+2*e[1],t=1;t<r-1;++t)s[t]=1,o[t]=4,u[t]=4*e[t]+2*e[t+1];for(s[r-1]=2,o[r-1]=7,u[r-1]=8*e[r-1]+e[r],t=1;t<r;++t)n=s[t]/o[t-1],o[t]-=n,u[t]-=n*u[t-1];for(s[r-1]=u[r-1]/o[r-1],t=r-2;t>=0;--t)s[t]=(u[t]-s[t+1])/o[t];for(o[r-1]=(e[r]+s[r-1])/2,t=0;t<r-1;++t)o[t]=2*e[t+1]-s[t+1];return[s,o]}function P5(e){return new YO(e)}function Ef(e,t){this._context=e,this._t=t}Ef.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var r=this._x*(1-this._t)+e*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,t)}break}}this._x=e,this._y=t}};function M5(e){return new Ef(e,.5)}function R5(e){return new Ef(e,0)}function $5(e){return new Ef(e,1)}function vl(e,t){if((u=e.length)>1)for(var r=1,n,s,o=e[t[0]],u,d=o.length;r<u;++r)for(s=o,o=e[t[r]],n=0;n<d;++n)o[n][1]+=o[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function Cx(e){for(var t=e.length,r=new Array(t);--t>=0;)r[t]=t;return r}function L5(e,t){return e[t]}function I5(e){const t=[];return t.key=e,t}function U5(){var e=ot([]),t=Cx,r=vl,n=L5;function s(o){var u=Array.from(e.apply(this,arguments),I5),d,h=u.length,m=-1,g;for(const x of o)for(d=0,++m;d<h;++d)(u[d][m]=[0,+n(x,u[d].key,m,o)]).data=x;for(d=0,g=Lp(t(u));d<h;++d)u[g[d]].index=d;return r(u,g),u}return s.keys=function(o){return arguments.length?(e=typeof o=="function"?o:ot(Array.from(o)),s):e},s.value=function(o){return arguments.length?(n=typeof o=="function"?o:ot(+o),s):n},s.order=function(o){return arguments.length?(t=o==null?Cx:typeof o=="function"?o:ot(Array.from(o)),s):t},s.offset=function(o){return arguments.length?(r=o??vl,s):r},s}function q5(e,t){if((n=e.length)>0){for(var r,n,s=0,o=e[0].length,u;s<o;++s){for(u=r=0;r<n;++r)u+=e[r][s][1]||0;if(u)for(r=0;r<n;++r)e[r][s][1]/=u}vl(e,t)}}function z5(e,t){if((s=e.length)>0){for(var r=0,n=e[t[0]],s,o=n.length;r<o;++r){for(var u=0,d=0;u<s;++u)d+=e[u][r][1]||0;n[r][1]+=n[r][0]=-d/2}vl(e,t)}}function B5(e,t){if(!(!((u=e.length)>0)||!((o=(s=e[t[0]]).length)>0))){for(var r=0,n=1,s,o,u;n<o;++n){for(var d=0,h=0,m=0;d<u;++d){for(var g=e[t[d]],x=g[n][1]||0,v=g[n-1][1]||0,b=(x-v)/2,j=0;j<d;++j){var N=e[t[j]],_=N[n][1]||0,O=N[n-1][1]||0;b+=_-O}h+=x,m+=b*x}s[n-1][1]+=s[n-1][0]=r,h&&(r-=m/h)}s[n-1][1]+=s[n-1][0]=r,vl(e,t)}}var H5=["type","size","sizeType"];function Tx(){return Tx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Tx.apply(null,arguments)}function G1(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function V1(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?G1(Object(r),!0).forEach(function(n){K5(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):G1(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K5(e,t,r){return(t=Y5(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y5(e){var t=G5(e,"string");return typeof t=="symbol"?t:t+""}function G5(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function V5(e,t){if(e==null)return{};var r,n,s=F5(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function F5(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var GO={symbolCircle:Ip,symbolCross:g5,symbolDiamond:p5,symbolSquare:v5,symbolStar:j5,symbolTriangle:N5,symbolWye:S5},W5=Math.PI/180,X5=e=>{var t="symbol".concat(Sc(e));return GO[t]||Ip},Q5=(e,t,r)=>{if(t==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var n=18*W5;return 1.25*e*e*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Z5=(e,t)=>{GO["symbol".concat(Sc(e))]=t},VO=e=>{var{type:t="circle",size:r=64,sizeType:n="area"}=e,s=V5(e,H5),o=V1(V1({},s),{},{type:t,size:r,sizeType:n}),u="circle";typeof t=="string"&&(u=t);var d=()=>{var v=X5(u),b=O5().type(v).size(Q5(r,n,u));return b()},{className:h,cx:m,cy:g}=o,x=xt(o,!0);return m===+m&&g===+g&&r===+r?w.createElement("path",Tx({},x,{className:We("recharts-symbols",h),transform:"translate(".concat(m,", ").concat(g,")"),d:d()})):null};VO.registerSymbol=Z5;var Kg={},Yg={},F1;function J5(){return F1||(F1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){const s=new Map;for(let o=0;o<r.length;o++){const u=r[o],d=n(u);s.has(d)||s.set(d,u)}return Array.from(s.values())}e.uniqBy=t})(Yg)),Yg}var Gg={},W1;function FO(){return W1||(W1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r}e.identity=t})(Gg)),Gg}var Vg={},Fg={},Wg={},X1;function eR(){return X1||(X1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Number.isSafeInteger(r)&&r>=0}e.isLength=t})(Wg)),Wg}var Q1;function Up(){return Q1||(Q1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eR();function r(n){return n!=null&&typeof n!="function"&&t.isLength(n.length)}e.isArrayLike=r})(Fg)),Fg}var Xg={},Z1;function tR(){return Z1||(Z1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="object"&&r!==null}e.isObjectLike=t})(Xg)),Xg}var J1;function rR(){return J1||(J1=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Up(),r=tR();function n(s){return r.isObjectLike(s)&&t.isArrayLike(s)}e.isArrayLikeObject=n})(Vg)),Vg}var Qg={},Zg={},eN;function nR(){return eN||(eN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dp();function r(n){return function(s){return t.get(s,n)}}e.property=r})(Zg)),Zg}var Jg={},e0={},t0={},r0={},tN;function WO(){return tN||(tN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r!==null&&(typeof r=="object"||typeof r=="function")}e.isObject=t})(r0)),r0}var n0={},rN;function XO(){return rN||(rN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null||typeof r!="object"&&typeof r!="function"}e.isPrimitive=t})(n0)),n0}var a0={},nN;function QO(){return nN||(nN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}e.eq=t})(a0)),a0}var aN;function aR(){return aN||(aN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qp(),r=WO(),n=XO(),s=QO();function o(x,v,b){return typeof b!="function"?t.isMatch(x,v):u(x,v,function j(N,_,O,S,A,k){const C=b(N,_,O,S,A,k);return C!==void 0?!!C:u(N,_,j,k)},new Map)}function u(x,v,b,j){if(v===x)return!0;switch(typeof v){case"object":return d(x,v,b,j);case"function":return Object.keys(v).length>0?u(x,{...v},b,j):s.eq(x,v);default:return r.isObject(x)?typeof v=="string"?v==="":!0:s.eq(x,v)}}function d(x,v,b,j){if(v==null)return!0;if(Array.isArray(v))return m(x,v,b,j);if(v instanceof Map)return h(x,v,b,j);if(v instanceof Set)return g(x,v,b,j);const N=Object.keys(v);if(x==null)return N.length===0;if(N.length===0)return!0;if(j&&j.has(v))return j.get(v)===x;j&&j.set(v,x);try{for(let _=0;_<N.length;_++){const O=N[_];if(!n.isPrimitive(x)&&!(O in x)||v[O]===void 0&&x[O]!==void 0||v[O]===null&&x[O]!==null||!b(x[O],v[O],O,x,v,j))return!1}return!0}finally{j&&j.delete(v)}}function h(x,v,b,j){if(v.size===0)return!0;if(!(x instanceof Map))return!1;for(const[N,_]of v.entries()){const O=x.get(N);if(b(O,_,N,x,v,j)===!1)return!1}return!0}function m(x,v,b,j){if(v.length===0)return!0;if(!Array.isArray(x))return!1;const N=new Set;for(let _=0;_<v.length;_++){const O=v[_];let S=!1;for(let A=0;A<x.length;A++){if(N.has(A))continue;const k=x[A];let C=!1;if(b(k,O,_,x,v,j)&&(C=!0),C){N.add(A),S=!0;break}}if(!S)return!1}return!0}function g(x,v,b,j){return v.size===0?!0:x instanceof Set?m([...x],[...v],b,j):!1}e.isMatchWith=o,e.isSetMatch=g})(t0)),t0}var iN;function qp(){return iN||(iN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aR();function r(n,s){return t.isMatchWith(n,s,()=>{})}e.isMatch=r})(e0)),e0}var i0={},s0={},l0={},sN;function iR(){return sN||(sN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}e.getSymbols=t})(l0)),l0}var o0={},lN;function ZO(){return lN||(lN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}e.getTag=t})(o0)),o0}var c0={},oN;function JO(){return oN||(oN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",r="[object String]",n="[object Number]",s="[object Boolean]",o="[object Arguments]",u="[object Symbol]",d="[object Date]",h="[object Map]",m="[object Set]",g="[object Array]",x="[object Function]",v="[object ArrayBuffer]",b="[object Object]",j="[object Error]",N="[object DataView]",_="[object Uint8Array]",O="[object Uint8ClampedArray]",S="[object Uint16Array]",A="[object Uint32Array]",k="[object BigUint64Array]",C="[object Int8Array]",P="[object Int16Array]",T="[object Int32Array]",D="[object BigInt64Array]",$="[object Float32Array]",U="[object Float64Array]";e.argumentsTag=o,e.arrayBufferTag=v,e.arrayTag=g,e.bigInt64ArrayTag=D,e.bigUint64ArrayTag=k,e.booleanTag=s,e.dataViewTag=N,e.dateTag=d,e.errorTag=j,e.float32ArrayTag=$,e.float64ArrayTag=U,e.functionTag=x,e.int16ArrayTag=P,e.int32ArrayTag=T,e.int8ArrayTag=C,e.mapTag=h,e.numberTag=n,e.objectTag=b,e.regexpTag=t,e.setTag=m,e.stringTag=r,e.symbolTag=u,e.uint16ArrayTag=S,e.uint32ArrayTag=A,e.uint8ArrayTag=_,e.uint8ClampedArrayTag=O})(c0)),c0}var u0={},cN;function sR(){return cN||(cN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}e.isTypedArray=t})(u0)),u0}var uN;function eA(){return uN||(uN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=iR(),r=ZO(),n=JO(),s=XO(),o=sR();function u(g,x){return d(g,void 0,g,new Map,x)}function d(g,x,v,b=new Map,j=void 0){const N=j?.(g,x,v,b);if(N!==void 0)return N;if(s.isPrimitive(g))return g;if(b.has(g))return b.get(g);if(Array.isArray(g)){const _=new Array(g.length);b.set(g,_);for(let O=0;O<g.length;O++)_[O]=d(g[O],O,v,b,j);return Object.hasOwn(g,"index")&&(_.index=g.index),Object.hasOwn(g,"input")&&(_.input=g.input),_}if(g instanceof Date)return new Date(g.getTime());if(g instanceof RegExp){const _=new RegExp(g.source,g.flags);return _.lastIndex=g.lastIndex,_}if(g instanceof Map){const _=new Map;b.set(g,_);for(const[O,S]of g)_.set(O,d(S,O,v,b,j));return _}if(g instanceof Set){const _=new Set;b.set(g,_);for(const O of g)_.add(d(O,void 0,v,b,j));return _}if(typeof Buffer<"u"&&Buffer.isBuffer(g))return g.subarray();if(o.isTypedArray(g)){const _=new(Object.getPrototypeOf(g)).constructor(g.length);b.set(g,_);for(let O=0;O<g.length;O++)_[O]=d(g[O],O,v,b,j);return _}if(g instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&g instanceof SharedArrayBuffer)return g.slice(0);if(g instanceof DataView){const _=new DataView(g.buffer.slice(0),g.byteOffset,g.byteLength);return b.set(g,_),h(_,g,v,b,j),_}if(typeof File<"u"&&g instanceof File){const _=new File([g],g.name,{type:g.type});return b.set(g,_),h(_,g,v,b,j),_}if(g instanceof Blob){const _=new Blob([g],{type:g.type});return b.set(g,_),h(_,g,v,b,j),_}if(g instanceof Error){const _=new g.constructor;return b.set(g,_),_.message=g.message,_.name=g.name,_.stack=g.stack,_.cause=g.cause,h(_,g,v,b,j),_}if(typeof g=="object"&&m(g)){const _=Object.create(Object.getPrototypeOf(g));return b.set(g,_),h(_,g,v,b,j),_}return g}function h(g,x,v=g,b,j){const N=[...Object.keys(x),...t.getSymbols(x)];for(let _=0;_<N.length;_++){const O=N[_],S=Object.getOwnPropertyDescriptor(g,O);(S==null||S.writable)&&(g[O]=d(x[O],O,v,b,j))}}function m(g){switch(r.getTag(g)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=u,e.cloneDeepWithImpl=d,e.copyProperties=h})(s0)),s0}var dN;function lR(){return dN||(dN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eA();function r(n){return t.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}e.cloneDeep=r})(i0)),i0}var fN;function oR(){return fN||(fN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qp(),r=lR();function n(s){return s=r.cloneDeep(s),o=>t.isMatch(o,s)}e.matches=n})(Jg)),Jg}var d0={},f0={},h0={},hN;function cR(){return hN||(hN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=eA(),r=JO();function n(s,o){return t.cloneDeepWith(s,(u,d,h,m)=>{const g=o?.(u,d,h,m);if(g!==void 0)return g;if(typeof s=="object")switch(Object.prototype.toString.call(s)){case r.numberTag:case r.stringTag:case r.booleanTag:{const x=new s.constructor(s?.valueOf());return t.copyProperties(x,s),x}case r.argumentsTag:{const x={};return t.copyProperties(x,s),x.length=s.length,x[Symbol.iterator]=s[Symbol.iterator],x}default:return}})}e.cloneDeepWith=n})(h0)),h0}var mN;function uR(){return mN||(mN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cR();function r(n){return t.cloneDeepWith(n)}e.cloneDeep=r})(f0)),f0}var m0={},g0={},gN;function tA(){return gN||(gN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function r(n,s=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<s;case"symbol":return!1;case"string":return t.test(n)}}e.isIndex=r})(g0)),g0}var x0={},xN;function dR(){return xN||(xN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=ZO();function r(n){return n!==null&&typeof n=="object"&&t.getTag(n)==="[object Arguments]"}e.isArguments=r})(x0)),x0}var pN;function fR(){return pN||(pN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NO(),r=tA(),n=dR(),s=Tp();function o(u,d){let h;if(Array.isArray(d)?h=d:typeof d=="string"&&t.isDeepKey(d)&&u?.[d]==null?h=s.toPath(d):h=[d],h.length===0)return!1;let m=u;for(let g=0;g<h.length;g++){const x=h[g];if((m==null||!Object.hasOwn(m,x))&&!((Array.isArray(m)||n.isArguments(m))&&r.isIndex(x)&&x<m.length))return!1;m=m[x]}return!0}e.has=o})(m0)),m0}var vN;function hR(){return vN||(vN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=qp(),r=_O(),n=uR(),s=Dp(),o=fR();function u(d,h){switch(typeof d){case"object":{Object.is(d?.valueOf(),-0)&&(d="-0");break}case"number":{d=r.toKey(d);break}}return h=n.cloneDeep(h),function(m){const g=s.get(m,d);return g===void 0?o.has(m,d):h===void 0?g===void 0:t.isMatch(g,h)}}e.matchesProperty=u})(d0)),d0}var yN;function mR(){return yN||(yN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=FO(),r=nR(),n=oR(),s=hR();function o(u){if(u==null)return t.identity;switch(typeof u){case"function":return u;case"object":return Array.isArray(u)&&u.length===2?s.matchesProperty(u[0],u[1]):n.matches(u);case"string":case"symbol":case"number":return r.property(u)}}e.iteratee=o})(Qg)),Qg}var bN;function gR(){return bN||(bN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=J5(),r=FO(),n=rR(),s=mR();function o(u,d=r.identity){return n.isArrayLikeObject(u)?t.uniqBy(Array.from(u),s.iteratee(d)):[]}e.uniqBy=o})(Kg)),Kg}var p0,wN;function xR(){return wN||(wN=1,p0=gR().uniqBy),p0}var pR=xR();const jN=Bn(pR);function vR(e,t,r){return t===!0?jN(e,r):typeof t=="function"?jN(e,t):e}var v0={exports:{}},y0={},b0={exports:{}},w0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NN;function yR(){if(NN)return w0;NN=1;var e=_l();function t(x,v){return x===v&&(x!==0||1/x===1/v)||x!==x&&v!==v}var r=typeof Object.is=="function"?Object.is:t,n=e.useState,s=e.useEffect,o=e.useLayoutEffect,u=e.useDebugValue;function d(x,v){var b=v(),j=n({inst:{value:b,getSnapshot:v}}),N=j[0].inst,_=j[1];return o(function(){N.value=b,N.getSnapshot=v,h(N)&&_({inst:N})},[x,b,v]),s(function(){return h(N)&&_({inst:N}),x(function(){h(N)&&_({inst:N})})},[x]),u(b),b}function h(x){var v=x.getSnapshot;x=x.value;try{var b=v();return!r(x,b)}catch{return!0}}function m(x,v){return v()}var g=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?m:d;return w0.useSyncExternalStore=e.useSyncExternalStore!==void 0?e.useSyncExternalStore:g,w0}var _N;function bR(){return _N||(_N=1,b0.exports=yR()),b0.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SN;function wR(){if(SN)return y0;SN=1;var e=_l(),t=bR();function r(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var n=typeof Object.is=="function"?Object.is:r,s=t.useSyncExternalStore,o=e.useRef,u=e.useEffect,d=e.useMemo,h=e.useDebugValue;return y0.useSyncExternalStoreWithSelector=function(m,g,x,v,b){var j=o(null);if(j.current===null){var N={hasValue:!1,value:null};j.current=N}else N=j.current;j=d(function(){function O(P){if(!S){if(S=!0,A=P,P=v(P),b!==void 0&&N.hasValue){var T=N.value;if(b(T,P))return k=T}return k=P}if(T=k,n(A,P))return T;var D=v(P);return b!==void 0&&b(T,D)?(A=P,T):(A=P,k=D)}var S=!1,A,k,C=x===void 0?null:x;return[function(){return O(g())},C===null?void 0:function(){return O(C())}]},[g,x,v,b]);var _=s(m,j[0],j[1]);return u(function(){N.hasValue=!0,N.value=_},[_]),h(_),_},y0}var ON;function jR(){return ON||(ON=1,v0.exports=wR()),v0.exports}var NR=jR(),zp=w.createContext(null),_R=e=>e,Ft=()=>{var e=w.useContext(zp);return e?e.store.dispatch:_R},Ed=()=>{},SR=()=>Ed,OR=(e,t)=>e===t;function ke(e){var t=w.useContext(zp);return NR.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:SR,t?t.store.getState:Ed,t?t.store.getState:Ed,t?e:Ed,OR)}function AR(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function ER(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function kR(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(r=>typeof r=="function")){const r=e.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${t}[${r}]`)}}var AN=e=>Array.isArray(e)?e:[e];function CR(e){const t=Array.isArray(e[0])?e[0]:e;return kR(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function TR(e,t){const r=[],{length:n}=e;for(let s=0;s<n;s++)r.push(e[s].apply(null,t));return r}var DR=class{constructor(e){this.value=e}deref(){return this.value}},PR=typeof WeakRef<"u"?WeakRef:DR,MR=0,EN=1;function dd(){return{s:MR,v:void 0,o:null,p:null}}function rA(e,t={}){let r=dd();const{resultEqualityCheck:n}=t;let s,o=0;function u(){let d=r;const{length:h}=arguments;for(let x=0,v=h;x<v;x++){const b=arguments[x];if(typeof b=="function"||typeof b=="object"&&b!==null){let j=d.o;j===null&&(d.o=j=new WeakMap);const N=j.get(b);N===void 0?(d=dd(),j.set(b,d)):d=N}else{let j=d.p;j===null&&(d.p=j=new Map);const N=j.get(b);N===void 0?(d=dd(),j.set(b,d)):d=N}}const m=d;let g;if(d.s===EN)g=d.v;else if(g=e.apply(null,arguments),o++,n){const x=s?.deref?.()??s;x!=null&&n(x,g)&&(g=x,o!==0&&o--),s=typeof g=="object"&&g!==null||typeof g=="function"?new PR(g):g}return m.s=EN,m.v=g,g}return u.clearCache=()=>{r=dd(),u.resetResultsCount()},u.resultsCount=()=>o,u.resetResultsCount=()=>{o=0},u}function RR(e,...t){const r=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,n=(...s)=>{let o=0,u=0,d,h={},m=s.pop();typeof m=="object"&&(h=m,m=s.pop()),AR(m,`createSelector expects an output function after the inputs, but received: [${typeof m}]`);const g={...r,...h},{memoize:x,memoizeOptions:v=[],argsMemoize:b=rA,argsMemoizeOptions:j=[]}=g,N=AN(v),_=AN(j),O=CR(s),S=x(function(){return o++,m.apply(null,arguments)},...N),A=b(function(){u++;const C=TR(O,arguments);return d=S.apply(null,C),d},..._);return Object.assign(A,{resultFunc:m,memoizedResultFunc:S,dependencies:O,dependencyRecomputations:()=>u,resetDependencyRecomputations:()=>{u=0},lastResult:()=>d,recomputations:()=>o,resetRecomputations:()=>{o=0},memoize:x,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var se=RR(rA),$R=Object.assign((e,t=se)=>{ER(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const r=Object.keys(e),n=r.map(o=>e[o]);return t(n,(...o)=>o.reduce((u,d,h)=>(u[r[h]]=d,u),{}))},{withTypes:()=>$R}),j0={},N0={},_0={},kN;function LR(){return kN||(kN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,s,o)=>{if(n!==s){const u=t(n),d=t(s);if(u===d&&u===0){if(n<s)return o==="desc"?1:-1;if(n>s)return o==="desc"?-1:1}return o==="desc"?d-u:u-d}return 0};e.compareValues=r})(_0)),_0}var S0={},O0={},CN;function nA(){return CN||(CN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"||r instanceof Symbol}e.isSymbol=t})(O0)),O0}var TN;function IR(){return TN||(TN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nA(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(o,u){return Array.isArray(o)?!1:typeof o=="number"||typeof o=="boolean"||o==null||t.isSymbol(o)?!0:typeof o=="string"&&(n.test(o)||!r.test(o))||u!=null&&Object.hasOwn(u,o)}e.isKey=s})(S0)),S0}var DN;function UR(){return DN||(DN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=LR(),r=IR(),n=Tp();function s(o,u,d,h){if(o==null)return[];d=h?void 0:d,Array.isArray(o)||(o=Object.values(o)),Array.isArray(u)||(u=u==null?[null]:[u]),u.length===0&&(u=[null]),Array.isArray(d)||(d=d==null?[]:[d]),d=d.map(b=>String(b));const m=(b,j)=>{let N=b;for(let _=0;_<j.length&&N!=null;++_)N=N[j[_]];return N},g=(b,j)=>j==null||b==null?j:typeof b=="object"&&"key"in b?Object.hasOwn(j,b.key)?j[b.key]:m(j,b.path):typeof b=="function"?b(j):Array.isArray(b)?m(j,b):typeof j=="object"?j[b]:j,x=u.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return o.map(b=>({original:b,criteria:x.map(j=>g(j,b))})).slice().sort((b,j)=>{for(let N=0;N<x.length;N++){const _=t.compareValues(b.criteria[N],j.criteria[N],d[N]);if(_!==0)return _}return 0}).map(b=>b.original)}e.orderBy=s})(N0)),N0}var A0={},PN;function qR(){return PN||(PN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n=1){const s=[],o=Math.floor(n),u=(d,h)=>{for(let m=0;m<d.length;m++){const g=d[m];Array.isArray(g)&&h<o?u(g,h+1):s.push(g)}};return u(r,0),s}e.flatten=t})(A0)),A0}var E0={},MN;function aA(){return MN||(MN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=tA(),r=Up(),n=WO(),s=QO();function o(u,d,h){return n.isObject(h)&&(typeof d=="number"&&r.isArrayLike(h)&&t.isIndex(d)&&d<h.length||typeof d=="string"&&d in h)?s.eq(h[d],u):!1}e.isIterateeCall=o})(E0)),E0}var RN;function zR(){return RN||(RN=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UR(),r=qR(),n=aA();function s(o,...u){const d=u.length;return d>1&&n.isIterateeCall(o,u[0],u[1])?u=[]:d>2&&n.isIterateeCall(u[0],u[1],u[2])&&(u=[u[0]]),t.orderBy(o,r.flatten(u),["asc"])}e.sortBy=s})(j0)),j0}var k0,$N;function BR(){return $N||($N=1,k0=zR().sortBy),k0}var HR=BR();const kf=Bn(HR);var iA=e=>e.legend.settings,KR=e=>e.legend.size,YR=e=>e.legend.payload;se([YR,iA],(e,t)=>{var{itemSorter:r}=t,n=e.flat(1);return r?kf(n,r):n});var fd=1;function GR(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,r]=w.useState({height:0,left:0,top:0,width:0}),n=w.useCallback(s=>{if(s!=null){var o=s.getBoundingClientRect(),u={height:o.height,left:o.left,top:o.top,width:o.width};(Math.abs(u.height-t.height)>fd||Math.abs(u.left-t.left)>fd||Math.abs(u.top-t.top)>fd||Math.abs(u.width-t.width)>fd)&&r({height:u.height,left:u.left,top:u.top,width:u.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,n]}function rr(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var VR=typeof Symbol=="function"&&Symbol.observable||"@@observable",LN=VR,C0=()=>Math.random().toString(36).substring(7).split("").join("."),FR={INIT:`@@redux/INIT${C0()}`,REPLACE:`@@redux/REPLACE${C0()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${C0()}`},Id=FR;function Bp(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function sA(e,t,r){if(typeof e!="function")throw new Error(rr(2));if(typeof t=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(rr(0));if(typeof t=="function"&&typeof r>"u"&&(r=t,t=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(rr(1));return r(sA)(e,t)}let n=e,s=t,o=new Map,u=o,d=0,h=!1;function m(){u===o&&(u=new Map,o.forEach((_,O)=>{u.set(O,_)}))}function g(){if(h)throw new Error(rr(3));return s}function x(_){if(typeof _!="function")throw new Error(rr(4));if(h)throw new Error(rr(5));let O=!0;m();const S=d++;return u.set(S,_),function(){if(O){if(h)throw new Error(rr(6));O=!1,m(),u.delete(S),o=null}}}function v(_){if(!Bp(_))throw new Error(rr(7));if(typeof _.type>"u")throw new Error(rr(8));if(typeof _.type!="string")throw new Error(rr(17));if(h)throw new Error(rr(9));try{h=!0,s=n(s,_)}finally{h=!1}return(o=u).forEach(S=>{S()}),_}function b(_){if(typeof _!="function")throw new Error(rr(10));n=_,v({type:Id.REPLACE})}function j(){const _=x;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(rr(11));function S(){const k=O;k.next&&k.next(g())}return S(),{unsubscribe:_(S)}},[LN](){return this}}}return v({type:Id.INIT}),{dispatch:v,subscribe:x,getState:g,replaceReducer:b,[LN]:j}}function WR(e){Object.keys(e).forEach(t=>{const r=e[t];if(typeof r(void 0,{type:Id.INIT})>"u")throw new Error(rr(12));if(typeof r(void 0,{type:Id.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(rr(13))})}function lA(e){const t=Object.keys(e),r={};for(let o=0;o<t.length;o++){const u=t[o];typeof e[u]=="function"&&(r[u]=e[u])}const n=Object.keys(r);let s;try{WR(r)}catch(o){s=o}return function(u={},d){if(s)throw s;let h=!1;const m={};for(let g=0;g<n.length;g++){const x=n[g],v=r[x],b=u[x],j=v(b,d);if(typeof j>"u")throw d&&d.type,new Error(rr(14));m[x]=j,h=h||j!==b}return h=h||n.length!==Object.keys(u).length,h?m:u}}function Ud(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,r)=>(...n)=>t(r(...n)))}function XR(...e){return t=>(r,n)=>{const s=t(r,n);let o=()=>{throw new Error(rr(15))};const u={getState:s.getState,dispatch:(h,...m)=>o(h,...m)},d=e.map(h=>h(u));return o=Ud(...d)(s.dispatch),{...s,dispatch:o}}}function oA(e){return Bp(e)&&"type"in e&&typeof e.type=="string"}var cA=Symbol.for("immer-nothing"),IN=Symbol.for("immer-draftable"),Gr=Symbol.for("immer-state");function wn(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var yl=Object.getPrototypeOf;function ts(e){return!!e&&!!e[Gr]}function ja(e){return e?uA(e)||Array.isArray(e)||!!e[IN]||!!e.constructor?.[IN]||Oc(e)||Tf(e):!1}var QR=Object.prototype.constructor.toString();function uA(e){if(!e||typeof e!="object")return!1;const t=yl(e);if(t===null)return!0;const r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===QR}function qd(e,t){Cf(e)===0?Reflect.ownKeys(e).forEach(r=>{t(r,e[r],e)}):e.forEach((r,n)=>t(n,r,e))}function Cf(e){const t=e[Gr];return t?t.type_:Array.isArray(e)?1:Oc(e)?2:Tf(e)?3:0}function Dx(e,t){return Cf(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function dA(e,t,r){const n=Cf(e);n===2?e.set(t,r):n===3?e.add(r):e[t]=r}function ZR(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function Oc(e){return e instanceof Map}function Tf(e){return e instanceof Set}function Hi(e){return e.copy_||e.base_}function Px(e,t){if(Oc(e))return new Map(e);if(Tf(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const r=uA(e);if(t===!0||t==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(e);delete n[Gr];let s=Reflect.ownKeys(n);for(let o=0;o<s.length;o++){const u=s[o],d=n[u];d.writable===!1&&(d.writable=!0,d.configurable=!0),(d.get||d.set)&&(n[u]={configurable:!0,writable:!0,enumerable:d.enumerable,value:e[u]})}return Object.create(yl(e),n)}else{const n=yl(e);if(n!==null&&r)return{...e};const s=Object.create(n);return Object.assign(s,e)}}function Hp(e,t=!1){return Df(e)||ts(e)||!ja(e)||(Cf(e)>1&&Object.defineProperties(e,{set:{value:hd},add:{value:hd},clear:{value:hd},delete:{value:hd}}),Object.freeze(e),t&&Object.values(e).forEach(r=>Hp(r,!0))),e}function hd(){wn(2)}function Df(e){return Object.isFrozen(e)}var JR={};function rs(e){const t=JR[e];return t||wn(0,e),t}var cc;function fA(){return cc}function e$(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function UN(e,t){t&&(rs("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Mx(e){Rx(e),e.drafts_.forEach(t$),e.drafts_=null}function Rx(e){e===cc&&(cc=e.parent_)}function qN(e){return cc=e$(cc,e)}function t$(e){const t=e[Gr];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function zN(e,t){t.unfinalizedDrafts_=t.drafts_.length;const r=t.drafts_[0];return e!==void 0&&e!==r?(r[Gr].modified_&&(Mx(t),wn(4)),ja(e)&&(e=zd(t,e),t.parent_||Bd(t,e)),t.patches_&&rs("Patches").generateReplacementPatches_(r[Gr].base_,e,t.patches_,t.inversePatches_)):e=zd(t,r,[]),Mx(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==cA?e:void 0}function zd(e,t,r){if(Df(t))return t;const n=t[Gr];if(!n)return qd(t,(s,o)=>BN(e,n,t,s,o,r)),t;if(n.scope_!==e)return t;if(!n.modified_)return Bd(e,n.base_,!0),n.base_;if(!n.finalized_){n.finalized_=!0,n.scope_.unfinalizedDrafts_--;const s=n.copy_;let o=s,u=!1;n.type_===3&&(o=new Set(s),s.clear(),u=!0),qd(o,(d,h)=>BN(e,n,s,d,h,r,u)),Bd(e,s,!1),r&&e.patches_&&rs("Patches").generatePatches_(n,r,e.patches_,e.inversePatches_)}return n.copy_}function BN(e,t,r,n,s,o,u){if(ts(s)){const d=o&&t&&t.type_!==3&&!Dx(t.assigned_,n)?o.concat(n):void 0,h=zd(e,s,d);if(dA(r,n,h),ts(h))e.canAutoFreeze_=!1;else return}else u&&r.add(s);if(ja(s)&&!Df(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;zd(e,s),(!t||!t.scope_.parent_)&&typeof n!="symbol"&&(Oc(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&Bd(e,s)}}function Bd(e,t,r=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Hp(t,r)}function r$(e,t){const r=Array.isArray(e),n={type_:r?1:0,scope_:t?t.scope_:fA(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=n,o=Kp;r&&(s=[n],o=uc);const{revoke:u,proxy:d}=Proxy.revocable(s,o);return n.draft_=d,n.revoke_=u,d}var Kp={get(e,t){if(t===Gr)return e;const r=Hi(e);if(!Dx(r,t))return n$(e,r,t);const n=r[t];return e.finalized_||!ja(n)?n:n===T0(e.base_,t)?(D0(e),e.copy_[t]=Lx(n,e)):n},has(e,t){return t in Hi(e)},ownKeys(e){return Reflect.ownKeys(Hi(e))},set(e,t,r){const n=hA(Hi(e),t);if(n?.set)return n.set.call(e.draft_,r),!0;if(!e.modified_){const s=T0(Hi(e),t),o=s?.[Gr];if(o&&o.base_===r)return e.copy_[t]=r,e.assigned_[t]=!1,!0;if(ZR(r,s)&&(r!==void 0||Dx(e.base_,t)))return!0;D0(e),$x(e)}return e.copy_[t]===r&&(r!==void 0||t in e.copy_)||Number.isNaN(r)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=r,e.assigned_[t]=!0),!0},deleteProperty(e,t){return T0(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,D0(e),$x(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const r=Hi(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:n.enumerable,value:r[t]}},defineProperty(){wn(11)},getPrototypeOf(e){return yl(e.base_)},setPrototypeOf(){wn(12)}},uc={};qd(Kp,(e,t)=>{uc[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});uc.deleteProperty=function(e,t){return uc.set.call(this,e,t,void 0)};uc.set=function(e,t,r){return Kp.set.call(this,e[0],t,r,e[0])};function T0(e,t){const r=e[Gr];return(r?Hi(r):e)[t]}function n$(e,t,r){const n=hA(t,r);return n?"value"in n?n.value:n.get?.call(e.draft_):void 0}function hA(e,t){if(!(t in e))return;let r=yl(e);for(;r;){const n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=yl(r)}}function $x(e){e.modified_||(e.modified_=!0,e.parent_&&$x(e.parent_))}function D0(e){e.copy_||(e.copy_=Px(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var a$=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,r,n)=>{if(typeof t=="function"&&typeof r!="function"){const o=r;r=t;const u=this;return function(h=o,...m){return u.produce(h,g=>r.call(this,g,...m))}}typeof r!="function"&&wn(6),n!==void 0&&typeof n!="function"&&wn(7);let s;if(ja(t)){const o=qN(this),u=Lx(t,void 0);let d=!0;try{s=r(u),d=!1}finally{d?Mx(o):Rx(o)}return UN(o,n),zN(s,o)}else if(!t||typeof t!="object"){if(s=r(t),s===void 0&&(s=t),s===cA&&(s=void 0),this.autoFreeze_&&Hp(s,!0),n){const o=[],u=[];rs("Patches").generateReplacementPatches_(t,s,o,u),n(o,u)}return s}else wn(1,t)},this.produceWithPatches=(t,r)=>{if(typeof t=="function")return(u,...d)=>this.produceWithPatches(u,h=>t(h,...d));let n,s;return[this.produce(t,r,(u,d)=>{n=u,s=d}),n,s]},typeof e?.autoFreeze=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof e?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){ja(e)||wn(8),ts(e)&&(e=pa(e));const t=qN(this),r=Lx(e,void 0);return r[Gr].isManual_=!0,Rx(t),r}finishDraft(e,t){const r=e&&e[Gr];(!r||!r.isManual_)&&wn(9);const{scope_:n}=r;return UN(n,t),zN(void 0,n)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let r;for(r=t.length-1;r>=0;r--){const s=t[r];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}r>-1&&(t=t.slice(r+1));const n=rs("Patches").applyPatches_;return ts(e)?n(e,t):this.produce(e,s=>n(s,t))}};function Lx(e,t){const r=Oc(e)?rs("MapSet").proxyMap_(e,t):Tf(e)?rs("MapSet").proxySet_(e,t):r$(e,t);return(t?t.scope_:fA()).drafts_.push(r),r}function pa(e){return ts(e)||wn(10,e),mA(e)}function mA(e){if(!ja(e)||Df(e))return e;const t=e[Gr];let r;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,r=Px(e,t.scope_.immer_.useStrictShallowCopy_)}else r=Px(e,!0);return qd(r,(n,s)=>{dA(r,n,mA(s))}),t&&(t.finalized_=!1),r}var i$=new a$,gA=i$.produce;function xA(e){return({dispatch:r,getState:n})=>s=>o=>typeof o=="function"?o(r,n,e):s(o)}var s$=xA(),l$=xA,o$=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Ud:Ud.apply(null,arguments)};function un(e,t){function r(...n){if(t){let s=t(...n);if(!s)throw new Error(Yr(0));return{type:e,payload:s.payload,..."meta"in s&&{meta:s.meta},..."error"in s&&{error:s.error}}}return{type:e,payload:n[0]}}return r.toString=()=>`${e}`,r.type=e,r.match=n=>oA(n)&&n.type===e,r}var pA=class Vo extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Vo.prototype)}static get[Symbol.species](){return Vo}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Vo(...t[0].concat(this)):new Vo(...t.concat(this))}};function HN(e){return ja(e)?gA(e,()=>{}):e}function md(e,t,r){return e.has(t)?e.get(t):e.set(t,r(t)).get(t)}function c$(e){return typeof e=="boolean"}var u$=()=>function(t){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:s=!0,actionCreatorCheck:o=!0}=t??{};let u=new pA;return r&&(c$(r)?u.push(s$):u.push(l$(r.extraArgument))),u},d$="RTK_autoBatch",KN=e=>t=>{setTimeout(t,e)},f$=(e={type:"raf"})=>t=>(...r)=>{const n=t(...r);let s=!0,o=!1,u=!1;const d=new Set,h=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:KN(10):e.type==="callback"?e.queueNotification:KN(e.timeout),m=()=>{u=!1,o&&(o=!1,d.forEach(g=>g()))};return Object.assign({},n,{subscribe(g){const x=()=>s&&g(),v=n.subscribe(x);return d.add(g),()=>{v(),d.delete(g)}},dispatch(g){try{return s=!g?.meta?.[d$],o=!s,o&&(u||(u=!0,h(m))),n.dispatch(g)}finally{s=!0}}})},h$=e=>function(r){const{autoBatch:n=!0}=r??{};let s=new pA(e);return n&&s.push(f$(typeof n=="object"?n:void 0)),s};function m$(e){const t=u$(),{reducer:r=void 0,middleware:n,devTools:s=!0,preloadedState:o=void 0,enhancers:u=void 0}=e||{};let d;if(typeof r=="function")d=r;else if(Bp(r))d=lA(r);else throw new Error(Yr(1));let h;typeof n=="function"?h=n(t):h=t();let m=Ud;s&&(m=o$({trace:!1,...typeof s=="object"&&s}));const g=XR(...h),x=h$(g);let v=typeof u=="function"?u(x):x();const b=m(...v);return sA(d,o,b)}function vA(e){const t={},r=[];let n;const s={addCase(o,u){const d=typeof o=="string"?o:o.type;if(!d)throw new Error(Yr(28));if(d in t)throw new Error(Yr(29));return t[d]=u,s},addAsyncThunk(o,u){return u.pending&&(t[o.pending.type]=u.pending),u.rejected&&(t[o.rejected.type]=u.rejected),u.fulfilled&&(t[o.fulfilled.type]=u.fulfilled),u.settled&&r.push({matcher:o.settled,reducer:u.settled}),s},addMatcher(o,u){return r.push({matcher:o,reducer:u}),s},addDefaultCase(o){return n=o,s}};return e(s),[t,r,n]}function g$(e){return typeof e=="function"}function x$(e,t){let[r,n,s]=vA(t),o;if(g$(e))o=()=>HN(e());else{const d=HN(e);o=()=>d}function u(d=o(),h){let m=[r[h.type],...n.filter(({matcher:g})=>g(h)).map(({reducer:g})=>g)];return m.filter(g=>!!g).length===0&&(m=[s]),m.reduce((g,x)=>{if(x)if(ts(g)){const b=x(g,h);return b===void 0?g:b}else{if(ja(g))return gA(g,v=>x(v,h));{const v=x(g,h);if(v===void 0){if(g===null)return g;throw Error("A case reducer on a non-draftable value must not return undefined")}return v}}return g},d)}return u.getInitialState=o,u}var p$="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",v$=(e=21)=>{let t="",r=e;for(;r--;)t+=p$[Math.random()*64|0];return t},y$=Symbol.for("rtk-slice-createasyncthunk");function b$(e,t){return`${e}/${t}`}function w$({creators:e}={}){const t=e?.asyncThunk?.[y$];return function(n){const{name:s,reducerPath:o=s}=n;if(!s)throw new Error(Yr(11));const u=(typeof n.reducers=="function"?n.reducers(N$()):n.reducers)||{},d=Object.keys(u),h={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},m={addCase(A,k){const C=typeof A=="string"?A:A.type;if(!C)throw new Error(Yr(12));if(C in h.sliceCaseReducersByType)throw new Error(Yr(13));return h.sliceCaseReducersByType[C]=k,m},addMatcher(A,k){return h.sliceMatchers.push({matcher:A,reducer:k}),m},exposeAction(A,k){return h.actionCreators[A]=k,m},exposeCaseReducer(A,k){return h.sliceCaseReducersByName[A]=k,m}};d.forEach(A=>{const k=u[A],C={reducerName:A,type:b$(s,A),createNotation:typeof n.reducers=="function"};S$(k)?A$(C,k,m,t):_$(C,k,m)});function g(){const[A={},k=[],C=void 0]=typeof n.extraReducers=="function"?vA(n.extraReducers):[n.extraReducers],P={...A,...h.sliceCaseReducersByType};return x$(n.initialState,T=>{for(let D in P)T.addCase(D,P[D]);for(let D of h.sliceMatchers)T.addMatcher(D.matcher,D.reducer);for(let D of k)T.addMatcher(D.matcher,D.reducer);C&&T.addDefaultCase(C)})}const x=A=>A,v=new Map,b=new WeakMap;let j;function N(A,k){return j||(j=g()),j(A,k)}function _(){return j||(j=g()),j.getInitialState()}function O(A,k=!1){function C(T){let D=T[A];return typeof D>"u"&&k&&(D=md(b,C,_)),D}function P(T=x){const D=md(v,k,()=>new WeakMap);return md(D,T,()=>{const $={};for(const[U,L]of Object.entries(n.selectors??{}))$[U]=j$(L,T,()=>md(b,T,_),k);return $})}return{reducerPath:A,getSelectors:P,get selectors(){return P(C)},selectSlice:C}}const S={name:s,reducer:N,actions:h.actionCreators,caseReducers:h.sliceCaseReducersByName,getInitialState:_,...O(o),injectInto(A,{reducerPath:k,...C}={}){const P=k??o;return A.inject({reducerPath:P,reducer:N},C),{...S,...O(P,!0)}}};return S}}function j$(e,t,r,n){function s(o,...u){let d=t(o);return typeof d>"u"&&n&&(d=r()),e(d,...u)}return s.unwrapped=e,s}var Vr=w$();function N$(){function e(t,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...r}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...r){return t(...r)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:r}},asyncThunk:e}}function _$({type:e,reducerName:t,createNotation:r},n,s){let o,u;if("reducer"in n){if(r&&!O$(n))throw new Error(Yr(17));o=n.reducer,u=n.prepare}else o=n;s.addCase(e,o).exposeCaseReducer(t,o).exposeAction(t,u?un(e,u):un(e))}function S$(e){return e._reducerDefinitionType==="asyncThunk"}function O$(e){return e._reducerDefinitionType==="reducerWithPrepare"}function A$({type:e,reducerName:t},r,n,s){if(!s)throw new Error(Yr(18));const{payloadCreator:o,fulfilled:u,pending:d,rejected:h,settled:m,options:g}=r,x=s(e,o,g);n.exposeAction(t,x),u&&n.addCase(x.fulfilled,u),d&&n.addCase(x.pending,d),h&&n.addCase(x.rejected,h),m&&n.addMatcher(x.settled,m),n.exposeCaseReducer(t,{fulfilled:u||gd,pending:d||gd,rejected:h||gd,settled:m||gd})}function gd(){}var E$="task",yA="listener",bA="completed",Yp="cancelled",k$=`task-${Yp}`,C$=`task-${bA}`,Ix=`${yA}-${Yp}`,T$=`${yA}-${bA}`,Pf=class{constructor(e){this.code=e,this.message=`${E$} ${Yp} (reason: ${e})`}name="TaskAbortError";message},Gp=(e,t)=>{if(typeof e!="function")throw new TypeError(Yr(32))},Hd=()=>{},wA=(e,t=Hd)=>(e.catch(t),e),jA=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),Xi=(e,t)=>{const r=e.signal;r.aborted||("reason"in r||Object.defineProperty(r,"reason",{enumerable:!0,value:t,configurable:!0,writable:!0}),e.abort(t))},Qi=e=>{if(e.aborted){const{reason:t}=e;throw new Pf(t)}};function NA(e,t){let r=Hd;return new Promise((n,s)=>{const o=()=>s(new Pf(e.reason));if(e.aborted){o();return}r=jA(e,o),t.finally(()=>r()).then(n,s)}).finally(()=>{r=Hd})}var D$=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(r){return{status:r instanceof Pf?"cancelled":"rejected",error:r}}finally{t?.()}},Kd=e=>t=>wA(NA(e,t).then(r=>(Qi(e),r))),_A=e=>{const t=Kd(e);return r=>t(new Promise(n=>setTimeout(n,r)))},{assign:fl}=Object,YN={},Mf="listenerMiddleware",P$=(e,t)=>{const r=n=>jA(e,()=>Xi(n,e.reason));return(n,s)=>{Gp(n);const o=new AbortController;r(o);const u=D$(async()=>{Qi(e),Qi(o.signal);const d=await n({pause:Kd(o.signal),delay:_A(o.signal),signal:o.signal});return Qi(o.signal),d},()=>Xi(o,C$));return s?.autoJoin&&t.push(u.catch(Hd)),{result:Kd(e)(u),cancel(){Xi(o,k$)}}}},M$=(e,t)=>{const r=async(n,s)=>{Qi(t);let o=()=>{};const d=[new Promise((h,m)=>{let g=e({predicate:n,effect:(x,v)=>{v.unsubscribe(),h([x,v.getState(),v.getOriginalState()])}});o=()=>{g(),m()}})];s!=null&&d.push(new Promise(h=>setTimeout(h,s,null)));try{const h=await NA(t,Promise.race(d));return Qi(t),h}finally{o()}};return(n,s)=>wA(r(n,s))},SA=e=>{let{type:t,actionCreator:r,matcher:n,predicate:s,effect:o}=e;if(t)s=un(t).match;else if(r)t=r.type,s=r.match;else if(n)s=n;else if(!s)throw new Error(Yr(21));return Gp(o),{predicate:s,type:t,effect:o}},OA=fl(e=>{const{type:t,predicate:r,effect:n}=SA(e);return{id:v$(),effect:n,type:t,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Yr(22))}}},{withTypes:()=>OA}),GN=(e,t)=>{const{type:r,effect:n,predicate:s}=SA(t);return Array.from(e.values()).find(o=>(typeof r=="string"?o.type===r:o.predicate===s)&&o.effect===n)},Ux=e=>{e.pending.forEach(t=>{Xi(t,Ix)})},R$=e=>()=>{e.forEach(Ux),e.clear()},VN=(e,t,r)=>{try{e(t,r)}catch(n){setTimeout(()=>{throw n},0)}},AA=fl(un(`${Mf}/add`),{withTypes:()=>AA}),$$=un(`${Mf}/removeAll`),EA=fl(un(`${Mf}/remove`),{withTypes:()=>EA}),L$=(...e)=>{console.error(`${Mf}/error`,...e)},Ac=(e={})=>{const t=new Map,{extra:r,onError:n=L$}=e;Gp(n);const s=g=>(g.unsubscribe=()=>t.delete(g.id),t.set(g.id,g),x=>{g.unsubscribe(),x?.cancelActive&&Ux(g)}),o=g=>{const x=GN(t,g)??OA(g);return s(x)};fl(o,{withTypes:()=>o});const u=g=>{const x=GN(t,g);return x&&(x.unsubscribe(),g.cancelActive&&Ux(x)),!!x};fl(u,{withTypes:()=>u});const d=async(g,x,v,b)=>{const j=new AbortController,N=M$(o,j.signal),_=[];try{g.pending.add(j),await Promise.resolve(g.effect(x,fl({},v,{getOriginalState:b,condition:(O,S)=>N(O,S).then(Boolean),take:N,delay:_A(j.signal),pause:Kd(j.signal),extra:r,signal:j.signal,fork:P$(j.signal,_),unsubscribe:g.unsubscribe,subscribe:()=>{t.set(g.id,g)},cancelActiveListeners:()=>{g.pending.forEach((O,S,A)=>{O!==j&&(Xi(O,Ix),A.delete(O))})},cancel:()=>{Xi(j,Ix),g.pending.delete(j)},throwIfCancelled:()=>{Qi(j.signal)}})))}catch(O){O instanceof Pf||VN(n,O,{raisedBy:"effect"})}finally{await Promise.all(_),Xi(j,T$),g.pending.delete(j)}},h=R$(t);return{middleware:g=>x=>v=>{if(!oA(v))return x(v);if(AA.match(v))return o(v.payload);if($$.match(v)){h();return}if(EA.match(v))return u(v.payload);let b=g.getState();const j=()=>{if(b===YN)throw new Error(Yr(23));return b};let N;try{if(N=x(v),t.size>0){const _=g.getState(),O=Array.from(t.values());for(const S of O){let A=!1;try{A=S.predicate(v,_,b)}catch(k){A=!1,VN(n,k,{raisedBy:"predicate"})}A&&d(S,v,g,j)}}}finally{b=YN}return N},startListening:o,stopListening:u,clearListeners:h}};function Yr(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var I$={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},kA=Vr({name:"chartLayout",initialState:I$,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var r,n,s,o;e.margin.top=(r=t.payload.top)!==null&&r!==void 0?r:0,e.margin.right=(n=t.payload.right)!==null&&n!==void 0?n:0,e.margin.bottom=(s=t.payload.bottom)!==null&&s!==void 0?s:0,e.margin.left=(o=t.payload.left)!==null&&o!==void 0?o:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:U$,setLayout:q$,setChartSize:z$,setScale:B$}=kA.actions,H$=kA.reducer;function FN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function WN(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?FN(Object(r),!0).forEach(function(n){K$(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):FN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function K$(e,t,r){return(t=Y$(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y$(e){var t=G$(e,"string");return typeof t=="symbol"?t:t+""}function G$(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Yd=Math.PI/180,V$=e=>e*180/Math.PI,ar=(e,t,r,n)=>({x:e+Math.cos(-Yd*n)*r,y:t+Math.sin(-Yd*n)*r}),F$=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},W$=(e,t)=>{var{x:r,y:n}=e,{x:s,y:o}=t;return Math.sqrt((r-s)**2+(n-o)**2)},X$=(e,t)=>{var{x:r,y:n}=e,{cx:s,cy:o}=t,u=W$({x:r,y:n},{x:s,y:o});if(u<=0)return{radius:u,angle:0};var d=(r-s)/u,h=Math.acos(d);return n>o&&(h=2*Math.PI-h),{radius:u,angle:V$(h),angleInRadian:h}},Q$=e=>{var{startAngle:t,endAngle:r}=e,n=Math.floor(t/360),s=Math.floor(r/360),o=Math.min(n,s);return{startAngle:t-o*360,endAngle:r-o*360}},Z$=(e,t)=>{var{startAngle:r,endAngle:n}=t,s=Math.floor(r/360),o=Math.floor(n/360),u=Math.min(s,o);return e+u*360},J$=(e,t)=>{var{x:r,y:n}=e,{radius:s,angle:o}=X$({x:r,y:n},t),{innerRadius:u,outerRadius:d}=t;if(s<u||s>d||s===0)return null;var{startAngle:h,endAngle:m}=Q$(t),g=o,x;if(h<=m){for(;g>m;)g-=360;for(;g<h;)g+=360;x=g>=h&&g<=m}else{for(;g>h;)g-=360;for(;g<m;)g+=360;x=g>=m&&g<=h}return x?WN(WN({},t),{},{radius:s,angle:Z$(g,t)}):null};function CA(e,t,r){return Array.isArray(e)&&e&&t+r!==0?e.slice(t,r+1):e}function XN(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function on(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?XN(Object(r),!0).forEach(function(n){e8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):XN(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function e8(e,t,r){return(t=t8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function t8(e){var t=r8(e,"string");return typeof t=="symbol"?t:t+""}function r8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function kt(e,t,r){return ht(e)||ht(t)?r:In(t)?pl(e,t,r):typeof t=="function"?t(e):r}var n8=(e,t,r,n,s)=>{var o,u=-1,d=(o=t?.length)!==null&&o!==void 0?o:0;if(d<=1||e==null)return 0;if(n==="angleAxis"&&s!=null&&Math.abs(Math.abs(s[1]-s[0])-360)<=1e-6)for(var h=0;h<d;h++){var m=h>0?r[h-1].coordinate:r[d-1].coordinate,g=r[h].coordinate,x=h>=d-1?r[0].coordinate:r[h+1].coordinate,v=void 0;if(Or(g-m)!==Or(x-g)){var b=[];if(Or(x-g)===Or(s[1]-s[0])){v=x;var j=g+s[1]-s[0];b[0]=Math.min(j,(j+m)/2),b[1]=Math.max(j,(j+m)/2)}else{v=m;var N=x+s[1]-s[0];b[0]=Math.min(g,(N+g)/2),b[1]=Math.max(g,(N+g)/2)}var _=[Math.min(g,(v+g)/2),Math.max(g,(v+g)/2)];if(e>_[0]&&e<=_[1]||e>=b[0]&&e<=b[1]){({index:u}=r[h]);break}}else{var O=Math.min(m,x),S=Math.max(m,x);if(e>(O+g)/2&&e<=(S+g)/2){({index:u}=r[h]);break}}}else if(t){for(var A=0;A<d;A++)if(A===0&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A>0&&A<d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2&&e<=(t[A].coordinate+t[A+1].coordinate)/2||A===d-1&&e>(t[A].coordinate+t[A-1].coordinate)/2){({index:u}=t[A]);break}}return u},a8=(e,t,r)=>{if(t&&r){var{width:n,height:s}=r,{align:o,verticalAlign:u,layout:d}=t;if((d==="vertical"||d==="horizontal"&&u==="middle")&&o!=="center"&&Ae(e[o]))return on(on({},e),{},{[o]:e[o]+(n||0)});if((d==="horizontal"||d==="vertical"&&o==="center")&&u!=="middle"&&Ae(e[u]))return on(on({},e),{},{[u]:e[u]+(s||0)})}return e},Yn=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",TA=(e,t,r,n)=>{if(n)return e.map(d=>d.coordinate);var s,o,u=e.map(d=>(d.coordinate===t&&(s=!0),d.coordinate===r&&(o=!0),d.coordinate));return s||u.push(t),o||u.push(r),u},DA=(e,t,r)=>{if(!e)return null;var{duplicateDomain:n,type:s,range:o,scale:u,realScaleType:d,isCategorical:h,categoricalDomain:m,tickCount:g,ticks:x,niceTicks:v,axisType:b}=e;if(!u)return null;var j=d==="scaleBand"&&u.bandwidth?u.bandwidth()/2:2,N=s==="category"&&u.bandwidth?u.bandwidth()/j:0;if(N=b==="angleAxis"&&o&&o.length>=2?Or(o[0]-o[1])*2*N:N,x||v){var _=(x||v||[]).map((O,S)=>{var A=n?n.indexOf(O):O;return{coordinate:u(A)+N,value:O,offset:N,index:S}});return _.filter(O=>!Er(O.coordinate))}return h&&m?m.map((O,S)=>({coordinate:u(O)+N,value:O,index:S,offset:N})):u.ticks&&g!=null?u.ticks(g).map((O,S)=>({coordinate:u(O)+N,value:O,offset:N,index:S})):u.domain().map((O,S)=>({coordinate:u(O)+N,value:n?n[O]:O,index:S,offset:N}))},QN=1e-4,i8=e=>{var t=e.domain();if(!(!t||t.length<=2)){var r=t.length,n=e.range(),s=Math.min(n[0],n[1])-QN,o=Math.max(n[0],n[1])+QN,u=e(t[0]),d=e(t[r-1]);(u<s||u>o||d<s||d>o)&&e.domain([t[0],t[r-1]])}},s8=(e,t)=>{if(!t||t.length!==2||!Ae(t[0])||!Ae(t[1]))return e;var r=Math.min(t[0],t[1]),n=Math.max(t[0],t[1]),s=[e[0],e[1]];return(!Ae(e[0])||e[0]<r)&&(s[0]=r),(!Ae(e[1])||e[1]>n)&&(s[1]=n),s[0]>n&&(s[0]=n),s[1]<r&&(s[1]=r),s},l8=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0,u=0;u<t;++u){var d=Er(e[u][r][1])?e[u][r][0]:e[u][r][1];d>=0?(e[u][r][0]=s,e[u][r][1]=s+d,s=e[u][r][1]):(e[u][r][0]=o,e[u][r][1]=o+d,o=e[u][r][1])}},o8=e=>{var t=e.length;if(!(t<=0))for(var r=0,n=e[0].length;r<n;++r)for(var s=0,o=0;o<t;++o){var u=Er(e[o][r][1])?e[o][r][0]:e[o][r][1];u>=0?(e[o][r][0]=s,e[o][r][1]=s+u,s=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},c8={sign:l8,expand:q5,none:vl,silhouette:z5,wiggle:B5,positive:o8},u8=(e,t,r)=>{var n=c8[r],s=U5().keys(t).value((o,u)=>+kt(o,u,0)).order(Cx).offset(n);return s(e)};function PA(e){return e==null?void 0:String(e)}function Gd(e){var{axis:t,ticks:r,bandSize:n,entry:s,index:o,dataKey:u}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ht(s[t.dataKey])){var d=OO(r,"value",s[t.dataKey]);if(d)return d.coordinate+n/2}return r[o]?r[o].coordinate+n/2:null}var h=kt(s,ht(u)?t.dataKey:u);return ht(h)?null:t.scale(h)}var ZN=e=>{var{axis:t,ticks:r,offset:n,bandSize:s,entry:o,index:u}=e;if(t.type==="category")return r[u]?r[u].coordinate+n:null;var d=kt(o,t.dataKey,t.scale.domain()[u]);return ht(d)?null:t.scale(d)-s/2+n},d8=e=>{var{numericAxis:t}=e,r=t.scale.domain();if(t.type==="number"){var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return n<=0&&s>=0?0:s<0?s:n}return r[0]},f8=e=>{var t=e.flat(2).filter(Ae);return[Math.min(...t),Math.max(...t)]},h8=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],m8=(e,t,r)=>{if(e!=null)return h8(Object.keys(e).reduce((n,s)=>{var o=e[s],{stackedData:u}=o,d=u.reduce((h,m)=>{var g=CA(m,t,r),x=f8(g);return[Math.min(h[0],x[0]),Math.max(h[1],x[1])]},[1/0,-1/0]);return[Math.min(d[0],n[0]),Math.max(d[1],n[1])]},[1/0,-1/0]))},JN=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e_=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,ns=(e,t,r)=>{if(e&&e.scale&&e.scale.bandwidth){var n=e.scale.bandwidth();if(!r||n>0)return n}if(e&&t&&t.length>=2){for(var s=kf(t,g=>g.coordinate),o=1/0,u=1,d=s.length;u<d;u++){var h=s[u],m=s[u-1];o=Math.min((h.coordinate||0)-(m.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0};function t_(e){var{tooltipEntrySettings:t,dataKey:r,payload:n,value:s,name:o}=e;return on(on({},t),{},{dataKey:r,payload:n,value:s,name:o})}function Al(e,t){if(e)return String(e);if(typeof t=="string")return t}function g8(e,t,r,n,s){if(r==="horizontal"||r==="vertical"){var o=e>=s.left&&e<=s.left+s.width&&t>=s.top&&t<=s.top+s.height;return o?{x:e,y:t}:null}return n?J$({x:e,y:t},n):null}var x8=(e,t,r,n)=>{var s=t.find(m=>m&&m.index===r);if(s){if(e==="horizontal")return{x:s.coordinate,y:n.y};if(e==="vertical")return{x:n.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,{radius:u}=n;return on(on(on({},n),ar(n.cx,n.cy,u,o)),{},{angle:o,radius:u})}var d=s.coordinate,{angle:h}=n;return on(on(on({},n),ar(n.cx,n.cy,d,h)),{},{angle:h,radius:d})}return{x:0,y:0}},p8=(e,t)=>t==="horizontal"?e.x:t==="vertical"?e.y:t==="centric"?e.angle:e.radius,Aa=e=>e.layout.width,Ea=e=>e.layout.height,v8=e=>e.layout.scale,MA=e=>e.layout.margin,Rf=se(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),$f=se(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),y8="data-recharts-item-index",b8="data-recharts-item-data-key",Ec=60;function r_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function xd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r_(Object(r),!0).forEach(function(n){w8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function w8(e,t,r){return(t=j8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function j8(e){var t=N8(e,"string");return typeof t=="symbol"?t:t+""}function N8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var _8=e=>e.brush.height;function S8(e){var t=$f(e);return t.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Ec;return r+s}return r},0)}function O8(e){var t=$f(e);return t.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var s=typeof n.width=="number"?n.width:Ec;return r+s}return r},0)}function A8(e){var t=Rf(e);return t.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function E8(e){var t=Rf(e);return t.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Wt=se([Aa,Ea,MA,_8,S8,O8,A8,E8,iA,KR],(e,t,r,n,s,o,u,d,h,m)=>{var g={left:(r.left||0)+s,right:(r.right||0)+o},x={top:(r.top||0)+u,bottom:(r.bottom||0)+d},v=xd(xd({},x),g),b=v.bottom;v.bottom+=n,v=a8(v,h,m);var j=e-v.left-v.right,N=t-v.top-v.bottom;return xd(xd({brushBottom:b},v),{},{width:Math.max(j,0),height:Math.max(N,0)})}),k8=se(Wt,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),Vp=se(Aa,Ea,(e,t)=>({x:0,y:0,width:e,height:t})),C8=w.createContext(null),mr=()=>w.useContext(C8)!=null,Lf=e=>e.brush,If=se([Lf,Wt,MA],(e,t,r)=>({height:e.height,x:Ae(e.x)?e.x:t.left,y:Ae(e.y)?e.y:t.top+t.height+t.brushBottom-(r?.bottom||0),width:Ae(e.width)?e.width:t.width})),Fp=()=>{var e,t=mr(),r=ke(k8),n=ke(If),s=(e=ke(Lf))===null||e===void 0?void 0:e.padding;return!t||!n||!s?r:{width:n.width-s.left-s.right,height:n.height-s.top-s.bottom,x:s.left,y:s.top}},T8={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},RA=()=>{var e;return(e=ke(Wt))!==null&&e!==void 0?e:T8},$A=()=>ke(Aa),LA=()=>ke(Ea),Ke=e=>e.layout.layoutType,kc=()=>ke(Ke),D8={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},IA=Vr({name:"legend",initialState:D8,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload(e,t){e.payload.push(t.payload)},removeLegendPayload(e,t){var r=pa(e).payload.indexOf(t.payload);r>-1&&e.payload.splice(r,1)}}}),{setLegendSize:pF,setLegendSettings:vF,addLegendPayload:P8,removeLegendPayload:M8}=IA.actions,R8=IA.reducer;function qx(){return qx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},qx.apply(null,arguments)}function n_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function P0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?n_(Object(r),!0).forEach(function(n){$8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function $8(e,t,r){return(t=L8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L8(e){var t=I8(e,"string");return typeof t=="symbol"?t:t+""}function I8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U8(e){return Array.isArray(e)&&In(e[0])&&In(e[1])?e.join(" ~ "):e}var q8=e=>{var{separator:t=" : ",contentStyle:r={},itemStyle:n={},labelStyle:s={},payload:o,formatter:u,itemSorter:d,wrapperClassName:h,labelClassName:m,label:g,labelFormatter:x,accessibilityLayer:v=!1}=e,b=()=>{if(o&&o.length){var C={padding:0,margin:0},P=(d?kf(o,d):o).map((T,D)=>{if(T.type==="none")return null;var $=T.formatter||u||U8,{value:U,name:L}=T,te=U,de=L;if($){var J=$(U,L,T,D,o);if(Array.isArray(J))[te,de]=J;else if(J!=null)te=J;else return null}var ce=P0({display:"block",paddingTop:4,paddingBottom:4,color:T.color||"#000"},n);return w.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(D),style:ce},In(de)?w.createElement("span",{className:"recharts-tooltip-item-name"},de):null,In(de)?w.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,w.createElement("span",{className:"recharts-tooltip-item-value"},te),w.createElement("span",{className:"recharts-tooltip-item-unit"},T.unit||""))});return w.createElement("ul",{className:"recharts-tooltip-item-list",style:C},P)}return null},j=P0({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),N=P0({margin:0},s),_=!ht(g),O=_?g:"",S=We("recharts-default-tooltip",h),A=We("recharts-tooltip-label",m);_&&x&&o!==void 0&&o!==null&&(O=x(g,o));var k=v?{role:"status","aria-live":"assertive"}:{};return w.createElement("div",qx({className:S,style:j},k),w.createElement("p",{className:A,style:N},w.isValidElement(O)?O:"".concat(O)),b())},Io="recharts-tooltip-wrapper",z8={visibility:"hidden"};function B8(e){var{coordinate:t,translateX:r,translateY:n}=e;return We(Io,{["".concat(Io,"-right")]:Ae(r)&&t&&Ae(t.x)&&r>=t.x,["".concat(Io,"-left")]:Ae(r)&&t&&Ae(t.x)&&r<t.x,["".concat(Io,"-bottom")]:Ae(n)&&t&&Ae(t.y)&&n>=t.y,["".concat(Io,"-top")]:Ae(n)&&t&&Ae(t.y)&&n<t.y})}function a_(e){var{allowEscapeViewBox:t,coordinate:r,key:n,offsetTopLeft:s,position:o,reverseDirection:u,tooltipDimension:d,viewBox:h,viewBoxDimension:m}=e;if(o&&Ae(o[n]))return o[n];var g=r[n]-d-(s>0?s:0),x=r[n]+s;if(t[n])return u[n]?g:x;var v=h[n];if(v==null)return 0;if(u[n]){var b=g,j=v;return b<j?Math.max(x,v):Math.max(g,v)}if(m==null)return 0;var N=x+d,_=v+m;return N>_?Math.max(g,v):Math.max(x,v)}function H8(e){var{translateX:t,translateY:r,useTranslate3d:n}=e;return{transform:n?"translate3d(".concat(t,"px, ").concat(r,"px, 0)"):"translate(".concat(t,"px, ").concat(r,"px)")}}function K8(e){var{allowEscapeViewBox:t,coordinate:r,offsetTopLeft:n,position:s,reverseDirection:o,tooltipBox:u,useTranslate3d:d,viewBox:h}=e,m,g,x;return u.height>0&&u.width>0&&r?(g=a_({allowEscapeViewBox:t,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:u.width,viewBox:h,viewBoxDimension:h.width}),x=a_({allowEscapeViewBox:t,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:o,tooltipDimension:u.height,viewBox:h,viewBoxDimension:h.height}),m=H8({translateX:g,translateY:x,useTranslate3d:d})):m=z8,{cssProperties:m,cssClasses:B8({translateX:g,translateY:x,coordinate:r})}}function i_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?i_(Object(r),!0).forEach(function(n){zx(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function zx(e,t,r){return(t=Y8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Y8(e){var t=G8(e,"string");return typeof t=="symbol"?t:t+""}function G8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class V8 extends w.PureComponent{constructor(){super(...arguments),zx(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),zx(this,"handleKeyDown",t=>{if(t.key==="Escape"){var r,n,s,o;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(s=(o=this.props.coordinate)===null||o===void 0?void 0:o.y)!==null&&s!==void 0?s:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,r;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:r,animationDuration:n,animationEasing:s,children:o,coordinate:u,hasPayload:d,isAnimationActive:h,offset:m,position:g,reverseDirection:x,useTranslate3d:v,viewBox:b,wrapperStyle:j,lastBoundingBox:N,innerRef:_,hasPortalFromProps:O}=this.props,{cssClasses:S,cssProperties:A}=K8({allowEscapeViewBox:r,coordinate:u,offsetTopLeft:m,position:g,reverseDirection:x,tooltipBox:{height:N.height,width:N.width},useTranslate3d:v,viewBox:b}),k=O?{}:pd(pd({transition:h&&t?"transform ".concat(n,"ms ").concat(s):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&d?"visible":"hidden",position:"absolute",top:0,left:0}),C=pd(pd({},k),{},{visibility:!this.state.dismissed&&t&&d?"visible":"hidden"},j);return w.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:S,style:C,ref:_},o)}}var F8=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),os={isSsr:F8()},UA=()=>ke(e=>e.rootProps.accessibilityLayer);function sr(e){return Number.isFinite(e)}function Vd(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function Bx(){return Bx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Bx.apply(null,arguments)}function s_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function l_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s_(Object(r),!0).forEach(function(n){W8(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function W8(e,t,r){return(t=X8(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function X8(e){var t=Q8(e,"string");return typeof t=="symbol"?t:t+""}function Q8(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var o_={curveBasisClosed:E5,curveBasisOpen:k5,curveBasis:A5,curveBumpX:h5,curveBumpY:m5,curveLinearClosed:C5,curveLinear:Af,curveMonotoneX:T5,curveMonotoneY:D5,curveNatural:P5,curveStep:M5,curveStepAfter:$5,curveStepBefore:R5},vd=e=>sr(e.x)&&sr(e.y),Uo=e=>e.x,qo=e=>e.y,Z8=(e,t)=>{if(typeof e=="function")return e;var r="curve".concat(Sc(e));return(r==="curveMonotone"||r==="curveBump")&&t?o_["".concat(r).concat(t==="vertical"?"Y":"X")]:o_[r]||Af},J8=e=>{var{type:t="linear",points:r=[],baseLine:n,layout:s,connectNulls:o=!1}=e,u=Z8(t,s),d=o?r.filter(vd):r,h;if(Array.isArray(n)){var m=o?n.filter(x=>vd(x)):n,g=d.map((x,v)=>l_(l_({},x),{},{base:m[v]}));return s==="vertical"?h=ud().y(qo).x1(Uo).x0(x=>x.base.x):h=ud().x(Uo).y1(qo).y0(x=>x.base.y),h.defined(vd).curve(u),h(g)}return s==="vertical"&&Ae(n)?h=ud().y(qo).x1(Uo).x0(n):Ae(n)?h=ud().x(Uo).y1(qo).y0(n):h=RO().x(Uo).y(qo),h.defined(vd).curve(u),h(d)},Zo=e=>{var{className:t,points:r,path:n,pathRef:s}=e;if((!r||!r.length)&&!n)return null;var o=r&&r.length?J8(e):n;return w.createElement("path",Bx({},Oa(e),Mp(e),{className:We("recharts-curve",t),d:o===null?void 0:o,ref:s}))},eL=["x","y","top","left","width","height","className"];function Hx(){return Hx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Hx.apply(null,arguments)}function c_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function tL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?c_(Object(r),!0).forEach(function(n){rL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function rL(e,t,r){return(t=nL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function nL(e){var t=aL(e,"string");return typeof t=="symbol"?t:t+""}function aL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iL(e,t){if(e==null)return{};var r,n,s=sL(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function sL(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var lL=(e,t,r,n,s,o)=>"M".concat(e,",").concat(s,"v").concat(n,"M").concat(o,",").concat(t,"h").concat(r),oL=e=>{var{x:t=0,y:r=0,top:n=0,left:s=0,width:o=0,height:u=0,className:d}=e,h=iL(e,eL),m=tL({x:t,y:r,top:n,left:s,width:o,height:u},h);return!Ae(t)||!Ae(r)||!Ae(o)||!Ae(u)||!Ae(n)||!Ae(s)?null:w.createElement("path",Hx({},xt(m,!0),{className:We("recharts-cross",d),d:lL(t,r,o,u,n,s)}))};function cL(e,t,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-s:r.left+.5,y:e==="horizontal"?r.top+.5:t.y-s,width:e==="horizontal"?n:r.width-1,height:e==="horizontal"?r.height-1:n}}function u_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function uL(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?u_(Object(r),!0).forEach(function(n){dL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function dL(e,t,r){return(t=fL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function fL(e){var t=hL(e,"string");return typeof t=="symbol"?t:t+""}function hL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Fr(e,t){var r=uL({},e),n=t,s=Object.keys(t),o=s.reduce((u,d)=>(u[d]===void 0&&n[d]!==void 0&&(u[d]=n[d]),u),r);return o}function mL(){}function d_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function f_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d_(Object(r),!0).forEach(function(n){gL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function gL(e,t,r){return(t=xL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function xL(e){var t=pL(e,"string");return typeof t=="symbol"?t:t+""}function pL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var vL=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),qA=(e,t,r)=>e.map(n=>"".concat(vL(n)," ").concat(t,"ms ").concat(r)).join(","),yL=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((r,n)=>r.filter(s=>n.includes(s))),dc=(e,t)=>Object.keys(t).reduce((r,n)=>f_(f_({},r),{},{[n]:e(n,t[n])}),{});function h_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function nr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?h_(Object(r),!0).forEach(function(n){bL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):h_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function bL(e,t,r){return(t=wL(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function wL(e){var t=jL(e,"string");return typeof t=="symbol"?t:t+""}function jL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Fd=(e,t,r)=>e+(t-e)*r,Kx=e=>{var{from:t,to:r}=e;return t!==r},zA=(e,t,r)=>{var n=dc((s,o)=>{if(Kx(o)){var[u,d]=e(o.from,o.to,o.velocity);return nr(nr({},o),{},{from:u,velocity:d})}return o},t);return r<1?dc((s,o)=>Kx(o)?nr(nr({},o),{},{velocity:Fd(o.velocity,n[s].velocity,r),from:Fd(o.from,n[s].from,r)}):o,t):zA(e,n,r-1)};function NL(e,t,r,n,s,o){var u,d=n.reduce((v,b)=>nr(nr({},v),{},{[b]:{from:e[b],velocity:0,to:t[b]}}),{}),h=()=>dc((v,b)=>b.from,d),m=()=>!Object.values(d).filter(Kx).length,g=null,x=v=>{u||(u=v);var b=v-u,j=b/r.dt;d=zA(r,d,j),s(nr(nr(nr({},e),t),h())),u=v,m()||(g=o.setTimeout(x))};return()=>(g=o.setTimeout(x),()=>{g()})}function _L(e,t,r,n,s,o,u){var d=null,h=s.reduce((x,v)=>nr(nr({},x),{},{[v]:[e[v],t[v]]}),{}),m,g=x=>{m||(m=x);var v=(x-m)/n,b=dc((N,_)=>Fd(..._,r(v)),h);if(o(nr(nr(nr({},e),t),b)),v<1)d=u.setTimeout(g);else{var j=dc((N,_)=>Fd(..._,r(1)),h);o(nr(nr(nr({},e),t),j))}};return()=>(d=u.setTimeout(g),()=>{d()})}const SL=(e,t,r,n,s,o)=>{var u=yL(e,t);return r.isStepper===!0?NL(e,t,r,u,s,o):_L(e,t,r,n,u,s,o)};var Wd=1e-4,BA=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],HA=(e,t)=>e.map((r,n)=>r*t**n).reduce((r,n)=>r+n),m_=(e,t)=>r=>{var n=BA(e,t);return HA(n,r)},OL=(e,t)=>r=>{var n=BA(e,t),s=[...n.map((o,u)=>o*u).slice(1),0];return HA(s,r)},g_=function(){for(var t,r,n,s,o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];if(u.length===1)switch(u[0]){case"linear":[t,n,r,s]=[0,0,1,1];break;case"ease":[t,n,r,s]=[.25,.1,.25,1];break;case"ease-in":[t,n,r,s]=[.42,0,1,1];break;case"ease-out":[t,n,r,s]=[.42,0,.58,1];break;case"ease-in-out":[t,n,r,s]=[0,0,.58,1];break;default:{var h=u[0].split("(");h[0]==="cubic-bezier"&&h[1].split(")")[0].split(",").length===4&&([t,n,r,s]=h[1].split(")")[0].split(",").map(j=>parseFloat(j)))}}else u.length===4&&([t,n,r,s]=u);var m=m_(t,r),g=m_(n,s),x=OL(t,r),v=j=>j>1?1:j<0?0:j,b=j=>{for(var N=j>1?1:j,_=N,O=0;O<8;++O){var S=m(_)-N,A=x(_);if(Math.abs(S-N)<Wd||A<Wd)return g(_);_=v(_-S/A)}return g(_)};return b.isStepper=!1,b},AL=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:s=17}=t,o=(u,d,h)=>{var m=-(u-d)*r,g=h*n,x=h+(m-g)*s/1e3,v=h*s/1e3+u;return Math.abs(v-d)<Wd&&Math.abs(x)<Wd?[d,0]:[v,x]};return o.isStepper=!0,o.dt=s,o},EL=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return g_(e);case"spring":return AL();default:if(e.split("(")[0]==="cubic-bezier")return g_(e)}return typeof e=="function"?e:null};function kL(e){var t,r=()=>null,n=!1,s=null,o=u=>{if(!n){if(Array.isArray(u)){if(!u.length)return;var d=u,[h,...m]=d;if(typeof h=="number"){s=e.setTimeout(o.bind(null,m),h);return}o(h),s=e.setTimeout(o.bind(null,m));return}typeof u=="string"&&(t=u,r(t)),typeof u=="object"&&(t=u,r(t)),typeof u=="function"&&u()}};return{stop:()=>{n=!0},start:u=>{n=!1,s&&(s(),s=null),o(u)},subscribe:u=>(r=u,()=>{r=()=>null}),getTimeoutController:()=>e}}class CL{setTimeout(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),s=null,o=u=>{u-n>=r?t(u):typeof requestAnimationFrame=="function"&&(s=requestAnimationFrame(o))};return s=requestAnimationFrame(o),()=>{cancelAnimationFrame(s)}}}function TL(){return kL(new CL)}var DL=w.createContext(TL);function PL(e,t){var r=w.useContext(DL);return w.useMemo(()=>t??r(e),[e,t,r])}var ML={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},x_={t:0},M0={t:1};function Cc(e){var t=Fr(e,ML),{isActive:r,canBegin:n,duration:s,easing:o,begin:u,onAnimationEnd:d,onAnimationStart:h,children:m}=t,g=PL(t.animationId,t.animationManager),[x,v]=w.useState(r?x_:M0),b=w.useRef(null);return w.useEffect(()=>{r||v(M0)},[r]),w.useEffect(()=>{if(!r||!n)return mL;var j=SL(x_,M0,EL(o),s,v,g.getTimeoutController()),N=()=>{b.current=j()};return g.start([h,u,N,s,d]),()=>{g.stop(),b.current&&b.current(),d()}},[r,n,s,o,u,h,d,g]),m(x.t)}function Tc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=w.useRef(oc(t)),n=w.useRef(e);return n.current!==e&&(r.current=oc(t),n.current=e),r.current}function p_(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function v_(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p_(Object(r),!0).forEach(function(n){RL(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p_(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function RL(e,t,r){return(t=$L(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function $L(e){var t=LL(e,"string");return typeof t=="symbol"?t:t+""}function LL(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Xd.apply(null,arguments)}var y_=(e,t,r,n,s)=>{var o=Math.min(Math.abs(r)/2,Math.abs(n)/2),u=n>=0?1:-1,d=r>=0?1:-1,h=n>=0&&r>=0||n<0&&r<0?1:0,m;if(o>0&&s instanceof Array){for(var g=[0,0,0,0],x=0,v=4;x<v;x++)g[x]=s[x]>o?o:s[x];m="M".concat(e,",").concat(t+u*g[0]),g[0]>0&&(m+="A ".concat(g[0],",").concat(g[0],",0,0,").concat(h,",").concat(e+d*g[0],",").concat(t)),m+="L ".concat(e+r-d*g[1],",").concat(t),g[1]>0&&(m+="A ".concat(g[1],",").concat(g[1],",0,0,").concat(h,`,
        `).concat(e+r,",").concat(t+u*g[1])),m+="L ".concat(e+r,",").concat(t+n-u*g[2]),g[2]>0&&(m+="A ".concat(g[2],",").concat(g[2],",0,0,").concat(h,`,
        `).concat(e+r-d*g[2],",").concat(t+n)),m+="L ".concat(e+d*g[3],",").concat(t+n),g[3]>0&&(m+="A ".concat(g[3],",").concat(g[3],",0,0,").concat(h,`,
        `).concat(e,",").concat(t+n-u*g[3])),m+="Z"}else if(o>0&&s===+s&&s>0){var b=Math.min(o,s);m="M ".concat(e,",").concat(t+u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+d*b,",").concat(t,`
            L `).concat(e+r-d*b,",").concat(t,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+r,",").concat(t+u*b,`
            L `).concat(e+r,",").concat(t+n-u*b,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e+r-d*b,",").concat(t+n,`
            L `).concat(e+d*b,",").concat(t+n,`
            A `).concat(b,",").concat(b,",0,0,").concat(h,",").concat(e,",").concat(t+n-u*b," Z")}else m="M ".concat(e,",").concat(t," h ").concat(r," v ").concat(n," h ").concat(-r," Z");return m},IL={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},KA=e=>{var t=Fr(e,IL),r=w.useRef(null),[n,s]=w.useState(-1);w.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var J=r.current.getTotalLength();J&&s(J)}catch{}},[]);var{x:o,y:u,width:d,height:h,radius:m,className:g}=t,{animationEasing:x,animationDuration:v,animationBegin:b,isAnimationActive:j,isUpdateAnimationActive:N}=t,_=w.useRef(d),O=w.useRef(h),S=w.useRef(o),A=w.useRef(u),k=w.useMemo(()=>({x:o,y:u,width:d,height:h,radius:m}),[o,u,d,h,m]),C=Tc(k,"rectangle-");if(o!==+o||u!==+u||d!==+d||h!==+h||d===0||h===0)return null;var P=We("recharts-rectangle",g);if(!N)return w.createElement("path",Xd({},xt(t,!0),{className:P,d:y_(o,u,d,h,m)}));var T=_.current,D=O.current,$=S.current,U=A.current,L="0px ".concat(n===-1?1:n,"px"),te="".concat(n,"px 0px"),de=qA(["strokeDasharray"],v,typeof x=="string"?x:void 0);return w.createElement(Cc,{animationId:C,key:C,canBegin:n>0,duration:v,easing:x,isActive:N,begin:b},J=>{var ce=ct(T,d,J),z=ct(D,h,J),V=ct($,o,J),re=ct(U,u,J);r.current&&(_.current=ce,O.current=z,S.current=V,A.current=re);var ve;return j?J>0?ve={transition:de,strokeDasharray:te}:ve={strokeDasharray:L}:ve={strokeDasharray:te},w.createElement("path",Xd({},xt(t,!0),{className:P,d:y_(V,re,ce,z,m),ref:r,style:v_(v_({},ve),t.style)}))})};function YA(e){var{cx:t,cy:r,radius:n,startAngle:s,endAngle:o}=e,u=ar(t,r,n,s),d=ar(t,r,n,o);return{points:[u,d],cx:t,cy:r,radius:n,startAngle:s,endAngle:o}}function Yx(){return Yx=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Yx.apply(null,arguments)}var UL=(e,t)=>{var r=Or(t-e),n=Math.min(Math.abs(t-e),359.999);return r*n},yd=e=>{var{cx:t,cy:r,radius:n,angle:s,sign:o,isExternal:u,cornerRadius:d,cornerIsExternal:h}=e,m=d*(u?1:-1)+n,g=Math.asin(d/m)/Yd,x=h?s:s+o*g,v=ar(t,r,m,x),b=ar(t,r,n,x),j=h?s-o*g:s,N=ar(t,r,m*Math.cos(g*Yd),j);return{center:v,circleTangency:b,lineTangency:N,theta:g}},GA=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:o,endAngle:u}=e,d=UL(o,u),h=o+d,m=ar(t,r,s,o),g=ar(t,r,s,h),x="M ".concat(m.x,",").concat(m.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(d)>180),",").concat(+(o>h),`,
    `).concat(g.x,",").concat(g.y,`
  `);if(n>0){var v=ar(t,r,n,o),b=ar(t,r,n,h);x+="L ".concat(b.x,",").concat(b.y,`
            A `).concat(n,",").concat(n,`,0,
            `).concat(+(Math.abs(d)>180),",").concat(+(o<=h),`,
            `).concat(v.x,",").concat(v.y," Z")}else x+="L ".concat(t,",").concat(r," Z");return x},qL=e=>{var{cx:t,cy:r,innerRadius:n,outerRadius:s,cornerRadius:o,forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}=e,g=Or(m-h),{circleTangency:x,lineTangency:v,theta:b}=yd({cx:t,cy:r,radius:s,angle:h,sign:g,cornerRadius:o,cornerIsExternal:d}),{circleTangency:j,lineTangency:N,theta:_}=yd({cx:t,cy:r,radius:s,angle:m,sign:-g,cornerRadius:o,cornerIsExternal:d}),O=d?Math.abs(h-m):Math.abs(h-m)-b-_;if(O<0)return u?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):GA({cx:t,cy:r,innerRadius:n,outerRadius:s,startAngle:h,endAngle:m});var S="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(x.x,",").concat(x.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(O>180),",").concat(+(g<0),",").concat(j.x,",").concat(j.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(N.x,",").concat(N.y,`
  `);if(n>0){var{circleTangency:A,lineTangency:k,theta:C}=yd({cx:t,cy:r,radius:n,angle:h,sign:g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),{circleTangency:P,lineTangency:T,theta:D}=yd({cx:t,cy:r,radius:n,angle:m,sign:-g,isExternal:!0,cornerRadius:o,cornerIsExternal:d}),$=d?Math.abs(h-m):Math.abs(h-m)-C-D;if($<0&&o===0)return"".concat(S,"L").concat(t,",").concat(r,"Z");S+="L".concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(P.x,",").concat(P.y,`
      A`).concat(n,",").concat(n,",0,").concat(+($>180),",").concat(+(g>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(g<0),",").concat(k.x,",").concat(k.y,"Z")}else S+="L".concat(t,",").concat(r,"Z");return S},zL={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},VA=e=>{var t=Fr(e,zL),{cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:u,forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:g,className:x}=t;if(o<s||m===g)return null;var v=We("recharts-sector",x),b=o-s,j=_n(u,b,0,!0),N;return j>0&&Math.abs(m-g)<360?N=qL({cx:r,cy:n,innerRadius:s,outerRadius:o,cornerRadius:Math.min(j,b/2),forceCornerRadius:d,cornerIsExternal:h,startAngle:m,endAngle:g}):N=GA({cx:r,cy:n,innerRadius:s,outerRadius:o,startAngle:m,endAngle:g}),w.createElement("path",Yx({},xt(t,!0),{className:v,d:N}))};function BL(e,t,r){var n,s,o,u;if(e==="horizontal")n=t.x,o=n,s=r.top,u=r.top+r.height;else if(e==="vertical")s=t.y,u=s,n=r.left,o=r.left+r.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var{cx:d,cy:h,innerRadius:m,outerRadius:g,angle:x}=t,v=ar(d,h,m,x),b=ar(d,h,g,x);n=v.x,s=v.y,o=b.x,u=b.y}else return YA(t);return[{x:n,y:s},{x:o,y:u}]}var R0={},$0={},L0={},b_;function HL(){return b_||(b_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=nA();function r(n){return t.isSymbol(n)?NaN:Number(n)}e.toNumber=r})(L0)),L0}var w_;function KL(){return w_||(w_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=HL();function r(n){return n?(n=t.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}e.toFinite=r})($0)),$0}var j_;function YL(){return j_||(j_=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=aA(),r=KL();function n(s,o,u){u&&typeof u!="number"&&t.isIterateeCall(s,o,u)&&(o=u=void 0),s=r.toFinite(s),o===void 0?(o=s,s=0):o=r.toFinite(o),u=u===void 0?s<o?1:-1:r.toFinite(u);const d=Math.max(Math.ceil((o-s)/(u||1)),0),h=new Array(d);for(let m=0;m<d;m++)h[m]=s,s+=u;return h}e.range=n})(R0)),R0}var I0,N_;function GL(){return N_||(N_=1,I0=YL().range),I0}var VL=GL();const FA=Bn(VL);function li(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function FL(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wp(e){let t,r,n;e.length!==2?(t=li,r=(d,h)=>li(e(d),h),n=(d,h)=>e(d)-h):(t=e===li||e===FL?e:WL,r=e,n=e);function s(d,h,m=0,g=d.length){if(m<g){if(t(h,h)!==0)return g;do{const x=m+g>>>1;r(d[x],h)<0?m=x+1:g=x}while(m<g)}return m}function o(d,h,m=0,g=d.length){if(m<g){if(t(h,h)!==0)return g;do{const x=m+g>>>1;r(d[x],h)<=0?m=x+1:g=x}while(m<g)}return m}function u(d,h,m=0,g=d.length){const x=s(d,h,m,g-1);return x>m&&n(d[x-1],h)>-n(d[x],h)?x-1:x}return{left:s,center:u,right:o}}function WL(){return 0}function WA(e){return e===null?NaN:+e}function*XL(e,t){for(let r of e)r!=null&&(r=+r)>=r&&(yield r)}const QL=Wp(li),Dc=QL.right;Wp(WA).center;class __ extends Map{constructor(t,r=eI){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,s]of t)this.set(n,s)}get(t){return super.get(S_(this,t))}has(t){return super.has(S_(this,t))}set(t,r){return super.set(ZL(this,t),r)}delete(t){return super.delete(JL(this,t))}}function S_({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function ZL({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function JL({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function eI(e){return e!==null&&typeof e=="object"?e.valueOf():e}function tI(e=li){if(e===li)return XA;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function XA(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const rI=Math.sqrt(50),nI=Math.sqrt(10),aI=Math.sqrt(2);function Qd(e,t,r){const n=(t-e)/Math.max(0,r),s=Math.floor(Math.log10(n)),o=n/Math.pow(10,s),u=o>=rI?10:o>=nI?5:o>=aI?2:1;let d,h,m;return s<0?(m=Math.pow(10,-s)/u,d=Math.round(e*m),h=Math.round(t*m),d/m<e&&++d,h/m>t&&--h,m=-m):(m=Math.pow(10,s)*u,d=Math.round(e/m),h=Math.round(t/m),d*m<e&&++d,h*m>t&&--h),h<d&&.5<=r&&r<2?Qd(e,t,r*2):[d,h,m]}function Gx(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[s,o,u]=n?Qd(t,e,r):Qd(e,t,r);if(!(o>=s))return[];const d=o-s+1,h=new Array(d);if(n)if(u<0)for(let m=0;m<d;++m)h[m]=(o-m)/-u;else for(let m=0;m<d;++m)h[m]=(o-m)*u;else if(u<0)for(let m=0;m<d;++m)h[m]=(s+m)/-u;else for(let m=0;m<d;++m)h[m]=(s+m)*u;return h}function Vx(e,t,r){return t=+t,e=+e,r=+r,Qd(e,t,r)[2]}function Fx(e,t,r){t=+t,e=+e,r=+r;const n=t<e,s=n?Vx(t,e,r):Vx(e,t,r);return(n?-1:1)*(s<0?1/-s:s)}function O_(e,t){let r;for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function A_(e,t){let r;for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function QA(e,t,r=0,n=1/0,s){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(s=s===void 0?XA:tI(s);n>r;){if(n-r>600){const h=n-r+1,m=t-r+1,g=Math.log(h),x=.5*Math.exp(2*g/3),v=.5*Math.sqrt(g*x*(h-x)/h)*(m-h/2<0?-1:1),b=Math.max(r,Math.floor(t-m*x/h+v)),j=Math.min(n,Math.floor(t+(h-m)*x/h+v));QA(e,t,b,j,s)}const o=e[t];let u=r,d=n;for(zo(e,r,t),s(e[n],o)>0&&zo(e,r,n);u<d;){for(zo(e,u,d),++u,--d;s(e[u],o)<0;)++u;for(;s(e[d],o)>0;)--d}s(e[r],o)===0?zo(e,r,d):(++d,zo(e,d,n)),d<=t&&(r=d+1),t<=d&&(n=d-1)}return e}function zo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function iI(e,t,r){if(e=Float64Array.from(XL(e)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return A_(e);if(t>=1)return O_(e);var n,s=(n-1)*t,o=Math.floor(s),u=O_(QA(e,o).subarray(0,o+1)),d=A_(e.subarray(o+1));return u+(d-u)*(s-o)}}function sI(e,t,r=WA){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,s=(n-1)*t,o=Math.floor(s),u=+r(e[o],o,e),d=+r(e[o+1],o+1,e);return u+(d-u)*(s-o)}}function lI(e,t,r){e=+e,t=+t,r=(s=arguments.length)<2?(t=e,e=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((t-e)/r))|0,o=new Array(s);++n<s;)o[n]=e+n*r;return o}function fn(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ka(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Wx=Symbol("implicit");function Xp(){var e=new __,t=[],r=[],n=Wx;function s(o){let u=e.get(o);if(u===void 0){if(n!==Wx)return n;e.set(o,u=t.push(o)-1)}return r[u%r.length]}return s.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new __;for(const u of o)e.has(u)||e.set(u,t.push(u)-1);return s},s.range=function(o){return arguments.length?(r=Array.from(o),s):r.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return Xp(t,r).unknown(n)},fn.apply(s,arguments),s}function Qp(){var e=Xp().unknown(void 0),t=e.domain,r=e.range,n=0,s=1,o,u,d=!1,h=0,m=0,g=.5;delete e.unknown;function x(){var v=t().length,b=s<n,j=b?s:n,N=b?n:s;o=(N-j)/Math.max(1,v-h+m*2),d&&(o=Math.floor(o)),j+=(N-j-o*(v-h))*g,u=o*(1-h),d&&(j=Math.round(j),u=Math.round(u));var _=lI(v).map(function(O){return j+o*O});return r(b?_.reverse():_)}return e.domain=function(v){return arguments.length?(t(v),x()):t()},e.range=function(v){return arguments.length?([n,s]=v,n=+n,s=+s,x()):[n,s]},e.rangeRound=function(v){return[n,s]=v,n=+n,s=+s,d=!0,x()},e.bandwidth=function(){return u},e.step=function(){return o},e.round=function(v){return arguments.length?(d=!!v,x()):d},e.padding=function(v){return arguments.length?(h=Math.min(1,m=+v),x()):h},e.paddingInner=function(v){return arguments.length?(h=Math.min(1,v),x()):h},e.paddingOuter=function(v){return arguments.length?(m=+v,x()):m},e.align=function(v){return arguments.length?(g=Math.max(0,Math.min(1,v)),x()):g},e.copy=function(){return Qp(t(),[n,s]).round(d).paddingInner(h).paddingOuter(m).align(g)},fn.apply(x(),arguments)}function ZA(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ZA(t())},e}function oI(){return ZA(Qp.apply(null,arguments).paddingInner(1))}function Zp(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function JA(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Pc(){}var fc=.7,Zd=1/fc,hl="\\s*([+-]?\\d+)\\s*",hc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ln="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",cI=/^#([0-9a-f]{3,8})$/,uI=new RegExp(`^rgb\\(${hl},${hl},${hl}\\)$`),dI=new RegExp(`^rgb\\(${Ln},${Ln},${Ln}\\)$`),fI=new RegExp(`^rgba\\(${hl},${hl},${hl},${hc}\\)$`),hI=new RegExp(`^rgba\\(${Ln},${Ln},${Ln},${hc}\\)$`),mI=new RegExp(`^hsl\\(${hc},${Ln},${Ln}\\)$`),gI=new RegExp(`^hsla\\(${hc},${Ln},${Ln},${hc}\\)$`),E_={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Zp(Pc,mc,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:k_,formatHex:k_,formatHex8:xI,formatHsl:pI,formatRgb:C_,toString:C_});function k_(){return this.rgb().formatHex()}function xI(){return this.rgb().formatHex8()}function pI(){return eE(this).formatHsl()}function C_(){return this.rgb().formatRgb()}function mc(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=cI.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?T_(t):r===3?new Ar(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?bd(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?bd(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=uI.exec(e))?new Ar(t[1],t[2],t[3],1):(t=dI.exec(e))?new Ar(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=fI.exec(e))?bd(t[1],t[2],t[3],t[4]):(t=hI.exec(e))?bd(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=mI.exec(e))?M_(t[1],t[2]/100,t[3]/100,1):(t=gI.exec(e))?M_(t[1],t[2]/100,t[3]/100,t[4]):E_.hasOwnProperty(e)?T_(E_[e]):e==="transparent"?new Ar(NaN,NaN,NaN,0):null}function T_(e){return new Ar(e>>16&255,e>>8&255,e&255,1)}function bd(e,t,r,n){return n<=0&&(e=t=r=NaN),new Ar(e,t,r,n)}function vI(e){return e instanceof Pc||(e=mc(e)),e?(e=e.rgb(),new Ar(e.r,e.g,e.b,e.opacity)):new Ar}function Xx(e,t,r,n){return arguments.length===1?vI(e):new Ar(e,t,r,n??1)}function Ar(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Zp(Ar,Xx,JA(Pc,{brighter(e){return e=e==null?Zd:Math.pow(Zd,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?fc:Math.pow(fc,e),new Ar(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Ar(Zi(this.r),Zi(this.g),Zi(this.b),Jd(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:D_,formatHex:D_,formatHex8:yI,formatRgb:P_,toString:P_}));function D_(){return`#${Vi(this.r)}${Vi(this.g)}${Vi(this.b)}`}function yI(){return`#${Vi(this.r)}${Vi(this.g)}${Vi(this.b)}${Vi((isNaN(this.opacity)?1:this.opacity)*255)}`}function P_(){const e=Jd(this.opacity);return`${e===1?"rgb(":"rgba("}${Zi(this.r)}, ${Zi(this.g)}, ${Zi(this.b)}${e===1?")":`, ${e})`}`}function Jd(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Zi(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Vi(e){return e=Zi(e),(e<16?"0":"")+e.toString(16)}function M_(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new jn(e,t,r,n)}function eE(e){if(e instanceof jn)return new jn(e.h,e.s,e.l,e.opacity);if(e instanceof Pc||(e=mc(e)),!e)return new jn;if(e instanceof jn)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,s=Math.min(t,r,n),o=Math.max(t,r,n),u=NaN,d=o-s,h=(o+s)/2;return d?(t===o?u=(r-n)/d+(r<n)*6:r===o?u=(n-t)/d+2:u=(t-r)/d+4,d/=h<.5?o+s:2-o-s,u*=60):d=h>0&&h<1?0:u,new jn(u,d,h,e.opacity)}function bI(e,t,r,n){return arguments.length===1?eE(e):new jn(e,t,r,n??1)}function jn(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Zp(jn,bI,JA(Pc,{brighter(e){return e=e==null?Zd:Math.pow(Zd,e),new jn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?fc:Math.pow(fc,e),new jn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,s=2*r-n;return new Ar(U0(e>=240?e-240:e+120,s,n),U0(e,s,n),U0(e<120?e+240:e-120,s,n),this.opacity)},clamp(){return new jn(R_(this.h),wd(this.s),wd(this.l),Jd(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Jd(this.opacity);return`${e===1?"hsl(":"hsla("}${R_(this.h)}, ${wd(this.s)*100}%, ${wd(this.l)*100}%${e===1?")":`, ${e})`}`}}));function R_(e){return e=(e||0)%360,e<0?e+360:e}function wd(e){return Math.max(0,Math.min(1,e||0))}function U0(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const Jp=e=>()=>e;function wI(e,t){return function(r){return e+r*t}}function jI(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function NI(e){return(e=+e)==1?tE:function(t,r){return r-t?jI(t,r,e):Jp(isNaN(t)?r:t)}}function tE(e,t){var r=t-e;return r?wI(e,r):Jp(isNaN(e)?t:e)}const $_=(function e(t){var r=NI(t);function n(s,o){var u=r((s=Xx(s)).r,(o=Xx(o)).r),d=r(s.g,o.g),h=r(s.b,o.b),m=tE(s.opacity,o.opacity);return function(g){return s.r=u(g),s.g=d(g),s.b=h(g),s.opacity=m(g),s+""}}return n.gamma=e,n})(1);function _I(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),s;return function(o){for(s=0;s<r;++s)n[s]=e[s]*(1-o)+t[s]*o;return n}}function SI(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function OI(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,s=new Array(n),o=new Array(r),u;for(u=0;u<n;++u)s[u]=El(e[u],t[u]);for(;u<r;++u)o[u]=t[u];return function(d){for(u=0;u<n;++u)o[u]=s[u](d);return o}}function AI(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function ef(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function EI(e,t){var r={},n={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=El(e[s],t[s]):n[s]=t[s];return function(o){for(s in r)n[s]=r[s](o);return n}}var Qx=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,q0=new RegExp(Qx.source,"g");function kI(e){return function(){return e}}function CI(e){return function(t){return e(t)+""}}function TI(e,t){var r=Qx.lastIndex=q0.lastIndex=0,n,s,o,u=-1,d=[],h=[];for(e=e+"",t=t+"";(n=Qx.exec(e))&&(s=q0.exec(t));)(o=s.index)>r&&(o=t.slice(r,o),d[u]?d[u]+=o:d[++u]=o),(n=n[0])===(s=s[0])?d[u]?d[u]+=s:d[++u]=s:(d[++u]=null,h.push({i:u,x:ef(n,s)})),r=q0.lastIndex;return r<t.length&&(o=t.slice(r),d[u]?d[u]+=o:d[++u]=o),d.length<2?h[0]?CI(h[0].x):kI(t):(t=h.length,function(m){for(var g=0,x;g<t;++g)d[(x=h[g]).i]=x.x(m);return d.join("")})}function El(e,t){var r=typeof t,n;return t==null||r==="boolean"?Jp(t):(r==="number"?ef:r==="string"?(n=mc(t))?(t=n,$_):TI:t instanceof mc?$_:t instanceof Date?AI:SI(t)?_I:Array.isArray(t)?OI:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?EI:ef)(e,t)}function ev(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function DI(e,t){t===void 0&&(t=e,e=El);for(var r=0,n=t.length-1,s=t[0],o=new Array(n<0?0:n);r<n;)o[r]=e(s,s=t[++r]);return function(u){var d=Math.max(0,Math.min(n-1,Math.floor(u*=n)));return o[d](u-d)}}function PI(e){return function(){return e}}function tf(e){return+e}var L_=[0,1];function yr(e){return e}function Zx(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:PI(isNaN(t)?NaN:.5)}function MI(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function RI(e,t,r){var n=e[0],s=e[1],o=t[0],u=t[1];return s<n?(n=Zx(s,n),o=r(u,o)):(n=Zx(n,s),o=r(o,u)),function(d){return o(n(d))}}function $I(e,t,r){var n=Math.min(e.length,t.length)-1,s=new Array(n),o=new Array(n),u=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++u<n;)s[u]=Zx(e[u],e[u+1]),o[u]=r(t[u],t[u+1]);return function(d){var h=Dc(e,d,1,n)-1;return o[h](s[h](d))}}function Mc(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Uf(){var e=L_,t=L_,r=El,n,s,o,u=yr,d,h,m;function g(){var v=Math.min(e.length,t.length);return u!==yr&&(u=MI(e[0],e[v-1])),d=v>2?$I:RI,h=m=null,x}function x(v){return v==null||isNaN(v=+v)?o:(h||(h=d(e.map(n),t,r)))(n(u(v)))}return x.invert=function(v){return u(s((m||(m=d(t,e.map(n),ef)))(v)))},x.domain=function(v){return arguments.length?(e=Array.from(v,tf),g()):e.slice()},x.range=function(v){return arguments.length?(t=Array.from(v),g()):t.slice()},x.rangeRound=function(v){return t=Array.from(v),r=ev,g()},x.clamp=function(v){return arguments.length?(u=v?!0:yr,g()):u!==yr},x.interpolate=function(v){return arguments.length?(r=v,g()):r},x.unknown=function(v){return arguments.length?(o=v,x):o},function(v,b){return n=v,s=b,g()}}function tv(){return Uf()(yr,yr)}function LI(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function bl(e){return e=rf(Math.abs(e)),e?e[1]:NaN}function II(e,t){return function(r,n){for(var s=r.length,o=[],u=0,d=e[0],h=0;s>0&&d>0&&(h+d+1>n&&(d=Math.max(1,n-h)),o.push(r.substring(s-=d,s+d)),!((h+=d+1)>n));)d=e[u=(u+1)%e.length];return o.reverse().join(t)}}function UI(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var qI=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function gc(e){if(!(t=qI.exec(e)))throw new Error("invalid format: "+e);var t;return new rv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}gc.prototype=rv.prototype;function rv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}rv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function zI(e){e:for(var t=e.length,r=1,n=-1,s;r<t;++r)switch(e[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(s+1):e}var rE;function BI(e,t){var r=rf(e,t);if(!r)return e+"";var n=r[0],s=r[1],o=s-(rE=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,u=n.length;return o===u?n:o>u?n+new Array(o-u+1).join("0"):o>0?n.slice(0,o)+"."+n.slice(o):"0."+new Array(1-o).join("0")+rf(e,Math.max(0,t+o-1))[0]}function I_(e,t){var r=rf(e,t);if(!r)return e+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const U_={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:LI,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>I_(e*100,t),r:I_,s:BI,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function q_(e){return e}var z_=Array.prototype.map,B_=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function HI(e){var t=e.grouping===void 0||e.thousands===void 0?q_:II(z_.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?q_:UI(z_.call(e.numerals,String)),u=e.percent===void 0?"%":e.percent+"",d=e.minus===void 0?"−":e.minus+"",h=e.nan===void 0?"NaN":e.nan+"";function m(x){x=gc(x);var v=x.fill,b=x.align,j=x.sign,N=x.symbol,_=x.zero,O=x.width,S=x.comma,A=x.precision,k=x.trim,C=x.type;C==="n"?(S=!0,C="g"):U_[C]||(A===void 0&&(A=12),k=!0,C="g"),(_||v==="0"&&b==="=")&&(_=!0,v="0",b="=");var P=N==="$"?r:N==="#"&&/[boxX]/.test(C)?"0"+C.toLowerCase():"",T=N==="$"?n:/[%p]/.test(C)?u:"",D=U_[C],$=/[defgprs%]/.test(C);A=A===void 0?6:/[gprs]/.test(C)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function U(L){var te=P,de=T,J,ce,z;if(C==="c")de=D(L)+de,L="";else{L=+L;var V=L<0||1/L<0;if(L=isNaN(L)?h:D(Math.abs(L),A),k&&(L=zI(L)),V&&+L==0&&j!=="+"&&(V=!1),te=(V?j==="("?j:d:j==="-"||j==="("?"":j)+te,de=(C==="s"?B_[8+rE/3]:"")+de+(V&&j==="("?")":""),$){for(J=-1,ce=L.length;++J<ce;)if(z=L.charCodeAt(J),48>z||z>57){de=(z===46?s+L.slice(J+1):L.slice(J))+de,L=L.slice(0,J);break}}}S&&!_&&(L=t(L,1/0));var re=te.length+L.length+de.length,ve=re<O?new Array(O-re+1).join(v):"";switch(S&&_&&(L=t(ve+L,ve.length?O-de.length:1/0),ve=""),b){case"<":L=te+L+de+ve;break;case"=":L=te+ve+L+de;break;case"^":L=ve.slice(0,re=ve.length>>1)+te+L+de+ve.slice(re);break;default:L=ve+te+L+de;break}return o(L)}return U.toString=function(){return x+""},U}function g(x,v){var b=m((x=gc(x),x.type="f",x)),j=Math.max(-8,Math.min(8,Math.floor(bl(v)/3)))*3,N=Math.pow(10,-j),_=B_[8+j/3];return function(O){return b(N*O)+_}}return{format:m,formatPrefix:g}}var jd,nv,nE;KI({thousands:",",grouping:[3],currency:["$",""]});function KI(e){return jd=HI(e),nv=jd.format,nE=jd.formatPrefix,jd}function YI(e){return Math.max(0,-bl(Math.abs(e)))}function GI(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bl(t)/3)))*3-bl(Math.abs(e)))}function VI(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,bl(t)-bl(e))+1}function aE(e,t,r,n){var s=Fx(e,t,r),o;switch(n=gc(n??",f"),n.type){case"s":{var u=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(o=GI(s,u))&&(n.precision=o),nE(n,u)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(o=VI(s,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=o-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(o=YI(s))&&(n.precision=o-(n.type==="%")*2);break}}return nv(n)}function fi(e){var t=e.domain;return e.ticks=function(r){var n=t();return Gx(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var s=t();return aE(s[0],s[s.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),s=0,o=n.length-1,u=n[s],d=n[o],h,m,g=10;for(d<u&&(m=u,u=d,d=m,m=s,s=o,o=m);g-- >0;){if(m=Vx(u,d,r),m===h)return n[s]=u,n[o]=d,t(n);if(m>0)u=Math.floor(u/m)*m,d=Math.ceil(d/m)*m;else if(m<0)u=Math.ceil(u*m)/m,d=Math.floor(d*m)/m;else break;h=m}return e},e}function iE(){var e=tv();return e.copy=function(){return Mc(e,iE())},fn.apply(e,arguments),fi(e)}function sE(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,tf),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return sE(e).unknown(t)},e=arguments.length?Array.from(e,tf):[0,1],fi(r)}function lE(e,t){e=e.slice();var r=0,n=e.length-1,s=e[r],o=e[n],u;return o<s&&(u=r,r=n,n=u,u=s,s=o,o=u),e[r]=t.floor(s),e[n]=t.ceil(o),e}function H_(e){return Math.log(e)}function K_(e){return Math.exp(e)}function FI(e){return-Math.log(-e)}function WI(e){return-Math.exp(-e)}function XI(e){return isFinite(e)?+("1e"+e):e<0?0:e}function QI(e){return e===10?XI:e===Math.E?Math.exp:t=>Math.pow(e,t)}function ZI(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Y_(e){return(t,r)=>-e(-t,r)}function av(e){const t=e(H_,K_),r=t.domain;let n=10,s,o;function u(){return s=ZI(n),o=QI(n),r()[0]<0?(s=Y_(s),o=Y_(o),e(FI,WI)):e(H_,K_),t}return t.base=function(d){return arguments.length?(n=+d,u()):n},t.domain=function(d){return arguments.length?(r(d),u()):r()},t.ticks=d=>{const h=r();let m=h[0],g=h[h.length-1];const x=g<m;x&&([m,g]=[g,m]);let v=s(m),b=s(g),j,N;const _=d==null?10:+d;let O=[];if(!(n%1)&&b-v<_){if(v=Math.floor(v),b=Math.ceil(b),m>0){for(;v<=b;++v)for(j=1;j<n;++j)if(N=v<0?j/o(-v):j*o(v),!(N<m)){if(N>g)break;O.push(N)}}else for(;v<=b;++v)for(j=n-1;j>=1;--j)if(N=v>0?j/o(-v):j*o(v),!(N<m)){if(N>g)break;O.push(N)}O.length*2<_&&(O=Gx(m,g,_))}else O=Gx(v,b,Math.min(b-v,_)).map(o);return x?O.reverse():O},t.tickFormat=(d,h)=>{if(d==null&&(d=10),h==null&&(h=n===10?"s":","),typeof h!="function"&&(!(n%1)&&(h=gc(h)).precision==null&&(h.trim=!0),h=nv(h)),d===1/0)return h;const m=Math.max(1,n*d/t.ticks().length);return g=>{let x=g/o(Math.round(s(g)));return x*n<n-.5&&(x*=n),x<=m?h(g):""}},t.nice=()=>r(lE(r(),{floor:d=>o(Math.floor(s(d))),ceil:d=>o(Math.ceil(s(d)))})),t}function oE(){const e=av(Uf()).domain([1,10]);return e.copy=()=>Mc(e,oE()).base(e.base()),fn.apply(e,arguments),e}function G_(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function V_(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function iv(e){var t=1,r=e(G_(t),V_(t));return r.constant=function(n){return arguments.length?e(G_(t=+n),V_(t)):t},fi(r)}function cE(){var e=iv(Uf());return e.copy=function(){return Mc(e,cE()).constant(e.constant())},fn.apply(e,arguments)}function F_(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function JI(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function eU(e){return e<0?-e*e:e*e}function sv(e){var t=e(yr,yr),r=1;function n(){return r===1?e(yr,yr):r===.5?e(JI,eU):e(F_(r),F_(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,n()):r},fi(t)}function lv(){var e=sv(Uf());return e.copy=function(){return Mc(e,lv()).exponent(e.exponent())},fn.apply(e,arguments),e}function tU(){return lv.apply(null,arguments).exponent(.5)}function W_(e){return Math.sign(e)*e*e}function rU(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function uE(){var e=tv(),t=[0,1],r=!1,n;function s(o){var u=rU(e(o));return isNaN(u)?n:r?Math.round(u):u}return s.invert=function(o){return e.invert(W_(o))},s.domain=function(o){return arguments.length?(e.domain(o),s):e.domain()},s.range=function(o){return arguments.length?(e.range((t=Array.from(o,tf)).map(W_)),s):t.slice()},s.rangeRound=function(o){return s.range(o).round(!0)},s.round=function(o){return arguments.length?(r=!!o,s):r},s.clamp=function(o){return arguments.length?(e.clamp(o),s):e.clamp()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.copy=function(){return uE(e.domain(),t).round(r).clamp(e.clamp()).unknown(n)},fn.apply(s,arguments),fi(s)}function dE(){var e=[],t=[],r=[],n;function s(){var u=0,d=Math.max(1,t.length);for(r=new Array(d-1);++u<d;)r[u-1]=sI(e,u/d);return o}function o(u){return u==null||isNaN(u=+u)?n:t[Dc(r,u)]}return o.invertExtent=function(u){var d=t.indexOf(u);return d<0?[NaN,NaN]:[d>0?r[d-1]:e[0],d<r.length?r[d]:e[e.length-1]]},o.domain=function(u){if(!arguments.length)return e.slice();e=[];for(let d of u)d!=null&&!isNaN(d=+d)&&e.push(d);return e.sort(li),s()},o.range=function(u){return arguments.length?(t=Array.from(u),s()):t.slice()},o.unknown=function(u){return arguments.length?(n=u,o):n},o.quantiles=function(){return r.slice()},o.copy=function(){return dE().domain(e).range(t).unknown(n)},fn.apply(o,arguments)}function fE(){var e=0,t=1,r=1,n=[.5],s=[0,1],o;function u(h){return h!=null&&h<=h?s[Dc(n,h,0,r)]:o}function d(){var h=-1;for(n=new Array(r);++h<r;)n[h]=((h+1)*t-(h-r)*e)/(r+1);return u}return u.domain=function(h){return arguments.length?([e,t]=h,e=+e,t=+t,d()):[e,t]},u.range=function(h){return arguments.length?(r=(s=Array.from(h)).length-1,d()):s.slice()},u.invertExtent=function(h){var m=s.indexOf(h);return m<0?[NaN,NaN]:m<1?[e,n[0]]:m>=r?[n[r-1],t]:[n[m-1],n[m]]},u.unknown=function(h){return arguments.length&&(o=h),u},u.thresholds=function(){return n.slice()},u.copy=function(){return fE().domain([e,t]).range(s).unknown(o)},fn.apply(fi(u),arguments)}function hE(){var e=[.5],t=[0,1],r,n=1;function s(o){return o!=null&&o<=o?t[Dc(e,o,0,n)]:r}return s.domain=function(o){return arguments.length?(e=Array.from(o),n=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(o){return arguments.length?(t=Array.from(o),n=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(o){var u=t.indexOf(o);return[e[u-1],e[u]]},s.unknown=function(o){return arguments.length?(r=o,s):r},s.copy=function(){return hE().domain(e).range(t).unknown(r)},fn.apply(s,arguments)}const z0=new Date,B0=new Date;function It(e,t,r,n){function s(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return s.floor=o=>(e(o=new Date(+o)),o),s.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),s.round=o=>{const u=s(o),d=s.ceil(o);return o-u<d-o?u:d},s.offset=(o,u)=>(t(o=new Date(+o),u==null?1:Math.floor(u)),o),s.range=(o,u,d)=>{const h=[];if(o=s.ceil(o),d=d==null?1:Math.floor(d),!(o<u)||!(d>0))return h;let m;do h.push(m=new Date(+o)),t(o,d),e(o);while(m<o&&o<u);return h},s.filter=o=>It(u=>{if(u>=u)for(;e(u),!o(u);)u.setTime(u-1)},(u,d)=>{if(u>=u)if(d<0)for(;++d<=0;)for(;t(u,-1),!o(u););else for(;--d>=0;)for(;t(u,1),!o(u););}),r&&(s.count=(o,u)=>(z0.setTime(+o),B0.setTime(+u),e(z0),e(B0),Math.floor(r(z0,B0))),s.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?s.filter(n?u=>n(u)%o===0:u=>s.count(0,u)%o===0):s)),s}const nf=It(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);nf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?It(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):nf);nf.range;const ha=1e3,cn=ha*60,ma=cn*60,Na=ma*24,ov=Na*7,X_=Na*30,H0=Na*365,Fi=It(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*ha)},(e,t)=>(t-e)/ha,e=>e.getUTCSeconds());Fi.range;const cv=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ha)},(e,t)=>{e.setTime(+e+t*cn)},(e,t)=>(t-e)/cn,e=>e.getMinutes());cv.range;const uv=It(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*cn)},(e,t)=>(t-e)/cn,e=>e.getUTCMinutes());uv.range;const dv=It(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*ha-e.getMinutes()*cn)},(e,t)=>{e.setTime(+e+t*ma)},(e,t)=>(t-e)/ma,e=>e.getHours());dv.range;const fv=It(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*ma)},(e,t)=>(t-e)/ma,e=>e.getUTCHours());fv.range;const Rc=It(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*cn)/Na,e=>e.getDate()-1);Rc.range;const qf=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Na,e=>e.getUTCDate()-1);qf.range;const mE=It(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Na,e=>Math.floor(e/Na));mE.range;function cs(e){return It(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*cn)/ov)}const zf=cs(0),af=cs(1),nU=cs(2),aU=cs(3),wl=cs(4),iU=cs(5),sU=cs(6);zf.range;af.range;nU.range;aU.range;wl.range;iU.range;sU.range;function us(e){return It(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ov)}const Bf=us(0),sf=us(1),lU=us(2),oU=us(3),jl=us(4),cU=us(5),uU=us(6);Bf.range;sf.range;lU.range;oU.range;jl.range;cU.range;uU.range;const hv=It(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());hv.range;const mv=It(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());mv.range;const _a=It(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());_a.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});_a.range;const Sa=It(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Sa.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:It(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Sa.range;function gE(e,t,r,n,s,o){const u=[[Fi,1,ha],[Fi,5,5*ha],[Fi,15,15*ha],[Fi,30,30*ha],[o,1,cn],[o,5,5*cn],[o,15,15*cn],[o,30,30*cn],[s,1,ma],[s,3,3*ma],[s,6,6*ma],[s,12,12*ma],[n,1,Na],[n,2,2*Na],[r,1,ov],[t,1,X_],[t,3,3*X_],[e,1,H0]];function d(m,g,x){const v=g<m;v&&([m,g]=[g,m]);const b=x&&typeof x.range=="function"?x:h(m,g,x),j=b?b.range(m,+g+1):[];return v?j.reverse():j}function h(m,g,x){const v=Math.abs(g-m)/x,b=Wp(([,,_])=>_).right(u,v);if(b===u.length)return e.every(Fx(m/H0,g/H0,x));if(b===0)return nf.every(Math.max(Fx(m,g,x),1));const[j,N]=u[v/u[b-1][2]<u[b][2]/v?b-1:b];return j.every(N)}return[d,h]}const[dU,fU]=gE(Sa,mv,Bf,mE,fv,uv),[hU,mU]=gE(_a,hv,zf,Rc,dv,cv);function K0(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Y0(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Bo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function gU(e){var t=e.dateTime,r=e.date,n=e.time,s=e.periods,o=e.days,u=e.shortDays,d=e.months,h=e.shortMonths,m=Ho(s),g=Ko(s),x=Ho(o),v=Ko(o),b=Ho(u),j=Ko(u),N=Ho(d),_=Ko(d),O=Ho(h),S=Ko(h),A={a:V,A:re,b:ve,B:I,c:null,d:rS,e:rS,f:IU,g:FU,G:XU,H:RU,I:$U,j:LU,L:xE,m:UU,M:qU,p:ee,q:ie,Q:iS,s:sS,S:zU,u:BU,U:HU,V:KU,w:YU,W:GU,x:null,X:null,y:VU,Y:WU,Z:QU,"%":aS},k={a:ge,A:je,b:ye,B:K,c:null,d:nS,e:nS,f:tq,g:dq,G:hq,H:ZU,I:JU,j:eq,L:vE,m:rq,M:nq,p:we,q,Q:iS,s:sS,S:aq,u:iq,U:sq,V:lq,w:oq,W:cq,x:null,X:null,y:uq,Y:fq,Z:mq,"%":aS},C={a:U,A:L,b:te,B:de,c:J,d:eS,e:eS,f:TU,g:J_,G:Z_,H:tS,I:tS,j:AU,L:CU,m:OU,M:EU,p:$,q:SU,Q:PU,s:MU,S:kU,u:bU,U:wU,V:jU,w:yU,W:NU,x:ce,X:z,y:J_,Y:Z_,Z:_U,"%":DU};A.x=P(r,A),A.X=P(n,A),A.c=P(t,A),k.x=P(r,k),k.X=P(n,k),k.c=P(t,k);function P(W,X){return function(Y){var H=[],le=-1,me=0,oe=W.length,be,Pe,Ye;for(Y instanceof Date||(Y=new Date(+Y));++le<oe;)W.charCodeAt(le)===37&&(H.push(W.slice(me,le)),(Pe=Q_[be=W.charAt(++le)])!=null?be=W.charAt(++le):Pe=be==="e"?" ":"0",(Ye=X[be])&&(be=Ye(Y,Pe)),H.push(be),me=le+1);return H.push(W.slice(me,le)),H.join("")}}function T(W,X){return function(Y){var H=Bo(1900,void 0,1),le=D(H,W,Y+="",0),me,oe;if(le!=Y.length)return null;if("Q"in H)return new Date(H.Q);if("s"in H)return new Date(H.s*1e3+("L"in H?H.L:0));if(X&&!("Z"in H)&&(H.Z=0),"p"in H&&(H.H=H.H%12+H.p*12),H.m===void 0&&(H.m="q"in H?H.q:0),"V"in H){if(H.V<1||H.V>53)return null;"w"in H||(H.w=1),"Z"in H?(me=Y0(Bo(H.y,0,1)),oe=me.getUTCDay(),me=oe>4||oe===0?sf.ceil(me):sf(me),me=qf.offset(me,(H.V-1)*7),H.y=me.getUTCFullYear(),H.m=me.getUTCMonth(),H.d=me.getUTCDate()+(H.w+6)%7):(me=K0(Bo(H.y,0,1)),oe=me.getDay(),me=oe>4||oe===0?af.ceil(me):af(me),me=Rc.offset(me,(H.V-1)*7),H.y=me.getFullYear(),H.m=me.getMonth(),H.d=me.getDate()+(H.w+6)%7)}else("W"in H||"U"in H)&&("w"in H||(H.w="u"in H?H.u%7:"W"in H?1:0),oe="Z"in H?Y0(Bo(H.y,0,1)).getUTCDay():K0(Bo(H.y,0,1)).getDay(),H.m=0,H.d="W"in H?(H.w+6)%7+H.W*7-(oe+5)%7:H.w+H.U*7-(oe+6)%7);return"Z"in H?(H.H+=H.Z/100|0,H.M+=H.Z%100,Y0(H)):K0(H)}}function D(W,X,Y,H){for(var le=0,me=X.length,oe=Y.length,be,Pe;le<me;){if(H>=oe)return-1;if(be=X.charCodeAt(le++),be===37){if(be=X.charAt(le++),Pe=C[be in Q_?X.charAt(le++):be],!Pe||(H=Pe(W,Y,H))<0)return-1}else if(be!=Y.charCodeAt(H++))return-1}return H}function $(W,X,Y){var H=m.exec(X.slice(Y));return H?(W.p=g.get(H[0].toLowerCase()),Y+H[0].length):-1}function U(W,X,Y){var H=b.exec(X.slice(Y));return H?(W.w=j.get(H[0].toLowerCase()),Y+H[0].length):-1}function L(W,X,Y){var H=x.exec(X.slice(Y));return H?(W.w=v.get(H[0].toLowerCase()),Y+H[0].length):-1}function te(W,X,Y){var H=O.exec(X.slice(Y));return H?(W.m=S.get(H[0].toLowerCase()),Y+H[0].length):-1}function de(W,X,Y){var H=N.exec(X.slice(Y));return H?(W.m=_.get(H[0].toLowerCase()),Y+H[0].length):-1}function J(W,X,Y){return D(W,t,X,Y)}function ce(W,X,Y){return D(W,r,X,Y)}function z(W,X,Y){return D(W,n,X,Y)}function V(W){return u[W.getDay()]}function re(W){return o[W.getDay()]}function ve(W){return h[W.getMonth()]}function I(W){return d[W.getMonth()]}function ee(W){return s[+(W.getHours()>=12)]}function ie(W){return 1+~~(W.getMonth()/3)}function ge(W){return u[W.getUTCDay()]}function je(W){return o[W.getUTCDay()]}function ye(W){return h[W.getUTCMonth()]}function K(W){return d[W.getUTCMonth()]}function we(W){return s[+(W.getUTCHours()>=12)]}function q(W){return 1+~~(W.getUTCMonth()/3)}return{format:function(W){var X=P(W+="",A);return X.toString=function(){return W},X},parse:function(W){var X=T(W+="",!1);return X.toString=function(){return W},X},utcFormat:function(W){var X=P(W+="",k);return X.toString=function(){return W},X},utcParse:function(W){var X=T(W+="",!0);return X.toString=function(){return W},X}}}var Q_={"-":"",_:" ",0:"0"},Xt=/^\s*\d+/,xU=/^%/,pU=/[\\^$*+?|[\]().{}]/g;function Ve(e,t,r){var n=e<0?"-":"",s=(n?-e:e)+"",o=s.length;return n+(o<r?new Array(r-o+1).join(t)+s:s)}function vU(e){return e.replace(pU,"\\$&")}function Ho(e){return new RegExp("^(?:"+e.map(vU).join("|")+")","i")}function Ko(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function yU(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function bU(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function wU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function jU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function NU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function Z_(e,t,r){var n=Xt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function J_(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _U(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function SU(e,t,r){var n=Xt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function OU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function eS(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function AU(e,t,r){var n=Xt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function tS(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function EU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function kU(e,t,r){var n=Xt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function CU(e,t,r){var n=Xt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function TU(e,t,r){var n=Xt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function DU(e,t,r){var n=xU.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function PU(e,t,r){var n=Xt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function MU(e,t,r){var n=Xt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function rS(e,t){return Ve(e.getDate(),t,2)}function RU(e,t){return Ve(e.getHours(),t,2)}function $U(e,t){return Ve(e.getHours()%12||12,t,2)}function LU(e,t){return Ve(1+Rc.count(_a(e),e),t,3)}function xE(e,t){return Ve(e.getMilliseconds(),t,3)}function IU(e,t){return xE(e,t)+"000"}function UU(e,t){return Ve(e.getMonth()+1,t,2)}function qU(e,t){return Ve(e.getMinutes(),t,2)}function zU(e,t){return Ve(e.getSeconds(),t,2)}function BU(e){var t=e.getDay();return t===0?7:t}function HU(e,t){return Ve(zf.count(_a(e)-1,e),t,2)}function pE(e){var t=e.getDay();return t>=4||t===0?wl(e):wl.ceil(e)}function KU(e,t){return e=pE(e),Ve(wl.count(_a(e),e)+(_a(e).getDay()===4),t,2)}function YU(e){return e.getDay()}function GU(e,t){return Ve(af.count(_a(e)-1,e),t,2)}function VU(e,t){return Ve(e.getFullYear()%100,t,2)}function FU(e,t){return e=pE(e),Ve(e.getFullYear()%100,t,2)}function WU(e,t){return Ve(e.getFullYear()%1e4,t,4)}function XU(e,t){var r=e.getDay();return e=r>=4||r===0?wl(e):wl.ceil(e),Ve(e.getFullYear()%1e4,t,4)}function QU(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+Ve(t/60|0,"0",2)+Ve(t%60,"0",2)}function nS(e,t){return Ve(e.getUTCDate(),t,2)}function ZU(e,t){return Ve(e.getUTCHours(),t,2)}function JU(e,t){return Ve(e.getUTCHours()%12||12,t,2)}function eq(e,t){return Ve(1+qf.count(Sa(e),e),t,3)}function vE(e,t){return Ve(e.getUTCMilliseconds(),t,3)}function tq(e,t){return vE(e,t)+"000"}function rq(e,t){return Ve(e.getUTCMonth()+1,t,2)}function nq(e,t){return Ve(e.getUTCMinutes(),t,2)}function aq(e,t){return Ve(e.getUTCSeconds(),t,2)}function iq(e){var t=e.getUTCDay();return t===0?7:t}function sq(e,t){return Ve(Bf.count(Sa(e)-1,e),t,2)}function yE(e){var t=e.getUTCDay();return t>=4||t===0?jl(e):jl.ceil(e)}function lq(e,t){return e=yE(e),Ve(jl.count(Sa(e),e)+(Sa(e).getUTCDay()===4),t,2)}function oq(e){return e.getUTCDay()}function cq(e,t){return Ve(sf.count(Sa(e)-1,e),t,2)}function uq(e,t){return Ve(e.getUTCFullYear()%100,t,2)}function dq(e,t){return e=yE(e),Ve(e.getUTCFullYear()%100,t,2)}function fq(e,t){return Ve(e.getUTCFullYear()%1e4,t,4)}function hq(e,t){var r=e.getUTCDay();return e=r>=4||r===0?jl(e):jl.ceil(e),Ve(e.getUTCFullYear()%1e4,t,4)}function mq(){return"+0000"}function aS(){return"%"}function iS(e){return+e}function sS(e){return Math.floor(+e/1e3)}var ll,bE,wE;gq({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function gq(e){return ll=gU(e),bE=ll.format,ll.parse,wE=ll.utcFormat,ll.utcParse,ll}function xq(e){return new Date(e)}function pq(e){return e instanceof Date?+e:+new Date(+e)}function gv(e,t,r,n,s,o,u,d,h,m){var g=tv(),x=g.invert,v=g.domain,b=m(".%L"),j=m(":%S"),N=m("%I:%M"),_=m("%I %p"),O=m("%a %d"),S=m("%b %d"),A=m("%B"),k=m("%Y");function C(P){return(h(P)<P?b:d(P)<P?j:u(P)<P?N:o(P)<P?_:n(P)<P?s(P)<P?O:S:r(P)<P?A:k)(P)}return g.invert=function(P){return new Date(x(P))},g.domain=function(P){return arguments.length?v(Array.from(P,pq)):v().map(xq)},g.ticks=function(P){var T=v();return e(T[0],T[T.length-1],P??10)},g.tickFormat=function(P,T){return T==null?C:m(T)},g.nice=function(P){var T=v();return(!P||typeof P.range!="function")&&(P=t(T[0],T[T.length-1],P??10)),P?v(lE(T,P)):g},g.copy=function(){return Mc(g,gv(e,t,r,n,s,o,u,d,h,m))},g}function vq(){return fn.apply(gv(hU,mU,_a,hv,zf,Rc,dv,cv,Fi,bE).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yq(){return fn.apply(gv(dU,fU,Sa,mv,Bf,qf,fv,uv,Fi,wE).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Hf(){var e=0,t=1,r,n,s,o,u=yr,d=!1,h;function m(x){return x==null||isNaN(x=+x)?h:u(s===0?.5:(x=(o(x)-r)*s,d?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t]=x,r=o(e=+e),n=o(t=+t),s=r===n?0:1/(n-r),m):[e,t]},m.clamp=function(x){return arguments.length?(d=!!x,m):d},m.interpolator=function(x){return arguments.length?(u=x,m):u};function g(x){return function(v){var b,j;return arguments.length?([b,j]=v,u=x(b,j),m):[u(0),u(1)]}}return m.range=g(El),m.rangeRound=g(ev),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return o=x,r=x(e),n=x(t),s=r===n?0:1/(n-r),m}}function hi(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function jE(){var e=fi(Hf()(yr));return e.copy=function(){return hi(e,jE())},ka.apply(e,arguments)}function NE(){var e=av(Hf()).domain([1,10]);return e.copy=function(){return hi(e,NE()).base(e.base())},ka.apply(e,arguments)}function _E(){var e=iv(Hf());return e.copy=function(){return hi(e,_E()).constant(e.constant())},ka.apply(e,arguments)}function xv(){var e=sv(Hf());return e.copy=function(){return hi(e,xv()).exponent(e.exponent())},ka.apply(e,arguments)}function bq(){return xv.apply(null,arguments).exponent(.5)}function SE(){var e=[],t=yr;function r(n){if(n!=null&&!isNaN(n=+n))return t((Dc(e,n,1)-1)/(e.length-1))}return r.domain=function(n){if(!arguments.length)return e.slice();e=[];for(let s of n)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(li),r},r.interpolator=function(n){return arguments.length?(t=n,r):t},r.range=function(){return e.map((n,s)=>t(s/(e.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,o)=>iI(e,o/n))},r.copy=function(){return SE(t).domain(e)},ka.apply(r,arguments)}function Kf(){var e=0,t=.5,r=1,n=1,s,o,u,d,h,m=yr,g,x=!1,v;function b(N){return isNaN(N=+N)?v:(N=.5+((N=+g(N))-o)*(n*N<n*o?d:h),m(x?Math.max(0,Math.min(1,N)):N))}b.domain=function(N){return arguments.length?([e,t,r]=N,s=g(e=+e),o=g(t=+t),u=g(r=+r),d=s===o?0:.5/(o-s),h=o===u?0:.5/(u-o),n=o<s?-1:1,b):[e,t,r]},b.clamp=function(N){return arguments.length?(x=!!N,b):x},b.interpolator=function(N){return arguments.length?(m=N,b):m};function j(N){return function(_){var O,S,A;return arguments.length?([O,S,A]=_,m=DI(N,[O,S,A]),b):[m(0),m(.5),m(1)]}}return b.range=j(El),b.rangeRound=j(ev),b.unknown=function(N){return arguments.length?(v=N,b):v},function(N){return g=N,s=N(e),o=N(t),u=N(r),d=s===o?0:.5/(o-s),h=o===u?0:.5/(u-o),n=o<s?-1:1,b}}function OE(){var e=fi(Kf()(yr));return e.copy=function(){return hi(e,OE())},ka.apply(e,arguments)}function AE(){var e=av(Kf()).domain([.1,1,10]);return e.copy=function(){return hi(e,AE()).base(e.base())},ka.apply(e,arguments)}function EE(){var e=iv(Kf());return e.copy=function(){return hi(e,EE()).constant(e.constant())},ka.apply(e,arguments)}function pv(){var e=sv(Kf());return e.copy=function(){return hi(e,pv()).exponent(e.exponent())},ka.apply(e,arguments)}function wq(){return pv.apply(null,arguments).exponent(.5)}const Fo=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Qp,scaleDiverging:OE,scaleDivergingLog:AE,scaleDivergingPow:pv,scaleDivergingSqrt:wq,scaleDivergingSymlog:EE,scaleIdentity:sE,scaleImplicit:Wx,scaleLinear:iE,scaleLog:oE,scaleOrdinal:Xp,scalePoint:oI,scalePow:lv,scaleQuantile:dE,scaleQuantize:fE,scaleRadial:uE,scaleSequential:jE,scaleSequentialLog:NE,scaleSequentialPow:xv,scaleSequentialQuantile:SE,scaleSequentialSqrt:bq,scaleSequentialSymlog:_E,scaleSqrt:tU,scaleSymlog:cE,scaleThreshold:hE,scaleTime:vq,scaleUtc:yq,tickFormat:aE},Symbol.toStringTag,{value:"Module"}));var mi=e=>e.chartData,jq=se([mi],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),$c=(e,t,r,n)=>n?jq(e):mi(e);function Nl(e){if(Array.isArray(e)&&e.length===2){var[t,r]=e;if(sr(t)&&sr(r))return!0}return!1}function lS(e,t,r){return r?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function Nq(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[r,n]=e,s,o;if(sr(r))s=r;else if(typeof r=="function")return;if(sr(n))o=n;else if(typeof n=="function")return;var u=[s,o];if(Nl(u))return u}}function _q(e,t,r){if(!(!r&&t==null)){if(typeof e=="function"&&t!=null)try{var n=e(t,r);if(Nl(n))return lS(n,t,r)}catch{}if(Array.isArray(e)&&e.length===2){var[s,o]=e,u,d;if(s==="auto")t!=null&&(u=Math.min(...t));else if(Ae(s))u=s;else if(typeof s=="function")try{t!=null&&(u=s(t?.[0]))}catch{}else if(typeof s=="string"&&JN.test(s)){var h=JN.exec(s);if(h==null||t==null)u=void 0;else{var m=+h[1];u=t[0]-m}}else u=t?.[0];if(o==="auto")t!=null&&(d=Math.max(...t));else if(Ae(o))d=o;else if(typeof o=="function")try{t!=null&&(d=o(t?.[1]))}catch{}else if(typeof o=="string"&&e_.test(o)){var g=e_.exec(o);if(g==null||t==null)d=void 0;else{var x=+g[1];d=t[1]+x}}else d=t?.[1];var v=[u,d];if(Nl(v))return t==null?v:lS(v,t,r)}}}var kl=1e9,Sq={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},yv,pt=!0,dn="[DecimalError] ",Ji=dn+"Invalid argument: ",vv=dn+"Exponent out of range: ",Cl=Math.floor,Ki=Math.pow,Oq=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Kr,Vt=1e7,ft=7,kE=9007199254740991,lf=Cl(kE/ft),Se={};Se.absoluteValue=Se.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Se.comparedTo=Se.cmp=function(e){var t,r,n,s,o=this;if(e=new o.constructor(e),o.s!==e.s)return o.s||-e.s;if(o.e!==e.e)return o.e>e.e^o.s<0?1:-1;for(n=o.d.length,s=e.d.length,t=0,r=n<s?n:s;t<r;++t)if(o.d[t]!==e.d[t])return o.d[t]>e.d[t]^o.s<0?1:-1;return n===s?0:n>s^o.s<0?1:-1};Se.decimalPlaces=Se.dp=function(){var e=this,t=e.d.length-1,r=(t-e.e)*ft;if(t=e.d[t],t)for(;t%10==0;t/=10)r--;return r<0?0:r};Se.dividedBy=Se.div=function(e){return va(this,new this.constructor(e))};Se.dividedToIntegerBy=Se.idiv=function(e){var t=this,r=t.constructor;return at(va(t,new r(e),0,1),r.precision)};Se.equals=Se.eq=function(e){return!this.cmp(e)};Se.exponent=function(){return Ct(this)};Se.greaterThan=Se.gt=function(e){return this.cmp(e)>0};Se.greaterThanOrEqualTo=Se.gte=function(e){return this.cmp(e)>=0};Se.isInteger=Se.isint=function(){return this.e>this.d.length-2};Se.isNegative=Se.isneg=function(){return this.s<0};Se.isPositive=Se.ispos=function(){return this.s>0};Se.isZero=function(){return this.s===0};Se.lessThan=Se.lt=function(e){return this.cmp(e)<0};Se.lessThanOrEqualTo=Se.lte=function(e){return this.cmp(e)<1};Se.logarithm=Se.log=function(e){var t,r=this,n=r.constructor,s=n.precision,o=s+5;if(e===void 0)e=new n(10);else if(e=new n(e),e.s<1||e.eq(Kr))throw Error(dn+"NaN");if(r.s<1)throw Error(dn+(r.s?"NaN":"-Infinity"));return r.eq(Kr)?new n(0):(pt=!1,t=va(xc(r,o),xc(e,o),o),pt=!0,at(t,s))};Se.minus=Se.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?DE(t,e):CE(t,(e.s=-e.s,e))};Se.modulo=Se.mod=function(e){var t,r=this,n=r.constructor,s=n.precision;if(e=new n(e),!e.s)throw Error(dn+"NaN");return r.s?(pt=!1,t=va(r,e,0,1).times(e),pt=!0,r.minus(t)):at(new n(r),s)};Se.naturalExponential=Se.exp=function(){return TE(this)};Se.naturalLogarithm=Se.ln=function(){return xc(this)};Se.negated=Se.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Se.plus=Se.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?CE(t,e):DE(t,(e.s=-e.s,e))};Se.precision=Se.sd=function(e){var t,r,n,s=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Ji+e);if(t=Ct(s)+1,n=s.d.length-1,r=n*ft+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return e&&t>r?t:r};Se.squareRoot=Se.sqrt=function(){var e,t,r,n,s,o,u,d=this,h=d.constructor;if(d.s<1){if(!d.s)return new h(0);throw Error(dn+"NaN")}for(e=Ct(d),pt=!1,s=Math.sqrt(+d),s==0||s==1/0?(t=$n(d.d),(t.length+e)%2==0&&(t+="0"),s=Math.sqrt(t),e=Cl((e+1)/2)-(e<0||e%2),s==1/0?t="5e"+e:(t=s.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),n=new h(t)):n=new h(s.toString()),r=h.precision,s=u=r+3;;)if(o=n,n=o.plus(va(d,o,u+2)).times(.5),$n(o.d).slice(0,u)===(t=$n(n.d)).slice(0,u)){if(t=t.slice(u-3,u+1),s==u&&t=="4999"){if(at(o,r+1,0),o.times(o).eq(d)){n=o;break}}else if(t!="9999")break;u+=4}return pt=!0,at(n,r)};Se.times=Se.mul=function(e){var t,r,n,s,o,u,d,h,m,g=this,x=g.constructor,v=g.d,b=(e=new x(e)).d;if(!g.s||!e.s)return new x(0);for(e.s*=g.s,r=g.e+e.e,h=v.length,m=b.length,h<m&&(o=v,v=b,b=o,u=h,h=m,m=u),o=[],u=h+m,n=u;n--;)o.push(0);for(n=m;--n>=0;){for(t=0,s=h+n;s>n;)d=o[s]+b[n]*v[s-n-1]+t,o[s--]=d%Vt|0,t=d/Vt|0;o[s]=(o[s]+t)%Vt|0}for(;!o[--u];)o.pop();return t?++r:o.shift(),e.d=o,e.e=r,pt?at(e,x.precision):e};Se.toDecimalPlaces=Se.todp=function(e,t){var r=this,n=r.constructor;return r=new n(r),e===void 0?r:(Un(e,0,kl),t===void 0?t=n.rounding:Un(t,0,8),at(r,e+Ct(r)+1,t))};Se.toExponential=function(e,t){var r,n=this,s=n.constructor;return e===void 0?r=as(n,!0):(Un(e,0,kl),t===void 0?t=s.rounding:Un(t,0,8),n=at(new s(n),e+1,t),r=as(n,!0,e+1)),r};Se.toFixed=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?as(s):(Un(e,0,kl),t===void 0?t=o.rounding:Un(t,0,8),n=at(new o(s),e+Ct(s)+1,t),r=as(n.abs(),!1,e+Ct(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Se.toInteger=Se.toint=function(){var e=this,t=e.constructor;return at(new t(e),Ct(e)+1,t.rounding)};Se.toNumber=function(){return+this};Se.toPower=Se.pow=function(e){var t,r,n,s,o,u,d=this,h=d.constructor,m=12,g=+(e=new h(e));if(!e.s)return new h(Kr);if(d=new h(d),!d.s){if(e.s<1)throw Error(dn+"Infinity");return d}if(d.eq(Kr))return d;if(n=h.precision,e.eq(Kr))return at(d,n);if(t=e.e,r=e.d.length-1,u=t>=r,o=d.s,u){if((r=g<0?-g:g)<=kE){for(s=new h(Kr),t=Math.ceil(n/ft+4),pt=!1;r%2&&(s=s.times(d),cS(s.d,t)),r=Cl(r/2),r!==0;)d=d.times(d),cS(d.d,t);return pt=!0,e.s<0?new h(Kr).div(s):at(s,n)}}else if(o<0)throw Error(dn+"NaN");return o=o<0&&e.d[Math.max(t,r)]&1?-1:1,d.s=1,pt=!1,s=e.times(xc(d,n+m)),pt=!0,s=TE(s),s.s=o,s};Se.toPrecision=function(e,t){var r,n,s=this,o=s.constructor;return e===void 0?(r=Ct(s),n=as(s,r<=o.toExpNeg||r>=o.toExpPos)):(Un(e,1,kl),t===void 0?t=o.rounding:Un(t,0,8),s=at(new o(s),e,t),r=Ct(s),n=as(s,e<=r||r<=o.toExpNeg,e)),n};Se.toSignificantDigits=Se.tosd=function(e,t){var r=this,n=r.constructor;return e===void 0?(e=n.precision,t=n.rounding):(Un(e,1,kl),t===void 0?t=n.rounding:Un(t,0,8)),at(new n(r),e,t)};Se.toString=Se.valueOf=Se.val=Se.toJSON=Se[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Ct(e),r=e.constructor;return as(e,t<=r.toExpNeg||t>=r.toExpPos)};function CE(e,t){var r,n,s,o,u,d,h,m,g=e.constructor,x=g.precision;if(!e.s||!t.s)return t.s||(t=new g(e)),pt?at(t,x):t;if(h=e.d,m=t.d,u=e.e,s=t.e,h=h.slice(),o=u-s,o){for(o<0?(n=h,o=-o,d=m.length):(n=m,s=u,d=h.length),u=Math.ceil(x/ft),d=u>d?u+1:d+1,o>d&&(o=d,n.length=1),n.reverse();o--;)n.push(0);n.reverse()}for(d=h.length,o=m.length,d-o<0&&(o=d,n=m,m=h,h=n),r=0;o;)r=(h[--o]=h[o]+m[o]+r)/Vt|0,h[o]%=Vt;for(r&&(h.unshift(r),++s),d=h.length;h[--d]==0;)h.pop();return t.d=h,t.e=s,pt?at(t,x):t}function Un(e,t,r){if(e!==~~e||e<t||e>r)throw Error(Ji+e)}function $n(e){var t,r,n,s=e.length-1,o="",u=e[0];if(s>0){for(o+=u,t=1;t<s;t++)n=e[t]+"",r=ft-n.length,r&&(o+=ni(r)),o+=n;u=e[t],n=u+"",r=ft-n.length,r&&(o+=ni(r))}else if(u===0)return"0";for(;u%10===0;)u/=10;return o+u}var va=(function(){function e(n,s){var o,u=0,d=n.length;for(n=n.slice();d--;)o=n[d]*s+u,n[d]=o%Vt|0,u=o/Vt|0;return u&&n.unshift(u),n}function t(n,s,o,u){var d,h;if(o!=u)h=o>u?1:-1;else for(d=h=0;d<o;d++)if(n[d]!=s[d]){h=n[d]>s[d]?1:-1;break}return h}function r(n,s,o){for(var u=0;o--;)n[o]-=u,u=n[o]<s[o]?1:0,n[o]=u*Vt+n[o]-s[o];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,o,u){var d,h,m,g,x,v,b,j,N,_,O,S,A,k,C,P,T,D,$=n.constructor,U=n.s==s.s?1:-1,L=n.d,te=s.d;if(!n.s)return new $(n);if(!s.s)throw Error(dn+"Division by zero");for(h=n.e-s.e,T=te.length,C=L.length,b=new $(U),j=b.d=[],m=0;te[m]==(L[m]||0);)++m;if(te[m]>(L[m]||0)&&--h,o==null?S=o=$.precision:u?S=o+(Ct(n)-Ct(s))+1:S=o,S<0)return new $(0);if(S=S/ft+2|0,m=0,T==1)for(g=0,te=te[0],S++;(m<C||g)&&S--;m++)A=g*Vt+(L[m]||0),j[m]=A/te|0,g=A%te|0;else{for(g=Vt/(te[0]+1)|0,g>1&&(te=e(te,g),L=e(L,g),T=te.length,C=L.length),k=T,N=L.slice(0,T),_=N.length;_<T;)N[_++]=0;D=te.slice(),D.unshift(0),P=te[0],te[1]>=Vt/2&&++P;do g=0,d=t(te,N,T,_),d<0?(O=N[0],T!=_&&(O=O*Vt+(N[1]||0)),g=O/P|0,g>1?(g>=Vt&&(g=Vt-1),x=e(te,g),v=x.length,_=N.length,d=t(x,N,v,_),d==1&&(g--,r(x,T<v?D:te,v))):(g==0&&(d=g=1),x=te.slice()),v=x.length,v<_&&x.unshift(0),r(N,x,_),d==-1&&(_=N.length,d=t(te,N,T,_),d<1&&(g++,r(N,T<_?D:te,_))),_=N.length):d===0&&(g++,N=[0]),j[m++]=g,d&&N[0]?N[_++]=L[k]||0:(N=[L[k]],_=1);while((k++<C||N[0]!==void 0)&&S--)}return j[0]||j.shift(),b.e=h,at(b,u?o+Ct(b)+1:o)}})();function TE(e,t){var r,n,s,o,u,d,h=0,m=0,g=e.constructor,x=g.precision;if(Ct(e)>16)throw Error(vv+Ct(e));if(!e.s)return new g(Kr);for(pt=!1,d=x,u=new g(.03125);e.abs().gte(.1);)e=e.times(u),m+=5;for(n=Math.log(Ki(2,m))/Math.LN10*2+5|0,d+=n,r=s=o=new g(Kr),g.precision=d;;){if(s=at(s.times(e),d),r=r.times(++h),u=o.plus(va(s,r,d)),$n(u.d).slice(0,d)===$n(o.d).slice(0,d)){for(;m--;)o=at(o.times(o),d);return g.precision=x,t==null?(pt=!0,at(o,x)):o}o=u}}function Ct(e){for(var t=e.e*ft,r=e.d[0];r>=10;r/=10)t++;return t}function G0(e,t,r){if(t>e.LN10.sd())throw pt=!0,r&&(e.precision=r),Error(dn+"LN10 precision limit exceeded");return at(new e(e.LN10),t)}function ni(e){for(var t="";e--;)t+="0";return t}function xc(e,t){var r,n,s,o,u,d,h,m,g,x=1,v=10,b=e,j=b.d,N=b.constructor,_=N.precision;if(b.s<1)throw Error(dn+(b.s?"NaN":"-Infinity"));if(b.eq(Kr))return new N(0);if(t==null?(pt=!1,m=_):m=t,b.eq(10))return t==null&&(pt=!0),G0(N,m);if(m+=v,N.precision=m,r=$n(j),n=r.charAt(0),o=Ct(b),Math.abs(o)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(e),r=$n(b.d),n=r.charAt(0),x++;o=Ct(b),n>1?(b=new N("0."+r),o++):b=new N(n+"."+r.slice(1))}else return h=G0(N,m+2,_).times(o+""),b=xc(new N(n+"."+r.slice(1)),m-v).plus(h),N.precision=_,t==null?(pt=!0,at(b,_)):b;for(d=u=b=va(b.minus(Kr),b.plus(Kr),m),g=at(b.times(b),m),s=3;;){if(u=at(u.times(g),m),h=d.plus(va(u,new N(s),m)),$n(h.d).slice(0,m)===$n(d.d).slice(0,m))return d=d.times(2),o!==0&&(d=d.plus(G0(N,m+2,_).times(o+""))),d=va(d,new N(x),m),N.precision=_,t==null?(pt=!0,at(d,_)):d;d=h,s+=2}}function oS(e,t){var r,n,s;for((r=t.indexOf("."))>-1&&(t=t.replace(".","")),(n=t.search(/e/i))>0?(r<0&&(r=n),r+=+t.slice(n+1),t=t.substring(0,n)):r<0&&(r=t.length),n=0;t.charCodeAt(n)===48;)++n;for(s=t.length;t.charCodeAt(s-1)===48;)--s;if(t=t.slice(n,s),t){if(s-=n,r=r-n-1,e.e=Cl(r/ft),e.d=[],n=(r+1)%ft,r<0&&(n+=ft),n<s){for(n&&e.d.push(+t.slice(0,n)),s-=ft;n<s;)e.d.push(+t.slice(n,n+=ft));t=t.slice(n),n=ft-t.length}else n-=s;for(;n--;)t+="0";if(e.d.push(+t),pt&&(e.e>lf||e.e<-lf))throw Error(vv+r)}else e.s=0,e.e=0,e.d=[0];return e}function at(e,t,r){var n,s,o,u,d,h,m,g,x=e.d;for(u=1,o=x[0];o>=10;o/=10)u++;if(n=t-u,n<0)n+=ft,s=t,m=x[g=0];else{if(g=Math.ceil((n+1)/ft),o=x.length,g>=o)return e;for(m=o=x[g],u=1;o>=10;o/=10)u++;n%=ft,s=n-ft+u}if(r!==void 0&&(o=Ki(10,u-s-1),d=m/o%10|0,h=t<0||x[g+1]!==void 0||m%o,h=r<4?(d||h)&&(r==0||r==(e.s<0?3:2)):d>5||d==5&&(r==4||h||r==6&&(n>0?s>0?m/Ki(10,u-s):0:x[g-1])%10&1||r==(e.s<0?8:7))),t<1||!x[0])return h?(o=Ct(e),x.length=1,t=t-o-1,x[0]=Ki(10,(ft-t%ft)%ft),e.e=Cl(-t/ft)||0):(x.length=1,x[0]=e.e=e.s=0),e;if(n==0?(x.length=g,o=1,g--):(x.length=g+1,o=Ki(10,ft-n),x[g]=s>0?(m/Ki(10,u-s)%Ki(10,s)|0)*o:0),h)for(;;)if(g==0){(x[0]+=o)==Vt&&(x[0]=1,++e.e);break}else{if(x[g]+=o,x[g]!=Vt)break;x[g--]=0,o=1}for(n=x.length;x[--n]===0;)x.pop();if(pt&&(e.e>lf||e.e<-lf))throw Error(vv+Ct(e));return e}function DE(e,t){var r,n,s,o,u,d,h,m,g,x,v=e.constructor,b=v.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new v(e),pt?at(t,b):t;if(h=e.d,x=t.d,n=t.e,m=e.e,h=h.slice(),u=m-n,u){for(g=u<0,g?(r=h,u=-u,d=x.length):(r=x,n=m,d=h.length),s=Math.max(Math.ceil(b/ft),d)+2,u>s&&(u=s,r.length=1),r.reverse(),s=u;s--;)r.push(0);r.reverse()}else{for(s=h.length,d=x.length,g=s<d,g&&(d=s),s=0;s<d;s++)if(h[s]!=x[s]){g=h[s]<x[s];break}u=0}for(g&&(r=h,h=x,x=r,t.s=-t.s),d=h.length,s=x.length-d;s>0;--s)h[d++]=0;for(s=x.length;s>u;){if(h[--s]<x[s]){for(o=s;o&&h[--o]===0;)h[o]=Vt-1;--h[o],h[s]+=Vt}h[s]-=x[s]}for(;h[--d]===0;)h.pop();for(;h[0]===0;h.shift())--n;return h[0]?(t.d=h,t.e=n,pt?at(t,b):t):new v(0)}function as(e,t,r){var n,s=Ct(e),o=$n(e.d),u=o.length;return t?(r&&(n=r-u)>0?o=o.charAt(0)+"."+o.slice(1)+ni(n):u>1&&(o=o.charAt(0)+"."+o.slice(1)),o=o+(s<0?"e":"e+")+s):s<0?(o="0."+ni(-s-1)+o,r&&(n=r-u)>0&&(o+=ni(n))):s>=u?(o+=ni(s+1-u),r&&(n=r-s-1)>0&&(o=o+"."+ni(n))):((n=s+1)<u&&(o=o.slice(0,n)+"."+o.slice(n)),r&&(n=r-u)>0&&(s+1===u&&(o+="."),o+=ni(n))),e.s<0?"-"+o:o}function cS(e,t){if(e.length>t)return e.length=t,!0}function PE(e){var t,r,n;function s(o){var u=this;if(!(u instanceof s))return new s(o);if(u.constructor=s,o instanceof s){u.s=o.s,u.e=o.e,u.d=(o=o.d)?o.slice():o;return}if(typeof o=="number"){if(o*0!==0)throw Error(Ji+o);if(o>0)u.s=1;else if(o<0)o=-o,u.s=-1;else{u.s=0,u.e=0,u.d=[0];return}if(o===~~o&&o<1e7){u.e=0,u.d=[o];return}return oS(u,o.toString())}else if(typeof o!="string")throw Error(Ji+o);if(o.charCodeAt(0)===45?(o=o.slice(1),u.s=-1):u.s=1,Oq.test(o))oS(u,o);else throw Error(Ji+o)}if(s.prototype=Se,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=PE,s.config=s.set=Aq,e===void 0&&(e={}),e)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<n.length;)e.hasOwnProperty(r=n[t++])||(e[r]=this[r]);return s.config(e),s}function Aq(e){if(!e||typeof e!="object")throw Error(dn+"Object expected");var t,r,n,s=["precision",1,kl,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<s.length;t+=3)if((n=e[r=s[t]])!==void 0)if(Cl(n)===n&&n>=s[t+1]&&n<=s[t+2])this[r]=n;else throw Error(Ji+r+": "+n);if((n=e[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Ji+r+": "+n);return this}var yv=PE(Sq);Kr=new yv(1);const Ze=yv;var Eq=e=>e,ME={},RE=e=>e===ME,uS=e=>function t(){return arguments.length===0||arguments.length===1&&RE(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},$E=(e,t)=>e===1?t:uS(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];var o=n.filter(u=>u!==ME).length;return o>=e?t(...n):$E(e-o,uS(function(){for(var u=arguments.length,d=new Array(u),h=0;h<u;h++)d[h]=arguments[h];var m=n.map(g=>RE(g)?d.shift():g);return t(...m,...d)}))}),Yf=e=>$E(e.length,e),Jx=(e,t)=>{for(var r=[],n=e;n<t;++n)r[n-e]=n;return r},kq=Yf((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(r=>t[r]).map(e)),Cq=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];if(!r.length)return Eq;var s=r.reverse(),o=s[0],u=s.slice(1);return function(){return u.reduce((d,h)=>h(d),o(...arguments))}},ep=e=>Array.isArray(e)?e.reverse():e.split("").reverse().join(""),LE=e=>{var t=null,r=null;return function(){for(var n=arguments.length,s=new Array(n),o=0;o<n;o++)s[o]=arguments[o];return t&&s.every((u,d)=>{var h;return u===((h=t)===null||h===void 0?void 0:h[d])})||(t=s,r=e(...s)),r}};function IE(e){var t;return e===0?t=1:t=Math.floor(new Ze(e).abs().log(10).toNumber())+1,t}function UE(e,t,r){for(var n=new Ze(e),s=0,o=[];n.lt(t)&&s<1e5;)o.push(n.toNumber()),n=n.add(r),s++;return o}Yf((e,t,r)=>{var n=+e,s=+t;return n+r*(s-n)});Yf((e,t,r)=>{var n=t-+e;return n=n||1/0,(r-e)/n});Yf((e,t,r)=>{var n=t-+e;return n=n||1/0,Math.max(0,Math.min(1,(r-e)/n))});var qE=e=>{var[t,r]=e,[n,s]=[t,r];return t>r&&([n,s]=[r,t]),[n,s]},zE=(e,t,r)=>{if(e.lte(0))return new Ze(0);var n=IE(e.toNumber()),s=new Ze(10).pow(n),o=e.div(s),u=n!==1?.05:.1,d=new Ze(Math.ceil(o.div(u).toNumber())).add(r).mul(u),h=d.mul(s);return t?new Ze(h.toNumber()):new Ze(Math.ceil(h.toNumber()))},Tq=(e,t,r)=>{var n=new Ze(1),s=new Ze(e);if(!s.isint()&&r){var o=Math.abs(e);o<1?(n=new Ze(10).pow(IE(e)-1),s=new Ze(Math.floor(s.div(n).toNumber())).mul(n)):o>1&&(s=new Ze(Math.floor(e)))}else e===0?s=new Ze(Math.floor((t-1)/2)):r||(s=new Ze(Math.floor(e)));var u=Math.floor((t-1)/2),d=Cq(kq(h=>s.add(new Ze(h-u).mul(n)).toNumber()),Jx);return d(0,t)},BE=function(t,r,n,s){var o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-t)/(n-1)))return{step:new Ze(0),tickMin:new Ze(0),tickMax:new Ze(0)};var u=zE(new Ze(r).sub(t).div(n-1),s,o),d;t<=0&&r>=0?d=new Ze(0):(d=new Ze(t).add(r).div(2),d=d.sub(new Ze(d).mod(u)));var h=Math.ceil(d.sub(t).div(u).toNumber()),m=Math.ceil(new Ze(r).sub(d).div(u).toNumber()),g=h+m+1;return g>n?BE(t,r,n,s,o+1):(g<n&&(m=r>0?m+(n-g):m,h=r>0?h:h+(n-g)),{step:u,tickMin:d.sub(new Ze(h).mul(u)),tickMax:d.add(new Ze(m).mul(u))})};function Dq(e){var[t,r]=e,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(n,2),[u,d]=qE([t,r]);if(u===-1/0||d===1/0){var h=d===1/0?[u,...Jx(0,n-1).map(()=>1/0)]:[...Jx(0,n-1).map(()=>-1/0),d];return t>r?ep(h):h}if(u===d)return Tq(u,n,s);var{step:m,tickMin:g,tickMax:x}=BE(u,d,o,s,0),v=UE(g,x.add(new Ze(.1).mul(m)),m);return t>r?ep(v):v}function Pq(e,t){var[r,n]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[o,u]=qE([r,n]);if(o===-1/0||u===1/0)return[r,n];if(o===u)return[o];var d=Math.max(t,2),h=zE(new Ze(u).sub(o).div(d-1),s,0),m=[...UE(new Ze(o),new Ze(u),h),u];return s===!1&&(m=m.map(g=>Math.round(g))),r>n?ep(m):m}var Mq=LE(Dq),Rq=LE(Pq),HE=e=>e.rootProps.maxBarSize,$q=e=>e.rootProps.barGap,KE=e=>e.rootProps.barCategoryGap,Lq=e=>e.rootProps.barSize,Gf=e=>e.rootProps.stackOffset,bv=e=>e.options.chartName,wv=e=>e.rootProps.syncId,YE=e=>e.rootProps.syncMethod,jv=e=>e.options.eventEmitter,da={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Br={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},Vf=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},Iq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:da.angleAxisId,includeHidden:!1,name:void 0,reversed:da.reversed,scale:da.scale,tick:da.tick,tickCount:void 0,ticks:void 0,type:da.type,unit:void 0},Uq={allowDataOverflow:Br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Br.scale,tick:Br.tick,tickCount:Br.tickCount,ticks:void 0,type:Br.type,unit:void 0},qq={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:da.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:da.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:da.scale,tick:da.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},zq={allowDataOverflow:Br.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Br.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Br.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Br.scale,tick:Br.tick,tickCount:Br.tickCount,ticks:void 0,type:"category",unit:void 0},Nv=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?qq:Iq,_v=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?zq:Uq,Ff=e=>e.polarOptions,Sv=se([Aa,Ea,Wt],F$),GE=se([Ff,Sv],(e,t)=>{if(e!=null)return _n(e.innerRadius,t,0)}),VE=se([Ff,Sv],(e,t)=>{if(e!=null)return _n(e.outerRadius,t,t*.8)}),Bq=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:r}=e;return[t,r]},FE=se([Ff],Bq);se([Nv,FE],Vf);var WE=se([Sv,GE,VE],(e,t,r)=>{if(!(e==null||t==null||r==null))return[t,r]});se([_v,WE],Vf);var XE=se([Ke,Ff,GE,VE,Aa,Ea],(e,t,r,n,s,o)=>{if(!(e!=="centric"&&e!=="radial"||t==null||r==null||n==null)){var{cx:u,cy:d,startAngle:h,endAngle:m}=t;return{cx:_n(u,s,s/2),cy:_n(d,o,o/2),innerRadius:r,outerRadius:n,startAngle:h,endAngle:m,clockWise:!1}}}),Tt=(e,t)=>t,Wf=(e,t,r)=>r;function Xf(e){return e?.id}var Ut=e=>{var t=Ke(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},Tl=e=>e.tooltip.settings.axisId,Qt=e=>{var t=Ut(e),r=Tl(e);return Lc(e,t,r)},QE=se([Qt],e=>e?.dataKey);function ZE(e,t,r){var{chartData:n=[]}=t,{allowDuplicatedCategory:s,dataKey:o}=r,u=new Map;return e.forEach(d=>{var h,m=(h=d.data)!==null&&h!==void 0?h:n;if(!(m==null||m.length===0)){var g=Xf(d);m.forEach((x,v)=>{var b=o==null||s?v:String(kt(x,o,null)),j=kt(x,d.dataKey,0),N;u.has(b)?N=u.get(b):N={},Object.assign(N,{[g]:j}),u.set(b,N)})}}),Array.from(u.values())}function Qf(e){return e.stackId!=null&&e.dataKey!=null}function dS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function of(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?dS(Object(r),!0).forEach(function(n){Hq(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):dS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Hq(e,t,r){return(t=Kq(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Kq(e){var t=Yq(e,"string");return typeof t=="symbol"?t:t+""}function Yq(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tp=[0,"auto"],qr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},JE=(e,t)=>e.cartesianAxis.xAxis[t],gi=(e,t)=>{var r=JE(e,t);return r??qr},zr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:tp,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Ec},ek=(e,t)=>e.cartesianAxis.yAxis[t],xi=(e,t)=>{var r=ek(e,t);return r??zr},Gq={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},Ov=(e,t)=>{var r=e.cartesianAxis.zAxis[t];return r??Gq},kr=(e,t,r)=>{switch(t){case"xAxis":return gi(e,r);case"yAxis":return xi(e,r);case"zAxis":return Ov(e,r);case"angleAxis":return Nv(e,r);case"radiusAxis":return _v(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Vq=(e,t,r)=>{switch(t){case"xAxis":return gi(e,r);case"yAxis":return xi(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},Lc=(e,t,r)=>{switch(t){case"xAxis":return gi(e,r);case"yAxis":return xi(e,r);case"angleAxis":return Nv(e,r);case"radiusAxis":return _v(e,r);default:throw new Error("Unexpected axis type: ".concat(t))}},tk=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function rk(e,t){return r=>{switch(e){case"xAxis":return"xAxisId"in r&&r.xAxisId===t;case"yAxis":return"yAxisId"in r&&r.yAxisId===t;case"zAxis":return"zAxisId"in r&&r.zAxisId===t;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===t;default:return!1}}}var Ic=e=>e.graphicalItems.cartesianItems,Fq=se([Tt,Wf],rk),nk=(e,t,r)=>e.filter(r).filter(n=>t?.includeHidden===!0?!0:!n.hide),Uc=se([Ic,kr,Fq],nk),ak=se([Uc],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(Qf)),ik=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),sk=se([Uc],ik),lk=e=>e.map(t=>t.data).filter(Boolean).flat(1),Wq=se([Uc],lk),ok=(e,t)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:s}=t;return e.length>0?e:r.slice(n,s+1)},Av=se([Wq,$c],ok),ck=(e,t,r)=>t?.dataKey!=null?e.map(n=>({value:kt(n,t.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>e.map(s=>({value:kt(s,n)}))):e.map(n=>({value:n})),Zf=se([Av,kr,Uc],ck);function uk(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function ds(e){return e.filter(t=>In(t)||t instanceof Date).map(Number).filter(t=>Er(t)===!1)}function Xq(e,t,r){return!r||typeof t!="number"||Er(t)?[]:r.length?ds(r.flatMap(n=>{var s=kt(e,n.dataKey),o,u;if(Array.isArray(s)?[o,u]=s:o=u=s,!(!sr(o)||!sr(u)))return[t-o,t+u]})):[]}var Qq=se([ak,$c,Qt],ZE),dk=(e,t,r)=>{var n={},s=t.reduce((o,u)=>(u.stackId==null||(o[u.stackId]==null&&(o[u.stackId]=[]),o[u.stackId].push(u)),o),n);return Object.fromEntries(Object.entries(s).map(o=>{var[u,d]=o,h=d.map(Xf);return[u,{stackedData:u8(e,h,r),graphicalItems:d}]}))},pc=se([Qq,ak,Gf],dk),fk=(e,t,r)=>{var{dataStartIndex:n,dataEndIndex:s}=t;if(r!=="zAxis"){var o=m8(e,n,s);if(!(o!=null&&o[0]===0&&o[1]===0))return o}},Zq=se([pc,mi,Tt],fk),hk=(e,t,r,n,s)=>r.length>0?e.flatMap(o=>r.flatMap(u=>{var d,h,m=(d=n[u.id])===null||d===void 0?void 0:d.filter(x=>uk(s,x)),g=kt(o,(h=t.dataKey)!==null&&h!==void 0?h:u.dataKey);return{value:g,errorDomain:Xq(o,g,m)}})).filter(Boolean):t?.dataKey!=null?e.map(o=>({value:kt(o,t.dataKey),errorDomain:[]})):e.map(o=>({value:o,errorDomain:[]})),Jf=e=>e.errorBars,mk=(e,t,r)=>e.flatMap(n=>t[n.id]).filter(Boolean).filter(n=>uk(r,n));se([sk,Jf,Tt],mk);var Jq=se([Av,kr,sk,Jf,Tt],hk);function ez(e){var{value:t}=e;if(In(t)||t instanceof Date)return t}var fS=e=>{var t=e.flatMap(n=>[n.value,n.errorDomain]).flat(1),r=ds(t);if(r.length!==0)return[Math.min(...r),Math.max(...r)]},tz=(e,t,r)=>{var n=e.map(ez).filter(s=>s!=null);return r&&(t.dataKey==null||t.allowDuplicatedCategory&&SO(n))?FA(0,e.length):t.allowDuplicatedCategory?n:Array.from(new Set(n))},Ev=e=>{var t;if(e==null||!("domain"in e))return tp;if(e.domain!=null)return e.domain;if(e.ticks!=null){if(e.type==="number"){var r=ds(e.ticks);return[Math.min(...r),Math.max(...r)]}if(e.type==="category")return e.ticks.map(String)}return(t=e?.domain)!==null&&t!==void 0?t:tp},cf=function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];var s=r.filter(Boolean);if(s.length!==0){var o=s.flat(),u=Math.min(...o),d=Math.max(...o);return[u,d]}},gk=e=>e.referenceElements.dots,Dl=(e,t,r)=>e.filter(n=>n.ifOverflow==="extendDomain").filter(n=>t==="xAxis"?n.xAxisId===r:n.yAxisId===r),rz=se([gk,Tt,Wf],Dl),xk=e=>e.referenceElements.areas,nz=se([xk,Tt,Wf],Dl),pk=e=>e.referenceElements.lines,az=se([pk,Tt,Wf],Dl),vk=(e,t)=>{var r=ds(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},iz=se(rz,Tt,vk),yk=(e,t)=>{var r=ds(e.flatMap(n=>[t==="xAxis"?n.x1:n.y1,t==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},sz=se([nz,Tt],yk),bk=(e,t)=>{var r=ds(e.map(n=>t==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]},lz=se(az,Tt,bk),oz=se(iz,lz,sz,(e,t,r)=>cf(e,r,t)),cz=se([kr],Ev),wk=(e,t,r,n,s,o,u)=>{var d=Nq(t,e.allowDataOverflow);if(d!=null)return d;var h=o==="vertical"&&u==="xAxis"||o==="horizontal"&&u==="yAxis",m=h?cf(r,s,fS(n)):cf(s,fS(n));return _q(t,m,e.allowDataOverflow)},uz=se([kr,cz,Zq,Jq,oz,Ke,Tt],wk),dz=[0,1],jk=(e,t,r,n,s,o,u)=>{if(!((e==null||r==null||r.length===0)&&u===void 0)){var{dataKey:d,type:h}=e,m=Yn(t,o);return m&&d==null?FA(0,r.length):h==="category"?tz(n,e,m):s==="expand"?dz:u}},kv=se([kr,Ke,Av,Zf,Gf,Tt,uz],jk),Nk=(e,t,r,n,s)=>{if(e!=null){var{scale:o,type:u}=e;if(o==="auto")return t==="radial"&&s==="radiusAxis"?"band":t==="radial"&&s==="angleAxis"?"linear":u==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":u==="category"?"band":"linear";if(typeof o=="string"){var d="scale".concat(Sc(o));return d in Fo?d:"point"}}},qc=se([kr,Ke,tk,bv,Tt],Nk);function fz(e){if(e!=null){if(e in Fo)return Fo[e]();var t="scale".concat(Sc(e));if(t in Fo)return Fo[t]()}}function Cv(e,t,r,n){if(!(r==null||n==null)){if(typeof e.scale=="function")return e.scale.copy().domain(r).range(n);var s=fz(t);if(s!=null){var o=s.domain(r).range(n);return i8(o),o}}}var _k=(e,t,r)=>{var n=Ev(t);if(!(r!=="auto"&&r!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Nl(e))return Mq(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&Nl(e))return Rq(e,t.tickCount,t.allowDecimals)}},Tv=se([kv,Lc,qc],_k),Sk=(e,t,r,n)=>{if(n!=="angleAxis"&&e?.type==="number"&&Nl(t)&&Array.isArray(r)&&r.length>0){var s=t[0],o=r[0],u=t[1],d=r[r.length-1];return[Math.min(s,o),Math.max(u,d)]}return t},hz=se([kr,kv,Tv,Tt],Sk),mz=se(Zf,kr,(e,t)=>{if(!(!t||t.type!=="number")){var r=1/0,n=Array.from(ds(e.map(d=>d.value))).sort((d,h)=>d-h);if(n.length<2)return 1/0;var s=n[n.length-1]-n[0];if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var u=n[o+1]-n[o];r=Math.min(r,u)}return r/s}}),Ok=se(mz,Ke,KE,Wt,(e,t,r,n)=>n,(e,t,r,n,s)=>{if(!sr(e))return 0;var o=t==="vertical"?n.height:n.width;if(s==="gap")return e*o/2;if(s==="no-gap"){var u=_n(r,e*o),d=e*o/2;return d-u-(d-u)/o*u}return 0}),gz=(e,t)=>{var r=gi(e,t);return r==null||typeof r.padding!="string"?0:Ok(e,"xAxis",t,r.padding)},xz=(e,t)=>{var r=xi(e,t);return r==null||typeof r.padding!="string"?0:Ok(e,"yAxis",t,r.padding)},pz=se(gi,gz,(e,t)=>{var r,n;if(e==null)return{left:0,right:0};var{padding:s}=e;return typeof s=="string"?{left:t,right:t}:{left:((r=s.left)!==null&&r!==void 0?r:0)+t,right:((n=s.right)!==null&&n!==void 0?n:0)+t}}),vz=se(xi,xz,(e,t)=>{var r,n;if(e==null)return{top:0,bottom:0};var{padding:s}=e;return typeof s=="string"?{top:t,bottom:t}:{top:((r=s.top)!==null&&r!==void 0?r:0)+t,bottom:((n=s.bottom)!==null&&n!==void 0?n:0)+t}}),yz=se([Wt,pz,If,Lf,(e,t,r)=>r],(e,t,r,n,s)=>{var{padding:o}=n;return s?[o.left,r.width-o.right]:[e.left+t.left,e.left+e.width-t.right]}),bz=se([Wt,Ke,vz,If,Lf,(e,t,r)=>r],(e,t,r,n,s,o)=>{var{padding:u}=s;return o?[n.height-u.bottom,u.top]:t==="horizontal"?[e.top+e.height-r.bottom,e.top+r.top]:[e.top+r.top,e.top+e.height-r.bottom]}),zc=(e,t,r,n)=>{var s;switch(t){case"xAxis":return yz(e,r,n);case"yAxis":return bz(e,r,n);case"zAxis":return(s=Ov(e,r))===null||s===void 0?void 0:s.range;case"angleAxis":return FE(e);case"radiusAxis":return WE(e,r);default:return}},Ak=se([kr,zc],Vf),Pl=se([kr,qc,hz,Ak],Cv);se([Uc,Jf,Tt],mk);function Ek(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var eh=(e,t)=>t,th=(e,t,r)=>r,wz=se(Rf,eh,th,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Ek)),jz=se($f,eh,th,(e,t,r)=>e.filter(n=>n.orientation===t).filter(n=>n.mirror===r).sort(Ek)),kk=(e,t)=>({width:e.width,height:t.height}),Nz=(e,t)=>{var r=typeof t.width=="number"?t.width:Ec;return{width:r,height:e.height}},Ck=se(Wt,gi,kk),_z=(e,t,r)=>{switch(t){case"top":return e.top;case"bottom":return r-e.bottom;default:return 0}},Sz=(e,t,r)=>{switch(t){case"left":return e.left;case"right":return r-e.right;default:return 0}},Oz=se(Ea,Wt,wz,eh,th,(e,t,r,n,s)=>{var o={},u;return r.forEach(d=>{var h=kk(t,d);u==null&&(u=_z(t,n,e));var m=n==="top"&&!s||n==="bottom"&&s;o[d.id]=u-Number(m)*h.height,u+=(m?-1:1)*h.height}),o}),Az=se(Aa,Wt,jz,eh,th,(e,t,r,n,s)=>{var o={},u;return r.forEach(d=>{var h=Nz(t,d);u==null&&(u=Sz(t,n,e));var m=n==="left"&&!s||n==="right"&&s;o[d.id]=u-Number(m)*h.width,u+=(m?-1:1)*h.width}),o}),Ez=(e,t)=>{var r=Wt(e),n=gi(e,t);if(n!=null){var s=Oz(e,n.orientation,n.mirror),o=s[t];return o==null?{x:r.left,y:0}:{x:r.left,y:o}}},kz=(e,t)=>{var r=Wt(e),n=xi(e,t);if(n!=null){var s=Az(e,n.orientation,n.mirror),o=s[t];return o==null?{x:0,y:r.top}:{x:o,y:r.top}}},Tk=se(Wt,xi,(e,t)=>{var r=typeof t.width=="number"?t.width:Ec;return{width:r,height:e.height}}),hS=(e,t,r)=>{switch(t){case"xAxis":return Ck(e,r).width;case"yAxis":return Tk(e,r).height;default:return}},Dk=(e,t,r,n)=>{if(r!=null){var{allowDuplicatedCategory:s,type:o,dataKey:u}=r,d=Yn(e,n),h=t.map(m=>m.value);if(u&&d&&o==="category"&&s&&SO(h))return h}},Dv=se([Ke,Zf,kr,Tt],Dk),Pk=(e,t,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:s,scale:o}=r,u=Yn(e,n);if(u&&(s==="number"||o!=="auto"))return t.map(d=>d.value)}},Pv=se([Ke,Zf,Lc,Tt],Pk),mS=se([Ke,Vq,qc,Pl,Dv,Pv,zc,Tv,Tt],(e,t,r,n,s,o,u,d,h)=>{if(t==null)return null;var m=Yn(e,h);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:h,categoricalDomain:o,duplicateDomain:s,isCategorical:m,niceTicks:d,range:u,realScaleType:r,scale:n}}),Cz=(e,t,r,n,s,o,u,d,h)=>{if(!(t==null||n==null)){var m=Yn(e,h),{type:g,ticks:x,tickCount:v}=t,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,j=g==="category"&&n.bandwidth?n.bandwidth()/b:0;j=h==="angleAxis"&&o!=null&&o.length>=2?Or(o[0]-o[1])*2*j:j;var N=x||s;if(N){var _=N.map((O,S)=>{var A=u?u.indexOf(O):O;return{index:S,coordinate:n(A)+j,value:O,offset:j}});return _.filter(O=>!Er(O.coordinate))}return m&&d?d.map((O,S)=>({coordinate:n(O)+j,value:O,index:S,offset:j})):n.ticks?n.ticks(v).map(O=>({coordinate:n(O)+j,value:O,offset:j})):n.domain().map((O,S)=>({coordinate:n(O)+j,value:u?u[O]:O,index:S,offset:j}))}},Mk=se([Ke,Lc,qc,Pl,Tv,zc,Dv,Pv,Tt],Cz),Tz=(e,t,r,n,s,o,u)=>{if(!(t==null||r==null||n==null||n[0]===n[1])){var d=Yn(e,u),{tickCount:h}=t,m=0;return m=u==="angleAxis"&&n?.length>=2?Or(n[0]-n[1])*2*m:m,d&&o?o.map((g,x)=>({coordinate:r(g)+m,value:g,index:x,offset:m})):r.ticks?r.ticks(h).map(g=>({coordinate:r(g)+m,value:g,offset:m})):r.domain().map((g,x)=>({coordinate:r(g)+m,value:s?s[g]:g,index:x,offset:m}))}},qn=se([Ke,Lc,Pl,zc,Dv,Pv,Tt],Tz),zn=se(kr,Pl,(e,t)=>{if(!(e==null||t==null))return of(of({},e),{},{scale:t})}),Dz=se([kr,qc,kv,Ak],Cv);se((e,t,r)=>Ov(e,r),Dz,(e,t)=>{if(!(e==null||t==null))return of(of({},e),{},{scale:t})});var Pz=se([Ke,Rf,$f],(e,t,r)=>{switch(e){case"horizontal":return t.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Rk=e=>e.options.defaultTooltipEventType,$k=e=>e.options.validateTooltipEventTypes;function Lk(e,t,r){if(e==null)return t;var n=e?"axis":"item";return r==null?t:r.includes(n)?n:t}function Mv(e,t){var r=Rk(e),n=$k(e);return Lk(t,r,n)}function Mz(e){return ke(t=>Mv(t,e))}var Ik=(e,t)=>{var r,n=Number(t);if(!(Er(n)||t==null))return n>=0?e==null||(r=e[n])===null||r===void 0?void 0:r.value:void 0},Rz=e=>e.tooltip.settings,si={active:!1,index:null,dataKey:void 0,coordinate:void 0},$z={itemInteraction:{click:si,hover:si},axisInteraction:{click:si,hover:si},keyboardInteraction:si,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Uk=Vr({name:"tooltip",initialState:$z,reducers:{addTooltipEntrySettings(e,t){e.tooltipItemPayloads.push(t.payload)},removeTooltipEntrySettings(e,t){var r=pa(e).tooltipItemPayloads.indexOf(t.payload);r>-1&&e.tooltipItemPayloads.splice(r,1)},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate,e.keyboardInteraction.dataKey=t.payload.activeDataKey}}}),{addTooltipEntrySettings:Lz,removeTooltipEntrySettings:Iz,setTooltipSettingsState:Uz,setActiveMouseOverItemIndex:qk,mouseLeaveItem:qz,mouseLeaveChart:zk,setActiveClickItemIndex:zz,setMouseOverAxisIndex:Bk,setMouseClickAxisIndex:Bz,setSyncInteraction:rp,setKeyboardInteraction:np}=Uk.actions,Hz=Uk.reducer;function gS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Nd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?gS(Object(r),!0).forEach(function(n){Kz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):gS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Kz(e,t,r){return(t=Yz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Yz(e){var t=Gz(e,"string");return typeof t=="symbol"?t:t+""}function Gz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vz(e,t,r){return t==="axis"?r==="click"?e.axisInteraction.click:e.axisInteraction.hover:r==="click"?e.itemInteraction.click:e.itemInteraction.hover}function Fz(e){return e.index!=null}var Hk=(e,t,r,n)=>{if(t==null)return si;var s=Vz(e,t,r);if(s==null)return si;if(s.active)return s;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var o=e.settings.active===!0;if(Fz(s)){if(o)return Nd(Nd({},s),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n};return Nd(Nd({},si),{},{coordinate:s.coordinate})},Rv=(e,t)=>{var r=e?.index;if(r==null)return null;var n=Number(r);if(!sr(n))return r;var s=0,o=1/0;return t.length>0&&(o=t.length-1),String(Math.max(s,Math.min(n,o)))},Kk=(e,t,r,n,s,o,u,d)=>{if(!(o==null||d==null)){var h=u[0],m=h==null?void 0:d(h.positions,o);if(m!=null)return m;var g=s?.[Number(o)];if(g)switch(r){case"horizontal":return{x:g.coordinate,y:(n.top+t)/2};default:return{x:(n.left+e)/2,y:g.coordinate}}}},Yk=(e,t,r,n)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var s;return r==="hover"?s=e.itemInteraction.hover.dataKey:s=e.itemInteraction.click.dataKey,s==null&&n!=null?[e.tooltipItemPayloads[0]]:e.tooltipItemPayloads.filter(o=>{var u;return((u=o.settings)===null||u===void 0?void 0:u.dataKey)===s})},Bc=e=>e.options.tooltipPayloadSearcher,Ml=e=>e.tooltip;function xS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function pS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?xS(Object(r),!0).forEach(function(n){Wz(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):xS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Wz(e,t,r){return(t=Xz(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Xz(e){var t=Qz(e,"string");return typeof t=="symbol"?t:t+""}function Qz(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zz(e,t){return e??t}var Gk=(e,t,r,n,s,o,u)=>{if(!(t==null||o==null)){var{chartData:d,computedData:h,dataStartIndex:m,dataEndIndex:g}=r,x=[];return e.reduce((v,b)=>{var j,{dataDefinedOnItem:N,settings:_}=b,O=Zz(N,d),S=Array.isArray(O)?CA(O,m,g):O,A=(j=_?.dataKey)!==null&&j!==void 0?j:n,k=_?.nameKey,C;if(n&&Array.isArray(S)&&!Array.isArray(S[0])&&u==="axis"?C=OO(S,n,s):C=o(S,t,h,k),Array.isArray(C))C.forEach(T=>{var D=pS(pS({},_),{},{name:T.name,unit:T.unit,color:void 0,fill:void 0});v.push(t_({tooltipEntrySettings:D,dataKey:T.dataKey,payload:T.payload,value:kt(T.payload,T.dataKey),name:T.name}))});else{var P;v.push(t_({tooltipEntrySettings:_,dataKey:A,payload:C,value:kt(C,A),name:(P=kt(C,k))!==null&&P!==void 0?P:_?.name}))}return v},x)}},$v=se([Qt,Ke,tk,bv,Ut],Nk),Jz=se([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),eB=se([Ut,Tl],rk),Hc=se([Jz,Qt,eB],nk),tB=se([Hc],e=>e.filter(Qf)),rB=se([Hc],lk),Rl=se([rB,mi],ok),nB=se([tB,mi,Qt],ZE),Lv=se([Rl,Qt,Hc],ck),aB=se([Qt],Ev),iB=se([Hc],e=>e.filter(Qf)),sB=se([nB,iB,Gf],dk),lB=se([sB,mi,Ut],fk),oB=se([Hc],ik),cB=se([Rl,Qt,oB,Jf,Ut],hk),uB=se([gk,Ut,Tl],Dl),dB=se([uB,Ut],vk),fB=se([xk,Ut,Tl],Dl),hB=se([fB,Ut],yk),mB=se([pk,Ut,Tl],Dl),gB=se([mB,Ut],bk),xB=se([dB,gB,hB],cf),pB=se([Qt,aB,lB,cB,xB,Ke,Ut],wk),Vk=se([Qt,Ke,Rl,Lv,Gf,Ut,pB],jk),vB=se([Vk,Qt,$v],_k),yB=se([Qt,Vk,vB,Ut],Sk),Fk=e=>{var t=Ut(e),r=Tl(e),n=!1;return zc(e,t,r,n)},Wk=se([Qt,Fk],Vf),Xk=se([Qt,$v,yB,Wk],Cv),bB=se([Ke,Lv,Qt,Ut],Dk),wB=se([Ke,Lv,Qt,Ut],Pk),jB=(e,t,r,n,s,o,u,d)=>{if(t){var{type:h}=t,m=Yn(e,d);if(n){var g=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,x=h==="category"&&n.bandwidth?n.bandwidth()/g:0;return x=d==="angleAxis"&&s!=null&&s?.length>=2?Or(s[0]-s[1])*2*x:x,m&&u?u.map((v,b)=>({coordinate:n(v)+x,value:v,index:b,offset:x})):n.domain().map((v,b)=>({coordinate:n(v)+x,value:o?o[v]:v,index:b,offset:x}))}}},Ca=se([Ke,Qt,$v,Xk,Fk,bB,wB,Ut],jB),Iv=se([Rk,$k,Rz],(e,t,r)=>Lk(r.shared,e,t)),Qk=e=>e.tooltip.settings.trigger,Uv=e=>e.tooltip.settings.defaultIndex,rh=se([Ml,Iv,Qk,Uv],Hk),is=se([rh,Rl],Rv),Zk=se([Ca,is],Ik),Jk=se([rh],e=>{if(e)return e.dataKey}),eC=se([Ml,Iv,Qk,Uv],Yk),NB=se([Aa,Ea,Ke,Wt,Ca,Uv,eC,Bc],Kk),_B=se([rh,NB],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),SB=se([rh],e=>e.active),OB=se([eC,is,mi,QE,Zk,Bc,Iv],Gk),AB=se([OB],e=>{if(e!=null){var t=e.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(t))}});function vS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function yS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?vS(Object(r),!0).forEach(function(n){EB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):vS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function EB(e,t,r){return(t=kB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function kB(e){var t=CB(e,"string");return typeof t=="symbol"?t:t+""}function CB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var TB=()=>ke(Qt),DB=()=>{var e=TB(),t=ke(Ca),r=ke(Xk);return ns(yS(yS({},e),{},{scale:r}),t)},tC=()=>ke(bv),qv=(e,t)=>t,rC=(e,t,r)=>r,zv=(e,t,r,n)=>n,PB=se(Ca,e=>kf(e,t=>t.coordinate)),Bv=se([Ml,qv,rC,zv],Hk),nC=se([Bv,Rl],Rv),MB=(e,t,r)=>{if(t!=null){var n=Ml(e);return t==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},aC=se([Ml,qv,rC,zv],Yk),uf=se([Aa,Ea,Ke,Wt,Ca,zv,aC,Bc],Kk),RB=se([Bv,uf],(e,t)=>{var r;return(r=e.coordinate)!==null&&r!==void 0?r:t}),iC=se(Ca,nC,Ik),$B=se([aC,nC,mi,QE,iC,Bc,qv],Gk),LB=se([Bv],e=>({isActive:e.active,activeIndex:e.index})),IB=(e,t,r,n,s,o,u,d)=>{if(!(!e||!t||!n||!s||!o)){var h=g8(e.chartX,e.chartY,t,r,d);if(h){var m=p8(h,t),g=n8(m,u,o,n,s),x=x8(t,o,g,h);return{activeIndex:String(g),activeCoordinate:x}}}};function ap(){return ap=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ap.apply(null,arguments)}function bS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function _d(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?bS(Object(r),!0).forEach(function(n){UB(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UB(e,t,r){return(t=qB(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qB(e){var t=zB(e,"string");return typeof t=="symbol"?t:t+""}function zB(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function BB(e){var{coordinate:t,payload:r,index:n,offset:s,tooltipAxisBandSize:o,layout:u,cursor:d,tooltipEventType:h,chartName:m}=e,g=t,x=r,v=n;if(!d||!g||m!=="ScatterChart"&&h!=="axis")return null;var b,j;if(m==="ScatterChart")b=g,j=oL;else if(m==="BarChart")b=cL(u,g,s,o),j=KA;else if(u==="radial"){var{cx:N,cy:_,radius:O,startAngle:S,endAngle:A}=YA(g);b={cx:N,cy:_,startAngle:S,endAngle:A,innerRadius:O,outerRadius:O},j=VA}else b={points:BL(u,g,s)},j=Zo;var k=typeof d=="object"&&"className"in d?d.className:void 0,C=_d(_d(_d(_d({stroke:"#ccc",pointerEvents:"none"},s),b),xt(d,!1)),{},{payload:x,payloadIndex:v,className:We("recharts-tooltip-cursor",k)});return w.isValidElement(d)?w.cloneElement(d,C):w.createElement(j,C)}function HB(e){var t=DB(),r=RA(),n=kc(),s=tC();return w.createElement(BB,ap({},e,{coordinate:e.coordinate,index:e.index,payload:e.payload,offset:r,layout:n,tooltipAxisBandSize:t,chartName:s}))}var sC=w.createContext(null),KB=()=>w.useContext(sC),V0={exports:{}},wS;function YB(){return wS||(wS=1,(function(e){var t=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(h,m,g){this.fn=h,this.context=m,this.once=g||!1}function o(h,m,g,x,v){if(typeof g!="function")throw new TypeError("The listener must be a function");var b=new s(g,x||h,v),j=r?r+m:m;return h._events[j]?h._events[j].fn?h._events[j]=[h._events[j],b]:h._events[j].push(b):(h._events[j]=b,h._eventsCount++),h}function u(h,m){--h._eventsCount===0?h._events=new n:delete h._events[m]}function d(){this._events=new n,this._eventsCount=0}d.prototype.eventNames=function(){var m=[],g,x;if(this._eventsCount===0)return m;for(x in g=this._events)t.call(g,x)&&m.push(r?x.slice(1):x);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(g)):m},d.prototype.listeners=function(m){var g=r?r+m:m,x=this._events[g];if(!x)return[];if(x.fn)return[x.fn];for(var v=0,b=x.length,j=new Array(b);v<b;v++)j[v]=x[v].fn;return j},d.prototype.listenerCount=function(m){var g=r?r+m:m,x=this._events[g];return x?x.fn?1:x.length:0},d.prototype.emit=function(m,g,x,v,b,j){var N=r?r+m:m;if(!this._events[N])return!1;var _=this._events[N],O=arguments.length,S,A;if(_.fn){switch(_.once&&this.removeListener(m,_.fn,void 0,!0),O){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,g),!0;case 3:return _.fn.call(_.context,g,x),!0;case 4:return _.fn.call(_.context,g,x,v),!0;case 5:return _.fn.call(_.context,g,x,v,b),!0;case 6:return _.fn.call(_.context,g,x,v,b,j),!0}for(A=1,S=new Array(O-1);A<O;A++)S[A-1]=arguments[A];_.fn.apply(_.context,S)}else{var k=_.length,C;for(A=0;A<k;A++)switch(_[A].once&&this.removeListener(m,_[A].fn,void 0,!0),O){case 1:_[A].fn.call(_[A].context);break;case 2:_[A].fn.call(_[A].context,g);break;case 3:_[A].fn.call(_[A].context,g,x);break;case 4:_[A].fn.call(_[A].context,g,x,v);break;default:if(!S)for(C=1,S=new Array(O-1);C<O;C++)S[C-1]=arguments[C];_[A].fn.apply(_[A].context,S)}}return!0},d.prototype.on=function(m,g,x){return o(this,m,g,x,!1)},d.prototype.once=function(m,g,x){return o(this,m,g,x,!0)},d.prototype.removeListener=function(m,g,x,v){var b=r?r+m:m;if(!this._events[b])return this;if(!g)return u(this,b),this;var j=this._events[b];if(j.fn)j.fn===g&&(!v||j.once)&&(!x||j.context===x)&&u(this,b);else{for(var N=0,_=[],O=j.length;N<O;N++)(j[N].fn!==g||v&&!j[N].once||x&&j[N].context!==x)&&_.push(j[N]);_.length?this._events[b]=_.length===1?_[0]:_:u(this,b)}return this},d.prototype.removeAllListeners=function(m){var g;return m?(g=r?r+m:m,this._events[g]&&u(this,g)):(this._events=new n,this._eventsCount=0),this},d.prototype.off=d.prototype.removeListener,d.prototype.addListener=d.prototype.on,d.prefixed=r,d.EventEmitter=d,e.exports=d})(V0)),V0.exports}var GB=YB();const VB=Bn(GB);var vc=new VB,ip="recharts.syncEvent.tooltip",jS="recharts.syncEvent.brush";function Hv(e,t){if(t){var r=Number.parseInt(t,10);if(!Er(r))return e?.[r]}}var FB={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},lC=Vr({name:"options",initialState:FB,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),WB=lC.reducer,{createEventEmitter:XB}=lC.actions;function QB(e){return e.tooltip.syncInteraction}var ZB={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},oC=Vr({name:"chartData",initialState:ZB,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:r,endIndex:n}=t.payload;r!=null&&(e.dataStartIndex=r),n!=null&&(e.dataEndIndex=n)}}}),{setChartData:NS,setDataStartEndIndexes:JB,setComputedData:yF}=oC.actions,e7=oC.reducer,t7=["x","y"];function _S(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function qi(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?_S(Object(r),!0).forEach(function(n){r7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_S(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function r7(e,t,r){return(t=n7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function n7(e){var t=a7(e,"string");return typeof t=="symbol"?t:t+""}function a7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function i7(e,t){if(e==null)return{};var r,n,s=s7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function s7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var cC=()=>{};function l7(){var e=ke(wv),t=ke(jv),r=Ft(),n=ke(YE),s=ke(Ca),o=kc(),u=Fp(),d=ke(h=>h.rootProps.className);w.useEffect(()=>{if(e==null)return cC;var h=(m,g,x)=>{if(t!==x&&e===m){if(n==="index"){var v;if(u&&g!==null&&g!==void 0&&(v=g.payload)!==null&&v!==void 0&&v.coordinate){var b=g.payload.coordinate,{x:j,y:N}=b,_=i7(b,t7),O=qi(qi(qi({},_),typeof j=="number"&&{x:Math.max(u.x,Math.min(j,u.x+u.width))}),typeof N=="number"&&{y:Math.max(u.y,Math.min(N,u.y+u.height))}),S=qi(qi({},g),{},{payload:qi(qi({},g.payload),{},{coordinate:O})});r(S)}else r(g);return}if(s!=null){var A;if(typeof n=="function"){var k={activeTooltipIndex:g.payload.index==null?void 0:Number(g.payload.index),isTooltipActive:g.payload.active,activeIndex:g.payload.index==null?void 0:Number(g.payload.index),activeLabel:g.payload.label,activeDataKey:g.payload.dataKey,activeCoordinate:g.payload.coordinate},C=n(s,k);A=s[C]}else n==="value"&&(A=s.find(de=>String(de.value)===g.payload.label));var{coordinate:P}=g.payload;if(A==null||g.payload.active===!1||P==null||u==null){r(rp({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:T,y:D}=P,$=Math.min(T,u.x+u.width),U=Math.min(D,u.y+u.height),L={x:o==="horizontal"?A.coordinate:$,y:o==="horizontal"?U:A.coordinate},te=rp({active:g.payload.active,coordinate:L,dataKey:g.payload.dataKey,index:String(A.index),label:g.payload.label});r(te)}}};return vc.on(ip,h),()=>{vc.off(ip,h)}},[d,r,t,e,n,s,o,u])}function o7(){var e=ke(wv),t=ke(jv),r=Ft();w.useEffect(()=>{if(e==null)return cC;var n=(s,o,u)=>{t!==u&&e===s&&r(JB(o))};return vc.on(jS,n),()=>{vc.off(jS,n)}},[r,t,e])}function c7(){var e=Ft();w.useEffect(()=>{e(XB())},[e]),l7(),o7()}function u7(e,t,r,n,s,o){var u=ke(v=>MB(v,e,t)),d=ke(jv),h=ke(wv),m=ke(YE),g=ke(QB),x=g?.active;w.useEffect(()=>{if(!x&&h!=null&&d!=null){var v=rp({active:o,coordinate:r,dataKey:u,index:s,label:typeof n=="number"?String(n):n});vc.emit(ip,h,v,d)}},[x,r,u,s,n,d,h,m,o])}function SS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function OS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?SS(Object(r),!0).forEach(function(n){d7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):SS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function d7(e,t,r){return(t=f7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function f7(e){var t=h7(e,"string");return typeof t=="symbol"?t:t+""}function h7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function m7(e){return e.dataKey}function g7(e,t){return w.isValidElement(e)?w.cloneElement(e,t):typeof e=="function"?w.createElement(e,t):w.createElement(q8,t)}var AS=[],x7={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!os.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Jo(e){var t=Fr(e,x7),{active:r,allowEscapeViewBox:n,animationDuration:s,animationEasing:o,content:u,filterNull:d,isAnimationActive:h,offset:m,payloadUniqBy:g,position:x,reverseDirection:v,useTranslate3d:b,wrapperStyle:j,cursor:N,shared:_,trigger:O,defaultIndex:S,portal:A,axisId:k}=t,C=Ft(),P=typeof S=="number"?String(S):S;w.useEffect(()=>{C(Uz({shared:_,trigger:O,axisId:k,active:r,defaultIndex:P}))},[C,_,O,k,r,P]);var T=Fp(),D=UA(),$=Mz(_),{activeIndex:U,isActive:L}=ke(ye=>LB(ye,$,O,P)),te=ke(ye=>$B(ye,$,O,P)),de=ke(ye=>iC(ye,$,O,P)),J=ke(ye=>RB(ye,$,O,P)),ce=te,z=KB(),V=r??L,[re,ve]=GR([ce,V]),I=$==="axis"?de:void 0;u7($,O,J,I,U,V);var ee=A??z;if(ee==null)return null;var ie=ce??AS;V||(ie=AS),d&&ie.length&&(ie=vR(ce.filter(ye=>ye.value!=null&&(ye.hide!==!0||t.includeHidden)),g,m7));var ge=ie.length>0,je=w.createElement(V8,{allowEscapeViewBox:n,animationDuration:s,animationEasing:o,isAnimationActive:h,active:V,coordinate:J,hasPayload:ge,offset:m,position:x,reverseDirection:v,useTranslate3d:b,viewBox:T,wrapperStyle:j,lastBoundingBox:re,innerRef:ve,hasPortalFromProps:!!A},g7(u,OS(OS({},t),{},{payload:ie,label:I,active:V,coordinate:J,accessibilityLayer:D})));return w.createElement(w.Fragment,null,WP.createPortal(je,ee),V&&w.createElement(HB,{cursor:N,tooltipEventType:$,coordinate:J,payload:ce,index:U}))}var F0={},W0={},X0={},ES;function p7(){return ES||(ES=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r,n,{signal:s,edges:o}={}){let u,d=null;const h=o!=null&&o.includes("leading"),m=o==null||o.includes("trailing"),g=()=>{d!==null&&(r.apply(u,d),u=void 0,d=null)},x=()=>{m&&g(),N()};let v=null;const b=()=>{v!=null&&clearTimeout(v),v=setTimeout(()=>{v=null,x()},n)},j=()=>{v!==null&&(clearTimeout(v),v=null)},N=()=>{j(),u=void 0,d=null},_=()=>{g()},O=function(...S){if(s?.aborted)return;u=this,d=S;const A=v==null;b(),h&&A&&g()};return O.schedule=b,O.cancel=N,O.flush=_,s?.addEventListener("abort",N,{once:!0}),O}e.debounce=t})(X0)),X0}var kS;function v7(){return kS||(kS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=p7();function r(n,s=0,o={}){typeof o!="object"&&(o={});const{leading:u=!1,trailing:d=!0,maxWait:h}=o,m=Array(2);u&&(m[0]="leading"),d&&(m[1]="trailing");let g,x=null;const v=t.debounce(function(...N){g=n.apply(this,N),x=null},s,{edges:m}),b=function(...N){return h!=null&&(x===null&&(x=Date.now()),Date.now()-x>=h)?(g=n.apply(this,N),x=Date.now(),v.cancel(),v.schedule(),g):(v.apply(this,N),g)},j=()=>(v.flush(),g);return b.cancel=v.cancel,b.flush=j,b}e.debounce=r})(W0)),W0}var CS;function y7(){return CS||(CS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v7();function r(n,s=0,o={}){const{leading:u=!0,trailing:d=!0}=o;return t.debounce(n,s,{leading:u,maxWait:s,trailing:d})}e.throttle=r})(F0)),F0}var Q0,TS;function b7(){return TS||(TS=1,Q0=y7().throttle),Q0}var w7=b7();const j7=Bn(w7);var ec=function(t,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),o=2;o<n;o++)s[o-2]=arguments[o]};function DS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Z0(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?DS(Object(r),!0).forEach(function(n){N7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):DS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function N7(e,t,r){return(t=_7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var tc=w.forwardRef((e,t)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:s="100%",height:o="100%",minWidth:u=0,minHeight:d,maxHeight:h,children:m,debounce:g=0,id:x,className:v,onResize:b,style:j={}}=e,N=w.useRef(null),_=w.useRef();_.current=b,w.useImperativeHandle(t,()=>N.current);var[O,S]=w.useState({containerWidth:n.width,containerHeight:n.height}),A=w.useCallback((C,P)=>{S(T=>{var D=Math.round(C),$=Math.round(P);return T.containerWidth===D&&T.containerHeight===$?T:{containerWidth:D,containerHeight:$}})},[]);w.useEffect(()=>{var C=$=>{var U,{width:L,height:te}=$[0].contentRect;A(L,te),(U=_.current)===null||U===void 0||U.call(_,L,te)};g>0&&(C=j7(C,g,{trailing:!0,leading:!1}));var P=new ResizeObserver(C),{width:T,height:D}=N.current.getBoundingClientRect();return A(T,D),P.observe(N.current),()=>{P.disconnect()}},[A,g]);var k=w.useMemo(()=>{var{containerWidth:C,containerHeight:P}=O;if(C<0||P<0)return null;ec(Gi(s)||Gi(o),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,s,o),ec(!r||r>0,"The aspect(%s) must be greater than zero.",r);var T=Gi(s)?C:s,D=Gi(o)?P:o;return r&&r>0&&(T?D=T/r:D&&(T=D*r),h&&D>h&&(D=h)),ec(T>0||D>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,T,D,s,o,u,d,r),w.Children.map(m,$=>w.cloneElement($,{width:T,height:D,style:Z0({width:T,height:D},$.props.style)}))},[r,m,o,h,d,u,O,s]);return w.createElement("div",{id:x?"".concat(x):void 0,className:We("recharts-responsive-container",v),style:Z0(Z0({},j),{},{width:s,height:o,minWidth:u,minHeight:d,maxHeight:h}),ref:N},w.createElement("div",{style:{width:0,height:0,overflow:"visible"}},k))}),uC=e=>null;uC.displayName="Cell";function O7(e,t,r){return(t=A7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function A7(e){var t=E7(e,"string");return typeof t=="symbol"?t:t+""}function E7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class k7{constructor(t){O7(this,"cache",new Map),this.maxSize=t}get(t){var r=this.cache.get(t);return r!==void 0&&(this.cache.delete(t),this.cache.set(t,r)),r}set(t,r){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;this.cache.delete(n)}this.cache.set(t,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function PS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function C7(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?PS(Object(r),!0).forEach(function(n){T7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):PS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function T7(e,t,r){return(t=D7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function D7(e){var t=P7(e,"string");return typeof t=="symbol"?t:t+""}function P7(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var M7={cacheSize:2e3,enableCache:!0},dC=C7({},M7),MS=new k7(dC.cacheSize),R7={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RS="recharts_measurement_span";function $7(e,t){var r=t.fontSize||"",n=t.fontFamily||"",s=t.fontWeight||"",o=t.fontStyle||"",u=t.letterSpacing||"",d=t.textTransform||"";return"".concat(e,"|").concat(r,"|").concat(n,"|").concat(s,"|").concat(o,"|").concat(u,"|").concat(d)}var $S=(e,t)=>{try{var r=document.getElementById(RS);r||(r=document.createElement("span"),r.setAttribute("id",RS),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,R7,t),r.textContent="".concat(e);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},rc=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||os.isSsr)return{width:0,height:0};if(!dC.enableCache)return $S(t,r);var n=$7(t,r),s=MS.get(n);if(s)return s;var o=$S(t,r);return MS.set(n,o),o},LS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,IS=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,L7=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,I7=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,fC={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},U7=Object.keys(fC),ul="NaN";function q7(e,t){return e*fC[t]}class Sr{static parse(t){var r,[,n,s]=(r=I7.exec(t))!==null&&r!==void 0?r:[];return new Sr(parseFloat(n),s??"")}constructor(t,r){this.num=t,this.unit=r,this.num=t,this.unit=r,Er(t)&&(this.unit=""),r!==""&&!L7.test(r)&&(this.num=NaN,this.unit=""),U7.includes(r)&&(this.num=q7(t,r),this.unit="px")}add(t){return this.unit!==t.unit?new Sr(NaN,""):new Sr(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Sr(NaN,""):new Sr(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sr(NaN,""):new Sr(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Sr(NaN,""):new Sr(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Er(this.num)}}function hC(e){if(e.includes(ul))return ul;for(var t=e;t.includes("*")||t.includes("/");){var r,[,n,s,o]=(r=LS.exec(t))!==null&&r!==void 0?r:[],u=Sr.parse(n??""),d=Sr.parse(o??""),h=s==="*"?u.multiply(d):u.divide(d);if(h.isNaN())return ul;t=t.replace(LS,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,[,g,x,v]=(m=IS.exec(t))!==null&&m!==void 0?m:[],b=Sr.parse(g??""),j=Sr.parse(v??""),N=x==="+"?b.add(j):b.subtract(j);if(N.isNaN())return ul;t=t.replace(IS,N.toString())}return t}var US=/\(([^()]*)\)/;function z7(e){for(var t=e,r;(r=US.exec(t))!=null;){var[,n]=r;t=t.replace(US,hC(n))}return t}function B7(e){var t=e.replace(/\s+/g,"");return t=z7(t),t=hC(t),t}function H7(e){try{return B7(e)}catch{return ul}}function J0(e){var t=H7(e.slice(5,-1));return t===ul?"":t}var K7=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],Y7=["dx","dy","angle","className","breakAll"];function sp(){return sp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},sp.apply(null,arguments)}function qS(e,t){if(e==null)return{};var r,n,s=G7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function G7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var mC=/[ \f\n\r\t\v\u2028\u2029]+/,gC=e=>{var{children:t,breakAll:r,style:n}=e;try{var s=[];ht(t)||(r?s=t.toString().split(""):s=t.toString().split(mC));var o=s.map(d=>({word:d,width:rc(d,n).width})),u=r?0:rc(" ",n).width;return{wordsWithComputedWidth:o,spaceWidth:u}}catch{return null}},V7=(e,t,r,n,s)=>{var{maxLines:o,children:u,style:d,breakAll:h}=e,m=Ae(o),g=u,x=function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return L.reduce((te,de)=>{var{word:J,width:ce}=de,z=te[te.length-1];if(z&&(n==null||s||z.width+ce+r<Number(n)))z.words.push(J),z.width+=ce+r;else{var V={words:[J],width:ce};te.push(V)}return te},[])},v=x(t),b=U=>U.reduce((L,te)=>L.width>te.width?L:te);if(!m||s)return v;var j=v.length>o||b(v).width>Number(n);if(!j)return v;for(var N="…",_=U=>{var L=g.slice(0,U),te=gC({breakAll:h,style:d,children:L+N}).wordsWithComputedWidth,de=x(te),J=de.length>o||b(de).width>Number(n);return[J,de]},O=0,S=g.length-1,A=0,k;O<=S&&A<=g.length-1;){var C=Math.floor((O+S)/2),P=C-1,[T,D]=_(P),[$]=_(C);if(!T&&!$&&(O=C+1),T&&$&&(S=C-1),!T&&$){k=D;break}A++}return k||v},zS=e=>{var t=ht(e)?[]:e.toString().split(mC);return[{words:t}]},F7=e=>{var{width:t,scaleToFit:r,children:n,style:s,breakAll:o,maxLines:u}=e;if((t||r)&&!os.isSsr){var d,h,m=gC({breakAll:o,children:n,style:s});if(m){var{wordsWithComputedWidth:g,spaceWidth:x}=m;d=g,h=x}else return zS(n);return V7({breakAll:o,children:n,maxLines:u,style:s},d,h,t,r)}return zS(n)},BS="#808080",Kv=w.forwardRef((e,t)=>{var{x:r=0,y:n=0,lineHeight:s="1em",capHeight:o="0.71em",scaleToFit:u=!1,textAnchor:d="start",verticalAnchor:h="end",fill:m=BS}=e,g=qS(e,K7),x=w.useMemo(()=>F7({breakAll:g.breakAll,children:g.children,maxLines:g.maxLines,scaleToFit:u,style:g.style,width:g.width}),[g.breakAll,g.children,g.maxLines,u,g.style,g.width]),{dx:v,dy:b,angle:j,className:N,breakAll:_}=g,O=qS(g,Y7);if(!In(r)||!In(n)||x.length===0)return null;var S=r+(Ae(v)?v:0),A=n+(Ae(b)?b:0),k;switch(h){case"start":k=J0("calc(".concat(o,")"));break;case"middle":k=J0("calc(".concat((x.length-1)/2," * -").concat(s," + (").concat(o," / 2))"));break;default:k=J0("calc(".concat(x.length-1," * -").concat(s,")"));break}var C=[];if(u){var P=x[0].width,{width:T}=g;C.push("scale(".concat(Ae(T)?T/P:1,")"))}return j&&C.push("rotate(".concat(j,", ").concat(S,", ").concat(A,")")),C.length&&(O.transform=C.join(" ")),w.createElement("text",sp({},xt(O,!0),{ref:t,x:S,y:A,className:We("recharts-text",N),textAnchor:d,fill:m.includes("url")?BS:m}),x.map((D,$)=>{var U=D.words.join(_?"":" ");return w.createElement("tspan",{x:S,dy:$===0?k:s,key:"".concat(U,"-").concat($)},U)}))});Kv.displayName="Text";var W7=["labelRef"];function X7(e,t){if(e==null)return{};var r,n,s=Q7(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Q7(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function HS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function St(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?HS(Object(r),!0).forEach(function(n){Z7(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):HS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Z7(e,t,r){return(t=J7(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function J7(e){var t=e9(e,"string");return typeof t=="symbol"?t:t+""}function e9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function fa(){return fa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},fa.apply(null,arguments)}var xC=w.createContext(null),t9=e=>{var{x:t,y:r,width:n,height:s,children:o}=e,u=w.useMemo(()=>({x:t,y:r,width:n,height:s}),[t,r,n,s]);return w.createElement(xC.Provider,{value:u},o)},pC=()=>{var e=w.useContext(xC),t=Fp();return e||t},r9=w.createContext(null),n9=()=>{var e=w.useContext(r9),t=ke(XE);return e||t},a9=e=>{var{value:t,formatter:r}=e,n=ht(e.children)?t:e.children;return typeof r=="function"?r(n):n},Yv=e=>e!=null&&typeof e=="function",i9=(e,t)=>{var r=Or(t-e),n=Math.min(Math.abs(t-e),360);return r*n},s9=(e,t,r,n,s)=>{var{offset:o,className:u}=e,{cx:d,cy:h,innerRadius:m,outerRadius:g,startAngle:x,endAngle:v,clockWise:b}=s,j=(m+g)/2,N=i9(x,v),_=N>=0?1:-1,O,S;switch(t){case"insideStart":O=x+_*o,S=b;break;case"insideEnd":O=v-_*o,S=!b;break;case"end":O=v+_*o,S=b;break;default:throw new Error("Unsupported position ".concat(t))}S=N<=0?S:!S;var A=ar(d,h,j,O),k=ar(d,h,j,O+(S?1:-1)*359),C="M".concat(A.x,",").concat(A.y,`
    A`).concat(j,",").concat(j,",0,1,").concat(S?0:1,`,
    `).concat(k.x,",").concat(k.y),P=ht(e.id)?oc("recharts-radial-line-"):e.id;return w.createElement("text",fa({},n,{dominantBaseline:"central",className:We("recharts-radial-bar-label",u)}),w.createElement("defs",null,w.createElement("path",{id:P,d:C})),w.createElement("textPath",{xlinkHref:"#".concat(P)},r))},l9=(e,t,r)=>{var{cx:n,cy:s,innerRadius:o,outerRadius:u,startAngle:d,endAngle:h}=e,m=(d+h)/2;if(r==="outside"){var{x:g,y:x}=ar(n,s,u+t,m);return{x:g,y:x,textAnchor:g>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:s,textAnchor:"middle",verticalAnchor:"end"};var v=(o+u)/2,{x:b,y:j}=ar(n,s,v,m);return{x:b,y:j,textAnchor:"middle",verticalAnchor:"middle"}},vC=e=>"cx"in e&&Ae(e.cx),o9=(e,t)=>{var{parentViewBox:r,offset:n,position:s}=e,o;r!=null&&!vC(r)&&(o=r);var{x:u,y:d,width:h,height:m}=t,g=m>=0?1:-1,x=g*n,v=g>0?"end":"start",b=g>0?"start":"end",j=h>=0?1:-1,N=j*n,_=j>0?"end":"start",O=j>0?"start":"end";if(s==="top"){var S={x:u+h/2,y:d-g*n,textAnchor:"middle",verticalAnchor:v};return St(St({},S),o?{height:Math.max(d-o.y,0),width:h}:{})}if(s==="bottom"){var A={x:u+h/2,y:d+m+x,textAnchor:"middle",verticalAnchor:b};return St(St({},A),o?{height:Math.max(o.y+o.height-(d+m),0),width:h}:{})}if(s==="left"){var k={x:u-N,y:d+m/2,textAnchor:_,verticalAnchor:"middle"};return St(St({},k),o?{width:Math.max(k.x-o.x,0),height:m}:{})}if(s==="right"){var C={x:u+h+N,y:d+m/2,textAnchor:O,verticalAnchor:"middle"};return St(St({},C),o?{width:Math.max(o.x+o.width-C.x,0),height:m}:{})}var P=o?{width:h,height:m}:{};return s==="insideLeft"?St({x:u+N,y:d+m/2,textAnchor:O,verticalAnchor:"middle"},P):s==="insideRight"?St({x:u+h-N,y:d+m/2,textAnchor:_,verticalAnchor:"middle"},P):s==="insideTop"?St({x:u+h/2,y:d+x,textAnchor:"middle",verticalAnchor:b},P):s==="insideBottom"?St({x:u+h/2,y:d+m-x,textAnchor:"middle",verticalAnchor:v},P):s==="insideTopLeft"?St({x:u+N,y:d+x,textAnchor:O,verticalAnchor:b},P):s==="insideTopRight"?St({x:u+h-N,y:d+x,textAnchor:_,verticalAnchor:b},P):s==="insideBottomLeft"?St({x:u+N,y:d+m-x,textAnchor:O,verticalAnchor:v},P):s==="insideBottomRight"?St({x:u+h-N,y:d+m-x,textAnchor:_,verticalAnchor:v},P):s&&typeof s=="object"&&(Ae(s.x)||Gi(s.x))&&(Ae(s.y)||Gi(s.y))?St({x:u+_n(s.x,h),y:d+_n(s.y,m),textAnchor:"end",verticalAnchor:"end"},P):St({x:u+h/2,y:d+m/2,textAnchor:"middle",verticalAnchor:"middle"},P)},c9={offset:5};function ai(e){var t=Fr(e,c9),{viewBox:r,position:n,value:s,children:o,content:u,className:d="",textBreakAll:h,labelRef:m}=t,g=n9(),x=pC(),v=n==="center"?x:g??x,b=r||v;if(!b||ht(s)&&ht(o)&&!w.isValidElement(u)&&typeof u!="function")return null;var j=St(St({},t),{},{viewBox:b});if(w.isValidElement(u)){var{labelRef:N}=j,_=X7(j,W7);return w.cloneElement(u,_)}var O;if(typeof u=="function"){if(O=w.createElement(u,j),w.isValidElement(O))return O}else O=a9(t);var S=vC(b),A=xt(t,!0);if(S&&(n==="insideStart"||n==="insideEnd"||n==="end"))return s9(t,n,O,A,b);var k=S?l9(b,t.offset,t.position):o9(t,b);return w.createElement(Kv,fa({ref:m,className:We("recharts-label",d)},A,k,{breakAll:h}),O)}ai.displayName="Label";var u9=(e,t,r)=>{if(!e)return null;var n={viewBox:t,labelRef:r};return e===!0?w.createElement(ai,fa({key:"label-implicit"},n)):In(e)?w.createElement(ai,fa({key:"label-implicit",value:e},n)):w.isValidElement(e)?e.type===ai?w.cloneElement(e,St({key:"label-implicit"},n)):w.createElement(ai,fa({key:"label-implicit",content:e},n)):Yv(e)?w.createElement(ai,fa({key:"label-implicit",content:e},n)):e&&typeof e=="object"?w.createElement(ai,fa({},e,{key:"label-implicit"},n)):null};function d9(e){var{label:t}=e,r=pC();return u9(t,r)||null}var ex={},tx={},KS;function f9(){return KS||(KS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return r[r.length-1]}e.last=t})(tx)),tx}var rx={},YS;function h9(){return YS||(YS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return Array.isArray(r)?r:Array.from(r)}e.toArray=t})(rx)),rx}var GS;function m9(){return GS||(GS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=f9(),r=h9(),n=Up();function s(o){if(n.isArrayLike(o))return t.last(r.toArray(o))}e.last=s})(ex)),ex}var nx,VS;function g9(){return VS||(VS=1,nx=m9().last),nx}var x9=g9();const p9=Bn(x9);var v9=["valueAccessor"],y9=["dataKey","clockWise","id","textBreakAll"];function df(){return df=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},df.apply(null,arguments)}function FS(e,t){if(e==null)return{};var r,n,s=b9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function b9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var w9=e=>Array.isArray(e.value)?p9(e.value):e.value,yC=w.createContext(void 0),Gv=yC.Provider,bC=w.createContext(void 0);bC.Provider;function j9(){return w.useContext(yC)}function N9(){return w.useContext(bC)}function kd(e){var{valueAccessor:t=w9}=e,r=FS(e,v9),{dataKey:n,clockWise:s,id:o,textBreakAll:u}=r,d=FS(r,y9),h=j9(),m=N9(),g=h||m;return!g||!g.length?null:w.createElement(hr,{className:"recharts-label-list"},g.map((x,v)=>{var b,j=ht(n)?t(x,v):kt(x&&x.payload,n),N=ht(o)?{}:{id:"".concat(o,"-").concat(v)};return w.createElement(ai,df({},xt(x,!0),d,N,{fill:(b=r.fill)!==null&&b!==void 0?b:x.fill,parentViewBox:x.parentViewBox,value:j,textBreakAll:u,viewBox:x.viewBox,key:"label-".concat(v),index:v}))}))}kd.displayName="LabelList";function Vv(e){var{label:t}=e;return t?t===!0?w.createElement(kd,{key:"labelList-implicit"}):w.isValidElement(t)||Yv(t)?w.createElement(kd,{key:"labelList-implicit",content:t}):typeof t=="object"?w.createElement(kd,df({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function lp(){return lp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},lp.apply(null,arguments)}var Fv=e=>{var{cx:t,cy:r,r:n,className:s}=e,o=We("recharts-dot",s);return t===+t&&r===+r&&n===+n?w.createElement("circle",lp({},Oa(e),Mp(e),{className:o,cx:t,cy:r,r:n})):null},_9={radiusAxis:{},angleAxis:{}},wC=Vr({name:"polarAxis",initialState:_9,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:bF,removeRadiusAxis:wF,addAngleAxis:jF,removeAngleAxis:NF}=wC.actions,S9=wC.reducer,ax={},WS;function O9(){return WS||(WS=1,(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(r,Symbol.toStringTag)?.writable?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}e.isPlainObject=t})(ax)),ax}var ix,XS;function A9(){return XS||(XS=1,ix=O9().isPlainObject),ix}var E9=A9();const k9=Bn(E9);function QS(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ZS(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?QS(Object(r),!0).forEach(function(n){C9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):QS(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function C9(e,t,r){return(t=T9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function T9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ff(){return ff=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ff.apply(null,arguments)}var JS=(e,t,r,n,s)=>{var o=r-n,u;return u="M ".concat(e,",").concat(t),u+="L ".concat(e+r,",").concat(t),u+="L ".concat(e+r-o/2,",").concat(t+s),u+="L ".concat(e+r-o/2-n,",").concat(t+s),u+="L ".concat(e,",").concat(t," Z"),u},P9={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},M9=e=>{var t=Fr(e,P9),{x:r,y:n,upperWidth:s,lowerWidth:o,height:u,className:d}=t,{animationEasing:h,animationDuration:m,animationBegin:g,isUpdateAnimationActive:x}=t,v=w.useRef(),[b,j]=w.useState(-1),N=w.useRef(s),_=w.useRef(o),O=w.useRef(u),S=w.useRef(r),A=w.useRef(n),k=Tc(e,"trapezoid-");if(w.useEffect(()=>{if(v.current&&v.current.getTotalLength)try{var J=v.current.getTotalLength();J&&j(J)}catch{}},[]),r!==+r||n!==+n||s!==+s||o!==+o||u!==+u||s===0&&o===0||u===0)return null;var C=We("recharts-trapezoid",d);if(!x)return w.createElement("g",null,w.createElement("path",ff({},xt(t,!0),{className:C,d:JS(r,n,s,o,u)})));var P=N.current,T=_.current,D=O.current,$=S.current,U=A.current,L="0px ".concat(b===-1?1:b,"px"),te="".concat(b,"px 0px"),de=qA(["strokeDasharray"],m,h);return w.createElement(Cc,{animationId:k,key:k,canBegin:b>0,duration:m,easing:h,isActive:x,begin:g},J=>{var ce=ct(P,s,J),z=ct(T,o,J),V=ct(D,u,J),re=ct($,r,J),ve=ct(U,n,J);v.current&&(N.current=ce,_.current=z,O.current=V,S.current=re,A.current=ve);var I=J>0?{transition:de,strokeDasharray:te}:{strokeDasharray:L};return w.createElement("path",ff({},xt(t,!0),{className:C,d:JS(re,ve,ce,z,V),ref:v,style:ZS(ZS({},I),t.style)}))})},R9=["option","shapeType","propTransformer","activeClassName","isActive"];function $9(e,t){if(e==null)return{};var r,n,s=L9(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function L9(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function e2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function hf(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?e2(Object(r),!0).forEach(function(n){I9(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):e2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function I9(e,t,r){return(t=U9(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function U9(e){var t=q9(e,"string");return typeof t=="symbol"?t:t+""}function q9(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function z9(e,t){return hf(hf({},t),e)}function B9(e,t){return e==="symbols"}function t2(e){var{shapeType:t,elementProps:r}=e;switch(t){case"rectangle":return w.createElement(KA,r);case"trapezoid":return w.createElement(M9,r);case"sector":return w.createElement(VA,r);case"symbols":if(B9(t))return w.createElement(VO,r);break;default:return null}}function H9(e){return w.isValidElement(e)?e.props:e}function K9(e){var{option:t,shapeType:r,propTransformer:n=z9,activeClassName:s="recharts-active-shape",isActive:o}=e,u=$9(e,R9),d;if(w.isValidElement(t))d=w.cloneElement(t,hf(hf({},u),H9(t)));else if(typeof t=="function")d=t(u);else if(k9(t)&&typeof t!="boolean"){var h=n(t,u);d=w.createElement(t2,{shapeType:r,elementProps:h})}else{var m=u;d=w.createElement(t2,{shapeType:r,elementProps:m})}return o?w.createElement(hr,{className:s},d):d}var jC=(e,t)=>{var r=Ft();return(n,s)=>o=>{e?.(n,s,o),r(qk({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}},NC=e=>{var t=Ft();return(r,n)=>s=>{e?.(r,n,s),t(qz())}},_C=(e,t)=>{var r=Ft();return(n,s)=>o=>{e?.(n,s,o),r(zz({activeIndex:String(s),activeDataKey:t,activeCoordinate:n.tooltipPosition}))}};function Wv(e){var{fn:t,args:r}=e,n=Ft(),s=mr();return w.useEffect(()=>{if(!s){var o=t(r);return n(Lz(o)),()=>{n(Iz(o))}}},[t,r,n,s]),null}var Y9=()=>{};function Xv(e){var{legendPayload:t}=e,r=Ft(),n=mr();return w.useEffect(()=>n?Y9:(r(P8(t)),()=>{r(M8(t))}),[r,n,t]),null}var sx,G9=()=>{var[e]=w.useState(()=>oc("uid-"));return e},V9=(sx=yD.useId)!==null&&sx!==void 0?sx:G9;function F9(e,t){var r=V9();return t||(e?"".concat(e,"-").concat(r):r)}var W9=w.createContext(void 0),Qv=e=>{var{id:t,type:r,children:n}=e,s=F9("recharts-".concat(r),t);return w.createElement(W9.Provider,{value:s},n(s))},X9={cartesianItems:[],polarItems:[]},SC=Vr({name:"graphicalItems",initialState:X9,reducers:{addCartesianGraphicalItem(e,t){e.cartesianItems.push(t.payload)},replaceCartesianGraphicalItem(e,t){var{prev:r,next:n}=t.payload,s=pa(e).cartesianItems.indexOf(r);s>-1&&(e.cartesianItems[s]=n)},removeCartesianGraphicalItem(e,t){var r=pa(e).cartesianItems.indexOf(t.payload);r>-1&&e.cartesianItems.splice(r,1)},addPolarGraphicalItem(e,t){e.polarItems.push(t.payload)},removePolarGraphicalItem(e,t){var r=pa(e).polarItems.indexOf(t.payload);r>-1&&e.polarItems.splice(r,1)}}}),{addCartesianGraphicalItem:Q9,replaceCartesianGraphicalItem:Z9,removeCartesianGraphicalItem:J9,addPolarGraphicalItem:_F,removePolarGraphicalItem:SF}=SC.actions,eH=SC.reducer;function Zv(e){var t=Ft(),r=w.useRef(null);return w.useEffect(()=>{r.current===null?t(Q9(e)):r.current!==e&&t(Z9({prev:r.current,next:e})),r.current=e},[t,e]),w.useEffect(()=>()=>{r.current&&(t(J9(r.current)),r.current=null)},[t]),null}function r2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function n2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?r2(Object(r),!0).forEach(function(n){tH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):r2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function tH(e,t,r){return(t=rH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function rH(e){var t=nH(e,"string");return typeof t=="symbol"?t:t+""}function nH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var aH={xAxis:{},yAxis:{},zAxis:{}},OC=Vr({name:"cartesianAxis",initialState:aH,reducers:{addXAxis(e,t){e.xAxis[t.payload.id]=t.payload},removeXAxis(e,t){delete e.xAxis[t.payload.id]},addYAxis(e,t){e.yAxis[t.payload.id]=t.payload},removeYAxis(e,t){delete e.yAxis[t.payload.id]},addZAxis(e,t){e.zAxis[t.payload.id]=t.payload},removeZAxis(e,t){delete e.zAxis[t.payload.id]},updateYAxisWidth(e,t){var{id:r,width:n}=t.payload;e.yAxis[r]&&(e.yAxis[r]=n2(n2({},e.yAxis[r]),{},{width:n}))}}}),{addXAxis:iH,removeXAxis:sH,addYAxis:lH,removeYAxis:oH,addZAxis:OF,removeZAxis:AF,updateYAxisWidth:cH}=OC.actions,uH=OC.reducer,dH=se([Wt],e=>{if(e)return{top:e.top,bottom:e.bottom,left:e.left,right:e.right}}),fH=se([dH,Aa,Ea],(e,t,r)=>{if(!(!e||t==null||r==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,r-e.top-e.bottom)}}),nh=()=>ke(fH),hH=()=>ke(AB);function a2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function i2(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?a2(Object(r),!0).forEach(function(n){mH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):a2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function mH(e,t,r){return(t=gH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function gH(e){var t=xH(e,"string");return typeof t=="symbol"?t:t+""}function xH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pH=e=>{var{point:t,childIndex:r,mainColor:n,activeDot:s,dataKey:o}=e;if(s===!1||t.x==null||t.y==null)return null;var u=i2(i2({index:r,dataKey:o,cx:t.x,cy:t.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},xt(s,!1)),Mp(s)),d;return w.isValidElement(s)?d=w.cloneElement(s,u):typeof s=="function"?d=s(u):d=w.createElement(Fv,u),w.createElement(hr,{className:"recharts-active-dot"},d)};function op(e){var{points:t,mainColor:r,activeDot:n,itemDataKey:s}=e,o=ke(is),u=hH();if(t==null||u==null)return null;var d=t.find(h=>u.includes(h.payload));return ht(d)?null:pH({point:d,childIndex:Number(o),mainColor:r,dataKey:s,activeDot:n})}var vH="Invariant failed";function yH(e,t){throw new Error(vH)}var bH=["x","y"];function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},cp.apply(null,arguments)}function s2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Yo(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?s2(Object(r),!0).forEach(function(n){wH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function wH(e,t,r){return(t=jH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function jH(e){var t=NH(e,"string");return typeof t=="symbol"?t:t+""}function NH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _H(e,t){if(e==null)return{};var r,n,s=SH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function SH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function OH(e,t){var{x:r,y:n}=e,s=_H(e,bH),o="".concat(r),u=parseInt(o,10),d="".concat(n),h=parseInt(d,10),m="".concat(t.height||s.height),g=parseInt(m,10),x="".concat(t.width||s.width),v=parseInt(x,10);return Yo(Yo(Yo(Yo(Yo({},t),s),u?{x:u}:{}),h?{y:h}:{}),{},{height:g,width:v,name:t.name,radius:t.radius})}function Jv(e){return w.createElement(K9,cp({shapeType:"rectangle",propTransformer:OH,activeClassName:"recharts-active-bar"},e))}var AH=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return(n,s)=>{if(Ae(t))return t;var o=Ae(n)||ht(n);return o?t(n,s):(o||yH(),r)}},EH={},AC=Vr({name:"errorBars",initialState:EH,reducers:{addErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]||(e[r]=[]),e[r].push(n)},replaceErrorBar:(e,t)=>{var{itemId:r,prev:n,next:s}=t.payload;e[r]&&(e[r]=e[r].map(o=>o.dataKey===n.dataKey&&o.direction===n.direction?s:o))},removeErrorBar:(e,t)=>{var{itemId:r,errorBar:n}=t.payload;e[r]&&(e[r]=e[r].filter(s=>s.dataKey!==n.dataKey||s.direction!==n.direction))}}}),{addErrorBar:EF,replaceErrorBar:kF,removeErrorBar:CF}=AC.actions,kH=AC.reducer,CH=["children"];function TH(e,t){if(e==null)return{};var r,n,s=DH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function DH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var PH={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},MH=w.createContext(PH);function EC(e){var{children:t}=e,r=TH(e,CH);return w.createElement(MH.Provider,{value:r},t)}function ah(e,t){var r,n,s=ke(m=>gi(m,e)),o=ke(m=>xi(m,t)),u=(r=s?.allowDataOverflow)!==null&&r!==void 0?r:qr.allowDataOverflow,d=(n=o?.allowDataOverflow)!==null&&n!==void 0?n:zr.allowDataOverflow,h=u||d;return{needClip:h,needClipX:u,needClipY:d}}function ey(e){var{xAxisId:t,yAxisId:r,clipPathId:n}=e,s=nh(),{needClipX:o,needClipY:u,needClip:d}=ah(t,r);if(!d)return null;var{x:h,y:m,width:g,height:x}=s;return w.createElement("clipPath",{id:"clipPath-".concat(n)},w.createElement("rect",{x:o?h:h-g/2,y:u?m:m-x/2,width:o?g:g*2,height:u?x:x*2}))}var RH=["onMouseEnter","onMouseLeave","onClick"],$H=["value","background","tooltipPosition"],LH=["id"],IH=["onMouseEnter","onClick","onMouseLeave"];function ci(){return ci=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ci.apply(null,arguments)}function l2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function vr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?l2(Object(r),!0).forEach(function(n){UH(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function UH(e,t,r){return(t=qH(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qH(e){var t=zH(e,"string");return typeof t=="symbol"?t:t+""}function zH(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mf(e,t){if(e==null)return{};var r,n,s=BH(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function BH(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var HH=e=>{var{dataKey:t,name:r,fill:n,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:n,value:Al(r,t),payload:e}]};function KH(e){var{dataKey:t,stroke:r,strokeWidth:n,fill:s,name:o,hide:u,unit:d}=e;return{dataDefinedOnItem:void 0,positions:void 0,settings:{stroke:r,strokeWidth:n,fill:s,dataKey:t,nameKey:void 0,name:Al(o,t),hide:u,type:e.tooltipType,color:e.fill,unit:d}}}function YH(e){var t=ke(is),{data:r,dataKey:n,background:s,allOtherBarProps:o}=e,{onMouseEnter:u,onMouseLeave:d,onClick:h}=o,m=mf(o,RH),g=jC(u,n),x=NC(d),v=_C(h,n);if(!s||r==null)return null;var b=xt(s,!1);return w.createElement(w.Fragment,null,r.map((j,N)=>{var{value:_,background:O,tooltipPosition:S}=j,A=mf(j,$H);if(!O)return null;var k=g(j,N),C=x(j,N),P=v(j,N),T=vr(vr(vr(vr(vr({option:s,isActive:String(N)===t},A),{},{fill:"#eee"},O),b),Rp(m,j,N)),{},{onMouseEnter:k,onMouseLeave:C,onClick:P,dataKey:n,index:N,className:"recharts-bar-background-rectangle"});return w.createElement(Jv,ci({key:"background-bar-".concat(N)},T))}))}function GH(e){var{showLabels:t,children:r,rects:n}=e,s=n?.map(o=>{var u={x:o.x,y:o.y,width:o.width,height:o.height};return vr(vr({},u),{},{value:o.value,payload:o.payload,parentViewBox:o.parentViewBox,viewBox:u,fill:o.fill})});return w.createElement(Gv,{value:t?s:void 0},r)}function VH(e){var{shape:t,activeBar:r,baseProps:n,entry:s,index:o,dataKey:u}=e,d=ke(is),h=ke(Jk),m=r&&String(o)===d&&(h==null||u===h),g=m?r:t;return w.createElement(Jv,ci({},n,s,{isActive:m,option:g,index:o,dataKey:u}))}function FH(e){var{shape:t,baseProps:r,entry:n,index:s,dataKey:o}=e;return w.createElement(Jv,ci({},r,n,{isActive:!1,option:t,index:s,dataKey:o}))}function WH(e){var{data:t,props:r}=e,n=Oa(r),{id:s}=n,o=mf(n,LH),{shape:u,dataKey:d,activeBar:h}=r,{onMouseEnter:m,onClick:g,onMouseLeave:x}=r,v=mf(r,IH),b=jC(m,d),j=NC(x),N=_C(g,d);return t?w.createElement(w.Fragment,null,t.map((_,O)=>w.createElement(hr,ci({className:"recharts-bar-rectangle"},Rp(v,_,O),{onMouseEnter:b(_,O),onMouseLeave:j(_,O),onClick:N(_,O),key:"rectangle-".concat(_?.x,"-").concat(_?.y,"-").concat(_?.value,"-").concat(O)}),h?w.createElement(VH,{shape:u,activeBar:h,baseProps:o,entry:_,index:O,dataKey:d}):w.createElement(FH,{shape:u,baseProps:o,entry:_,index:O,dataKey:d})))):null}function XH(e){var{props:t,previousRectanglesRef:r}=e,{data:n,layout:s,isAnimationActive:o,animationBegin:u,animationDuration:d,animationEasing:h,onAnimationEnd:m,onAnimationStart:g}=t,x=r.current,v=Tc(t,"recharts-bar-"),[b,j]=w.useState(!1),N=!b,_=w.useCallback(()=>{typeof m=="function"&&m(),j(!1)},[m]),O=w.useCallback(()=>{typeof g=="function"&&g(),j(!0)},[g]);return w.createElement(GH,{showLabels:N,rects:n},w.createElement(Cc,{animationId:v,begin:u,duration:d,isActive:o,easing:h,onAnimationEnd:_,onAnimationStart:O,key:v},S=>{var A=S===1?n:n?.map((k,C)=>{var P=x&&x[C];if(P)return vr(vr({},k),{},{x:ct(P.x,k.x,S),y:ct(P.y,k.y,S),width:ct(P.width,k.width,S),height:ct(P.height,k.height,S)});if(s==="horizontal"){var T=ct(0,k.height,S);return vr(vr({},k),{},{y:k.y+k.height-T,height:T})}var D=ct(0,k.width,S);return vr(vr({},k),{},{width:D})});return S>0&&(r.current=A??null),A==null?null:w.createElement(hr,null,w.createElement(WH,{props:t,data:A}))}),w.createElement(Vv,{label:t.label}),t.children)}function QH(e){var t=w.useRef(null);return w.createElement(XH,{previousRectanglesRef:t,props:e})}var kC=0,ZH=(e,t)=>{var r=Array.isArray(e.value)?e.value[1]:e.value;return{x:e.x,y:e.y,value:r,errorVal:kt(e,t)}};class JH extends w.PureComponent{render(){var{hide:t,data:r,dataKey:n,className:s,xAxisId:o,yAxisId:u,needClip:d,background:h,id:m}=this.props;if(t||r==null)return null;var g=We("recharts-bar",s),x=m;return w.createElement(hr,{className:g,id:m},d&&w.createElement("defs",null,w.createElement(ey,{clipPathId:x,xAxisId:o,yAxisId:u})),w.createElement(hr,{className:"recharts-bar-rectangles",clipPath:d?"url(#clipPath-".concat(x,")"):void 0},w.createElement(YH,{data:r,dataKey:n,background:h,allOtherBarProps:this.props}),w.createElement(QH,this.props)))}}var eK={activeBar:!1,animationBegin:0,animationDuration:400,animationEasing:"ease",hide:!1,isAnimationActive:!os.isSsr,legendType:"rect",minPointSize:kC,xAxisId:0,yAxisId:0};function tK(e){var{xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:h,animationEasing:m,isAnimationActive:g}=e,{needClip:x}=ah(t,r),v=kc(),b=mr(),j=t5(e.children,uC),N=ke(S=>EK(S,t,r,b,e.id,j));if(v!=="vertical"&&v!=="horizontal")return null;var _,O=N?.[0];return O==null||O.height==null||O.width==null?_=0:_=v==="vertical"?O.height/2:O.width/2,w.createElement(EC,{xAxisId:t,yAxisId:r,data:N,dataPointFormatter:ZH,errorBarOffset:_},w.createElement(JH,ci({},e,{layout:v,needClip:x,data:N,xAxisId:t,yAxisId:r,hide:n,legendType:s,minPointSize:o,activeBar:u,animationBegin:d,animationDuration:h,animationEasing:m,isAnimationActive:g})))}function rK(e){var{layout:t,barSettings:{dataKey:r,minPointSize:n},pos:s,bandSize:o,xAxis:u,yAxis:d,xAxisTicks:h,yAxisTicks:m,stackedData:g,displayedData:x,offset:v,cells:b,parentViewBox:j}=e,N=t==="horizontal"?d:u,_=g?N.scale.domain():null,O=d8({numericAxis:N});return x.map((S,A)=>{var k,C,P,T,D,$;g?k=s8(g[A],_):(k=kt(S,r),Array.isArray(k)||(k=[O,k]));var U=AH(n,kC)(k[1],A);if(t==="horizontal"){var L,[te,de]=[d.scale(k[0]),d.scale(k[1])];C=ZN({axis:u,ticks:h,bandSize:o,offset:s.offset,entry:S,index:A}),P=(L=de??te)!==null&&L!==void 0?L:void 0,T=s.size;var J=te-de;if(D=Er(J)?0:J,$={x:C,y:v.top,width:T,height:v.height},Math.abs(U)>0&&Math.abs(D)<Math.abs(U)){var ce=Or(D||U)*(Math.abs(U)-Math.abs(D));P-=ce,D+=ce}}else{var[z,V]=[u.scale(k[0]),u.scale(k[1])];if(C=z,P=ZN({axis:d,ticks:m,bandSize:o,offset:s.offset,entry:S,index:A}),T=V-z,D=s.size,$={x:v.left,y:P,width:v.width,height:D},Math.abs(U)>0&&Math.abs(T)<Math.abs(U)){var re=Or(T||U)*(Math.abs(U)-Math.abs(T));T+=re}}if(C==null||P==null||T==null||D==null)return null;var ve=vr(vr({},S),{},{x:C,y:P,width:T,height:D,value:g?k:k[1],payload:S,background:$,tooltipPosition:{x:C+T/2,y:P+D/2},parentViewBox:j},b&&b[A]&&b[A].props);return ve}).filter(Boolean)}function gf(e){var t=Fr(e,eK),r=mr();return w.createElement(Qv,{id:t.id,type:"bar"},n=>w.createElement(w.Fragment,null,w.createElement(Xv,{legendPayload:HH(t)}),w.createElement(Wv,{fn:KH,args:t}),w.createElement(Zv,{type:"bar",id:n,data:void 0,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,stackId:PA(t.stackId),hide:t.hide,barSize:t.barSize,minPointSize:t.minPointSize,maxBarSize:t.maxBarSize,isPanorama:r}),w.createElement(tK,ci({},t,{id:n}))))}gf.displayName="Bar";function o2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Sd(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?o2(Object(r),!0).forEach(function(n){nK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function nK(e,t,r){return(t=aK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function aK(e){var t=iK(e,"string");return typeof t=="symbol"?t:t+""}function iK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sK=(e,t)=>t,lK=(e,t,r)=>r,oK=(e,t,r,n)=>n,cK=(e,t,r,n,s)=>s,Kc=se([Ic,cK],(e,t)=>e.filter(r=>r.type==="bar").find(r=>r.id===t)),uK=se([Kc],e=>e?.maxBarSize),dK=(e,t,r,n,s,o)=>o,c2=(e,t,r)=>{var n=r??e;if(!ht(n))return _n(n,t,0)},fK=se([Ke,Ic,sK,lK,oK],(e,t,r,n,s)=>t.filter(o=>e==="horizontal"?o.xAxisId===r:o.yAxisId===n).filter(o=>o.isPanorama===s).filter(o=>o.hide===!1).filter(o=>o.type==="bar")),hK=(e,t,r,n)=>{var s=Ke(e);return s==="horizontal"?pc(e,"yAxis",r,n):pc(e,"xAxis",t,n)},mK=(e,t,r)=>{var n=Ke(e);return n==="horizontal"?hS(e,"xAxis",t):hS(e,"yAxis",r)},gK=(e,t,r)=>{var n={},s=e.filter(Qf),o=e.filter(m=>m.stackId==null),u=s.reduce((m,g)=>(m[g.stackId]||(m[g.stackId]=[]),m[g.stackId].push(g),m),n),d=Object.entries(u).map(m=>{var[g,x]=m,v=x.map(j=>j.dataKey),b=c2(t,r,x[0].barSize);return{stackId:g,dataKeys:v,barSize:b}}),h=o.map(m=>{var g=[m.dataKey].filter(v=>v!=null),x=c2(t,r,m.barSize);return{stackId:void 0,dataKeys:g,barSize:x}});return[...d,...h]},xK=se([fK,Lq,mK],gK),pK=(e,t,r,n,s)=>{var o,u,d=Kc(e,t,r,n,s);if(d!=null){var h=Ke(e),m=HE(e),{maxBarSize:g}=d,x=ht(g)?m:g,v,b;return h==="horizontal"?(v=zn(e,"xAxis",t,n),b=qn(e,"xAxis",t,n)):(v=zn(e,"yAxis",r,n),b=qn(e,"yAxis",r,n)),(o=(u=ns(v,b,!0))!==null&&u!==void 0?u:x)!==null&&o!==void 0?o:0}},CC=(e,t,r,n)=>{var s=Ke(e),o,u;return s==="horizontal"?(o=zn(e,"xAxis",t,n),u=qn(e,"xAxis",t,n)):(o=zn(e,"yAxis",r,n),u=qn(e,"yAxis",r,n)),ns(o,u)};function vK(e,t,r,n,s){var o=n.length;if(!(o<1)){var u=_n(e,r,0,!0),d,h=[];if(sr(n[0].barSize)){var m=!1,g=r/o,x=n.reduce((O,S)=>O+(S.barSize||0),0);x+=(o-1)*u,x>=r&&(x-=(o-1)*u,u=0),x>=r&&g>0&&(m=!0,g*=.9,x=o*g);var v=(r-x)/2>>0,b={offset:v-u,size:0};d=n.reduce((O,S)=>{var A,k={stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:b.offset+b.size+u,size:m?g:(A=S.barSize)!==null&&A!==void 0?A:0}},C=[...O,k];return b=C[C.length-1].position,C},h)}else{var j=_n(t,r,0,!0);r-2*j-(o-1)*u<=0&&(u=0);var N=(r-2*j-(o-1)*u)/o;N>1&&(N>>=0);var _=sr(s)?Math.min(N,s):N;d=n.reduce((O,S,A)=>[...O,{stackId:S.stackId,dataKeys:S.dataKeys,position:{offset:j+(N+u)*A+(N-_)/2,size:_}}],h)}return d}}var yK=(e,t,r,n,s,o,u)=>{var d=ht(u)?t:u,h=vK(r,n,s!==o?s:o,e,d);return s!==o&&h!=null&&(h=h.map(m=>Sd(Sd({},m),{},{position:Sd(Sd({},m.position),{},{offset:m.position.offset-s/2})}))),h},bK=se([xK,HE,$q,KE,pK,CC,uK],yK),wK=(e,t,r,n)=>zn(e,"xAxis",t,n),jK=(e,t,r,n)=>zn(e,"yAxis",r,n),NK=(e,t,r,n)=>qn(e,"xAxis",t,n),_K=(e,t,r,n)=>qn(e,"yAxis",r,n),SK=se([bK,Kc],(e,t)=>{if(!(e==null||t==null)){var r=e.find(n=>n.stackId===t.stackId&&t.dataKey!=null&&n.dataKeys.includes(t.dataKey));if(r!=null)return r.position}}),OK=(e,t)=>{var r=Xf(t);if(!(!e||r==null||t==null)){var{stackId:n}=t;if(n!=null){var s=e[n];if(s){var{stackedData:o}=s;if(o)return o.find(u=>u.key===r)}}}},AK=se([hK,Kc],OK),EK=se([Wt,Vp,wK,jK,NK,_K,SK,Ke,$c,CC,AK,Kc,dK],(e,t,r,n,s,o,u,d,h,m,g,x,v)=>{var{chartData:b,dataStartIndex:j,dataEndIndex:N}=h;if(!(x==null||u==null||t==null||d!=="horizontal"&&d!=="vertical"||r==null||n==null||s==null||o==null||m==null)){var{data:_}=x,O;if(_!=null&&_.length>0?O=_:O=b?.slice(j,N+1),O!=null)return rK({layout:d,barSettings:x,pos:u,parentViewBox:t,bandSize:m,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:o,stackedData:g,displayedData:O,offset:e,cells:v})}}),kK=e=>{var{chartData:t}=e,r=Ft(),n=mr();return w.useEffect(()=>n?()=>{}:(r(NS(t)),()=>{r(NS(void 0))}),[t,r,n]),null},u2={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},TC=Vr({name:"brush",initialState:u2,reducers:{setBrushSettings(e,t){return t.payload==null?u2:t.payload}}}),{setBrushSettings:TF}=TC.actions,CK=TC.reducer;function TK(e,t,r){return(t=DK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function DK(e){var t=PK(e,"string");return typeof t=="symbol"?t:t+""}function PK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class ty{static create(t){return new ty(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(n)switch(n){case"start":return this.scale(t);case"middle":{var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(t)+o}default:return this.scale(t)}if(r){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+u}return this.scale(t)}}isInRange(t){var r=this.range(),n=r[0],s=r[r.length-1];return n<=s?t>=n&&t<=s:t>=s&&t<=n}}TK(ty,"EPS",1e-4);function MK(e){return(e%180+180)%180}var RK=function(t){var{width:r,height:n}=t,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,o=MK(s),u=o*Math.PI/180,d=Math.atan(n/r),h=u>d&&u<Math.PI-d?n/Math.sin(u):r/Math.cos(u);return Math.abs(h)},$K={dots:[],areas:[],lines:[]},DC=Vr({name:"referenceElements",initialState:$K,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var r=pa(e).dots.findIndex(n=>n===t.payload);r!==-1&&e.dots.splice(r,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var r=pa(e).areas.findIndex(n=>n===t.payload);r!==-1&&e.areas.splice(r,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var r=pa(e).lines.findIndex(n=>n===t.payload);r!==-1&&e.lines.splice(r,1)}}}),{addDot:DF,removeDot:PF,addArea:MF,removeArea:RF,addLine:$F,removeLine:LF}=DC.actions,LK=DC.reducer,IK=w.createContext(void 0),UK=e=>{var{children:t}=e,[r]=w.useState("".concat(oc("recharts"),"-clip")),n=nh();if(n==null)return null;var{x:s,y:o,width:u,height:d}=n;return w.createElement(IK.Provider,{value:r},w.createElement("defs",null,w.createElement("clipPath",{id:r},w.createElement("rect",{x:s,y:o,height:d,width:u}))),t)};function lx(e,t){for(var r in e)if({}.hasOwnProperty.call(e,r)&&(!{}.hasOwnProperty.call(t,r)||e[r]!==t[r]))return!1;for(var n in t)if({}.hasOwnProperty.call(t,n)&&!{}.hasOwnProperty.call(e,n))return!1;return!0}function PC(e,t,r){if(t<1)return[];if(t===1&&r===void 0)return e;for(var n=[],s=0;s<e.length;s+=t)n.push(e[s]);return n}function qK(e,t,r){var n={width:e.width+t.width,height:e.height+t.height};return RK(n,r)}function zK(e,t,r){var n=r==="width",{x:s,y:o,width:u,height:d}=e;return t===1?{start:n?s:o,end:n?s+u:o+d}:{start:n?s+u:o+d,end:n?s:o}}function xf(e,t,r,n,s){if(e*t<e*n||e*t>e*s)return!1;var o=r();return e*(t-e*o/2-n)>=0&&e*(t+e*o/2-s)<=0}function BK(e,t){return PC(e,t+1)}function HK(e,t,r,n,s){for(var o=(n||[]).slice(),{start:u,end:d}=t,h=0,m=1,g=u,x=function(){var j=n?.[h];if(j===void 0)return{v:PC(n,m)};var N=h,_,O=()=>(_===void 0&&(_=r(j,N)),_),S=j.coordinate,A=h===0||xf(e,S,O,g,d);A||(h=0,g=u,m+=1),A&&(g=S+e*(O()/2+s),h+=m)},v;m<=o.length;)if(v=x(),v)return v.v;return[]}function d2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function dr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?d2(Object(r),!0).forEach(function(n){KK(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function KK(e,t,r){return(t=YK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function YK(e){var t=GK(e,"string");return typeof t=="symbol"?t:t+""}function GK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VK(e,t,r,n,s){for(var o=(n||[]).slice(),u=o.length,{start:d}=t,{end:h}=t,m=function(v){var b=o[v],j,N=()=>(j===void 0&&(j=r(b,v)),j);if(v===u-1){var _=e*(b.coordinate+e*N()/2-h);o[v]=b=dr(dr({},b),{},{tickCoord:_>0?b.coordinate-_*e:b.coordinate})}else o[v]=b=dr(dr({},b),{},{tickCoord:b.coordinate});var O=xf(e,b.tickCoord,N,d,h);O&&(h=b.tickCoord-e*(N()/2+s),o[v]=dr(dr({},b),{},{isShow:!0}))},g=u-1;g>=0;g--)m(g);return o}function FK(e,t,r,n,s,o){var u=(n||[]).slice(),d=u.length,{start:h,end:m}=t;if(o){var g=n[d-1],x=r(g,d-1),v=e*(g.coordinate+e*x/2-m);u[d-1]=g=dr(dr({},g),{},{tickCoord:v>0?g.coordinate-v*e:g.coordinate});var b=xf(e,g.tickCoord,()=>x,h,m);b&&(m=g.tickCoord-e*(x/2+s),u[d-1]=dr(dr({},g),{},{isShow:!0}))}for(var j=o?d-1:d,N=function(S){var A=u[S],k,C=()=>(k===void 0&&(k=r(A,S)),k);if(S===0){var P=e*(A.coordinate-e*C()/2-h);u[S]=A=dr(dr({},A),{},{tickCoord:P<0?A.coordinate-P*e:A.coordinate})}else u[S]=A=dr(dr({},A),{},{tickCoord:A.coordinate});var T=xf(e,A.tickCoord,C,h,m);T&&(h=A.tickCoord+e*(C()/2+s),u[S]=dr(dr({},A),{},{isShow:!0}))},_=0;_<j;_++)N(_);return u}function ry(e,t,r){var{tick:n,ticks:s,viewBox:o,minTickGap:u,orientation:d,interval:h,tickFormatter:m,unit:g,angle:x}=e;if(!s||!s.length||!n)return[];if(Ae(h)||os.isSsr){var v;return(v=BK(s,Ae(h)?h:0))!==null&&v!==void 0?v:[]}var b=[],j=d==="top"||d==="bottom"?"width":"height",N=g&&j==="width"?rc(g,{fontSize:t,letterSpacing:r}):{width:0,height:0},_=(A,k)=>{var C=typeof m=="function"?m(A.value,k):A.value;return j==="width"?qK(rc(C,{fontSize:t,letterSpacing:r}),N,x):rc(C,{fontSize:t,letterSpacing:r})[j]},O=s.length>=2?Or(s[1].coordinate-s[0].coordinate):1,S=zK(o,O,j);return h==="equidistantPreserveStart"?HK(O,S,_,s,u):(h==="preserveStart"||h==="preserveStartEnd"?b=FK(O,S,_,s,u,h==="preserveStartEnd"):b=VK(O,S,_,s,u),b.filter(A=>A.isShow))}var WK=["viewBox"],XK=["viewBox"];function dl(){return dl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dl.apply(null,arguments)}function f2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Mt(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?f2(Object(r),!0).forEach(function(n){ny(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):f2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function h2(e,t){if(e==null)return{};var r,n,s=QK(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function QK(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ny(e,t,r){return(t=ZK(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ZK(e){var t=JK(e,"string");return typeof t=="symbol"?t:t+""}function JK(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class pi extends w.Component{constructor(t){super(t),this.tickRefs=w.createRef(),this.tickRefs.current=[],this.state={fontSize:"",letterSpacing:""}}shouldComponentUpdate(t,r){var{viewBox:n}=t,s=h2(t,WK),o=this.props,{viewBox:u}=o,d=h2(o,XK);return!lx(n,u)||!lx(s,d)||!lx(r,this.state)}getTickLineCoord(t){var{x:r,y:n,width:s,height:o,orientation:u,tickSize:d,mirror:h,tickMargin:m}=this.props,g,x,v,b,j,N,_=h?-1:1,O=t.tickSize||d,S=Ae(t.tickCoord)?t.tickCoord:t.coordinate;switch(u){case"top":g=x=t.coordinate,b=n+ +!h*o,v=b-_*O,N=v-_*m,j=S;break;case"left":v=b=t.coordinate,x=r+ +!h*s,g=x-_*O,j=g-_*m,N=S;break;case"right":v=b=t.coordinate,x=r+ +h*s,g=x+_*O,j=g+_*m,N=S;break;default:g=x=t.coordinate,b=n+ +h*o,v=b+_*O,N=v+_*m,j=S;break}return{line:{x1:g,y1:v,x2:x,y2:b},tick:{x:j,y:N}}}getTickTextAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":return r?"start":"end";case"right":return r?"end":"start";default:return"middle"}}getTickVerticalAnchor(){var{orientation:t,mirror:r}=this.props;switch(t){case"left":case"right":return"middle";case"top":return r?"start":"end";default:return r?"end":"start"}}renderAxisLine(){var{x:t,y:r,width:n,height:s,orientation:o,mirror:u,axisLine:d}=this.props,h=Mt(Mt(Mt({},xt(this.props,!1)),xt(d,!1)),{},{fill:"none"});if(o==="top"||o==="bottom"){var m=+(o==="top"&&!u||o==="bottom"&&u);h=Mt(Mt({},h),{},{x1:t,y1:r+m*s,x2:t+n,y2:r+m*s})}else{var g=+(o==="left"&&!u||o==="right"&&u);h=Mt(Mt({},h),{},{x1:t+g*n,y1:r,x2:t+g*n,y2:r+s})}return w.createElement("line",dl({},h,{className:We("recharts-cartesian-axis-line",pl(d,"className"))}))}static renderTickItem(t,r,n){var s,o=We(r.className,"recharts-cartesian-axis-tick-value");if(w.isValidElement(t))s=w.cloneElement(t,Mt(Mt({},r),{},{className:o}));else if(typeof t=="function")s=t(Mt(Mt({},r),{},{className:o}));else{var u="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(u=We(u,t.className)),s=w.createElement(Kv,dl({},r,{className:u}),n)}return s}renderTicks(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[],{tickLine:s,stroke:o,tick:u,tickFormatter:d,unit:h,padding:m,tickTextProps:g}=this.props,x=ry(Mt(Mt({},this.props),{},{ticks:n}),t,r),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),j=Oa(this.props),N=xt(u,!1),_=Mt(Mt({},j),{},{fill:"none"},xt(s,!1)),O=x.map((S,A)=>{var{line:k,tick:C}=this.getTickLineCoord(S),P=Mt(Mt(Mt(Mt({textAnchor:v,verticalAnchor:b},j),{},{stroke:"none",fill:o},N),C),{},{index:A,payload:S,visibleTicksCount:x.length,tickFormatter:d,padding:m},g);return w.createElement(hr,dl({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},Rp(this.props,S,A)),s&&w.createElement("line",dl({},_,k,{className:We("recharts-cartesian-axis-tick-line",pl(s,"className"))})),u&&pi.renderTickItem(u,P,"".concat(typeof d=="function"?d(S.value,A):S.value).concat(h||"")))});return O.length>0?w.createElement("g",{className:"recharts-cartesian-axis-ticks"},O):null}render(){var{axisLine:t,width:r,height:n,className:s,hide:o}=this.props;if(o)return null;var{ticks:u}=this.props;return r!=null&&r<=0||n!=null&&n<=0?null:w.createElement(hr,{className:We("recharts-cartesian-axis",s),ref:d=>{if(d){var h=d.getElementsByClassName("recharts-cartesian-axis-tick-value");this.tickRefs.current=Array.from(h);var m=h[0];if(m){var g=window.getComputedStyle(m).fontSize,x=window.getComputedStyle(m).letterSpacing;(g!==this.state.fontSize||x!==this.state.letterSpacing)&&this.setState({fontSize:window.getComputedStyle(m).fontSize,letterSpacing:window.getComputedStyle(m).letterSpacing})}}}},t&&this.renderAxisLine(),this.renderTicks(this.state.fontSize,this.state.letterSpacing,u),w.createElement(t9,{x:this.props.x,y:this.props.y,width:this.props.width,height:this.props.height},w.createElement(d9,{label:this.props.label}),this.props.children))}}ny(pi,"displayName","CartesianAxis");ny(pi,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var eY=["x1","y1","x2","y2","key"],tY=["offset"],rY=["xAxisId","yAxisId"],nY=["xAxisId","yAxisId"];function m2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function fr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?m2(Object(r),!0).forEach(function(n){aY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function aY(e,t,r){return(t=iY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function iY(e){var t=sY(e,"string");return typeof t=="symbol"?t:t+""}function sY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wi(){return Wi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},Wi.apply(null,arguments)}function pf(e,t){if(e==null)return{};var r,n,s=lY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function lY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var oY=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:r,x:n,y:s,width:o,height:u,ry:d}=e;return w.createElement("rect",{x:n,y:s,ry:d,width:o,height:u,stroke:"none",fill:t,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function MC(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var{x1:n,y1:s,x2:o,y2:u,key:d}=t,h=pf(t,eY),m=Oa(h),{offset:g}=m,x=pf(m,tY);r=w.createElement("line",Wi({},x,{x1:n,y1:s,x2:o,y2:u,fill:"none",key:d}))}return r}function cY(e){var{x:t,width:r,horizontal:n=!0,horizontalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=pf(e,rY),h=s.map((m,g)=>{var x=fr(fr({},d),{},{x1:t,y1:m,x2:t+r,y2:m,key:"line-".concat(g),index:g});return MC(n,x)});return w.createElement("g",{className:"recharts-cartesian-grid-horizontal"},h)}function uY(e){var{y:t,height:r,vertical:n=!0,verticalPoints:s}=e;if(!n||!s||!s.length)return null;var{xAxisId:o,yAxisId:u}=e,d=pf(e,nY),h=s.map((m,g)=>{var x=fr(fr({},d),{},{x1:m,y1:t,x2:m,y2:t+r,key:"line-".concat(g),index:g});return MC(n,x)});return w.createElement("g",{className:"recharts-cartesian-grid-vertical"},h)}function dY(e){var{horizontalFill:t,fillOpacity:r,x:n,y:s,width:o,height:u,horizontalPoints:d,horizontal:h=!0}=e;if(!h||!t||!t.length)return null;var m=d.map(x=>Math.round(x+s-s)).sort((x,v)=>x-v);s!==m[0]&&m.unshift(0);var g=m.map((x,v)=>{var b=!m[v+1],j=b?s+u-x:m[v+1]-x;if(j<=0)return null;var N=v%t.length;return w.createElement("rect",{key:"react-".concat(v),y:x,x:n,height:j,width:o,stroke:"none",fill:t[N],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},g)}function fY(e){var{vertical:t=!0,verticalFill:r,fillOpacity:n,x:s,y:o,width:u,height:d,verticalPoints:h}=e;if(!t||!r||!r.length)return null;var m=h.map(x=>Math.round(x+s-s)).sort((x,v)=>x-v);s!==m[0]&&m.unshift(0);var g=m.map((x,v)=>{var b=!m[v+1],j=b?s+u-x:m[v+1]-x;if(j<=0)return null;var N=v%r.length;return w.createElement("rect",{key:"react-".concat(v),x,y:o,width:j,height:d,stroke:"none",fill:r[N],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return w.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},g)}var hY=(e,t)=>{var{xAxis:r,width:n,height:s,offset:o}=e;return TA(ry(fr(fr(fr({},pi.defaultProps),r),{},{ticks:DA(r),viewBox:{x:0,y:0,width:n,height:s}})),o.left,o.left+o.width,t)},mY=(e,t)=>{var{yAxis:r,width:n,height:s,offset:o}=e;return TA(ry(fr(fr(fr({},pi.defaultProps),r),{},{ticks:DA(r),viewBox:{x:0,y:0,width:n,height:s}})),o.top,o.top+o.height,t)},gY={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0};function ml(e){var t=$A(),r=LA(),n=RA(),s=fr(fr({},Fr(e,gY)),{},{x:Ae(e.x)?e.x:n.left,y:Ae(e.y)?e.y:n.top,width:Ae(e.width)?e.width:n.width,height:Ae(e.height)?e.height:n.height}),{xAxisId:o,yAxisId:u,x:d,y:h,width:m,height:g,syncWithTicks:x,horizontalValues:v,verticalValues:b}=s,j=mr(),N=ke($=>mS($,"xAxis",o,j)),_=ke($=>mS($,"yAxis",u,j));if(!Ae(m)||m<=0||!Ae(g)||g<=0||!Ae(d)||d!==+d||!Ae(h)||h!==+h)return null;var O=s.verticalCoordinatesGenerator||hY,S=s.horizontalCoordinatesGenerator||mY,{horizontalPoints:A,verticalPoints:k}=s;if((!A||!A.length)&&typeof S=="function"){var C=v&&v.length,P=S({yAxis:_?fr(fr({},_),{},{ticks:C?v:_.ticks}):void 0,width:t,height:r,offset:n},C?!0:x);ec(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(A=P)}if((!k||!k.length)&&typeof O=="function"){var T=b&&b.length,D=O({xAxis:N?fr(fr({},N),{},{ticks:T?b:N.ticks}):void 0,width:t,height:r,offset:n},T?!0:x);ec(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof D,"]")),Array.isArray(D)&&(k=D)}return w.createElement("g",{className:"recharts-cartesian-grid"},w.createElement(oY,{fill:s.fill,fillOpacity:s.fillOpacity,x:s.x,y:s.y,width:s.width,height:s.height,ry:s.ry}),w.createElement(dY,Wi({},s,{horizontalPoints:A})),w.createElement(fY,Wi({},s,{verticalPoints:k})),w.createElement(cY,Wi({},s,{offset:n,horizontalPoints:A,xAxis:N,yAxis:_})),w.createElement(uY,Wi({},s,{offset:n,verticalPoints:k,xAxis:N,yAxis:_})))}ml.displayName="CartesianGrid";var RC=(e,t,r,n)=>zn(e,"xAxis",t,n),$C=(e,t,r,n)=>qn(e,"xAxis",t,n),LC=(e,t,r,n)=>zn(e,"yAxis",r,n),IC=(e,t,r,n)=>qn(e,"yAxis",r,n),xY=se([Ke,RC,LC,$C,IC],(e,t,r,n,s)=>Yn(e,"xAxis")?ns(t,n,!1):ns(r,s,!1)),pY=(e,t,r,n,s)=>s;function vY(e){return e.type==="line"}var yY=se([Ic,pY],(e,t)=>e.filter(vY).find(r=>r.id===t)),bY=se([Ke,RC,LC,$C,IC,yY,xY,$c],(e,t,r,n,s,o,u,d)=>{var{chartData:h,dataStartIndex:m,dataEndIndex:g}=d;if(!(o==null||t==null||r==null||n==null||s==null||n.length===0||s.length===0||u==null)){var{dataKey:x,data:v}=o,b;if(v!=null&&v.length>0?b=v:b=h?.slice(m,g+1),b!=null)return BY({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataKey:x,bandSize:u,displayedData:b})}}),wY=["id"],jY=["type","layout","connectNulls","needClip"],NY=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function g2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function Hr(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?g2(Object(r),!0).forEach(function(n){_Y(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function _Y(e,t,r){return(t=SY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function SY(e){var t=OY(e,"string");return typeof t=="symbol"?t:t+""}function OY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ay(e,t){if(e==null)return{};var r,n,s=AY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function AY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function ss(){return ss=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ss.apply(null,arguments)}var EY=e=>{var{dataKey:t,name:r,stroke:n,legendType:s,hide:o}=e;return[{inactive:o,dataKey:t,type:s,color:n,value:Al(r,t),payload:e}]};function kY(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:o,name:u,hide:d,unit:h}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:Al(u,t),hide:d,type:e.tooltipType,color:e.stroke,unit:h}}}var UC=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function CY(e,t){for(var r=e.length%2!==0?[...e,0]:e,n=[],s=0;s<t;++s)n=[...n,...r];return n}var TY=(e,t,r)=>{var n=r.reduce((x,v)=>x+v);if(!n)return UC(t,e);for(var s=Math.floor(e/n),o=e%n,u=t-e,d=[],h=0,m=0;h<r.length;m+=r[h],++h)if(m+r[h]>o){d=[...r.slice(0,h),o-m];break}var g=d.length%2===0?[0,u]:[u];return[...CY(r,s),...d,...g].map(x=>"".concat(x,"px")).join(", ")};function DY(e,t){var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=We("recharts-line-dot",typeof e!="boolean"?e.className:"");r=w.createElement(Fv,ss({},t,{className:n}))}return r}function PY(e,t){return e==null?!1:t?!0:e.length===1}function MY(e){var{clipPathId:t,points:r,props:n}=e,{dot:s,dataKey:o,needClip:u}=n;if(!PY(r,s))return null;var{id:d}=n,h=ay(n,wY),m=Sf(s),g=Oa(h),x=xt(s,!0),v=r.map((j,N)=>{var _=Hr(Hr(Hr({key:"dot-".concat(N),r:3},g),x),{},{index:N,cx:j.x,cy:j.y,dataKey:o,value:j.value,payload:j.payload,points:r});return DY(s,_)}),b={clipPath:u?"url(#clipPath-".concat(m?"":"dots-").concat(t,")"):void 0};return w.createElement(hr,ss({className:"recharts-line-dots",key:"dots"},b),v)}function RY(e){var{showLabels:t,children:r,points:n}=e,s=w.useMemo(()=>n?.map(o=>{var u={x:o.x,y:o.y,width:0,height:0};return Hr(Hr({},u),{},{value:o.value,payload:o.payload,viewBox:u,parentViewBox:void 0,fill:void 0})}),[n]);return w.createElement(Gv,{value:t?s:null},r)}function x2(e){var{clipPathId:t,pathRef:r,points:n,strokeDasharray:s,props:o}=e,{type:u,layout:d,connectNulls:h,needClip:m}=o,g=ay(o,jY),x=Hr(Hr({},xt(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:m?"url(#clipPath-".concat(t,")"):void 0,points:n,type:u,layout:d,connectNulls:h,strokeDasharray:s??o.strokeDasharray});return w.createElement(w.Fragment,null,n?.length>1&&w.createElement(Zo,ss({},x,{pathRef:r})),w.createElement(MY,{points:n,clipPathId:t,props:o}))}function $Y(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function LY(e){var{clipPathId:t,props:r,pathRef:n,previousPointsRef:s,longestAnimatedLengthRef:o}=e,{points:u,strokeDasharray:d,isAnimationActive:h,animationBegin:m,animationDuration:g,animationEasing:x,animateNewValues:v,width:b,height:j,onAnimationEnd:N,onAnimationStart:_}=r,O=s.current,S=Tc(r,"recharts-line-"),[A,k]=w.useState(!1),C=!A,P=w.useCallback(()=>{typeof N=="function"&&N(),k(!1)},[N]),T=w.useCallback(()=>{typeof _=="function"&&_(),k(!0)},[_]),D=$Y(n.current),$=o.current;return w.createElement(RY,{points:u,showLabels:C},r.children,w.createElement(Cc,{animationId:S,begin:m,duration:g,isActive:h,easing:x,onAnimationEnd:P,onAnimationStart:T,key:S},U=>{var L=ct($,D+$,U),te=Math.min(L,D),de;if(h)if(d){var J="".concat(d).split(/[,\s]+/gim).map(V=>parseFloat(V));de=TY(te,D,J)}else de=UC(D,te);else de=d==null?void 0:String(d);if(O){var ce=O.length/u.length,z=U===1?u:u.map((V,re)=>{var ve=Math.floor(re*ce);if(O[ve]){var I=O[ve];return Hr(Hr({},V),{},{x:ct(I.x,V.x,U),y:ct(I.y,V.y,U)})}return v?Hr(Hr({},V),{},{x:ct(b*2,V.x,U),y:ct(j/2,V.y,U)}):Hr(Hr({},V),{},{x:V.x,y:V.y})});return s.current=z,w.createElement(x2,{props:r,points:z,clipPathId:t,pathRef:n,strokeDasharray:de})}return U>0&&D>0&&(s.current=u,o.current=te),w.createElement(x2,{props:r,points:u,clipPathId:t,pathRef:n,strokeDasharray:de})}),w.createElement(Vv,{label:r.label}))}function IY(e){var{clipPathId:t,props:r}=e,n=w.useRef(null),s=w.useRef(0),o=w.useRef(null);return w.createElement(LY,{props:r,clipPathId:t,previousPointsRef:n,longestAnimatedLengthRef:s,pathRef:o})}var UY=(e,t)=>({x:e.x,y:e.y,value:e.value,errorVal:kt(e.payload,t)});class qY extends w.Component{render(){var t,{hide:r,dot:n,points:s,className:o,xAxisId:u,yAxisId:d,top:h,left:m,width:g,height:x,id:v,needClip:b}=this.props;if(r)return null;var j=We("recharts-line",o),N=v,{r:_=3,strokeWidth:O=2}=(t=xt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},S=Sf(n),A=_*2+O;return w.createElement(w.Fragment,null,w.createElement(hr,{className:j},b&&w.createElement("defs",null,w.createElement(ey,{clipPathId:N,xAxisId:u,yAxisId:d}),!S&&w.createElement("clipPath",{id:"clipPath-dots-".concat(N)},w.createElement("rect",{x:m-A/2,y:h-A/2,width:g+A,height:x+A}))),w.createElement(EC,{xAxisId:u,yAxisId:d,data:s,dataPointFormatter:UY,errorBarOffset:0},w.createElement(IY,{props:this.props,clipPathId:N}))),w.createElement(op,{activeDot:this.props.activeDot,points:s,mainColor:this.props.stroke,itemDataKey:this.props.dataKey}))}}var qC={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:!os.isSsr,label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0};function zY(e){var t=Fr(e,qC),{activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:o,animationEasing:u,connectNulls:d,dot:h,hide:m,isAnimationActive:g,label:x,legendType:v,xAxisId:b,yAxisId:j,id:N}=t,_=ay(t,NY),{needClip:O}=ah(b,j),S=nh(),A=kc(),k=mr(),C=ke(U=>bY(U,b,j,k,N));if(A!=="horizontal"&&A!=="vertical"||C==null||S==null)return null;var{height:P,width:T,x:D,y:$}=S;return w.createElement(qY,ss({},_,{id:N,connectNulls:d,dot:h,activeDot:r,animateNewValues:n,animationBegin:s,animationDuration:o,animationEasing:u,isAnimationActive:g,hide:m,label:x,legendType:v,xAxisId:b,yAxisId:j,points:C,layout:A,height:P,width:T,left:D,top:$,needClip:O}))}function BY(e){var{layout:t,xAxis:r,yAxis:n,xAxisTicks:s,yAxisTicks:o,dataKey:u,bandSize:d,displayedData:h}=e;return h.map((m,g)=>{var x=kt(m,u);if(t==="horizontal"){var v=Gd({axis:r,ticks:s,bandSize:d,entry:m,index:g}),b=ht(x)?null:n.scale(x);return{x:v,y:b,value:x,payload:m}}var j=ht(x)?null:r.scale(x),N=Gd({axis:n,ticks:o,bandSize:d,entry:m,index:g});return j==null||N==null?null:{x:j,y:N,value:x,payload:m}}).filter(Boolean)}function up(e){var t=Fr(e,qC),r=mr();return w.createElement(Qv,{id:t.id,type:"line"},n=>w.createElement(w.Fragment,null,w.createElement(Xv,{legendPayload:EY(t)}),w.createElement(Wv,{fn:kY,args:t}),w.createElement(Zv,{type:"line",id:n,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:r}),w.createElement(zY,ss({},t,{id:n}))))}up.displayName="Line";var zC=(e,t,r,n)=>zn(e,"xAxis",t,n),BC=(e,t,r,n)=>qn(e,"xAxis",t,n),HC=(e,t,r,n)=>zn(e,"yAxis",r,n),KC=(e,t,r,n)=>qn(e,"yAxis",r,n),HY=se([Ke,zC,HC,BC,KC],(e,t,r,n,s)=>Yn(e,"xAxis")?ns(t,n,!1):ns(r,s,!1)),KY=(e,t,r,n,s)=>s,YC=se([Ic,KY],(e,t)=>e.filter(r=>r.type==="area").find(r=>r.id===t)),YY=(e,t,r,n,s)=>{var o,u=YC(e,t,r,n,s);if(u!=null){var d=Ke(e),h=Yn(d,"xAxis"),m;if(h?m=pc(e,"yAxis",r,n):m=pc(e,"xAxis",t,n),m!=null){var{stackId:g}=u,x=Xf(u);if(!(g==null||x==null)){var v=(o=m[g])===null||o===void 0?void 0:o.stackedData;return v?.find(b=>b.key===x)}}}},GY=se([Ke,zC,HC,BC,KC,YY,$c,HY,YC],(e,t,r,n,s,o,u,d,h)=>{var{chartData:m,dataStartIndex:g,dataEndIndex:x}=u;if(!(h==null||e!=="horizontal"&&e!=="vertical"||t==null||r==null||n==null||s==null||n.length===0||s.length===0||d==null)){var{data:v}=h,b;if(v&&v.length>0?b=v:b=m?.slice(g,x+1),b!=null){var j=void 0;return hG({layout:e,xAxis:t,yAxis:r,xAxisTicks:n,yAxisTicks:s,dataStartIndex:g,areaSettings:h,stackedData:o,displayedData:b,chartBaseValue:j,bandSize:d})}}}),VY=["id"],FY=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function GC(e,t){if(e==null)return{};var r,n,s=WY(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function WY(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function p2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function ga(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?p2(Object(r),!0).forEach(function(n){XY(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):p2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function XY(e,t,r){return(t=QY(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function QY(e){var t=ZY(e,"string");return typeof t=="symbol"?t:t+""}function ZY(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ya(){return ya=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ya.apply(null,arguments)}function vf(e,t){return e&&e!=="none"?e:t}var JY=e=>{var{dataKey:t,name:r,stroke:n,fill:s,legendType:o,hide:u}=e;return[{inactive:u,dataKey:t,type:o,color:vf(n,s),value:Al(r,t),payload:e}]};function eG(e){var{dataKey:t,data:r,stroke:n,strokeWidth:s,fill:o,name:u,hide:d,unit:h}=e;return{dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:s,fill:o,dataKey:t,nameKey:void 0,name:Al(u,t),hide:d,type:e.tooltipType,color:vf(n,o),unit:h}}}var tG=(e,t)=>{var r;if(w.isValidElement(e))r=w.cloneElement(e,t);else if(typeof e=="function")r=e(t);else{var n=We("recharts-area-dot",typeof e!="boolean"?e.className:"");r=w.createElement(Fv,ya({},t,{className:n}))}return r};function rG(e,t){return e==null?!1:t?!0:e.length===1}function nG(e){var{clipPathId:t,points:r,props:n}=e,{needClip:s,dot:o,dataKey:u}=n;if(!rG(r,o))return null;var d=Sf(o),h=Oa(n),m=xt(o,!0),g=r.map((v,b)=>{var j=ga(ga(ga({key:"dot-".concat(b),r:3},h),m),{},{index:b,cx:v.x,cy:v.y,dataKey:u,value:v.value,payload:v.payload,points:r});return tG(o,j)}),x={clipPath:s?"url(#clipPath-".concat(d?"":"dots-").concat(t,")"):void 0};return w.createElement(hr,ya({className:"recharts-area-dots"},x),g)}function aG(e){var{showLabels:t,children:r,points:n}=e,s=n.map(o=>{var u={x:o.x,y:o.y,width:0,height:0};return ga(ga({},u),{},{value:o.value,payload:o.payload,parentViewBox:void 0,viewBox:u,fill:void 0})});return w.createElement(Gv,{value:t?s:null},r)}function v2(e){var{points:t,baseLine:r,needClip:n,clipPathId:s,props:o}=e,{layout:u,type:d,stroke:h,connectNulls:m,isRange:g}=o,{id:x}=o,v=GC(o,VY),b=Oa(v);return w.createElement(w.Fragment,null,t?.length>1&&w.createElement(hr,{clipPath:n?"url(#clipPath-".concat(s,")"):void 0},w.createElement(Zo,ya({},b,{id:x,points:t,connectNulls:m,type:d,baseLine:r,layout:u,stroke:"none",className:"recharts-area-area"})),h!=="none"&&w.createElement(Zo,ya({},b,{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:t})),h!=="none"&&g&&w.createElement(Zo,ya({},b,{className:"recharts-area-curve",layout:u,type:d,connectNulls:m,fill:"none",points:r}))),w.createElement(nG,{points:t,props:v,clipPathId:s}))}function iG(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,o=n[0].y,u=n[n.length-1].y;if(!sr(o)||!sr(u))return null;var d=t*Math.abs(o-u),h=Math.max(...n.map(m=>m.x||0));return Ae(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(m=>m.x||0),h)),Ae(h)?w.createElement("rect",{x:0,y:o<u?o:o-d,width:h+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function sG(e){var{alpha:t,baseLine:r,points:n,strokeWidth:s}=e,o=n[0].x,u=n[n.length-1].x;if(!sr(o)||!sr(u))return null;var d=t*Math.abs(o-u),h=Math.max(...n.map(m=>m.y||0));return Ae(r)?h=Math.max(r,h):r&&Array.isArray(r)&&r.length&&(h=Math.max(...r.map(m=>m.y||0),h)),Ae(h)?w.createElement("rect",{x:o<u?o:o-d,y:0,width:d,height:Math.floor(h+(s?parseInt("".concat(s),10):1))}):null}function lG(e){var{alpha:t,layout:r,points:n,baseLine:s,strokeWidth:o}=e;return r==="vertical"?w.createElement(iG,{alpha:t,points:n,baseLine:s,strokeWidth:o}):w.createElement(sG,{alpha:t,points:n,baseLine:s,strokeWidth:o})}function oG(e){var{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:o}=e,{points:u,baseLine:d,isAnimationActive:h,animationBegin:m,animationDuration:g,animationEasing:x,onAnimationStart:v,onAnimationEnd:b}=n,j=Tc(n,"recharts-area-"),[N,_]=w.useState(!1),O=!N,S=w.useCallback(()=>{typeof b=="function"&&b(),_(!1)},[b]),A=w.useCallback(()=>{typeof v=="function"&&v(),_(!0)},[v]),k=s.current,C=o.current;return w.createElement(aG,{showLabels:O,points:u},n.children,w.createElement(Cc,{animationId:j,begin:m,duration:g,isActive:h,easing:x,onAnimationEnd:S,onAnimationStart:A,key:j},P=>{if(k){var T=k.length/u.length,D=P===1?u:u.map((U,L)=>{var te=Math.floor(L*T);if(k[te]){var de=k[te];return ga(ga({},U),{},{x:ct(de.x,U.x,P),y:ct(de.y,U.y,P)})}return U}),$;return Ae(d)?$=ct(C,d,P):ht(d)||Er(d)?$=ct(C,0,P):$=d.map((U,L)=>{var te=Math.floor(L*T);if(Array.isArray(C)&&C[te]){var de=C[te];return ga(ga({},U),{},{x:ct(de.x,U.x,P),y:ct(de.y,U.y,P)})}return U}),P>0&&(s.current=D,o.current=$),w.createElement(v2,{points:D,baseLine:$,needClip:t,clipPathId:r,props:n})}return P>0&&(s.current=u,o.current=d),w.createElement(hr,null,h&&w.createElement("defs",null,w.createElement("clipPath",{id:"animationClipPath-".concat(r)},w.createElement(lG,{alpha:P,points:u,baseLine:d,layout:n.layout,strokeWidth:n.strokeWidth}))),w.createElement(hr,{clipPath:"url(#animationClipPath-".concat(r,")")},w.createElement(v2,{points:u,baseLine:d,needClip:t,clipPathId:r,props:n})))}),w.createElement(Vv,{label:n.label}))}function cG(e){var{needClip:t,clipPathId:r,props:n}=e,s=w.useRef(null),o=w.useRef();return w.createElement(oG,{needClip:t,clipPathId:r,props:n,previousPointsRef:s,previousBaselineRef:o})}class uG extends w.PureComponent{render(){var t,{hide:r,dot:n,points:s,className:o,top:u,left:d,needClip:h,xAxisId:m,yAxisId:g,width:x,height:v,id:b,baseLine:j}=this.props;if(r)return null;var N=We("recharts-area",o),_=b,{r:O=3,strokeWidth:S=2}=(t=xt(n,!1))!==null&&t!==void 0?t:{r:3,strokeWidth:2},A=Sf(n),k=O*2+S;return w.createElement(w.Fragment,null,w.createElement(hr,{className:N},h&&w.createElement("defs",null,w.createElement(ey,{clipPathId:_,xAxisId:m,yAxisId:g}),!A&&w.createElement("clipPath",{id:"clipPath-dots-".concat(_)},w.createElement("rect",{x:d-k/2,y:u-k/2,width:x+k,height:v+k}))),w.createElement(cG,{needClip:h,clipPathId:_,props:this.props})),w.createElement(op,{points:s,mainColor:vf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}),this.props.isRange&&Array.isArray(j)&&w.createElement(op,{points:j,mainColor:vf(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot}))}}var VC={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:!os.isSsr,legendType:"line",stroke:"#3182bd",xAxisId:0,yAxisId:0};function dG(e){var t,r=Fr(e,VC),{activeDot:n,animationBegin:s,animationDuration:o,animationEasing:u,connectNulls:d,dot:h,fill:m,fillOpacity:g,hide:x,isAnimationActive:v,legendType:b,stroke:j,xAxisId:N,yAxisId:_}=r,O=GC(r,FY),S=kc(),A=tC(),{needClip:k}=ah(N,_),C=mr(),{points:P,isRange:T,baseLine:D}=(t=ke(J=>GY(J,N,_,C,e.id)))!==null&&t!==void 0?t:{},$=nh();if(S!=="horizontal"&&S!=="vertical"||$==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:U,width:L,x:te,y:de}=$;return!P||!P.length?null:w.createElement(uG,ya({},O,{activeDot:n,animationBegin:s,animationDuration:o,animationEasing:u,baseLine:D,connectNulls:d,dot:h,fill:m,fillOpacity:g,height:U,hide:x,layout:S,isAnimationActive:v,isRange:T,legendType:b,needClip:k,points:P,stroke:j,width:L,left:te,top:de,xAxisId:N,yAxisId:_}))}var fG=(e,t,r,n,s)=>{var o=r??t;if(Ae(o))return o;var u=e==="horizontal"?s:n,d=u.scale.domain();if(u.type==="number"){var h=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return o==="dataMin"?m:o==="dataMax"||h<0?h:Math.max(Math.min(d[0],d[1]),0)}return o==="dataMin"?d[0]:o==="dataMax"?d[1]:d[0]};function hG(e){var{areaSettings:{connectNulls:t,baseValue:r,dataKey:n},stackedData:s,layout:o,chartBaseValue:u,xAxis:d,yAxis:h,displayedData:m,dataStartIndex:g,xAxisTicks:x,yAxisTicks:v,bandSize:b}=e,j=s&&s.length,N=fG(o,u,r,d,h),_=o==="horizontal",O=!1,S=m.map((k,C)=>{var P;j?P=s[g+C]:(P=kt(k,n),Array.isArray(P)?O=!0:P=[N,P]);var T=P[1]==null||j&&!t&&kt(k,n)==null;return _?{x:Gd({axis:d,ticks:x,bandSize:b,entry:k,index:C}),y:T?null:h.scale(P[1]),value:P,payload:k}:{x:T?null:d.scale(P[1]),y:Gd({axis:h,ticks:v,bandSize:b,entry:k,index:C}),value:P,payload:k}}),A;return j||O?A=S.map(k=>{var C=Array.isArray(k.value)?k.value[0]:null;return _?{x:k.x,y:C!=null&&k.y!=null?h.scale(C):null,payload:k.payload}:{x:C!=null?d.scale(C):null,y:k.y,payload:k.payload}}):A=_?h.scale(N):d.scale(N),{points:S,baseLine:A,isRange:O}}function FC(e){var t=Fr(e,VC),r=mr();return w.createElement(Qv,{id:t.id,type:"area"},n=>w.createElement(w.Fragment,null,w.createElement(Xv,{legendPayload:JY(t)}),w.createElement(Wv,{fn:eG,args:t}),w.createElement(Zv,{type:"area",id:n,data:t.data,dataKey:t.dataKey,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,stackId:PA(t.stackId),hide:t.hide,barSize:void 0,baseValue:t.baseValue,isPanorama:r,connectNulls:t.connectNulls}),w.createElement(dG,ya({},t,{id:n}))))}FC.displayName="Area";var mG=["children"],gG=["dangerouslySetInnerHTML","ticks"],xG=["id"];function WC(e,t,r){return(t=pG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pG(e){var t=vG(e,"string");return typeof t=="symbol"?t:t+""}function vG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},dp.apply(null,arguments)}function fp(e,t){if(e==null)return{};var r,n,s=yG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function yG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function bG(e){var t=Ft(),r=w.useMemo(()=>{var{children:n}=e,s=fp(e,mG);return s},[e]);return w.useEffect(()=>(t(iH(r)),()=>{t(sH(r))}),[r,t]),e.children}var wG=e=>{var{xAxisId:t,className:r}=e,n=ke(Vp),s=mr(),o="xAxis",u=ke(_=>Pl(_,o,t,s)),d=ke(_=>Mk(_,o,t,s)),h=ke(_=>Ck(_,t)),m=ke(_=>Ez(_,t)),g=ke(_=>JE(_,t));if(h==null||m==null||g==null)return null;var{dangerouslySetInnerHTML:x,ticks:v}=e,b=fp(e,gG),{id:j}=g,N=fp(g,xG);return w.createElement(pi,dp({},b,N,{scale:u,x:m.x,y:m.y,width:h.width,height:h.height,className:We("recharts-".concat(o," ").concat(o),r),viewBox:n,ticks:d}))},jG=e=>{var t,r,n,s,o;return w.createElement(bG,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.xAxisId,scale:e.scale,type:e.type,padding:e.padding,allowDataOverflow:e.allowDataOverflow,domain:e.domain,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,height:e.height,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter},w.createElement(wG,e))};class es extends w.Component{render(){return w.createElement(jG,this.props)}}WC(es,"displayName","XAxis");WC(es,"defaultProps",{allowDataOverflow:qr.allowDataOverflow,allowDecimals:qr.allowDecimals,allowDuplicatedCategory:qr.allowDuplicatedCategory,height:qr.height,hide:!1,mirror:qr.mirror,orientation:qr.orientation,padding:qr.padding,reversed:qr.reversed,scale:qr.scale,tickCount:qr.tickCount,type:qr.type,xAxisId:0});var NG=e=>{var{ticks:t,label:r,labelGapWithTick:n=5,tickSize:s=0,tickMargin:o=0}=e,u=0;if(t){t.forEach(g=>{if(g){var x=g.getBoundingClientRect();x.width>u&&(u=x.width)}});var d=r?r.getBoundingClientRect().width:0,h=s+o,m=u+h+d+(r?n:0);return Math.round(m)}return 0},_G=["dangerouslySetInnerHTML","ticks"],SG=["id"];function XC(e,t,r){return(t=OG(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function OG(e){var t=AG(e,"string");return typeof t=="symbol"?t:t+""}function AG(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hp(){return hp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},hp.apply(null,arguments)}function y2(e,t){if(e==null)return{};var r,n,s=EG(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function EG(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function kG(e){var t=Ft();return w.useEffect(()=>(t(lH(e)),()=>{t(oH(e))}),[e,t]),null}var CG=e=>{var t,{yAxisId:r,className:n,width:s,label:o}=e,u=w.useRef(null),d=w.useRef(null),h=ke(Vp),m=mr(),g=Ft(),x="yAxis",v=ke(P=>Pl(P,x,r,m)),b=ke(P=>Tk(P,r)),j=ke(P=>kz(P,r)),N=ke(P=>Mk(P,x,r,m)),_=ke(P=>ek(P,r));if(w.useLayoutEffect(()=>{var P;if(!(s!=="auto"||!b||Yv(o)||w.isValidElement(o)||_==null)){var T=u.current,D=T==null||(P=T.tickRefs)===null||P===void 0?void 0:P.current,{tickSize:$,tickMargin:U}=T.props,L=NG({ticks:D,label:d.current,labelGapWithTick:5,tickSize:$,tickMargin:U});Math.round(b.width)!==Math.round(L)&&g(cH({id:r,width:L}))}},[u,u==null||(t=u.current)===null||t===void 0||(t=t.tickRefs)===null||t===void 0?void 0:t.current,b?.width,b,g,o,r,s]),b==null||j==null||_==null)return null;var{dangerouslySetInnerHTML:O,ticks:S}=e,A=y2(e,_G),{id:k}=_,C=y2(_,SG);return w.createElement(pi,hp({},A,C,{ref:u,labelRef:d,scale:v,x:j.x,y:j.y,tickTextProps:s==="auto"?{width:void 0}:{width:s},width:b.width,height:b.height,className:We("recharts-".concat(x," ").concat(x),n),viewBox:h,ticks:N}))},TG=e=>{var t,r,n,s,o;return w.createElement(w.Fragment,null,w.createElement(kG,{interval:(t=e.interval)!==null&&t!==void 0?t:"preserveEnd",id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:(r=e.includeHidden)!==null&&r!==void 0?r:!1,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:(n=e.angle)!==null&&n!==void 0?n:0,minTickGap:(s=e.minTickGap)!==null&&s!==void 0?s:5,tick:(o=e.tick)!==null&&o!==void 0?o:!0,tickFormatter:e.tickFormatter}),w.createElement(CG,e))},DG={allowDataOverflow:zr.allowDataOverflow,allowDecimals:zr.allowDecimals,allowDuplicatedCategory:zr.allowDuplicatedCategory,hide:!1,mirror:zr.mirror,orientation:zr.orientation,padding:zr.padding,reversed:zr.reversed,scale:zr.scale,tickCount:zr.tickCount,type:zr.type,width:zr.width,yAxisId:0};class oi extends w.Component{render(){return w.createElement(TG,this.props)}}XC(oi,"displayName","YAxis");XC(oi,"defaultProps",DG);var ox={exports:{}},cx={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b2;function PG(){if(b2)return cx;b2=1;var e=_l();function t(h,m){return h===m&&(h!==0||1/h===1/m)||h!==h&&m!==m}var r=typeof Object.is=="function"?Object.is:t,n=e.useSyncExternalStore,s=e.useRef,o=e.useEffect,u=e.useMemo,d=e.useDebugValue;return cx.useSyncExternalStoreWithSelector=function(h,m,g,x,v){var b=s(null);if(b.current===null){var j={hasValue:!1,value:null};b.current=j}else j=b.current;b=u(function(){function _(C){if(!O){if(O=!0,S=C,C=x(C),v!==void 0&&j.hasValue){var P=j.value;if(v(P,C))return A=P}return A=C}if(P=A,r(S,C))return P;var T=x(C);return v!==void 0&&v(P,T)?(S=C,P):(S=C,A=T)}var O=!1,S,A,k=g===void 0?null:g;return[function(){return _(m())},k===null?void 0:function(){return _(k())}]},[m,g,x,v]);var N=n(h,b[0],b[1]);return o(function(){j.hasValue=!0,j.value=N},[N]),d(N),N},cx}var w2;function MG(){return w2||(w2=1,ox.exports=PG()),ox.exports}MG();function RG(e){e()}function $G(){let e=null,t=null;return{clear(){e=null,t=null},notify(){RG(()=>{let r=e;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=e;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const s=t={callback:r,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){!n||e===null||(n=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}var j2={notify(){},get:()=>[]};function LG(e,t){let r,n=j2,s=0,o=!1;function u(N){g();const _=n.subscribe(N);let O=!1;return()=>{O||(O=!0,_(),x())}}function d(){n.notify()}function h(){j.onStateChange&&j.onStateChange()}function m(){return o}function g(){s++,r||(r=e.subscribe(h),n=$G())}function x(){s--,r&&s===0&&(r(),r=void 0,n.clear(),n=j2)}function v(){o||(o=!0,g())}function b(){o&&(o=!1,x())}const j={addNestedSub:u,notifyNestedSubs:d,handleChangeWrapper:h,isSubscribed:m,trySubscribe:v,tryUnsubscribe:b,getListeners:()=>n};return j}var IG=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UG=IG(),qG=()=>typeof navigator<"u"&&navigator.product==="ReactNative",zG=qG(),BG=()=>UG||zG?w.useLayoutEffect:w.useEffect,HG=BG(),KG=Symbol.for("react-redux-context"),YG=typeof globalThis<"u"?globalThis:{};function GG(){if(!w.createContext)return{};const e=YG[KG]??=new Map;let t=e.get(w.createContext);return t||(t=w.createContext(null),e.set(w.createContext,t)),t}var VG=GG();function FG(e){const{children:t,context:r,serverState:n,store:s}=e,o=w.useMemo(()=>{const h=LG(s);return{store:s,subscription:h,getServerState:n?()=>n:void 0}},[s,n]),u=w.useMemo(()=>s.getState(),[s]);HG(()=>{const{subscription:h}=o;return h.onStateChange=h.notifyNestedSubs,h.trySubscribe(),u!==s.getState()&&h.notifyNestedSubs(),()=>{h.tryUnsubscribe(),h.onStateChange=void 0}},[o,u]);const d=r||VG;return w.createElement(d.Provider,{value:o},t)}var WG=FG,XG=(e,t)=>t,iy=se([XG,Ke,XE,Ut,Wk,Ca,PB,Wt],IB),sy=e=>{var t=e.currentTarget.getBoundingClientRect(),r=t.width/e.currentTarget.offsetWidth,n=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/r),chartY:Math.round((e.clientY-t.top)/n)}},QC=un("mouseClick"),ZC=Ac();ZC.startListening({actionCreator:QC,effect:(e,t)=>{var r=e.payload,n=iy(t.getState(),sy(r));n?.activeIndex!=null&&t.dispatch(Bz({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var mp=un("mouseMove"),JC=Ac();JC.startListening({actionCreator:mp,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Mv(n,n.tooltip.settings.shared),o=iy(n,sy(r));s==="axis"&&(o?.activeIndex!=null?t.dispatch(Bk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate})):t.dispatch(zk()))}});function QG(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":t}var N2={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},eT=Vr({name:"rootProps",initialState:N2,reducers:{updateOptions:(e,t)=>{var r;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(r=t.payload.barGap)!==null&&r!==void 0?r:N2.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className}}}),ZG=eT.reducer,{updateOptions:JG}=eT.actions,tT=Vr({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:IF}=tT.actions,eV=tT.reducer,rT=un("keyDown"),nT=un("focus"),ly=Ac();ly.startListening({actionCreator:rT,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip,o=e.payload;if(!(o!=="ArrowRight"&&o!=="ArrowLeft"&&o!=="Enter")){var u=Number(Rv(s,Rl(r))),d=Ca(r);if(o==="Enter"){var h=uf(r,"axis","hover",String(s.index));t.dispatch(np({active:!s.active,activeIndex:s.index,activeDataKey:s.dataKey,activeCoordinate:h}));return}var m=Pz(r),g=m==="left-to-right"?1:-1,x=o==="ArrowRight"?1:-1,v=u+x*g;if(!(d==null||v>=d.length||v<0)){var b=uf(r,"axis","hover",String(v));t.dispatch(np({active:!0,activeIndex:v.toString(),activeDataKey:void 0,activeCoordinate:b}))}}}}});ly.startListening({actionCreator:nT,effect:(e,t)=>{var r=t.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:s}=r.tooltip;if(!s.active&&s.index==null){var o="0",u=uf(r,"axis","hover",String(o));t.dispatch(np({activeDataKey:void 0,active:!0,activeIndex:o,activeCoordinate:u}))}}}});var ln=un("externalEvent"),aT=Ac();aT.startListening({actionCreator:ln,effect:(e,t)=>{if(e.payload.handler!=null){var r=t.getState(),n={activeCoordinate:_B(r),activeDataKey:Jk(r),activeIndex:is(r),activeLabel:Zk(r),activeTooltipIndex:is(r),isTooltipActive:SB(r)};e.payload.handler(n,e.payload.reactEvent)}}});var tV=se([Ml],e=>e.tooltipItemPayloads),rV=se([tV,Bc,(e,t,r)=>t,(e,t,r)=>r],(e,t,r,n)=>{var s=e.find(d=>d.settings.dataKey===n);if(s!=null){var{positions:o}=s;if(o!=null){var u=t(o,r);return u}}}),iT=un("touchMove"),sT=Ac();sT.startListening({actionCreator:iT,effect:(e,t)=>{var r=e.payload,n=t.getState(),s=Mv(n,n.tooltip.settings.shared);if(s==="axis"){var o=iy(n,sy({clientX:r.touches[0].clientX,clientY:r.touches[0].clientY,currentTarget:r.currentTarget}));o?.activeIndex!=null&&t.dispatch(Bk({activeIndex:o.activeIndex,activeDataKey:void 0,activeCoordinate:o.activeCoordinate}))}else if(s==="item"){var u,d=r.touches[0],h=document.elementFromPoint(d.clientX,d.clientY);if(!h||!h.getAttribute)return;var m=h.getAttribute(y8),g=(u=h.getAttribute(b8))!==null&&u!==void 0?u:void 0,x=rV(t.getState(),m,g);t.dispatch(qk({activeDataKey:g,activeIndex:m,activeCoordinate:x}))}}});var nV=lA({brush:CK,cartesianAxis:uH,chartData:e7,errorBars:kH,graphicalItems:eH,layout:H$,legend:R8,options:WB,polarAxis:S9,polarOptions:eV,referenceElements:LK,rootProps:ZG,tooltip:Hz}),aV=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return m$({reducer:nV,preloadedState:t,middleware:n=>n({serializableCheck:!1}).concat([ZC.middleware,JC.middleware,ly.middleware,aT.middleware,sT.middleware]),devTools:!!window.RECHARTS_DEV_TOOLS_ENABLED&&{serialize:{replacer:QG},name:"recharts-".concat(r)}})};function iV(e){var{preloadedState:t,children:r,reduxStoreName:n}=e,s=mr(),o=w.useRef(null);if(s)return r;o.current==null&&(o.current=aV(t,n));var u=zp;return w.createElement(WG,{context:u,store:o.current},r)}function sV(e){var{layout:t,width:r,height:n,margin:s}=e,o=Ft(),u=mr();return w.useEffect(()=>{u||(o(q$(t)),o(z$({width:r,height:n})),o(U$(s)))},[o,u,t,r,n,s]),null}function lV(e){var t=Ft();return w.useEffect(()=>{t(JG(e))},[t,e]),null}var oV=["children"];function cV(e,t){if(e==null)return{};var r,n,s=uV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function uV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function yf(){return yf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},yf.apply(null,arguments)}var dV={width:"100%",height:"100%"},fV=w.forwardRef((e,t)=>{var r=$A(),n=LA(),s=UA();if(!Vd(r)||!Vd(n))return null;var{children:o,otherAttributes:u,title:d,desc:h}=e,m,g;return typeof u.tabIndex=="number"?m=u.tabIndex:m=s?0:void 0,typeof u.role=="string"?g=u.role:g=s?"application":void 0,w.createElement(kO,yf({},u,{title:d,desc:h,role:g,tabIndex:m,width:r,height:n,style:dV,ref:t}),o)}),hV=e=>{var{children:t}=e,r=ke(If);if(!r)return null;var{width:n,height:s,y:o,x:u}=r;return w.createElement(kO,{width:n,height:s,x:u,y:o},t)},_2=w.forwardRef((e,t)=>{var{children:r}=e,n=cV(e,oV),s=mr();return s?w.createElement(hV,null,r):w.createElement(fV,yf({ref:t},n),r)});function mV(){var e=Ft(),[t,r]=w.useState(null),n=ke(v8);return w.useEffect(()=>{if(t!=null){var s=t.getBoundingClientRect(),o=s.width/t.offsetWidth;sr(o)&&o!==n&&e(B$(o))}},[t,e,n]),r}function S2(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function gV(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?S2(Object(r),!0).forEach(function(n){xV(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):S2(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function xV(e,t,r){return(t=pV(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function pV(e){var t=vV(e,"string");return typeof t=="symbol"?t:t+""}function vV(e,t){if(typeof e!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yV=w.forwardRef((e,t)=>{var{children:r,className:n,height:s,onClick:o,onContextMenu:u,onDoubleClick:d,onMouseDown:h,onMouseEnter:m,onMouseLeave:g,onMouseMove:x,onMouseUp:v,onTouchEnd:b,onTouchMove:j,onTouchStart:N,style:_,width:O}=e,S=Ft(),[A,k]=w.useState(null),[C,P]=w.useState(null);c7();var T=mV(),D=w.useCallback(ie=>{T(ie),typeof t=="function"&&t(ie),k(ie),P(ie)},[T,t,k,P]),$=w.useCallback(ie=>{S(QC(ie)),S(ln({handler:o,reactEvent:ie}))},[S,o]),U=w.useCallback(ie=>{S(mp(ie)),S(ln({handler:m,reactEvent:ie}))},[S,m]),L=w.useCallback(ie=>{S(zk()),S(ln({handler:g,reactEvent:ie}))},[S,g]),te=w.useCallback(ie=>{S(mp(ie)),S(ln({handler:x,reactEvent:ie}))},[S,x]),de=w.useCallback(()=>{S(nT())},[S]),J=w.useCallback(ie=>{S(rT(ie.key))},[S]),ce=w.useCallback(ie=>{S(ln({handler:u,reactEvent:ie}))},[S,u]),z=w.useCallback(ie=>{S(ln({handler:d,reactEvent:ie}))},[S,d]),V=w.useCallback(ie=>{S(ln({handler:h,reactEvent:ie}))},[S,h]),re=w.useCallback(ie=>{S(ln({handler:v,reactEvent:ie}))},[S,v]),ve=w.useCallback(ie=>{S(ln({handler:N,reactEvent:ie}))},[S,N]),I=w.useCallback(ie=>{S(iT(ie)),S(ln({handler:j,reactEvent:ie}))},[S,j]),ee=w.useCallback(ie=>{S(ln({handler:b,reactEvent:ie}))},[S,b]);return w.createElement(sC.Provider,{value:A},w.createElement(c5.Provider,{value:C},w.createElement("div",{className:We("recharts-wrapper",n),style:gV({position:"relative",cursor:"default",width:O,height:s},_),onClick:$,onContextMenu:ce,onDoubleClick:z,onFocus:de,onKeyDown:J,onMouseDown:V,onMouseEnter:U,onMouseLeave:L,onMouseMove:te,onMouseUp:re,onTouchEnd:ee,onTouchMove:I,onTouchStart:ve,ref:D},r)))}),bV=["children","className","width","height","style","compact","title","desc"];function wV(e,t){if(e==null)return{};var r,n,s=jV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function jV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var NV=w.forwardRef((e,t)=>{var{children:r,className:n,width:s,height:o,style:u,compact:d,title:h,desc:m}=e,g=wV(e,bV),x=Oa(g);return d?w.createElement(_2,{otherAttributes:x,title:h,desc:m},r):w.createElement(yV,{className:n,style:u,width:s,height:o,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},w.createElement(_2,{otherAttributes:x,title:h,desc:m,ref:t},w.createElement(UK,null,r)))}),_V=["width","height"];function gp(){return gp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},gp.apply(null,arguments)}function SV(e,t){if(e==null)return{};var r,n,s=OV(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function OV(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}var AV={top:5,right:5,bottom:5,left:5},EV={accessibilityLayer:!0,layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:AV,reverseStackOrder:!1,syncMethod:"index"},oy=w.forwardRef(function(t,r){var n,s=Fr(t.categoricalChartProps,EV),{width:o,height:u}=s,d=SV(s,_V);if(!Vd(o)||!Vd(u))return null;var{chartName:h,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,categoricalChartProps:v}=t,b={chartName:h,defaultTooltipEventType:m,validateTooltipEventTypes:g,tooltipPayloadSearcher:x,eventEmitter:void 0};return w.createElement(iV,{preloadedState:{options:b},reduxStoreName:(n=v.id)!==null&&n!==void 0?n:h},w.createElement(kK,{chartData:v.data}),w.createElement(sV,{width:o,height:u,layout:s.layout,margin:s.margin}),w.createElement(lV,{accessibilityLayer:s.accessibilityLayer,barCategoryGap:s.barCategoryGap,maxBarSize:s.maxBarSize,stackOffset:s.stackOffset,barGap:s.barGap,barSize:s.barSize,syncId:s.syncId,syncMethod:s.syncMethod,className:s.className}),w.createElement(NV,gp({},d,{width:o,height:u,ref:r})))}),kV=["axis"],CV=w.forwardRef((e,t)=>w.createElement(oy,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:kV,tooltipPayloadSearcher:Hv,categoricalChartProps:e,ref:t})),TV=["axis","item"],xp=w.forwardRef((e,t)=>w.createElement(oy,{chartName:"BarChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:TV,tooltipPayloadSearcher:Hv,categoricalChartProps:e,ref:t})),DV=["axis"],PV=w.forwardRef((e,t)=>w.createElement(oy,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:DV,tooltipPayloadSearcher:Hv,categoricalChartProps:e,ref:t}));function O2(){const[e,t]=w.useState({totalStores:0,totalOrders:0,totalRevenue:0,newUsers:0,pendingInquiries:0,activeStores:0,inactiveStores:0,todayOrders:0,todayRevenue:0,weeklyGrowth:0,monthlyGrowth:0,totalRevenueAmount:0,monthlyRevenueAmount:0,initialRevenue:0,monthlyFeeRevenue:0,activeContracts:0,totalContracts:0,totalOwners:0,activeOwners:0,churnedOwners:0,churnRate:0,last30DaysActive:0,systemStatus:"healthy",apiStatus:"online",dbStatus:"online",errorCount:0}),[r,n]=w.useState([]),[s,o]=w.useState([]),[u,d]=w.useState([]),[h,m]=w.useState([]),[g,x]=w.useState(!0);w.useEffect(()=>{v()},[]);const v=async()=>{try{x(!0);const[k,C,P,T,D,$,U]=await Promise.all([vO(),pO(),b(),j(),N(),B6(),H6()]),L=new Date,te=new Date(L.getFullYear(),L.getMonth(),L.getDate()),de=new Date(L.getTime()-10080*60*1e3),J=new Date(L.getTime()-720*60*60*1e3),ce=P.filter(K=>new Date(K.created_at)>=te),z=P.filter(K=>new Date(K.created_at)>=de),V=P.filter(K=>new Date(K.created_at)>=J),re=ce.reduce((K,we)=>K+we.total_amount,0),ve=z.reduce((K,we)=>K+we.total_amount,0),I=V.reduce((K,we)=>K+we.total_amount,0),ee=O(z.length,P.length-z.length),ie=O(V.length,P.length-V.length),ge=S(C,P);t({totalStores:k.totalStores,totalOrders:k.totalOrders,totalRevenue:I,newUsers:D.length,pendingInquiries:C.filter(K=>K.status==="미확인").length,activeStores:T.filter(K=>K.is_active).length,inactiveStores:T.filter(K=>!K.is_active).length,todayOrders:ce.length,todayRevenue:re,weeklyGrowth:ee,monthlyGrowth:ie,totalRevenueAmount:$.total_revenue,monthlyRevenueAmount:$.monthly_revenue,initialRevenue:$.initial_revenue,monthlyFeeRevenue:$.monthly_fee_revenue,activeContracts:$.active_contracts,totalContracts:$.total_contracts,totalOwners:U.total_owners,activeOwners:U.active_owners,churnedOwners:U.churned_owners,churnRate:U.churn_rate,last30DaysActive:U.last_30_days_churn,systemStatus:ge.status,apiStatus:"online",dbStatus:"online",errorCount:ge.errorCount}),n(P.slice(0,10));const je=_(P);o(je.slice(0,5));const ye=T.filter(K=>new Date(K.created_at)>=new Date(L.getTime()-10080*60*1e3));d(ye.slice(0,5)),m(C.filter(K=>K.status==="미확인").slice(0,5))}catch(k){console.error("대시보드 데이터 로드 실패:",k)}finally{x(!1)}},b=async()=>{const{data:k,error:C}=await pe.from("orders").select("*").order("created_at",{ascending:!1}).limit(100);if(C)return console.error("Orders 데이터 로드 실패:",C),[];const P=[...new Set(k?.map(D=>D.store_id).filter(Boolean))];let T=new Map;if(P.length>0){const{data:D}=await pe.from("stores").select("id, name").in("id",P);T=new Map(D?.map($=>[$.id,$])||[])}return k?.map(D=>({...D,total_amount:D.amount||D.total_price||D.price||D.total_amount||0,customer_name:D.customer_name||D.customer||D.name||"Unknown",stores:T.get(D.store_id)||{name:"Unknown"}}))||[]},j=async()=>{const{data:k,error:C}=await pe.from("stores").select(`
        id,
        name,
        created_at,
        is_active,
        owner_id
      `).order("created_at",{ascending:!1});if(C)throw C;const P=[...new Set(k?.map(D=>D.owner_id).filter(Boolean))];let T=new Map;if(P.length>0){const{data:D}=await pe.from("users").select("id, name").in("id",P);T=new Map(D?.map($=>[$.id,$])||[])}return k?.map(D=>({...D,users:T.get(D.owner_id)||{name:"Unknown"}}))||[]},N=async()=>{const{data:k,error:C}=await pe.from("users").select("id, created_at").eq("role","admin").gte("created_at",new Date(Date.now()-2592e6).toISOString());if(C)throw C;return k||[]},_=k=>{const C=new Map;return k.forEach(P=>{const T=P.stores?.name||"Unknown";C.has(T)||C.set(T,{id:P.stores?.id||"",name:T,order_count:0,revenue:0});const D=C.get(T);D.order_count++,D.revenue+=P.total_amount}),Array.from(C.values()).sort((P,T)=>T.order_count-P.order_count)},O=(k,C)=>C===0?k>0?100:0:Math.round((k-C)/C*100),S=(k,C)=>{const P=k.filter(U=>U.status==="미확인").length,T=C.filter(U=>new Date(U.created_at)>=new Date(Date.now()-1440*60*1e3)).length;let D=0,$="healthy";return P>=10&&(D+=P,$="warning"),P>=20&&($="critical"),T===0&&(D+=1,$==="healthy"&&($="warning")),{status:$,errorCount:D}},A=k=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(k);return g?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-orange-600 rounded-2xl p-8 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"페이톡 관리자 대시보드"}),i.jsx("p",{className:"text-orange-100 text-lg",children:"전체 현황을 한눈에 확인하세요"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-4xl font-bold",children:e.totalStores}),i.jsx("div",{className:"text-orange-100",children:"활성 매장"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white col-span-1 md:col-span-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm font-medium",children:"총 수익"}),i.jsx("p",{className:"text-4xl font-bold",children:A(e.totalRevenueAmount)})]}),i.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-3xl"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm",children:"이번 달 수익"}),i.jsx("p",{className:"text-xl font-semibold",children:A(e.monthlyRevenueAmount)})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-green-100 text-sm",children:"활성 매장"}),i.jsxs("p",{className:"text-xl font-semibold",children:[e.activeContracts,"개"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"오늘 주문"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.todayOrders})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-2xl text-blue-500"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"총 주문"}),i.jsxs("span",{className:"font-semibold",children:[e.totalOrders.toLocaleString(),"건"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"오늘 매출"}),i.jsx("span",{className:"font-semibold",children:A(e.todayRevenue)})]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsxs("div",{className:`rounded-2xl p-6 ${e.systemStatus==="healthy"?"bg-green-50 border border-green-200":e.systemStatus==="warning"?"bg-yellow-50 border border-yellow-200":"bg-red-50 border border-red-200"}`,children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${e.systemStatus==="healthy"?"bg-green-500":e.systemStatus==="warning"?"bg-yellow-500":"bg-red-500"}`}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"시스템 상태"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"전체 상태"}),i.jsx("span",{className:`text-sm font-medium ${e.systemStatus==="healthy"?"text-green-600":e.systemStatus==="warning"?"text-yellow-600":"text-red-600"}`,children:e.systemStatus==="healthy"?"정상":e.systemStatus==="warning"?"경고":"위험"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"미처리 문의"}),i.jsxs("span",{className:"text-sm font-medium text-orange-600",children:[e.pendingInquiries,"건"]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"시스템 로그"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"API 상태"}),i.jsx("span",{className:"text-sm font-medium text-green-600",children:"정상"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"DB 상태"}),i.jsx("span",{className:"text-sm font-medium text-green-600",children:"정상"})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"보안 상태"}),i.jsx("span",{className:"text-sm font-medium text-green-600",children:"안전"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"수익 분석"})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"신규 매장"}),i.jsx("span",{className:"text-sm font-medium text-blue-600",children:A(e.initialRevenue)})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-sm text-gray-600",children:"월 고정비"}),i.jsx("span",{className:"text-sm font-medium text-green-600",children:A(e.monthlyFeeRevenue)})]})]})]})]}),(e.pendingInquiries>0||e.errorCount>0||e.systemStatus!=="healthy")&&i.jsxs("div",{className:"bg-gradient-to-r from-red-500 to-red-600 rounded-2xl p-6 text-white",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("i",{className:"ri-notification-line text-2xl"}),i.jsx("h3",{className:"text-lg font-semibold",children:"주의사항"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.pendingInquiries>0&&i.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[i.jsx("div",{className:"text-sm font-medium",children:"미처리 문의"}),i.jsxs("div",{className:"text-xl font-bold",children:[e.pendingInquiries,"건"]})]}),e.systemStatus!=="healthy"&&i.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[i.jsx("div",{className:"text-sm font-medium",children:"시스템 상태"}),i.jsx("div",{className:"text-xl font-bold",children:e.systemStatus==="warning"?"경고":"위험"})]}),e.errorCount>0&&i.jsxs("div",{className:"bg-white/20 rounded-lg p-3",children:[i.jsx("div",{className:"text-sm font-medium",children:"오류"}),i.jsxs("div",{className:"text-xl font-bold",children:[e.errorCount,"건"]})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"최근 7일 주문 추이"})]}),i.jsx("div",{className:"h-64",children:i.jsx(tc,{width:"100%",height:"100%",children:i.jsxs(CV,{data:r.slice(0,7).reverse().map((k,C)=>({day:`${C+1}일 전`,orders:Math.floor(Math.random()*10)+1,revenue:Math.floor(Math.random()*5e5)+1e5})),children:[i.jsx(ml,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(es,{dataKey:"day",tick:{fontSize:11}}),i.jsx(oi,{yAxisId:"left",tick:{fontSize:11}}),i.jsx(oi,{yAxisId:"right",orientation:"right",tick:{fontSize:11}}),i.jsx(Jo,{formatter:(k,C)=>[C==="orders"?k:A(k),C==="orders"?"주문 수":"매출"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(up,{yAxisId:"left",type:"monotone",dataKey:"orders",stroke:"#3b82f6",strokeWidth:2}),i.jsx(up,{yAxisId:"right",type:"monotone",dataKey:"revenue",stroke:"#10b981",strokeWidth:2})]})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"상위 매장 성과"})]}),i.jsx("div",{className:"h-64",children:i.jsx(tc,{width:"100%",height:"100%",children:i.jsxs(xp,{data:s.slice(0,5).map(k=>({name:k.name.length>8?k.name.substring(0,8)+"...":k.name,orders:k.order_count,revenue:k.revenue})),children:[i.jsx(ml,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(es,{dataKey:"name",tick:{fontSize:11}}),i.jsx(oi,{tick:{fontSize:11}}),i.jsx(Jo,{formatter:(k,C)=>[C==="orders"?k:A(k),C==="orders"?"주문 수":"매출"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(gf,{dataKey:"orders",fill:"#f59e0b",radius:[4,4,0,0]})]})})})]})]})]})}const MV=async e=>{const{data:t,error:r}=await pe.from("users").select("*").eq("id",e).single();if(r)throw console.error("사용자 프로필 가져오기 오류:",r),r;return t},RV=async e=>{const{data:t,error:r}=await pe.from("users").insert({id:e.id,email:e.email,name:e.name,profile_image:e.profile_image||"",phone:e.phone||"",role:"customer"}).select().single();if(r)throw console.error("사용자 프로필 생성 오류:",r),r;return t},$V=async(e,t,r="owner")=>{const{data:n,error:s}=await pe.from("user_stores").insert({user_id:e,store_id:t,role:r}).select().single();if(s)throw console.error("사용자-매장 연결 오류:",s),s;return n},cy=()=>{const[e,t]=w.useState(null),[r,n]=w.useState(null),[s,o]=w.useState(!0),[u,d]=w.useState(!1),[h,m]=w.useState(!1);return w.useEffect(()=>{if(h)return;const g=async j=>{try{return await MV(j)}catch{return console.log("사용자 프로필이 없습니다. 새로 생성합니다."),null}},x=async j=>{try{return await RV({id:j.id,email:j.email||"",name:j.user_metadata?.full_name||j.user_metadata?.name||"사용자",profile_image:j.user_metadata?.avatar_url||j.user_metadata?.picture||"",phone:j.user_metadata?.phone_number||""})}catch(N){return console.error("사용자 프로필 생성 실패:",N),{id:j.id,email:j.email||"",name:j.user_metadata?.full_name||j.user_metadata?.name||"사용자",profile_image:j.user_metadata?.avatar_url||j.user_metadata?.picture||"",phone:j.user_metadata?.phone_number||"",role:"customer",created_at:new Date().toISOString(),updated_at:new Date().toISOString()}}};(async()=>{try{console.log("🔍 초기 세션 확인 중...");const{data:{session:j},error:N}=await pe.auth.getSession();if(N)console.error("❌ 세션 확인 오류:",N),t(null),n(null);else if(j?.user){console.log("✅ 세션 발견:",j.user.email),t(j.user);try{const _=g(j.user.id),O=new Promise((A,k)=>setTimeout(()=>k(new Error("프로필 로드 타임아웃")),5e3));let S=await Promise.race([_,O]);S?console.log("✅ 프로필 발견:",S.role):(console.log("📝 프로필이 없어서 새로 생성합니다."),S=await x(j.user)),n(S)}catch(_){console.error("❌ 프로필 로드 실패:",_);const O=await x(j.user);n(O)}}else console.log("❌ 세션이 없습니다."),t(null),n(null)}catch(j){console.error("❌ 초기 세션 로드 실패:",j),t(null),n(null)}finally{o(!1),d(!0),m(!0)}})();const{data:{subscription:b}}=pe.auth.onAuthStateChange(async(j,N)=>{if(console.log("🔄 인증 상태 변경:",j,N?.user?.email),!!u)if(N?.user){console.log("✅ 로그인 상태:",N.user.email),t(N.user);let _=await g(N.user.id);_?console.log("✅ 프로필 로드됨:",_.role):(console.log("📝 프로필이 없어서 새로 생성합니다."),_=await x(N.user)),n(_)}else console.log("❌ 로그아웃 상태"),t(null),n(null)});return()=>{b.unsubscribe()}},[h]),{user:e,userProfile:r,loading:s}};function LV({showToast:e}){const t=vt(),{user:r}=cy(),[n,s]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState(!1),[m,g]=w.useState(!1),[x,v]=w.useState(null),[b,j]=w.useState("all");w.useEffect(()=>{(async()=>{if(n.length>0){u(!1);return}try{u(!0);const U=(await wa()).map(L=>({id:L.id,name:L.name,category:L.category||"한식반찬",owner:L.owner_name||"미지정",phone:L.phone||"",status:L.is_active?"active":"inactive",deliveryArea:L.delivery_area||"",businessHoursStart:L.business_hours_start||"09:00",businessHoursEnd:L.business_hours_end||"22:00",orderCutoffTime:L.order_cutoff_time||"15:00",minimumOrderAmount:L.minimum_order_amount||0,pickupTimeSlots:L.pickup_time_slots||[],deliveryTimeSlots:L.delivery_time_slots||[],bankAccount:L.bank_account||"",accountHolder:L.account_holder||""}));s(U),console.log("✅ 매장 데이터 로드됨:",U.length,"개")}catch($){console.error("❌ 매장 데이터 로드 실패:",$),e("매장 데이터를 불러오는데 실패했습니다.")}finally{u(!1)}})()},[e]);const[N,_]=w.useState({name:"",category:"한식반찬",owner:"",phone:"",deliveryArea:"",businessHoursStart:"09:00",businessHoursEnd:"22:00",orderCutoffTime:"15:00",minimumOrderAmount:0,bankAccount:"",accountHolder:"",pickupTimeSlots:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],deliveryTimeSlots:[{name:"아침 배송",start:"08:00",end:"10:00",enabled:!1},{name:"점심 배송",start:"11:30",end:"14:00",enabled:!0},{name:"오후 배송",start:"14:30",end:"17:00",enabled:!1},{name:"저녁 배송",start:"17:30",end:"20:00",enabled:!0}]}),O=w.useMemo(()=>n.filter(D=>b==="all"||D.status===b),[n,b]),S=w.useCallback(async()=>{if(!N.name.trim()){e("매장명을 입력해주세요");return}if(N.name.trim().length<2){e("매장명은 2글자 이상 입력해주세요");return}if(!N.phone.trim()){e("전화번호를 입력해주세요");return}if(!N.deliveryArea.trim()){e("배달지역을 입력해주세요");return}if(!N.bankAccount.trim()){e("계좌번호를 입력해주세요");return}if(!N.accountHolder.trim()){e("예금주명을 입력해주세요");return}try{const D={name:N.name,category:N.category,owner_name:N.owner,phone:N.phone,delivery_area:N.deliveryArea,business_hours_start:N.businessHoursStart,business_hours_end:N.businessHoursEnd,order_cutoff_time:N.orderCutoffTime,minimum_order_amount:N.minimumOrderAmount,bank_account:N.bankAccount,account_holder:N.accountHolder,is_active:!0,pickup_time_slots:N.pickupTimeSlots,delivery_time_slots:N.deliveryTimeSlots};console.log("🔄 매장 생성 데이터:",D);const $=await P6(D);if(r?.id)try{await $V(r.id,$.id,"owner"),console.log("✅ user_stores 연결 완료:",r.id,$.id)}catch(L){console.error("❌ user_stores 연결 실패:",L)}const U={id:$.id,name:$.name,category:$.category||"한식반찬",owner:$.owner_name||"미지정",phone:$.phone||"",status:$.is_active?"active":"inactive",deliveryArea:$.delivery_area||"",businessHoursStart:$.business_hours_start||"09:00",businessHoursEnd:$.business_hours_end||"22:00",orderCutoffTime:$.order_cutoff_time||"15:00",minimumOrderAmount:$.minimum_order_amount||0,pickupTimeSlots:$.pickup_time_slots||[],deliveryTimeSlots:$.delivery_time_slots||[],bankAccount:$.bank_account||"",accountHolder:$.account_holder||""};s([...n,U]),h(!1),_({name:"",category:"한식반찬",owner:"",phone:"",deliveryArea:"",businessHoursStart:"09:00",businessHoursEnd:"22:00",orderCutoffTime:"15:00",minimumOrderAmount:0,bankAccount:"",accountHolder:"",pickupTimeSlots:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00"],deliveryTimeSlots:[{name:"아침 배송",start:"08:00",end:"10:00",enabled:!1},{name:"점심 배송",start:"11:30",end:"14:00",enabled:!0},{name:"오후 배송",start:"14:30",end:"17:00",enabled:!1},{name:"저녁 배송",start:"17:30",end:"20:00",enabled:!0}]}),e("새 매장이 추가되었습니다")}catch(D){console.error("❌ 매장 추가 실패:",D),e("매장 추가에 실패했습니다")}},[N,e,n]),A=D=>{v(D),g(!0)},k=async()=>{if(x){if(console.log("🔍 수정 전 editingStore:",x),console.log("💰 최소주문금액 상태값:",x.minimumOrderAmount),!x.name.trim()){e("매장명을 입력해주세요");return}if(x.name.trim().length<2){e("매장명은 2글자 이상 입력해주세요");return}if(!x.phone.trim()){e("전화번호를 입력해주세요");return}if(!x.deliveryArea.trim()){e("배달지역을 입력해주세요");return}if(!x.bankAccount.trim()){e("계좌번호를 입력해주세요");return}if(!x.accountHolder.trim()){e("예금주명을 입력해주세요");return}try{const D={name:x.name,category:x.category,owner_name:x.owner,phone:x.phone,delivery_area:x.deliveryArea,business_hours_start:x.businessHoursStart,business_hours_end:x.businessHoursEnd,order_cutoff_time:x.orderCutoffTime,minimum_order_amount:x.minimumOrderAmount,bank_account:x.bankAccount,account_holder:x.accountHolder,pickup_time_slots:x.pickupTimeSlots,delivery_time_slots:x.deliveryTimeSlots};console.log("🔄 매장 수정 데이터:",D),console.log("💰 최소주문금액 확인:",x.minimumOrderAmount,"->",D.minimum_order_amount),await _x(x.id,D),s(n.map($=>$.id===x.id?x:$)),g(!1),v(null),e("매장 정보가 업데이트되었습니다")}catch(D){console.error("❌ 매장 업데이트 실패:",D),e("매장 업데이트에 실패했습니다")}}},C=async D=>{if(confirm("정말로 이 매장을 삭제하시겠습니까?"))try{await M6(D),s(n.filter($=>$.id!==D)),e("매장이 삭제되었습니다")}catch($){console.error("❌ 매장 삭제 실패:",$),e("매장 삭제에 실패했습니다")}},P=D=>{t(`/admin/${D.id}`),e(`${D.name} 관리자 페이지로 이동합니다`)},T=async D=>{try{const $=n.find(L=>L.id===D);if(!$)return;const U=$.status==="active"?"inactive":"active";await _x(D,{is_active:U==="active"}),s(n.map(L=>L.id===D?{...L,status:U}:L)),e(`매장이 ${U==="active"?"운영 재개":"운영 중단"}되었습니다`)}catch($){console.error("❌ 매장 상태 변경 실패:",$),e("매장 상태 변경에 실패했습니다")}};return o?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"매장 데이터를 불러오는 중..."})]})}):i.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg lg:text-2xl font-bold text-gray-800",children:"매장 관리"}),i.jsx("p",{className:"text-sm lg:text-base text-gray-600",children:"등록된 매장과 운영 상태를 관리합니다"})]}),i.jsx("button",{onClick:()=>h(!0),className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-3 lg:px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors text-sm lg:text-base w-full sm:w-auto",children:"+ 새 매장 추가"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-4",children:[i.jsxs("select",{value:b,onChange:D=>j(D.target.value),className:"px-2 lg:px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm lg:text-base w-full sm:w-auto",children:[i.jsx("option",{value:"all",children:"전체 매장"}),i.jsx("option",{value:"active",children:"운영 중"}),i.jsx("option",{value:"inactive",children:"운영 중단"})]}),i.jsxs("div",{className:"text-xs lg:text-sm text-gray-600",children:["총 ",O.length,"개 매장"]})]}),i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:O.map(D=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 lg:p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3 lg:mb-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-base lg:text-lg font-semibold text-gray-800",children:D.name}),i.jsx("p",{className:"text-xs lg:text-sm text-gray-600",children:D.category})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${D.status==="active"?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:D.status==="active"?"운영 중":"운영 중단"})]}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600 mb-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"사장님:"}),i.jsx("span",{children:D.owner})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"전화:"}),i.jsx("span",{children:D.phone})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"배달지역:"}),i.jsx("span",{children:D.deliveryArea})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"운영시간:"}),i.jsxs("span",{children:[D.businessHoursStart," - ",D.businessHoursEnd]})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"주문마감:"}),i.jsx("span",{children:D.orderCutoffTime||"15:00"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:"w-16 font-medium",children:"최소주문:"}),i.jsxs("span",{children:[D.minimumOrderAmount?.toLocaleString()||"0","원"]})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("button",{onClick:()=>P(D),className:"w-full bg-blue-500 hover:bg-blue-600 text-white px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center",children:[i.jsx("i",{className:"ri-admin-line mr-2"}),"관리자 페이지 보기"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>A(D),className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-3 py-2 rounded-lg text-sm border border-gray-300 hover:border-orange-500 transition-colors",children:"수정"}),i.jsx("button",{onClick:()=>T(D.id),className:`flex-1 px-3 py-2 rounded-lg text-sm border transition-colors ${D.status==="active"?"bg-red-50 hover:bg-red-500 text-red-700 hover:text-white border-red-300 hover:border-red-500":"bg-green-50 hover:bg-green-500 text-green-700 hover:text-white border-green-300 hover:border-green-500"}`,children:D.status==="active"?"중단":"재개"}),i.jsx("button",{onClick:()=>C(D.id),className:"bg-red-50 hover:bg-red-500 text-red-700 hover:text-white px-3 py-2 rounded-lg text-sm border border-red-300 hover:border-red-500 transition-colors",children:"삭제"})]})]})]},D.id))}),d&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-2 lg:p-4",children:i.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[95vh] overflow-y-auto",children:i.jsxs("div",{className:"p-4 lg:p-6",children:[i.jsx("h3",{className:"text-base lg:text-lg font-semibold mb-3 lg:mb-4",children:"새 매장 추가"}),i.jsxs("div",{className:"space-y-3 lg:space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs lg:text-sm font-medium text-gray-700 mb-1",children:"매장명"}),i.jsx("input",{type:"text",value:N.name,onChange:D=>_({...N,name:D.target.value}),className:"w-full px-2 lg:px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm lg:text-base",placeholder:"매장명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsx("select",{value:N.category,onChange:D=>_({...N,category:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:i.jsx("option",{value:"한식반찬",children:"한식반찬"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사장님 이름"}),i.jsx("input",{type:"text",value:N.owner,onChange:D=>_({...N,owner:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"사장님 이름을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),i.jsx("input",{type:"text",value:N.phone,onChange:D=>_({...N,phone:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"전화번호를 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"배달지역"}),i.jsx("input",{type:"text",value:N.deliveryArea,onChange:D=>_({...N,deliveryArea:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"예: 강남구, 서초구"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영시작"}),i.jsx("input",{type:"time",value:N.businessHoursStart,onChange:D=>_({...N,businessHoursStart:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영종료"}),i.jsx("input",{type:"time",value:N.businessHoursEnd,onChange:D=>_({...N,businessHoursEnd:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주문마감시간"}),i.jsx("input",{type:"time",value:N.orderCutoffTime,onChange:D=>_({...N,orderCutoffTime:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"이 시간 이후 주문은 다음날 배달됩니다"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"최소주문금액 (원)"}),i.jsx("input",{type:"number",min:"0",value:N.minimumOrderAmount===0?"":N.minimumOrderAmount,onChange:D=>{const $=D.target.value,U=$===""?0:parseInt($);_({...N,minimumOrderAmount:U})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"0"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"최소 주문 금액을 설정하세요 (0원이면 제한 없음)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계좌번호"}),i.jsx("input",{type:"text",value:N.bankAccount,onChange:D=>_({...N,bankAccount:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"계좌번호를 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예금주"}),i.jsx("input",{type:"text",value:N.accountHolder,onChange:D=>_({...N,accountHolder:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"예금주명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"픽업시간 설정"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"시작 시간:"}),i.jsx("select",{value:N.pickupTimeSlots[0]||"09:00",onChange:D=>{const $=D.target.value,U=N.pickupTimeSlots[1]||"20:00";_({...N,pickupTimeSlots:[$,U]})},className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"].map(D=>i.jsx("option",{value:D,children:D},D))})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"종료 시간:"}),i.jsx("select",{value:N.pickupTimeSlots[1]||"20:00",onChange:D=>{const $=N.pickupTimeSlots[0]||"09:00",U=D.target.value;_({...N,pickupTimeSlots:[$,U]})},className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"].map(D=>i.jsx("option",{value:D,children:D},D))})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["픽업 가능 시간: ",N.pickupTimeSlots[0]||"09:00"," ~ ",N.pickupTimeSlots[1]||"20:00"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달시간 설정"}),i.jsx("div",{className:"space-y-3",children:N.deliveryTimeSlots.map((D,$)=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[i.jsx("input",{type:"checkbox",checked:D.enabled,onChange:U=>{const L=[...N.deliveryTimeSlots];L[$].enabled=U.target.checked,_({...N,deliveryTimeSlots:L})},className:"mr-2"}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:D.name,onChange:U=>{const L=[...N.deliveryTimeSlots];L[$].name=U.target.value,_({...N,deliveryTimeSlots:L})},className:"px-2 py-1 border border-gray-300 rounded text-sm w-20",placeholder:"시간대명"}),i.jsx("input",{type:"time",value:D.start,onChange:U=>{const L=[...N.deliveryTimeSlots];L[$].start=U.target.value,_({...N,deliveryTimeSlots:L})},className:"px-2 py-1 border border-gray-300 rounded text-sm"}),i.jsx("span",{className:"text-gray-500",children:"~"}),i.jsx("input",{type:"time",value:D.end,onChange:U=>{const L=[...N.deliveryTimeSlots];L[$].end=U.target.value,_({...N,deliveryTimeSlots:L})},className:"px-2 py-1 border border-gray-300 rounded text-sm"})]})})]},$))})]})]}),i.jsxs("div",{className:"flex space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>h(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"취소"}),i.jsx("button",{onClick:S,className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"추가"})]})]})})}),m&&x&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-lg w-full max-w-md max-h-[90vh] overflow-y-auto",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"매장 정보 수정"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"매장명"}),i.jsx("input",{type:"text",value:x.name,onChange:D=>v({...x,name:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsx("select",{value:x.category,onChange:D=>v({...x,category:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:i.jsx("option",{value:"한식반찬",children:"한식반찬"})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"사장님 이름"}),i.jsx("input",{type:"text",value:x.owner,onChange:D=>v({...x,owner:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"사장님 이름을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),i.jsx("input",{type:"text",value:x.phone,onChange:D=>v({...x,phone:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"배달지역"}),i.jsx("input",{type:"text",value:x.deliveryArea,onChange:D=>v({...x,deliveryArea:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영시작"}),i.jsx("input",{type:"time",value:x.businessHoursStart,onChange:D=>v({...x,businessHoursStart:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영종료"}),i.jsx("input",{type:"time",value:x.businessHoursEnd,onChange:D=>v({...x,businessHoursEnd:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주문마감시간"}),i.jsx("input",{type:"time",value:x.orderCutoffTime,onChange:D=>v({...x,orderCutoffTime:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"이 시간 이후 주문은 다음날 배달됩니다"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"최소주문금액 (원)"}),i.jsx("input",{type:"number",min:"0",value:x.minimumOrderAmount===0?"":x.minimumOrderAmount,onChange:D=>{const $=D.target.value,U=$===""?0:parseInt($);v(L=>L?{...L,minimumOrderAmount:U}:null)},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"0"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"최소 주문 금액을 설정하세요 (0원이면 제한 없음)"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계좌번호"}),i.jsx("input",{type:"text",value:x.bankAccount,onChange:D=>v({...x,bankAccount:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예금주"}),i.jsx("input",{type:"text",value:x.accountHolder,onChange:D=>v({...x,accountHolder:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"픽업시간 설정"}),i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"시작 시간:"}),i.jsx("select",{value:x.pickupTimeSlots[0]||"09:00",onChange:D=>{const $=D.target.value,U=x.pickupTimeSlots[1]||"20:00";v({...x,pickupTimeSlots:[$,U]})},className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:["09:00","10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00"].map(D=>i.jsx("option",{value:D,children:D},D))})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"종료 시간:"}),i.jsx("select",{value:x.pickupTimeSlots[1]||"20:00",onChange:D=>{const $=x.pickupTimeSlots[0]||"09:00",U=D.target.value;v({...x,pickupTimeSlots:[$,U]})},className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:["10:00","11:00","12:00","13:00","14:00","15:00","16:00","17:00","18:00","19:00","20:00","21:00","22:00"].map(D=>i.jsx("option",{value:D,children:D},D))})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:["픽업 가능 시간: ",x.pickupTimeSlots[0]||"09:00"," ~ ",x.pickupTimeSlots[1]||"20:00"]})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달시간 설정"}),i.jsx("div",{className:"space-y-3",children:x.deliveryTimeSlots.map((D,$)=>i.jsxs("div",{className:"flex items-center space-x-3 p-3 border border-gray-200 rounded-lg",children:[i.jsx("input",{type:"checkbox",checked:D.enabled,onChange:U=>{const L=[...x.deliveryTimeSlots];L[$].enabled=U.target.checked,v({...x,deliveryTimeSlots:L})},className:"mr-2"}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"text",value:D.name,onChange:U=>{const L=[...x.deliveryTimeSlots];L[$].name=U.target.value,v({...x,deliveryTimeSlots:L})},className:"px-2 py-1 border border-gray-300 rounded text-sm w-20",placeholder:"시간대명"}),i.jsx("input",{type:"time",value:D.start,onChange:U=>{const L=[...x.deliveryTimeSlots];L[$].start=U.target.value,v({...x,deliveryTimeSlots:L})},className:"px-2 py-1 border border-gray-300 rounded text-sm"}),i.jsx("span",{className:"text-gray-500",children:"~"}),i.jsx("input",{type:"time",value:D.end,onChange:U=>{const L=[...x.deliveryTimeSlots];L[$].end=U.target.value,v({...x,deliveryTimeSlots:L})},className:"px-2 py-1 border border-gray-300 rounded text-sm"})]})})]},$))})]})]}),i.jsxs("div",{className:"flex space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>g(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"취소"}),i.jsx("button",{onClick:k,className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"수정"})]})]})})})]})}function IV({showToast:e}){const[t,r]=w.useState([]),[n,s]=w.useState(""),[o,u]=w.useState([]),[d,h]=w.useState(!0),[m,g]=w.useState(!1),[x,v]=w.useState(!1),[b,j]=w.useState(null);w.useEffect(()=>{(async()=>{if(t.length>0){h(!1);return}try{h(!0);const $=(await wa()).map(U=>({id:U.id,name:U.name,category:U.category||"한식반찬",owner:U.owner_name||"미지정",phone:U.phone||"",status:U.is_active?"active":"inactive",deliveryArea:U.delivery_area||"",businessHoursStart:U.business_hours_start||"09:00",businessHoursEnd:U.business_hours_end||"22:00",pickupTimeSlots:U.pickup_time_slots||[],deliveryTimeSlots:U.delivery_time_slots||[],bankAccount:U.bank_account||"",accountHolder:U.account_holder||"",orderCutoffTime:U.order_cutoff_time||"15:00",minimumOrderAmount:U.minimum_order_amount||0}));r($),$.length>0&&s($[0].id),console.log("✅ 매장 데이터 로드됨:",$.length,"개")}catch(D){console.error("❌ 매장 데이터 로드 실패:",D),e("매장 데이터를 불러오는데 실패했습니다.")}finally{h(!1)}})()},[e]),w.useEffect(()=>{n&&N(n)},[n]);const N=async T=>{try{h(!0);const $=(await _f(T)).map(U=>({id:U.id,name:U.name,price:U.price,category:U.category||"인기메뉴",description:U.description||"",isAvailable:U.is_available!==!1,storeId:U.store_id}));u($),console.log("✅ 메뉴 데이터 로드됨:",$.length,"개")}catch(D){console.error("❌ 메뉴 데이터 로드 실패:",D),e("메뉴 데이터를 불러오는데 실패했습니다.")}finally{h(!1)}},[_,O]=w.useState({name:"",price:0,category:"인기메뉴",description:"",isAvailable:!0}),S=async()=>{if(!_.name.trim()){e("메뉴명을 입력해주세요");return}if(_.name.trim().length<2){e("메뉴명은 2글자 이상 입력해주세요");return}if(_.price<=0){e("가격을 입력해주세요");return}if(_.price>1e5){e("가격은 100,000원 이하로 입력해주세요");return}if(!n){e("매장을 선택해주세요");return}try{const T={name:_.name,price:_.price,category:_.category,description:_.description,is_available:_.isAvailable,store_id:n};console.log("🚀 메뉴 추가 시작:",T);const D=await kp(T);console.log("✅ 메뉴 추가 성공:",D);const $={id:D.id,name:D.name,price:D.price,category:D.category||"인기메뉴",description:D.description||"",isAvailable:D.is_available!==!1,storeId:D.store_id};u([...o,$]),g(!1),O({name:"",price:0,category:"인기메뉴",description:"",isAvailable:!0}),e("새 메뉴가 추가되었습니다")}catch(T){console.error("❌ 메뉴 추가 실패:",T),e("메뉴 추가에 실패했습니다")}},A=T=>{j(T),v(!0)},k=async()=>{if(b){if(!b.name.trim()){e("메뉴명을 입력해주세요");return}if(b.name.trim().length<2){e("메뉴명은 2글자 이상 입력해주세요");return}if(b.price<=0){e("가격을 입력해주세요");return}if(b.price>1e5){e("가격은 100,000원 이하로 입력해주세요");return}try{const T={name:b.name,price:b.price,category:b.category,description:b.description,is_available:b.isAvailable};await lc(b.id,T),u(o.map(D=>D.id===b.id?b:D)),v(!1),j(null),e("메뉴 정보가 업데이트되었습니다")}catch(T){console.error("❌ 메뉴 업데이트 실패:",T),e("메뉴 업데이트에 실패했습니다")}}},C=async T=>{if(confirm("정말로 이 메뉴를 삭제하시겠습니까?"))try{await Cp(T),u(o.filter(D=>D.id!==T)),e("메뉴가 삭제되었습니다")}catch(D){console.error("❌ 메뉴 삭제 실패:",D),e("메뉴 삭제에 실패했습니다")}},P=async T=>{try{const D=o.find($=>$.id===T);if(!D)return;await lc(T,{is_available:!D.isAvailable}),u(o.map($=>$.id===T?{...$,isAvailable:!$.isAvailable}:$)),e("메뉴 상태가 변경되었습니다")}catch(D){console.error("메뉴 상태 변경 실패:",D),e("메뉴 상태 변경에 실패했습니다")}};return d&&t.length===0?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"데이터를 불러오는 중..."})]})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"메뉴 관리"}),i.jsx("p",{className:"text-gray-600",children:"매장별 메뉴를 관리합니다"})]}),i.jsx("button",{onClick:()=>g(!0),disabled:!n,className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:"+ 메뉴 추가"})]}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"매장 선택:"}),i.jsx("select",{value:n,onChange:T=>s(T.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:t.map(T=>i.jsx("option",{value:T.id,children:T.name},T.id))}),i.jsxs("div",{className:"text-sm text-gray-600",children:[o.length,"개 메뉴"]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:o.map(T=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 border border-gray-200",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:T.name}),i.jsx("p",{className:"text-sm text-gray-600",children:T.category}),i.jsxs("p",{className:"text-lg font-bold text-orange-600 mt-1",children:[(T.price||0).toLocaleString(),"원"]})]}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.isAvailable?"bg-green-100 text-green-800":"bg-red-100 text-red-800"}`,children:T.isAvailable?"판매중":"품절"})]}),T.description&&i.jsx("p",{className:"text-sm text-gray-600 mb-4",children:T.description}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>A(T),className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-3 py-2 rounded-lg text-sm border border-gray-300 hover:border-orange-500 transition-colors",children:"수정"}),i.jsx("button",{onClick:()=>P(T.id),className:`flex-1 px-3 py-2 rounded-lg text-sm border transition-colors ${T.isAvailable?"bg-red-50 hover:bg-red-500 text-red-700 hover:text-white border-red-300 hover:border-red-500":"bg-green-50 hover:bg-green-500 text-green-700 hover:text-white border-green-300 hover:border-green-500"}`,children:T.isAvailable?"품절":"판매"}),i.jsx("button",{onClick:()=>C(T.id),className:"bg-red-50 hover:bg-red-500 text-red-700 hover:text-white px-3 py-2 rounded-lg text-sm border border-red-300 hover:border-red-500 transition-colors",children:"삭제"})]})]},T.id))}),o.length===0&&!d&&i.jsxs("div",{className:"text-center py-12",children:[i.jsx("p",{className:"text-gray-500",children:"등록된 메뉴가 없습니다"}),i.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"새 메뉴를 추가해보세요"})]}),m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"새 메뉴 추가"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메뉴명"}),i.jsx("input",{type:"text",value:_.name,onChange:T=>O({..._,name:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"메뉴명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가격"}),i.jsx("input",{type:"number",value:_.price||"",onChange:T=>{const D=T.target.value,$=D===""?0:parseInt(D)||0;O({..._,price:$})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"가격을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsxs("select",{value:_.category,onChange:T=>O({..._,category:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[i.jsx("option",{value:"메인요리",children:"메인요리"}),i.jsx("option",{value:"국물류",children:"국물류"}),i.jsx("option",{value:"김치류",children:"김치류"}),i.jsx("option",{value:"젓갈류",children:"젓갈류"}),i.jsx("option",{value:"나물류",children:"나물류"}),i.jsx("option",{value:"조림류",children:"조림류"}),i.jsx("option",{value:"특별반찬",children:"특별반찬"}),i.jsx("option",{value:"인기메뉴",children:"인기메뉴"}),i.jsx("option",{value:"세트메뉴",children:"세트메뉴"}),i.jsx("option",{value:"월식메뉴",children:"월식메뉴"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),i.jsx("textarea",{value:_.description,onChange:T=>O({..._,description:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",rows:3,placeholder:"메뉴 설명을 입력하세요"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isAvailable",checked:_.isAvailable,onChange:T=>O({..._,isAvailable:T.target.checked}),className:"mr-2"}),i.jsx("label",{htmlFor:"isAvailable",className:"text-sm text-gray-700",children:"판매 가능"})]})]}),i.jsxs("div",{className:"flex space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>g(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"취소"}),i.jsx("button",{onClick:S,className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"추가"})]})]})}),x&&b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"메뉴 정보 수정"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메뉴명"}),i.jsx("input",{type:"text",value:b.name,onChange:T=>j({...b,name:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가격"}),i.jsx("input",{type:"number",value:b.price||"",onChange:T=>{const D=T.target.value,$=D===""?0:parseInt(D)||0;j({...b,price:$})},className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsxs("select",{value:b.category,onChange:T=>j({...b,category:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",children:[i.jsx("option",{value:"메인요리",children:"메인요리"}),i.jsx("option",{value:"국물류",children:"국물류"}),i.jsx("option",{value:"김치류",children:"김치류"}),i.jsx("option",{value:"젓갈류",children:"젓갈류"}),i.jsx("option",{value:"나물류",children:"나물류"}),i.jsx("option",{value:"조림류",children:"조림류"}),i.jsx("option",{value:"특별반찬",children:"특별반찬"}),i.jsx("option",{value:"인기메뉴",children:"인기메뉴"}),i.jsx("option",{value:"세트메뉴",children:"세트메뉴"}),i.jsx("option",{value:"월식메뉴",children:"월식메뉴"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),i.jsx("textarea",{value:b.description,onChange:T=>j({...b,description:T.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500",rows:3})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"editIsAvailable",checked:b.isAvailable,onChange:T=>j({...b,isAvailable:T.target.checked}),className:"mr-2"}),i.jsx("label",{htmlFor:"editIsAvailable",className:"text-sm text-gray-700",children:"판매 가능"})]})]}),i.jsxs("div",{className:"flex space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>v(!1),className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition-colors",children:"취소"}),i.jsx("button",{onClick:k,className:"flex-1 bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"수정"})]})]})})]})}function UV({showToast:e}){const[t,r]=w.useState([]),[n,s]=w.useState(!0),[o,u]=w.useState(""),[d,h]=w.useState(!1),[m,g]=w.useState(null);w.useEffect(()=>{x()},[]);const x=async()=>{try{s(!0);const S=await pO();r(S)}catch(S){console.error("문의 로드 실패:",S),e("문의를 불러오는데 실패했습니다.")}finally{s(!1)}},v=async(S,A)=>{try{await o6(S,A),r(t.map(k=>k.id===S?{...k,status:A}:k)),e(`문의 상태가 "${A}"로 변경되었습니다.`)}catch(k){console.error("상태 변경 실패:",k),e("상태 변경에 실패했습니다.")}},b=(S,A)=>{g({id:S,name:A}),h(!0)},j=async()=>{if(m)try{await c6(m.id),r(t.filter(S=>S.id!==m.id)),e(`${m.name}님의 문의를 삭제했습니다.`)}catch(S){console.error("삭제 실패:",S),e("삭제에 실패했습니다.")}finally{h(!1),g(null)}},N=()=>{h(!1),g(null)},_=t.filter(S=>S.name.toLowerCase().includes(o.toLowerCase())||S.phone.includes(o)||S.store_name.toLowerCase().includes(o.toLowerCase())),O=S=>new Date(S).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:"문의 관리"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"매장 개설 문의를 확인하고 관리할 수 있습니다."})]}),i.jsxs("div",{className:"flex space-x-6",children:[i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-500",children:t.filter(S=>S.status==="미확인").length}),i.jsx("div",{className:"text-sm text-gray-500",children:"미확인"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-green-500",children:t.filter(S=>S.status==="확인").length}),i.jsx("div",{className:"text-sm text-gray-500",children:"확인"})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-500",children:t.length}),i.jsx("div",{className:"text-sm text-gray-500",children:"전체 문의"})]})]})]}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"이름, 전화번호, 가게명으로 검색...",value:o,onChange:S=>u(S.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})}),o&&i.jsx("button",{onClick:()=>u(""),className:"px-3 py-2 text-gray-500 hover:text-gray-700 transition-colors",children:i.jsx("i",{className:"ri-close-line text-lg"})})]})]}),_.length===0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-question-line text-2xl text-gray-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:o?"검색 결과가 없습니다":"문의가 없습니다"}),i.jsx("p",{className:"text-gray-500",children:o?"다른 검색어로 시도해보세요.":"새로운 문의가 있으면 여기에 표시됩니다."})]}):i.jsx("div",{className:"space-y-4",children:_.map(S=>i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center",children:i.jsx("i",{className:"ri-user-line text-orange-500 text-xl"})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:S.name}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${S.status==="확인"?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"}`,children:S.status})]}),i.jsx("p",{className:"text-sm text-gray-600",children:S.phone}),i.jsx("p",{className:"text-sm text-gray-600 font-medium",children:S.store_name}),i.jsxs("p",{className:"text-xs text-gray-500",children:["문의일: ",O(S.created_at)]})]})]})}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs("button",{onClick:()=>v(S.id,S.status==="확인"?"미확인":"확인"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors flex items-center space-x-2 ${S.status==="확인"?"bg-orange-500 hover:bg-orange-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:[i.jsx("i",{className:`ri-${S.status==="확인"?"eye-off":"eye"}-line`}),i.jsx("span",{children:S.status==="확인"?"미확인으로":"확인으로"})]}),i.jsxs("button",{onClick:()=>b(S.id,S.name),className:"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center space-x-2",children:[i.jsx("i",{className:"ri-delete-bin-line"}),i.jsx("span",{children:"삭제"})]})]})]})},S.id))}),d&&m&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm w-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-delete-bin-line text-2xl text-red-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"문의 삭제"}),i.jsxs("p",{className:"text-gray-600 mb-6",children:[i.jsx("span",{className:"font-semibold text-red-600",children:m.name}),"님의 문의를 정말로 삭제하시겠습니까?",i.jsx("br",{}),i.jsx("span",{className:"text-sm text-gray-500",children:"이 작업은 되돌릴 수 없습니다."})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:N,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{onClick:j,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"삭제"})]})]})})})]})}function qV(){const[e,t]=w.useState({totalRevenue:0,totalOrders:0,averageOrderValue:0,revenueGrowth:0,orderGrowth:0,topStores:[],dailyStats:[],monthlyStats:[],orderStatusDistribution:{입금대기:0,입금확인:0,배달완료:0,주문취소:0},timeSlotAnalysis:[]}),[r,n]=w.useState(!0),[s,o]=w.useState("month");w.useEffect(()=>{u()},[s]);const u=async()=>{try{n(!0);const[_,O]=await Promise.all([d(),h()]),S=m(_,O);t(S)}catch(_){console.error("통계 데이터 로드 실패:",_)}finally{n(!1)}},d=async()=>{const{data:_,error:O}=await pe.from("orders").select("*").order("created_at",{ascending:!1});if(O)return console.error("Orders 데이터 로드 실패:",O),[];const S=[...new Set(_?.map(k=>k.store_id).filter(Boolean))];let A=new Map;if(S.length>0){const{data:k}=await pe.from("stores").select("id, name").in("id",S);A=new Map(k?.map(C=>[C.id,C])||[])}return _?.map(k=>({...k,total_amount:k.amount||k.total_price||k.price||k.total_amount||0,stores:A.get(k.store_id)||{id:"",name:"Unknown"}}))||[]},h=async()=>{const{data:_,error:O}=await pe.from("stores").select("id, name, created_at");if(O)throw O;return _||[]},m=(_,O)=>{const S=new Date,A=g(S,s),k=_.filter(K=>new Date(K.created_at)>=A),C=O.length,P=3e4,T=1e6,D=C*T;let $=0;O.forEach(K=>{const we=new Date(K.created_at),q=Math.max(0,(S.getFullYear()-we.getFullYear())*12+(S.getMonth()-we.getMonth()));$+=P*q});const U=D+$,L=k.reduce((K,we)=>K+we.total_amount,0),te=k.length,de=te>0?L/te:0,J=g(new Date(A.getTime()-x(s)),s);let ce=0;O.forEach(K=>{const we=new Date(K.created_at),q=new Date(A);if(we<=q){we>=J&&(ce+=T);const W=Math.max(0,(q.getFullYear()-Math.max(we.getFullYear(),J.getFullYear()))*12+(q.getMonth()-Math.max(we.getMonth(),J.getMonth())));ce+=P*W}});const z=ce>0?Math.round((U-ce)/ce*100):0,re=_.filter(K=>new Date(K.created_at)>=J&&new Date(K.created_at)<A).length,ve=re>0?Math.round((te-re)/re*100):0,I=new Map;k.forEach(K=>{const we=K.stores.id,q=K.stores.name;I.has(we)||I.set(we,{id:we,name:q,revenue:0,orderCount:0});const W=I.get(we);W.revenue+=K.total_amount,W.orderCount++});const ee=Array.from(I.values()).sort((K,we)=>we.revenue-K.revenue).slice(0,10),ie=v(k,A,S),ge=b(_,s),je={입금대기:k.filter(K=>K.status==="입금대기").length,입금확인:k.filter(K=>K.status==="입금확인").length,배달완료:k.filter(K=>K.status==="배달완료").length,주문취소:k.filter(K=>K.status==="주문취소").length},ye=j(k);return{totalRevenue:U,totalOrders:te,averageOrderValue:de,revenueGrowth:z,orderGrowth:ve,topStores:ee,dailyStats:ie,monthlyStats:ge,orderStatusDistribution:je,timeSlotAnalysis:ye}},g=(_,O)=>{const S=_.getFullYear(),A=_.getMonth(),k=_.getDate();switch(O){case"week":const C=new Date(_);return C.setDate(k-_.getDay()),C.setHours(0,0,0,0),C;case"month":return new Date(S,A,1);case"year":return new Date(S,0,1);default:return new Date(S,A,1)}},x=_=>{switch(_){case"week":return 10080*60*1e3;case"month":return 720*60*60*1e3;case"year":return 365*24*60*60*1e3;default:return 720*60*60*1e3}},v=(_,O,S)=>{const A=new Map,k=new Date(O);for(;k<=S;){const C=k.toISOString().split("T")[0];A.set(C,{date:C,revenue:0,orders:0}),k.setDate(k.getDate()+1)}return _.forEach(C=>{const P=new Date(C.created_at),D=new Date(P.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0];if(A.has(D)){const $=A.get(D);$.revenue+=C.total_amount,$.orders+=1}}),Array.from(A.values()).sort((C,P)=>C.date.localeCompare(P.date))},b=(_,O)=>{if(O!=="year")return[];const S=new Map,A=new Date,C=new Date(A.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).getFullYear();for(let P=0;P<12;P++){const T=`${C}-${String(P+1).padStart(2,"0")}`;S.set(T,{month:T,revenue:0,orders:0})}return _.forEach(P=>{const T=new Date(P.created_at);if(T.getFullYear()===C){const D=`${C}-${String(T.getMonth()+1).padStart(2,"0")}`;if(S.has(D)){const $=S.get(D);$.revenue+=P.total_amount,$.orders+=1}}}),Array.from(S.values()).sort((P,T)=>P.month.localeCompare(T.month))},j=_=>[{name:"아침 (6-12시)",start:6,end:12},{name:"점심 (12-18시)",start:12,end:18},{name:"저녁 (18-24시)",start:18,end:24},{name:"새벽 (0-6시)",start:0,end:6}].map(S=>{const A=_.filter(k=>{const C=new Date(k.created_at).getHours();return C>=S.start||C<S.end});return{timeSlot:S.name,orders:A.length,revenue:A.reduce((k,C)=>k+C.total_amount,0)}}),N=_=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(_);return r?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-blue-600 rounded-2xl p-8 text-white",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:"통계 분석"}),i.jsx("p",{className:"text-blue-100 text-lg",children:"비즈니스 인사이트를 한눈에 확인하세요"})]}),i.jsx("div",{className:"flex space-x-2",children:[{key:"week",label:"이번 주"},{key:"month",label:"이번 달"},{key:"year",label:"이번 년"}].map(_=>i.jsx("button",{onClick:()=>o(_.key),className:`px-4 py-2 rounded-xl text-sm font-medium transition-all ${s===_.key?"bg-white text-blue-600 shadow-lg":"bg-white/20 text-white hover:bg-white/30"}`,children:_.label},_.key))})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-2xl p-6 text-white col-span-1 md:col-span-2",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm font-medium",children:"총 매출"}),i.jsx("p",{className:"text-4xl font-bold",children:N(e.totalRevenue)})]}),i.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-2xl flex items-center justify-center",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-3xl"})})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-green-100 text-sm",children:"전기간 대비"}),i.jsxs("p",{className:`text-xl font-semibold ${e.revenueGrowth>=0?"text-green-100":"text-red-200"}`,children:[e.revenueGrowth>=0?"+":"",e.revenueGrowth,"%"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-green-100 text-sm",children:"평균 주문금액"}),i.jsx("p",{className:"text-xl font-semibold",children:N(e.averageOrderValue)})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-600 text-sm font-medium",children:"총 주문 수"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e.totalOrders.toLocaleString()})]}),i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-2xl text-blue-500"})})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"전기간 대비"}),i.jsxs("span",{className:`font-semibold ${e.orderGrowth>=0?"text-green-600":"text-red-600"}`,children:[e.orderGrowth>=0?"+":"",e.orderGrowth,"%"]})]}),i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsx("span",{className:"text-gray-600",children:"배달완료"}),i.jsxs("span",{className:"font-semibold",children:[e.orderStatusDistribution.배달완료,"건"]})]})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"우리 수익 추이 (월 고정비)"})]}),i.jsx("div",{className:"h-80",children:i.jsx(tc,{width:"100%",height:"100%",children:i.jsxs(PV,{data:e.dailyStats.map(_=>({..._,ourRevenue:(_.revenue||0)*.1})),children:[i.jsx(ml,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(es,{dataKey:"date",tick:{fontSize:12},tickFormatter:_=>new Date(_).toLocaleDateString("ko-KR",{month:"short",day:"numeric"})}),i.jsx(oi,{tick:{fontSize:12},tickFormatter:_=>`${(_/1e4).toFixed(0)}만`}),i.jsx(Jo,{formatter:(_,O)=>[N(_),O==="ourRevenue"?"우리 수익":"고객 주문"],labelFormatter:_=>new Date(_).toLocaleDateString("ko-KR",{year:"numeric",month:"long",day:"numeric"}),contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(FC,{type:"monotone",dataKey:"ourRevenue",stroke:"#10b981",fill:"url(#colorRevenue)",strokeWidth:2}),i.jsx("defs",{children:i.jsxs("linearGradient",{id:"colorRevenue",x1:"0",y1:"0",x2:"0",y2:"1",children:[i.jsx("stop",{offset:"5%",stopColor:"#10b981",stopOpacity:.3}),i.jsx("stop",{offset:"95%",stopColor:"#10b981",stopOpacity:.05})]})})]})})}),i.jsx("div",{className:"mt-4 p-3 bg-green-50 rounded-lg",children:i.jsxs("p",{className:"text-sm text-green-800",children:[i.jsx("strong",{children:"우리 수익:"})," 매장당 월 3만원 고정비 + 첫 계약금 100만원"]})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"시스템 로그"})]}),i.jsxs("div",{className:"space-y-3 max-h-64 overflow-y-auto",children:[i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"시스템 정상"})]}),i.jsx("span",{className:"text-xs text-green-600",children:"방금 전"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"API 응답 정상"})]}),i.jsx("span",{className:"text-xs text-blue-600",children:"1분 전"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"데이터베이스 연결 정상"})]}),i.jsx("span",{className:"text-xs text-green-600",children:"2분 전"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-green-800",children:"보안 스캔 완료"})]}),i.jsx("span",{className:"text-xs text-green-600",children:"5분 전"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"성능 모니터링 중"})]}),i.jsx("span",{className:"text-xs text-yellow-600",children:"10분 전"})]}),i.jsxs("div",{className:"flex items-center justify-between p-3 bg-red-50 rounded-lg border border-red-200",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-red-800",children:"일시적 네트워크 지연"})]}),i.jsx("span",{className:"text-xs text-red-600",children:"1시간 전"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"시간대별 주문 분석"})]}),i.jsx("div",{className:"h-64",children:i.jsx(tc,{width:"100%",height:"100%",children:i.jsxs(xp,{data:e.timeSlotAnalysis,children:[i.jsx(ml,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(es,{dataKey:"timeSlot",tick:{fontSize:11},angle:-45,textAnchor:"end",height:60}),i.jsx(oi,{tick:{fontSize:12}}),i.jsx(Jo,{formatter:_=>[_,"주문 수"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(gf,{dataKey:"orders",fill:"#3b82f6",radius:[4,4,0,0]})]})})})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"상위 매장 성과"})]}),i.jsx("div",{className:"h-80",children:i.jsx(tc,{width:"100%",height:"100%",children:i.jsxs(xp,{data:e.topStores.slice(0,8),layout:"horizontal",children:[i.jsx(ml,{strokeDasharray:"3 3",stroke:"#f0f0f0"}),i.jsx(es,{type:"number",tick:{fontSize:12},tickFormatter:_=>N(_)}),i.jsx(oi,{type:"category",dataKey:"name",tick:{fontSize:11},width:100}),i.jsx(Jo,{formatter:_=>[N(_),"매출"],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),i.jsx(gf,{dataKey:"revenue",fill:"#f59e0b",radius:[0,4,4,0]})]})})})]})]})}function zV({showToast:e}){const[t,r]=w.useState([]),[n,s]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState("all"),[m,g]=w.useState("today"),[x,v]=w.useState(""),[b,j]=w.useState(!1),[N,_]=w.useState(!1),[O,S]=w.useState(""),[A,k]=w.useState(!1),[C,P]=w.useState(null),[T,D]=w.useState(1),$=7;w.useEffect(()=>{(async()=>{try{u(!0);const W=await wa();s(W);const X=[];for(const H of W){const me=(await xl(H.id)).map(oe=>({...oe,stores:{id:H.id,name:H.name}}));X.push(...me)}const Y=await Promise.all(X.map(async H=>{const{data:le}=await pe.from("order_items").select(`
                *,
                menus (
                  id,
                  name
                )
              `).eq("order_id",H.id);return{...H,order_items:le||[]}}));Y.sort((H,le)=>new Date(le.created_at).getTime()-new Date(H.created_at).getTime()),r(Y),console.log("모든 매장 주문 데이터:",Y)}catch(W){console.error("주문 데이터 로드 오류:",W),e("주문 데이터를 불러오는데 실패했습니다")}finally{u(!1)}})()},[e]),w.useEffect(()=>{const q=W=>{const X=W.target;b&&!X.closest(".date-picker-container")&&j(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[b]),w.useEffect(()=>{const q=W=>{const X=W.target;N&&!X.closest(".period-dropdown-container")&&_(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[N]);const U=q=>{v(q),g("custom"),j(!1)},L=q=>{g(q),q!=="custom"&&v("")},te=(q,W,X)=>{const Y=new Date,H=new Date(Y.getFullYear(),Y.getMonth(),Y.getDate());switch(W){case"today":return q.filter(oe=>new Date(oe.created_at)>=H);case"yesterday":const le=new Date(H);le.setDate(le.getDate()-1);const me=new Date(H);return q.filter(oe=>{const be=new Date(oe.created_at);return be>=le&&be<me});case"custom":return X?q.filter(oe=>new Date(oe.created_at).toISOString().split("T")[0]===X):q;default:return q}},de=(q,W)=>{const X=t.find(H=>H.id===q),Y=X?I(X,t):0;P({orderId:q,newStatus:W,orderNumber:Y}),k(!0)},J=async()=>{if(C)try{const{orderId:q,newStatus:W}=C,X=await Ap(q,W);r(t.map(Y=>Y.id===q?{...Y,status:W}:Y)),e(`주문 상태가 "${W}"로 변경되었습니다`),console.log("주문 상태 변경 성공:",X)}catch(q){console.error("주문 상태 변경 오류:",q),e("주문 상태 변경에 실패했습니다")}finally{k(!1),P(null)}},ce=()=>{k(!1),P(null)};w.useEffect(()=>{const q=W=>{const{orderId:X,status:Y,updatedOrder:H}=W.detail;console.log(`다른 페이지에서 주문 ${X} 상태가 ${Y}로 변경됨. 데이터 새로고침 중...`),r(le=>le.map(me=>me.id===X?{...me,status:Y}:me))};return window.addEventListener("orderStatusChanged",q),()=>{window.removeEventListener("orderStatusChanged",q)}},[]);const z=te(t,m,x),re=(d==="all"?z:z.filter(q=>q.status===d)).filter(q=>{if(!O.trim())return!0;const W=O.toLowerCase();return q.depositor_name?.toLowerCase().includes(W)||q.delivery_address?.toLowerCase().includes(W)||q.customer_name?.toLowerCase().includes(W)||q.customer_phone?.includes(O)||q.stores?.name?.toLowerCase().includes(W)}),ve=q=>{switch(q){case"입금대기":return"bg-yellow-100 text-yellow-800";case"입금확인":return"bg-blue-100 text-blue-800";case"배달완료":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},I=(q,W)=>{const X=new Date(q.created_at),H=new Date(X.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0],le=W.filter(oe=>{const be=new Date(oe.created_at);return new Date(be.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0]===H}),me=le.findIndex(oe=>oe.id===q.id);return le.length-me},ee=Math.ceil(re.length/$),ie=(T-1)*$,ge=ie+$,je=re.slice(ie,ge),ye=q=>{D(q)};w.useEffect(()=>{D(1)},[d,m,x,O]);const K=()=>{const q=`
      <!DOCTYPE html>
      <html>
        <head>
          <meta charset="UTF-8">
          <title>전체 주문 내역</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; }
            .store-name { font-size: 24px; font-weight: bold; margin-bottom: 10px; }
            .period { font-size: 16px; color: #666; margin-bottom: 20px; }
            .order-card { border: 1px solid #ddd; margin-bottom: 20px; padding: 15px; border-radius: 8px; }
            .order-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
            .order-number { font-weight: bold; font-size: 18px; }
            .status { padding: 4px 8px; border-radius: 4px; font-size: 12px; }
            .status-입금대기 { background: #fef3c7; color: #92400e; }
            .status-입금확인 { background: #dbeafe; color: #1e40af; }
            .status-배달완료 { background: #d1fae5; color: #065f46; }
            .status-주문취소 { background: #fee2e2; color: #991b1b; }
            .order-type { padding: 4px 8px; border-radius: 4px; font-size: 12px; }
            .order-type-delivery { background: #dbeafe; color: #1e40af; }
            .order-type-pickup { background: #d1fae5; color: #065f46; }
            .order-details { margin: 10px 0; }
            .order-details div { margin: 5px 0; font-size: 14px; }
            .order-items { margin: 10px 0; }
            .order-item { display: flex; justify-content: space-between; margin: 5px 0; }
            .total { font-weight: bold; font-size: 16px; text-align: right; margin-top: 10px; }
            .print-date { text-align: right; color: #666; font-size: 12px; margin-top: 20px; }
            @media print { body { margin: 0; } }
          </style>
        </head>
        <body>
          <div class="header">
            <div class="store-name">전체 주문 내역</div>
            <div class="period">
              ${m==="today"?"오늘":m==="yesterday"?"어제":m==="custom"?x:"오늘"} 
              ${d!=="all"?`- ${d}`:""}
            </div>
          </div>
          
          ${je.map(X=>{const{date:Y,time:H}={date:new Date(X.created_at).toLocaleDateString("ko-KR"),time:new Date(X.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return`
              <div class="order-card">
                <div class="order-header">
                  <div class="order-number">주문번호: ${I(X,t)}</div>
                  <div>
                    <span class="status status-${X.status}">${X.status}</span>
                    <span class="order-type order-type-${X.order_type}">${X.order_type==="delivery"?"배달":"픽업"}</span>
                  </div>
                </div>
                
                <div class="order-details">
                  <div>주문일시: ${Y} ${H}</div>
                  <div>매장: ${X.stores?.name||"알 수 없는 매장"}</div>
                  ${X.delivery_address?`<div>배달주소: ${X.delivery_address}</div>`:""}
                  ${X.delivery_time?`<div>배달시간: ${X.delivery_time}</div>`:""}
                  ${X.pickup_time?`<div>픽업시간: ${X.pickup_time}</div>`:""}
                  ${X.depositor_name?`<div>입금자명: ${X.depositor_name}</div>`:""}
                  ${X.customer_name?`<div>고객명: ${X.customer_name}</div>`:""}
                  ${X.customer_phone?`<div>연락처: ${X.customer_phone}</div>`:""}
                  ${X.special_requests?`<div>요청사항: ${X.special_requests}</div>`:""}
                </div>
                
                <div class="order-items">
                  ${X.order_items?.map(le=>`
                    <div class="order-item">
                      <span>${le.menus.name} x ${le.quantity}</span>
                      <span>${(le.price*le.quantity).toLocaleString()}원</span>
                    </div>
                  `).join("")||"<div>주문 상품 정보 없음</div>"}
                </div>
                
                <div class="total">총 결제 금액: ${X.total.toLocaleString()}원</div>
              </div>
            `}).join("")}
          
          <div class="print-date">
            인쇄일시: ${new Date().toLocaleString("ko-KR")}
          </div>
        </body>
      </html>
    `,W=window.open("","_blank");W&&(W.document.write(q),W.document.close(),W.addEventListener("afterprint",()=>{const X=W.document.createElement("div");X.innerHTML=`
          <div style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
            <button onclick="window.close()" style="
              background: #f97316; 
              color: white; 
              border: none; 
              padding: 10px 20px; 
              border-radius: 8px; 
              cursor: pointer;
              font-size: 14px;
              font-weight: bold;
              box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            ">
              <i class="ri-arrow-left-line" style="margin-right: 5px;"></i>
              뒤로가기
            </button>
          </div>
        `,W.document.body.appendChild(X)}),W.print())},we=q=>{switch(q){case"today":return"오늘";case"yesterday":return"어제";case"custom":return x||"날짜 선택";default:return"오늘"}};return o?i.jsx("div",{className:"bg-white rounded-lg p-8 shadow-sm",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"주문 데이터를 불러오는 중..."})]})}):i.jsxs("div",{className:"space-y-4 lg:space-y-6",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2",children:[i.jsx("h2",{className:"text-lg lg:text-2xl font-bold text-gray-800",children:"전체 주문 관리"}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("button",{onClick:K,className:"bg-blue-500 hover:bg-blue-600 text-white px-3 py-1.5 rounded-md flex items-center whitespace-nowrap cursor-pointer text-sm",title:"주문내역 인쇄",children:[i.jsx("i",{className:"ri-printer-line mr-1.5 text-xs"}),"인쇄"]}),i.jsxs("div",{className:"text-xs lg:text-sm text-gray-600",children:["총 ",t.length,"건의 주문"]})]})]}),i.jsxs("div",{className:"space-y-4 mb-6",children:[i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("i",{className:"ri-search-line text-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"검색"})]}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",value:O,onChange:q=>S(q.target.value),placeholder:"입금자명, 배달주소, 고객명, 전화번호, 매장명으로 검색...",className:"w-full px-4 py-3 pl-10 pr-4 bg-gray-50 border-0 rounded-xl text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:bg-white transition-all duration-200 hover:bg-gray-100"}),i.jsx("i",{className:"ri-search-line absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"})]})]}),i.jsxs("div",{className:"bg-white rounded-lg border border-gray-200 p-4 shadow-sm",children:[i.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[i.jsx("i",{className:"ri-filter-3-line text-orange-500"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"필터"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx("i",{className:"ri-calendar-line text-gray-500 text-sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"기간:"})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative period-dropdown-container",children:[i.jsxs("button",{onClick:()=>_(!N),className:"w-full px-4 py-3 bg-white border border-gray-300 rounded-xl text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 cursor-pointer transition-all duration-200 hover:border-gray-400 flex items-center justify-between",children:[i.jsx("span",{children:m==="today"?"오늘":m==="yesterday"?"어제":m==="custom"?"날짜 선택":"오늘"}),i.jsx("i",{className:`ri-arrow-down-s-line text-gray-400 text-sm transition-transform duration-200 ${N?"rotate-180":""}`})]}),N&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-lg z-20 overflow-hidden",children:[i.jsx("button",{onClick:()=>{L("today"),_(!1)},className:`w-full px-4 py-3 text-left text-sm font-medium transition-colors duration-200 hover:bg-gray-50 ${m==="today"?"bg-orange-50 text-orange-600":"text-gray-700"}`,children:"오늘"}),i.jsx("button",{onClick:()=>{L("yesterday"),_(!1)},className:`w-full px-4 py-3 text-left text-sm font-medium transition-colors duration-200 hover:bg-gray-50 ${m==="yesterday"?"bg-orange-50 text-orange-600":"text-gray-700"}`,children:"어제"}),i.jsx("button",{onClick:()=>{L("custom"),_(!1)},className:`w-full px-4 py-3 text-left text-sm font-medium transition-colors duration-200 hover:bg-gray-50 ${m==="custom"?"bg-orange-50 text-orange-600":"text-gray-700"}`,children:"날짜 선택"})]})]})}),m==="custom"&&i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"date",value:x,onChange:q=>U(q.target.value),className:"w-full px-4 py-3 bg-gray-50 border-0 rounded-xl text-sm font-medium text-gray-700 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:bg-white transition-all duration-200 hover:bg-gray-100"})})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[i.jsx("i",{className:"ri-filter-line text-gray-500 text-sm"}),i.jsx("span",{className:"text-sm font-medium text-gray-700 whitespace-nowrap",children:"상태:"})]}),i.jsx("div",{className:"flex gap-1 flex-1",children:[{key:"all",label:"전체",count:z.length},{key:"입금대기",label:"입금대기",count:z.filter(q=>q.status==="입금대기").length},{key:"입금확인",label:"입금확인",count:z.filter(q=>q.status==="입금확인").length},{key:"배달완료",label:"배달완료",count:z.filter(q=>q.status==="배달완료").length},{key:"주문취소",label:"주문취소",count:z.filter(q=>q.status==="주문취소").length}].map(q=>i.jsx("button",{onClick:()=>h(q.key),className:`flex-1 px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 whitespace-nowrap ${d===q.key?"bg-gray-800 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:q.label},q.key))})]})]})]})]}),i.jsx("div",{className:"bg-gradient-to-r from-orange-400 to-orange-500 rounded-xl p-3 text-white w-fit",children:i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-shopping-cart-line text-lg"}),i.jsxs("div",{children:[i.jsxs("h3",{className:"text-sm font-bold",children:[we(m)," 주문 현황"]}),i.jsx("p",{className:"text-orange-100 font-medium text-xs",children:d==="all"?`총 ${re.length}개의 주문이 들어왔습니다`:`${d} ${re.length}개`})]})]})}),i.jsx("div",{className:"space-y-4",children:re.length===0?i.jsx("div",{className:"bg-white rounded-lg p-6 lg:p-8 shadow-sm",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx("i",{className:"ri-shopping-cart-line text-3xl lg:text-4xl mb-3 lg:mb-4"}),i.jsx("p",{className:"text-sm lg:text-base",children:"선택한 조건에 해당하는 주문이 없습니다."})]})}):je.map(q=>{const{date:W,time:X}={date:new Date(q.created_at).toLocaleDateString("ko-KR"),time:new Date(q.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return i.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden",children:i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"mb-3",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("h3",{className:"font-semibold text-gray-800",children:["주문번호: ",I(q,re)]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap ${ve(q.status)}`,children:q.status}),i.jsx("span",{className:`px-3 py-1.5 rounded-full text-sm font-medium whitespace-nowrap ${q.order_type==="delivery"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:q.order_type==="delivery"?"배달":"픽업"})]})]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[i.jsxs("div",{children:["주문일시: ",W," ",X]}),i.jsxs("div",{children:["매장: ",q.stores?.name||"알 수 없는 매장"]})]})]}),i.jsxs("div",{className:"border-t pt-3",children:[i.jsx("div",{className:"space-y-1 mb-3",children:q.order_items?.map((Y,H)=>i.jsxs("div",{className:"flex justify-between text-sm",children:[i.jsxs("span",{className:"text-gray-600",children:[Y.menus.name," x ",Y.quantity]}),i.jsxs("span",{className:"text-gray-800",children:[(Y.price*Y.quantity).toLocaleString(),"원"]})]},H))||i.jsx("div",{className:"text-gray-500 text-sm",children:"주문 상품 정보 없음"})}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t",children:[i.jsx("span",{className:"font-semibold text-gray-800",children:"총 결제 금액"}),i.jsxs("span",{className:"font-bold text-lg text-orange-500",children:[q.total.toLocaleString(),"원"]})]})]}),i.jsxs("div",{className:"mt-3 pt-3 border-t space-y-2",children:[q.delivery_address&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-map-pin-line mr-2"}),i.jsxs("span",{children:["배달주소: ",q.delivery_address]})]}),q.delivery_time&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-time-line mr-2"}),i.jsxs("span",{children:["배달시간: ",q.delivery_time]})]}),q.pickup_time&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-time-line mr-2"}),i.jsxs("span",{children:["픽업시간: ",q.pickup_time]})]}),q.depositor_name&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-user-line mr-2"}),i.jsxs("span",{children:["입금자명: ",q.depositor_name]})]}),q.customer_name&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-user-line mr-2"}),i.jsxs("span",{children:["고객명: ",q.customer_name]})]}),q.customer_phone&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-phone-line mr-2"}),i.jsxs("span",{children:["연락처: ",q.customer_phone]})]}),q.special_requests&&i.jsxs("div",{className:"flex items-center text-sm text-gray-600",children:[i.jsx("i",{className:"ri-message-line mr-2"}),i.jsxs("span",{children:["요청사항: ",q.special_requests]})]})]}),i.jsx("div",{className:"mt-4 pt-3 border-t",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[q.status==="입금대기"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>de(q.id,"입금확인"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금확인"}),i.jsx("button",{onClick:()=>de(q.id,"주문취소"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"주문취소"})]}),q.status==="입금확인"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>de(q.id,"입금대기"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금대기로"}),q.order_type==="delivery"&&i.jsx("button",{onClick:()=>de(q.id,"배달완료"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"배달완료"}),i.jsx("button",{onClick:()=>de(q.id,"주문취소"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"주문취소"})]}),q.status==="배달완료"&&i.jsxs(i.Fragment,{children:[i.jsx("button",{onClick:()=>de(q.id,"입금대기"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금대기로"}),i.jsx("button",{onClick:()=>de(q.id,"입금확인"),className:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금확인으로"}),i.jsx("button",{onClick:()=>de(q.id,"주문취소"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"주문취소"})]}),q.status==="주문취소"&&i.jsx("button",{onClick:()=>de(q.id,"입금대기"),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded-lg text-sm whitespace-nowrap cursor-pointer",children:"입금대기로"})]})})]})},q.id)})}),ee>1&&i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:ee},(q,W)=>W+1).map(q=>i.jsx("button",{onClick:()=>ye(q),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors ${T===q?"bg-orange-500 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:q},q))})}),A&&C&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm w-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-orange-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-question-line text-2xl text-orange-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"주문 상태 변경"}),i.jsxs("p",{className:"text-gray-600 mb-4",children:["주문 #",C.orderNumber,"의 상태를 ",i.jsx("span",{className:"font-semibold text-orange-600",children:C.newStatus}),"로 변경하시겠습니까?"]}),i.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:i.jsxs("p",{className:"text-blue-800 text-sm flex items-center gap-2",children:[i.jsx("i",{className:"ri-information-line"}),"고객 주문조회 페이지에 실시간으로 반영됩니다"]})}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:ce,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{onClick:J,className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"확인"})]})]})})})]})}function BV({showToast:e}){const[t,r]=w.useState([]),[n,s]=w.useState([]),[o,u]=w.useState(!0),[d,h]=w.useState({}),[m,g]=w.useState(""),[x,v]=w.useState(!1),[b,j]=w.useState(null);w.useEffect(()=>{N()},[]);const N=async()=>{try{u(!0);const[T,D]=await Promise.all([a6(),wa()]);r(T),s(D)}catch(T){console.error("데이터 로드 실패:",T),e("데이터를 불러오는데 실패했습니다.")}finally{u(!1)}},_=async(T,D)=>{if(t.find(L=>L.id===T)?.status==="approved"){e("이미 승인된 사용자입니다.");return}const U=d[T];if(!U){e("매장을 선택해주세요.");return}try{await i6(T,U),e(`${D}님을 사장님으로 승인했습니다.`),N()}catch(L){console.error("승인 실패:",L),e("승인에 실패했습니다.")}},O=async(T,D)=>{if(confirm(`${D}님의 가입을 거부하시겠습니까?`))try{await E1(T),e(`${D}님의 가입을 거부했습니다.`),N()}catch($){console.error("거부 실패:",$),e("거부에 실패했습니다.")}},S=(T,D)=>{j({id:T,name:D}),v(!0)},A=async()=>{if(b)try{await E1(b.id),e(`${b.name}님을 삭제했습니다.`),N()}catch(T){console.error("삭제 실패:",T),e("삭제에 실패했습니다.")}finally{v(!1),j(null)}},k=()=>{v(!1),j(null)},C=t.filter(T=>T.name.toLowerCase().includes(m.toLowerCase())||T.phone.includes(m)||T.store_name&&T.store_name.toLowerCase().includes(m.toLowerCase())),P=T=>new Date(T).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return o?i.jsx("div",{className:"flex items-center justify-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500"})}):i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 sm:p-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"사장님 관리"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"가입 신청한 사장님들을 승인하거나 거부할 수 있습니다."})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4 mb-6",children:[i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-orange-500 mb-1",children:t.filter(T=>T.status==="pending").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"승인 대기"})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-green-500 mb-1",children:t.filter(T=>T.status==="approved").length}),i.jsx("div",{className:"text-sm text-gray-600",children:"승인 완료"})]}),i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-4 text-center",children:[i.jsx("div",{className:"text-2xl font-bold text-blue-500 mb-1",children:t.length}),i.jsx("div",{className:"text-sm text-gray-600",children:"전체 사장님"})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-center gap-4",children:[i.jsx("div",{className:"flex-1 w-full",children:i.jsxs("div",{className:"relative",children:[i.jsx("i",{className:"ri-search-line absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"사장님 이름, 전화번호, 매장명으로 검색...",value:m,onChange:T=>g(T.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-sm sm:text-base"})]})}),m&&i.jsx("button",{onClick:()=>g(""),className:"px-4 py-3 text-gray-500 hover:text-gray-700 transition-colors bg-gray-100 rounded-lg",children:i.jsx("i",{className:"ri-close-line text-lg"})})]})]}),C.length===0?i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-8 text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-user-check-line text-2xl text-gray-400"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:m?"검색 결과가 없습니다":"사장님이 없습니다"}),i.jsx("p",{className:"text-gray-500",children:m?"다른 검색어로 시도해보세요.":"새로운 가입 신청이 있으면 여기에 표시됩니다."})]}):i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-4 lg:gap-6",children:C.map(T=>i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 lg:p-5 hover:shadow-md transition-shadow duration-200",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex items-start space-x-3",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-full flex items-center justify-center flex-shrink-0",children:i.jsx("i",{className:"ri-user-line text-orange-500 text-xl"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 truncate",children:T.name}),i.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${T.status==="approved"?"bg-green-100 text-green-800":T.status==="pending"?"bg-orange-100 text-orange-800":"bg-red-100 text-red-800"}`,children:T.status==="approved"?"승인됨":T.status==="pending"?"대기중":"거부됨"})]}),i.jsxs("div",{className:"space-y-1",children:[i.jsxs("p",{className:"text-sm text-gray-600 flex items-center",children:[i.jsx("i",{className:"ri-phone-line mr-2 text-gray-400"}),T.phone]}),i.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[i.jsx("i",{className:"ri-calendar-line mr-2 text-gray-400"}),"신청일: ",P(T.created_at)]}),T.status==="approved"&&T.store_name&&i.jsxs("p",{className:"text-xs text-green-600 font-medium flex items-center",children:[i.jsx("i",{className:"ri-store-line mr-2"}),T.store_name]})]})]})]}),T.status==="pending"&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"매장 선택"}),i.jsxs("select",{value:d[T.id]||"",onChange:D=>h({...d,[T.id]:D.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 text-sm",children:[i.jsx("option",{value:"",children:"매장을 선택하세요"}),n.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]})]}),T.status==="approved"&&T.store_name&&i.jsxs("div",{children:[i.jsx("label",{className:"block text-xs font-medium text-gray-700 mb-2",children:"할당된 매장"}),i.jsxs("div",{className:"px-3 py-2 bg-green-50 border border-green-200 rounded-lg text-sm text-green-800 font-medium",children:[i.jsx("i",{className:"ri-store-line mr-2"}),T.store_name]})]}),i.jsxs("div",{className:"flex space-x-2 pt-2",children:[T.status==="pending"&&i.jsxs(i.Fragment,{children:[i.jsxs("button",{onClick:()=>_(T.id,T.name),disabled:!d[T.id],className:"flex-1 px-3 py-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-300 disabled:cursor-not-allowed text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-check-line"}),i.jsx("span",{children:"승인"})]}),i.jsxs("button",{onClick:()=>O(T.id,T.name),className:"flex-1 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-close-line"}),i.jsx("span",{children:"거부"})]})]}),T.status==="approved"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 px-3 py-2 bg-green-100 text-green-800 rounded-lg text-sm font-medium flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-check-double-line"}),i.jsx("span",{children:"승인 완료"})]}),i.jsxs("button",{onClick:()=>S(T.id,T.name),className:"flex-1 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-delete-bin-line"}),i.jsx("span",{children:"삭제"})]})]}),T.status==="rejected"&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex-1 px-3 py-2 bg-red-100 text-red-800 rounded-lg text-sm font-medium flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-close-circle-line"}),i.jsx("span",{children:"거부됨"})]}),i.jsxs("button",{onClick:()=>S(T.id,T.name),className:"flex-1 px-3 py-2 bg-red-500 hover:bg-red-600 text-white rounded-lg text-sm font-medium transition-colors flex items-center justify-center space-x-1",children:[i.jsx("i",{className:"ri-delete-bin-line"}),i.jsx("span",{children:"삭제"})]})]})]})]})},T.id))}),x&&b&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"bg-white rounded-xl p-6 mx-4 max-w-sm w-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:i.jsx("i",{className:"ri-delete-bin-line text-2xl text-red-500"})}),i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-2",children:"사장님 삭제"}),i.jsxs("p",{className:"text-gray-600 mb-6",children:[i.jsx("span",{className:"font-semibold text-red-600",children:b.name}),"님을 정말로 삭제하시겠습니까?",i.jsx("br",{}),i.jsx("span",{className:"text-sm text-gray-500",children:"이 작업은 되돌릴 수 없습니다."})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx("button",{onClick:k,className:"flex-1 px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"취소"}),i.jsx("button",{onClick:A,className:"flex-1 px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors",children:"삭제"})]})]})})})]})}const A2=[{id:"dashboard",label:"대시보드",icon:"ri-dashboard-line"},{id:"stores",label:"매장 관리",icon:"ri-store-line"},{id:"menus",label:"메뉴 관리",icon:"ri-restaurant-line"},{id:"orders",label:"주문 관리",icon:"ri-shopping-cart-line"},{id:"users",label:"사장님 관리",icon:"ri-user-line"},{id:"inquiries",label:"문의 관리",icon:"ri-question-line"},{id:"statistics",label:"통계",icon:"ri-bar-chart-line"}];function HV(){const e=vt(),{user:t,loading:r}=ir(),[n,s]=w.useState("dashboard"),[o,u]=w.useState(!0),[d,h]=w.useState("");w.useEffect(()=>{if(console.log("🔍 SuperAdmin useEffect 실행:",{user:t,loading:r}),r){console.log("⏳ 로딩 중...");return}if(!t){console.log("❌ 사용자 없음, /super-login으로 리다이렉트"),e("/super-login");return}if(console.log("👤 사용자 정보:",t),t.role!=="super_admin"){console.log("❌ 슈퍼 어드민 권한 없음, /super-login으로 리다이렉트"),alert("슈퍼 어드민만 접근할 수 있는 페이지입니다."),e("/super-login");return}console.log("✅ 슈퍼 어드민 인증 성공")},[t,r,e]);const m=v=>{h(v),setTimeout(()=>h(""),3e3)},g=()=>{localStorage.removeItem("isLoggedIn"),e("/login")};if(r)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})});if(!t||t.role!=="super_admin")return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"접근 권한 없음"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"슈퍼 어드민만 접근할 수 있는 페이지입니다."}),i.jsx("button",{onClick:()=>e("/stores"),className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"홈으로 이동"})]})});const x=()=>{switch(n){case"dashboard":return i.jsx(O2,{showToast:m});case"stores":return i.jsx(LV,{showToast:m});case"menus":return i.jsx(IV,{showToast:m});case"orders":return i.jsx(zV,{showToast:m});case"users":return i.jsx(BV,{showToast:m});case"inquiries":return i.jsx(UV,{showToast:m});case"statistics":return i.jsx(qV,{showToast:m});default:return i.jsx(O2,{showToast:m})}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex",children:[i.jsx("div",{className:"lg:hidden fixed top-0 left-0 right-0 bg-white z-50 h-16",children:i.jsxs("div",{className:"px-4 py-3 flex items-center justify-between h-full",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:"https://static.readdy.ai/image/912b0945f01d9fdb4ff4544659653c90/2d4890bd82abce85d430bd82d04df8d6.png",alt:"페이톡 로고",className:"w-12 h-12"})}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>u(!o),className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsx("i",{className:"ri-menu-line text-xl"})}),i.jsx("button",{onClick:g,className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer text-gray-600",children:i.jsx("i",{className:"ri-logout-box-r-line text-xl"})})]})]})}),o&&i.jsx("div",{className:"lg:hidden fixed inset-0 bg-black bg-opacity-50 z-40",onClick:()=>u(!1)}),i.jsxs("div",{className:`${o?"w-64":"w-0"} lg:w-64 bg-white shadow-lg transition-all duration-300 fixed lg:relative h-full z-50 lg:z-40 overflow-hidden`,children:[i.jsx("div",{className:"p-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("div",{className:"flex items-center",children:i.jsx("img",{src:"https://static.readdy.ai/image/912b0945f01d9fdb4ff4544659653c90/2d4890bd82abce85d430bd82d04df8d6.png",alt:"페이톡 로고",className:"w-10 h-10"})}),i.jsx("button",{onClick:()=>u(!o),className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsx("i",{className:`ri-${o?"close":"menu"}-line text-xl`})})]})}),i.jsx("nav",{className:"mt-4",children:A2.map(v=>i.jsxs("button",{onClick:()=>{s(v.id),window.innerWidth<1024&&u(!1)},className:`w-full flex items-center px-4 py-3 text-left hover:bg-orange-50 cursor-pointer ${n===v.id?"bg-orange-100 border-r-4 border-orange-500 text-orange-600":"text-gray-600"}`,children:[i.jsx("i",{className:`${v.icon} text-xl mr-3`}),i.jsx("span",{className:`${!o&&"lg:block hidden"}`,children:v.label})]},v.id))})]}),i.jsxs("div",{className:"flex-1 flex flex-col",children:[i.jsx("div",{className:"hidden lg:block bg-white shadow-sm border-b h-16",children:i.jsxs("div",{className:"flex items-center justify-between px-6 h-full",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:A2.find(v=>v.id===n)?.label}),i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("div",{className:"w-8 h-8 bg-orange-500 rounded-full flex items-center justify-center",children:i.jsx("i",{className:"ri-user-line text-white"})}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"관리자"})]}),i.jsx("button",{onClick:g,className:"text-gray-600 hover:text-red-600 cursor-pointer",children:i.jsx("i",{className:"ri-logout-box-r-line text-xl"})})]})]})}),i.jsx("div",{className:"flex-1 p-4 lg:p-6 pt-20 lg:pt-6",children:x()}),i.jsx(On,{})]}),d&&i.jsx("div",{className:"fixed top-20 lg:top-20 right-2 lg:right-4 left-2 lg:left-auto bg-green-500 text-white px-4 lg:px-6 py-3 rounded-lg shadow-lg z-50",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("i",{className:"ri-check-line mr-2"}),i.jsx("span",{className:"text-sm lg:text-base",children:d})]})})]})}function KV(){const e=vt(),{user:t,userProfile:r,loading:n}=cy(),[s,o]=w.useState([]),[u,d]=w.useState(""),[h,m]=w.useState([]),[g,x]=w.useState(!0),[v,b]=w.useState("all");w.useEffect(()=>{n||(async()=>{if(!(!t||!r)){if(r.role!=="owner"&&r.role!=="super_admin"){e("/stores");return}try{x(!0);const A=await Ep(t.id);o(A),A.length>0&&d(A[0].id)}catch(A){console.error("사장님 데이터 로드 오류:",A)}finally{x(!1)}}})()},[t,r,e,n]),w.useEffect(()=>{(async()=>{if(u)try{x(!0);const A=await C6(u);m(A)}catch(A){console.error("주문 목록 로드 오류:",A)}finally{x(!1)}})()},[u]);const j=async(S,A)=>{try{await T6(S,A),m(h.map(k=>k.id===S?{...k,status:A}:k))}catch(k){console.error("주문 상태 변경 오류:",k),alert("주문 상태 변경에 실패했습니다.")}},N=h.filter(S=>v==="all"||S.status===v),_=S=>{switch(S){case"입금대기":return"bg-yellow-100 text-yellow-800";case"입금확인":return"bg-blue-100 text-blue-800";case"배달완료":return"bg-green-100 text-green-800";default:return"bg-gray-100 text-gray-800"}},O=S=>{switch(S){case"입금대기":return"입금확인";case"입금확인":return"배달완료";default:return null}};return n||g?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):s.length===0?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"ri-store-3-line text-6xl text-gray-300 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"소유한 매장이 없습니다"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"관리자에게 매장 등록을 요청해주세요."}),i.jsx("button",{onClick:()=>e("/stores"),className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-6 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"매장 목록으로 이동"})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b sticky top-0 z-10",children:i.jsx("div",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsx("i",{className:"ri-arrow-left-line text-xl"})}),i.jsx("h1",{className:"text-lg font-semibold text-center flex-1",children:"주문내역"}),i.jsx("div",{className:"w-10"})]})})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsx(wO,{}),i.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-3",children:"매장 선택"}),i.jsx("select",{value:u,onChange:S=>d(S.target.value),className:"w-full p-4 border border-gray-200 rounded-xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 outline-none",children:s.map(S=>i.jsx("option",{value:S.id,children:S.name},S.id))})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-bold text-gray-800 mb-3",children:"주문 상태"}),i.jsx("div",{className:"flex gap-3",children:["all","입금대기","입금확인","배달완료"].map(S=>i.jsx("button",{onClick:()=>b(S),className:`px-4 py-3 rounded-xl text-sm font-medium transition-colors ${v===S?"bg-orange-100 text-orange-700 border border-orange-200":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:S==="all"?"전체":S},S))})]})]}),i.jsx("div",{className:"space-y-3",children:N.length===0?i.jsxs("div",{className:"bg-white rounded-2xl p-8 text-center shadow-sm",children:[i.jsx("i",{className:"ri-shopping-cart-line text-4xl text-gray-300 mb-2"}),i.jsx("p",{className:"text-gray-500",children:"주문이 없습니다."})]}):N.map(S=>i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[i.jsxs("div",{className:"p-4 border-b border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-12 h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-xl text-orange-500"})}),i.jsxs("div",{children:[i.jsxs("h3",{className:"font-bold text-gray-800",children:[S.users.name,"님"]}),i.jsx("p",{className:"text-sm text-gray-500",children:S.users.phone}),i.jsx("p",{className:"text-xs text-gray-400",children:new Date(new Date(S.created_at).toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toLocaleString("ko-KR")})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:`px-3 py-1 rounded-full text-sm font-medium ${_(S.status)}`,children:S.status}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["#",S.id.slice(-8)]})]})]}),i.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[i.jsx("i",{className:"ri-truck-line"}),i.jsx("span",{children:S.order_type==="delivery"?"배달":"픽업"}),S.delivery_address&&i.jsxs("span",{className:"ml-2 text-gray-400",children:["(",S.delivery_address,")"]})]})]}),i.jsxs("div",{className:"p-4",children:[i.jsxs("div",{className:"space-y-2",children:[S.daily_menu_orders?.slice(0,2).map((A,k)=>i.jsxs("div",{className:"flex justify-between items-center text-sm",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("span",{className:"text-gray-700",children:[A.menus.name," x",A.quantity]}),i.jsxs("p",{className:"text-xs text-orange-600 mt-1",children:[A.daily_menus.menu_date," 일일메뉴"]})]}),i.jsxs("span",{className:"font-medium text-gray-800",children:[((A.menus?.price||0)*A.quantity).toLocaleString(),"원"]})]},k)),S.daily_menu_orders&&S.daily_menu_orders.length>2&&i.jsxs("p",{className:"text-sm text-gray-500",children:["외 ",S.daily_menu_orders.length-2,"개 메뉴"]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-3 mt-3 border-t border-gray-100",children:[i.jsx("span",{className:"font-bold text-gray-800",children:"총 금액"}),i.jsxs("span",{className:"font-bold text-lg text-orange-600",children:[S.total.toLocaleString(),"원"]})]})]}),O(S.status)&&i.jsx("div",{className:"p-4 bg-gray-50 border-t border-gray-100",children:i.jsxs("button",{onClick:()=>j(S.id,O(S.status)),className:"w-full px-4 py-3 bg-orange-500 text-white rounded-xl font-medium hover:bg-orange-600 transition-colors",children:[O(S.status)," 처리"]})})]},S.id))})]})]})}const E2=["인기메뉴","계절메뉴","고기 반찬","튀김/전류","국","분식","밑반찬","아이들 반찬"];function YV(){const e=vt(),{user:t,userProfile:r,loading:n}=cy(),[s,o]=w.useState([]),[u,d]=w.useState(""),[h,m]=w.useState([]),[g,x]=w.useState(!0),[v,b]=w.useState(!1),[j,N]=w.useState(null),[_,O]=w.useState("all"),[S,A]=w.useState({name:"",price:0,category:"인기메뉴",description:"",is_available:!0});w.useEffect(()=>{n||(async()=>{if(!(!t||!r)){if(r.role!=="owner"&&r.role!=="super_admin"){e("/stores");return}try{x(!0);const L=await Ep(t.id);o(L),L.length>0&&d(L[0].id)}catch(L){console.error("사장님 데이터 로드 오류:",L)}finally{x(!1)}}})()},[t,r,e,n]),w.useEffect(()=>{(async()=>{if(u)try{x(!0);const L=await S6(u);m(L)}catch(L){console.error("메뉴 목록 로드 오류:",L)}finally{x(!1)}})()},[u]);const k=async()=>{if(!u||!S.name||S.price<=0){alert("메뉴명과 가격을 입력해주세요.");return}try{const U=await O6({store_id:u,name:S.name,price:S.price,category:S.category,description:S.description||null,is_available:S.is_available});U&&(m([...h,U]),b(!1),T())}catch(U){console.error("메뉴 생성 오류:",U),alert("메뉴 생성에 실패했습니다.")}},C=async()=>{if(!j||!S.name||S.price<=0){alert("메뉴명과 가격을 입력해주세요.");return}try{const U=await A6(j.id,{name:S.name,price:S.price,category:S.category,description:S.description||null,is_available:S.is_available});U&&(m(h.map(L=>L.id===j.id?U:L)),N(null),T())}catch(U){console.error("메뉴 수정 오류:",U),alert("메뉴 수정에 실패했습니다.")}},P=async U=>{if(confirm("정말로 이 메뉴를 삭제하시겠습니까?"))try{await E6(U),m(h.filter(L=>L.id!==U))}catch(L){console.error("메뉴 삭제 오류:",L),alert("메뉴 삭제에 실패했습니다.")}},T=()=>{A({name:"",price:0,category:"인기메뉴",description:"",image_url:"",is_available:!0})},D=U=>{N(U),A({name:U.name,price:U.price,category:U.category,description:U.description||"",is_available:U.is_available})},$=h.filter(U=>_==="all"||U.category===_);return n||g?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):s.length===0?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"ri-store-3-line text-6xl text-gray-300 mb-4"}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"소유한 매장이 없습니다"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"관리자에게 매장 등록을 요청해주세요."}),i.jsx("button",{onClick:()=>e("/stores"),className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-6 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:"매장 목록으로 이동"})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("button",{onClick:()=>e("/stores"),className:"p-2 hover:bg-gray-100 rounded-lg cursor-pointer",children:i.jsx("i",{className:"ri-arrow-left-line text-xl"})}),i.jsx("h1",{className:"text-lg font-semibold text-center flex-1",children:"메뉴 관리"}),i.jsx("div",{className:"w-10"})]})})}),i.jsxs("div",{className:"p-4 space-y-4",children:[i.jsxs("div",{className:"bg-white rounded-lg p-4",children:[i.jsx("h2",{className:"font-semibold text-gray-800 mb-3",children:"매장 선택"}),i.jsx("select",{value:u,onChange:U=>d(U.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:s.map(U=>i.jsx("option",{value:U.id,children:U.name},U.id))})]}),i.jsxs("div",{className:"bg-white rounded-lg p-4",children:[i.jsxs("div",{className:"flex justify-between items-center mb-3",children:[i.jsx("h2",{className:"font-semibold text-gray-800",children:"메뉴 관리"}),i.jsxs("button",{onClick:()=>b(!0),className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:[i.jsx("i",{className:"ri-add-line mr-1"}),"메뉴 추가"]})]}),i.jsx("div",{className:"flex space-x-2",children:["all",...E2].map(U=>i.jsx("button",{onClick:()=>O(U),className:`px-4 py-2 rounded-full text-sm font-medium transition-colors ${_===U?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:U==="all"?"전체":U},U))})]}),i.jsx("div",{className:"space-y-4",children:$.length===0?i.jsxs("div",{className:"bg-white rounded-lg p-8 text-center",children:[i.jsx("i",{className:"ri-restaurant-line text-4xl text-gray-300 mb-2"}),i.jsx("p",{className:"text-gray-500",children:"메뉴가 없습니다."})]}):$.map(U=>i.jsx("div",{className:"bg-white rounded-lg p-4 shadow-sm",children:i.jsxs("div",{className:"flex gap-4",children:[i.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0 flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-2xl text-gray-400"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-start mb-1",children:[i.jsx("h3",{className:"font-medium text-gray-900 truncate",children:U.name}),i.jsxs("span",{className:"text-orange-500 font-semibold ml-2",children:[(U.price||0).toLocaleString(),"원"]})]}),i.jsx("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:U.description}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-gray-100 text-gray-600",children:U.category}),i.jsx("span",{className:`text-xs px-2 py-1 rounded-full ${U.is_available?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:U.is_available?"판매중":"품절"})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:()=>D(U),className:"text-blue-500 hover:text-blue-600 p-1",children:i.jsx("i",{className:"ri-edit-line"})}),i.jsx("button",{onClick:()=>P(U.id),className:"text-red-500 hover:text-red-600 p-1",children:i.jsx("i",{className:"ri-delete-bin-line"})})]})]})]})]})},U.id))})]}),(v||j)&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:j?"메뉴 수정":"메뉴 추가"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메뉴명"}),i.jsx("input",{type:"text",value:S.name,onChange:U=>A({...S,name:U.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"메뉴명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가격"}),i.jsx("input",{type:"number",value:S.price,onChange:U=>A({...S,price:parseInt(U.target.value)||0}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"가격을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsx("select",{value:S.category,onChange:U=>A({...S,category:U.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:E2.map(U=>i.jsx("option",{value:U,children:U},U))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),i.jsx("textarea",{value:S.description,onChange:U=>A({...S,description:U.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:3,placeholder:"메뉴 설명을 입력하세요"})]}),i.jsx("div",{}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"is_available",checked:S.is_available,onChange:U=>A({...S,is_available:U.target.checked}),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"is_available",className:"ml-2 block text-sm text-gray-700",children:"판매 가능"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx("button",{onClick:()=>{b(!1),N(null),T()},className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"취소"}),i.jsx("button",{onClick:j?C:k,className:"bg-white hover:bg-orange-500 text-gray-700 hover:text-white px-4 py-2 rounded-lg border border-gray-300 hover:border-orange-500 transition-colors",children:j?"수정":"추가"})]})]})})]})}function GV(){const e=vt(),{storeId:t}=Sn(),{user:r,loading:n}=ir(),[s,o]=w.useState([]),[u,d]=w.useState(!0),[h,m]=w.useState(""),[g,x]=w.useState(""),[v,b]=w.useState("all"),[j,N]=w.useState("today"),[_,O]=w.useState(""),[S,A]=w.useState(!1),[k,C]=w.useState(!1),[P,T]=w.useState(1),D=7;w.useEffect(()=>{if(!n&&!r){e("/admin-login");return}if(!n&&r&&r.role!=="admin"){e("/admin-dashboard");return}t&&($(),U())},[r,n,e,t]),w.useEffect(()=>{const K=we=>{const q=we.target;!q.closest(".period-dropdown-container")&&!q.closest(".status-dropdown-container")&&(A(!1),C(!1))};return document.addEventListener("mousedown",K),()=>{document.removeEventListener("mousedown",K)}},[]),w.useEffect(()=>{const K=()=>{t&&$()};return window.addEventListener("orderStatusChanged",K),()=>{window.removeEventListener("orderStatusChanged",K)}},[t]);const $=async()=>{if(t)try{d(!0);const K=await xl(t);o(K)}catch(K){console.error("주문 로드 실패:",K)}finally{d(!1)}},U=async()=>{if(t)try{const we=(await wa()).find(q=>q.id===t);we&&m(we.name)}catch(K){console.error("매장명 로드 실패:",K)}},L=K=>{if(N(K),T(1),K!=="custom")O("");else{const we=new Date,q=new Date(we.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),W=new Date(q.getFullYear(),q.getMonth(),q.getDate()),X=W.getFullYear(),Y=String(W.getMonth()+1).padStart(2,"0"),H=String(W.getDate()).padStart(2,"0"),le=`${X}-${Y}-${H}`;O(le)}},te=K=>{O(K),T(1),K&&N("custom")},de=K=>{const we=new Date,q=new Date(we.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),W=new Date(q.getFullYear(),q.getMonth(),q.getDate()),X=le=>{const me=le.getFullYear(),oe=String(le.getMonth()+1).padStart(2,"0"),be=String(le.getDate()).padStart(2,"0");return`${me}-${oe}-${be}`},H=(()=>{switch(j){case"today":return X(W);case"yesterday":const le=new Date(W);return le.setDate(le.getDate()-1),X(le);case"tomorrow":const me=new Date(W);return me.setDate(me.getDate()+1),X(me);case"custom":return _||X(W);default:return X(W)}})();return K.filter(le=>{if(le.daily_menu_orders&&le.daily_menu_orders.length>0)return le.daily_menu_orders.some(be=>be.daily_menus.menu_date===H);const me=new Date(le.created_at);return X(me)===H})},J=K=>{switch(K){case"today":return"오늘";case"yesterday":return"어제";case"tomorrow":return"내일";case"custom":return _?new Date(_).toLocaleDateString("ko-KR"):"날짜 선택";default:return"오늘"}},ce=()=>{if(console.log("getActualPeriodTitle 호출됨",{finalFilteredOrdersLength:V.length,selectedPeriod:j}),V.length===0)return J(j);const K=V.some(q=>q.daily_menu_orders&&q.daily_menu_orders.length>0);if(console.log("일일 메뉴 주문 확인",{hasDailyMenuOrders:K}),K){const q=new Set;V.forEach(X=>{X.daily_menu_orders&&X.daily_menu_orders.forEach(Y=>{console.log("일일 메뉴 날짜:",Y.daily_menus.menu_date),q.add(Y.daily_menus.menu_date)})});const W=Array.from(q);if(console.log("수집된 날짜들:",W),W.length>0){const X=W[0],[Y,H,le]=X.split("-").map(Number),oe=new Date(Y,H-1,le).toLocaleDateString("ko-KR");return console.log("최종 결과:",oe),oe}}const we=J(j);return console.log("fallback 사용:",we),we},z=ux.useMemo(()=>de(s),[s,j,_]),V=ux.useMemo(()=>z.filter(K=>{const we=g===""||K.customer_name?.toLowerCase().includes(g.toLowerCase())||K.customer_phone?.includes(g)||K.delivery_address?.toLowerCase().includes(g.toLowerCase())||K.depositor_name?.toLowerCase().includes(g.toLowerCase())||K.id.toLowerCase().includes(g.toLowerCase()),q=v==="all"||K.status===v;return we&&q}),[z,g,v]),re=Math.ceil(V.length/D),ve=(P-1)*D,I=ve+D,ee=V.slice(ve,I),ie=K=>{T(K)};w.useEffect(()=>{T(1)},[v,j,_,g]);const ge=()=>{const K=window.open("","_blank");if(!K)return;const we=j==="today"?"오늘":j==="yesterday"?"어제":j==="custom"?_?new Date(_).toLocaleDateString("ko-KR"):"날짜 선택":"오늘",W=`
      <!DOCTYPE html>
      <html>
        <head>
          <title>주문내역 - ${we}</title>
          <style>
            body { font-family: Arial, sans-serif; margin: 20px; }
            .header { text-align: center; margin-bottom: 30px; border-bottom: 2px solid #f97316; padding-bottom: 20px; }
            .header h1 { color: #f97316; margin: 0; font-size: 24px; }
            .header p { color: #666; margin: 5px 0; }
            .order-card { border: 1px solid #ddd; margin-bottom: 20px; padding: 15px; border-radius: 8px; }
            .order-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; }
            .order-number { font-weight: bold; font-size: 16px; }
            .order-status { padding: 4px 12px; border-radius: 20px; font-size: 12px; font-weight: bold; }
            .status-입금대기 { background: #fef3c7; color: #92400e; }
            .status-입금확인 { background: #dbeafe; color: #1e40af; }
            .status-배달완료 { background: #d1fae5; color: #065f46; }
            .status-주문취소 { background: #fee2e2; color: #991b1b; }
            .order-info { margin: 10px 0; }
            .order-info div { margin: 5px 0; }
            .order-items { margin: 10px 0; }
            .order-item { display: flex; justify-content: space-between; margin: 5px 0; }
            .order-total { font-weight: bold; font-size: 16px; color: #f97316; margin-top: 10px; }
            .order-actions { margin-top: 15px; padding-top: 15px; border-top: 1px solid #eee; }
            .action-buttons { display: flex; gap: 10px; }
            .btn { padding: 8px 16px; border-radius: 4px; font-size: 12px; font-weight: bold; }
            .btn-blue { background: #3b82f6; color: white; }
            .btn-yellow { background: #eab308; color: white; }
            .btn-green { background: #10b981; color: white; }
            .btn-red { background: #ef4444; color: white; }
            .print-date { text-align: right; color: #666; font-size: 12px; margin-top: 20px; }
            @media print {
              body { margin: 0; }
              .order-card { break-inside: avoid; }
            }
          </style>
        </head>
        <body>
          <div class="header">
            <h1>${h} 주문내역</h1>
            <p>기간: ${we} | 상태: ${v==="all"?"전체":v}</p>
            <p>총 ${V.length}건의 주문</p>
          </div>
          
          ${V.map((X,Y)=>{const{date:H,time:le}={date:new Date(X.created_at).toLocaleDateString("ko-KR"),time:new Date(X.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return`
              <div class="order-card">
                <div class="order-header">
                  <div class="order-number">주문번호: ${Y+1}</div>
                  <div class="order-status status-${X.status}">${X.status}</div>
                </div>
                
                <div class="order-info">
                  <div><strong>주문일시:</strong> ${H} ${le}</div>
                  <div><strong>고객명:</strong> ${X.customer_name||"-"}</div>
                  <div><strong>연락처:</strong> ${X.customer_phone||"-"}</div>
                  ${X.depositor_name?`<div><strong>입금자명:</strong> ${X.depositor_name}</div>`:""}
                  ${X.delivery_address?`<div><strong>배달주소:</strong> ${X.delivery_address}</div>`:""}
                  ${X.delivery_time?`<div><strong>배달시간:</strong> ${X.delivery_time}</div>`:""}
                  ${X.pickup_time?`<div><strong>픽업시간:</strong> ${X.pickup_time}</div>`:""}
                  ${X.special_requests?`<div><strong>요청사항:</strong> ${X.special_requests}</div>`:""}
                </div>
                
                ${X.daily_menu_orders&&X.daily_menu_orders.length>0?`
                  <div class="order-items">
                    <strong>일일 메뉴 주문:</strong>
                    ${X.daily_menu_orders.map(me=>`
                      <div class="order-item">
                        <span>${me.menus?.name||"메뉴"} x ${me.quantity} (${me.daily_menus.menu_date} 일일메뉴)</span>
                        <span>${((me.menus?.price||0)*(me.quantity||0)).toLocaleString()}원</span>
                      </div>
                    `).join("")}
                  </div>
                `:""}
                
                <div class="order-summary">
                  <div>상품 금액: ${(X.subtotal||0).toLocaleString()}원</div>
                  ${X.order_type==="delivery"&&(X.delivery_fee||0)>0?`<div>배달비: ${(X.delivery_fee||0).toLocaleString()}원</div>`:""}
                  <div class="order-total">총 주문금액: ${(X.total||0).toLocaleString()}원</div>
                </div>
              </div>
            `}).join("")}
          
          <div class="print-date">
            인쇄일시: ${new Date().toLocaleString("ko-KR")}
          </div>
        </body>
      </html>
    `;K.document.write(W),K.document.close(),K.focus(),K.addEventListener("afterprint",()=>{const X=K.document.createElement("div");X.innerHTML=`
        <div style="position: fixed; top: 20px; right: 20px; z-index: 1000;">
          <button onclick="window.close()" style="
            background: #f97316; 
            color: white; 
            border: none; 
            padding: 10px 20px; 
            border-radius: 8px; 
            cursor: pointer;
            font-size: 14px;
            font-weight: bold;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          ">
            <i class="ri-arrow-left-line" style="margin-right: 5px;"></i>
            뒤로가기
          </button>
        </div>
      `,K.document.body.appendChild(X)}),K.print()},je=(K,we)=>[...we].sort((X,Y)=>new Date(X.created_at).getTime()-new Date(Y.created_at).getTime()).findIndex(X=>X.id===K.id)+1,ye=K=>{if(K>=1e8){const we=Math.floor(K/1e8),q=Math.floor(K%1e8/1e4);return q===0?`${we}억원`:`${we}억 ${q}만원`}else if(K>=1e4){const we=Math.floor(K/1e4),q=Math.floor(K%1e4/1e3);return q===0?`${we}만원`:`${we}만 ${q}천원`}else if(K>=1e3){const we=Math.floor(K/1e3),q=K%1e3;return q===0?`${we}천원`:`${we}천 ${q}원`}else return`${K}원`};return n||u?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):!r||r.role!=="admin"?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"관리자만 접근할 수 있습니다."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(br,{}),i.jsxs("div",{className:"flex flex-col",children:[i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"px-4 sm:px-6 py-4",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"뒤로가기",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"주문내역"})]})})})}),i.jsxs("div",{className:"p-4 flex-1",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 shadow-lg mb-8 overflow-hidden",children:[i.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-orange-500 text-lg sm:text-xl"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-gray-500 text-sm font-medium",children:ce()}),i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"주문 현황"})]})]}),i.jsxs("div",{className:"flex items-center gap-6 sm:gap-8",children:[i.jsxs("div",{className:"text-center sm:text-right",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1",children:V.length}),i.jsx("div",{className:"text-gray-500 text-xs sm:text-sm font-medium",children:"주문 건수"})]}),i.jsxs("div",{className:"text-center sm:text-right",children:[i.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-gray-900 mb-1",children:ye(V.reduce((K,we)=>K+(we.total||0),0))}),i.jsx("div",{className:"text-gray-500 text-xs sm:text-sm font-medium",children:"총 결제금액"})]})]})]})}),i.jsxs("div",{className:"p-4 sm:p-6 border-b border-gray-100",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("i",{className:"ri-calendar-line text-gray-600 text-lg"}),i.jsx("span",{className:"text-base font-bold text-gray-800 whitespace-nowrap",children:"기간:"})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative period-dropdown-container",children:[i.jsxs("button",{onClick:()=>A(!S),className:"w-full px-5 py-4 bg-white border-2 border-gray-200 rounded-2xl text-base font-bold text-gray-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 cursor-pointer transition-all duration-200 hover:border-orange-300 hover:shadow-md flex items-center justify-between",children:[i.jsx("span",{children:j==="today"?"오늘":j==="yesterday"?"어제":j==="tomorrow"?"내일":j==="custom"?"날짜 선택":"오늘"}),i.jsx("i",{className:`ri-arrow-down-s-line text-gray-400 text-sm transition-transform duration-200 ${S?"rotate-180":""}`})]}),S&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-lg z-20 overflow-hidden",children:[i.jsx("button",{onClick:()=>{L("today"),A(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${j==="today"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"오늘"}),i.jsx("button",{onClick:()=>{L("yesterday"),A(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${j==="yesterday"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"어제"}),i.jsx("button",{onClick:()=>{L("tomorrow"),A(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${j==="tomorrow"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"내일"}),i.jsx("button",{onClick:()=>{L("custom"),A(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${j==="custom"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"날짜 선택"})]})]})})]}),j==="custom"&&i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("i",{className:"ri-calendar-check-line text-gray-600 text-lg"}),i.jsx("span",{className:"text-base font-bold text-gray-800 whitespace-nowrap",children:"날짜:"})]}),i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"date",value:_||"",onChange:K=>te(K.target.value),className:"w-full px-4 py-3 bg-gray-50 border-0 rounded-xl text-base font-semibold text-gray-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:bg-white transition-all duration-200 hover:bg-gray-100",placeholder:"날짜를 선택하세요"})})]})]}),i.jsx("div",{className:"mt-4",children:i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("i",{className:"ri-filter-line text-gray-600 text-lg"}),i.jsx("span",{className:"text-base font-bold text-gray-800 whitespace-nowrap",children:"상태:"})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative status-dropdown-container",children:[i.jsxs("button",{onClick:()=>C(!k),className:"w-full px-5 py-4 bg-white border-2 border-gray-200 rounded-2xl text-base font-bold text-gray-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 cursor-pointer transition-all duration-200 hover:border-orange-300 hover:shadow-md flex items-center justify-between",children:[i.jsx("span",{children:v==="all"?"전체":v==="입금대기"?"입금대기":v==="입금확인"?"입금확인":v==="배달완료"?"배달완료":v==="주문취소"?"주문취소":"전체"}),i.jsx("i",{className:`ri-arrow-down-s-line text-gray-400 text-sm transition-transform duration-200 ${k?"rotate-180":""}`})]}),k&&i.jsx("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-lg z-20 overflow-hidden",children:[{key:"all",label:"전체"},{key:"입금대기",label:"입금대기"},{key:"입금확인",label:"입금확인"},{key:"배달완료",label:"배달완료"},{key:"주문취소",label:"주문취소"}].map(K=>i.jsx("button",{onClick:()=>{b(K.key),C(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${v===K.key?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:K.label},K.key))})]})})]})}),(j!=="today"||v!=="all")&&i.jsx("div",{className:"pt-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex flex-wrap gap-2",children:[j!=="today"&&i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium",children:[i.jsx("i",{className:"ri-calendar-line text-xs"}),i.jsx("span",{children:j==="yesterday"?"어제":j==="tomorrow"?"내일":j==="custom"?"날짜 선택":"오늘"}),i.jsx("button",{onClick:()=>L("today"),className:"ml-1 hover:bg-orange-200 rounded-full p-0.5",children:i.jsx("i",{className:"ri-close-line text-xs"})})]}),v!=="all"&&i.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-orange-100 text-orange-700 rounded-full text-sm font-medium",children:[i.jsx("i",{className:"ri-filter-line text-xs"}),i.jsx("span",{children:v}),i.jsx("button",{onClick:()=>b("all"),className:"ml-1 hover:bg-orange-200 rounded-full p-0.5",children:i.jsx("i",{className:"ri-close-line text-xs"})})]})]})})]}),i.jsx("div",{className:"p-4 sm:p-6",children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-gray-700",children:[i.jsx("i",{className:"ri-search-line text-gray-500 text-base"}),i.jsx("span",{children:"검색"})]}),i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"text",placeholder:"입금자명, 배달주소, 고객명 등으로 검색",value:g,onChange:K=>x(K.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-xl text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("button",{onClick:ge,className:"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-lg text-sm font-medium transition-all duration-200 flex items-center gap-2",children:[i.jsx("i",{className:"ri-printer-line text-sm"}),i.jsx("span",{children:"인쇄"})]})})]})})]}),i.jsx("div",{className:"space-y-6",children:u?i.jsx("div",{className:"bg-white rounded-2xl p-12 shadow-lg",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-4 border-orange-500 mx-auto mb-6"}),i.jsx("p",{className:"text-lg text-gray-600 font-medium",children:"주문 데이터를 불러오는 중..."})]})}):V.length===0?i.jsx("div",{className:"bg-white rounded-2xl p-12 shadow-lg",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx("i",{className:"ri-shopping-cart-line text-6xl mb-6"}),i.jsx("p",{className:"text-xl font-medium",children:"선택한 조건에 해당하는 주문이 없습니다."})]})}):ee.map(K=>i.jsx("div",{className:"bg-white rounded-2xl border-2 border-gray-300 shadow-lg hover:shadow-xl hover:border-orange-400 transition-all duration-300 cursor-pointer group mb-4",onClick:()=>e(`/admin/${t}/order-detail/${K.id}`),children:i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-start justify-between mb-4 sm:mb-6",children:[i.jsxs("div",{className:"flex flex-col gap-2",children:[i.jsxs("h3",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:["주문 #",je(K,V)]}),i.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[i.jsx("div",{className:`px-3 py-1.5 rounded-full text-xs sm:text-sm font-bold shadow-sm ${K.status==="입금대기"?"bg-yellow-100 text-yellow-800 border border-yellow-200":K.status==="입금확인"?"bg-blue-100 text-blue-800 border border-blue-200":K.status==="배달완료"?"bg-green-100 text-green-800 border border-green-200":K.status==="주문취소"?"bg-red-100 text-red-800 border border-red-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:K.status}),i.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 bg-gray-100 rounded-full text-xs sm:text-sm text-gray-600",children:[i.jsx("i",{className:`${K.order_type==="delivery"?"ri-truck-line":"ri-walk-line"} text-xs sm:text-sm`}),i.jsx("span",{className:"font-medium",children:K.order_type==="delivery"?"배달":"픽업"})]})]})]}),i.jsxs("button",{onClick:we=>{we.stopPropagation(),e(`/admin/${t}/order-detail/${K.id}`)},className:"px-3 sm:px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg text-xs sm:text-sm font-semibold transition-all duration-200 flex items-center gap-1.5 sm:gap-2 shadow-sm",children:[i.jsx("i",{className:"ri-eye-line text-xs sm:text-sm"}),i.jsx("span",{children:"상세보기"})]})]}),i.jsx("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm sm:text-base text-gray-700",children:[K.depositor_name&&i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("i",{className:"ri-user-line text-sm sm:text-base text-gray-500"}),i.jsx("span",{className:"font-semibold text-gray-900",children:K.depositor_name})]}),K.delivery_address&&i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsx("i",{className:"ri-map-pin-line text-sm sm:text-base text-gray-500 mt-0.5"}),i.jsx("span",{className:"font-medium text-gray-800 break-words leading-relaxed",children:K.delivery_address})]})]})}),i.jsx("div",{className:"bg-gray-50 rounded-xl p-3 sm:p-4 mb-4",children:i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsx("div",{className:"space-y-2",children:K.daily_menu_orders?.map((we,q)=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[i.jsx("span",{className:"font-medium text-gray-900 text-sm sm:text-base truncate",children:we.menus.name}),i.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 flex-shrink-0",children:["(",we.quantity,"개)"]})]}),i.jsxs("span",{className:"font-semibold text-gray-700 text-sm sm:text-base ml-2",children:[((we.menus.price||0)*(we.quantity||0)).toLocaleString(),"원"]})]},`daily-${q}`))}),i.jsxs("div",{className:"space-y-2 pt-2 border-t border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"상품 금액"}),i.jsxs("span",{className:"text-gray-800 text-sm",children:[(K.subtotal||0).toLocaleString(),"원"]})]}),K.order_type==="delivery"&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-600 text-sm",children:"배달비"}),i.jsxs("span",{className:"text-gray-800 text-sm",children:[(K.delivery_fee||K.total-K.subtotal||0).toLocaleString(),"원"]})]}),i.jsxs("div",{className:"flex justify-between items-center pt-2 border-t border-gray-200",children:[i.jsx("span",{className:"font-semibold text-gray-800 text-sm sm:text-base",children:"총 결제금액"}),i.jsx("span",{className:"text-lg sm:text-2xl font-bold text-orange-600",children:ye(K.total||0)})]})]})]})})]})},K.id))}),re>1&&i.jsx("div",{className:"mt-6 flex justify-center",children:i.jsx("div",{className:"flex items-center gap-2",children:Array.from({length:re},(K,we)=>we+1).map(K=>i.jsx("button",{onClick:()=>ie(K),className:`w-10 h-10 rounded-lg text-sm font-medium transition-colors ${P===K?"bg-orange-500 text-white":"bg-white text-gray-600 border border-gray-300 hover:bg-gray-50"}`,children:K},K))})})]})]})]})}const k2=["메인요리","국물류","김치류","젓갈류","나물류","조림류","특별반찬","인기메뉴","세트메뉴","월식메뉴"];function VV(){const e=vt(),{storeId:t}=Sn(),{user:r,loading:n}=ir(),[s,o]=w.useState([]),[u,d]=w.useState(!0),[h,m]=w.useState(!1),[g,x]=w.useState(null),[v,b]=w.useState("all"),[j,N]=w.useState({name:"",description:"",price:"",category:""});w.useEffect(()=>{if(!n&&!r){e("/admin-login");return}if(!n&&r&&r.role!=="admin"){e("/admin-dashboard");return}t&&_()},[r,n,e,t]);const _=async()=>{if(t)try{d(!0),console.log("🔍 메뉴 로드 시작 - 매장 ID:",t);const k=await _f(t);console.log("✅ 메뉴 로드 성공:",k?.length||0,"개 메뉴"),k&&k.length>0&&console.log("📋 메뉴 목록:",k.map(C=>`${C.name} (${C.category})`)),o(k)}catch(k){console.error("❌ 메뉴 로드 실패:",k)}finally{d(!1)}},O=async k=>{if(k.preventDefault(),!!t)try{const C={...j,price:parseFloat(j.price),store_id:t,is_available:!0};if(g)await lc(g.id,C),o(P=>P.map(T=>T.id===g.id?{...T,...C}:T));else{const P=await kp(C);o(T=>[...T,P])}m(!1),x(null),N({name:"",description:"",price:"",category:""})}catch(C){console.error("메뉴 저장 실패:",C),alert("메뉴 저장에 실패했습니다.")}},S=async k=>{try{await Cp(k),o(C=>C.filter(P=>P.id!==k))}catch(C){console.error("메뉴 삭제 실패:",C),alert("메뉴 삭제에 실패했습니다.")}},A=s.filter(k=>v==="all"||k.category===v);return console.log("🔍 카테고리 필터링:",{selectedCategory:v,totalMenus:s.length,filteredMenus:A.length,categories:[...new Set(s.map(k=>k.category))]}),n||u?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):!r||r.role!=="admin"?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"관리자만 접근할 수 있습니다."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(br,{}),i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"메뉴관리"})]}),i.jsxs("button",{onClick:()=>{x(null),N({name:"",description:"",price:"",category:""}),m(!0)},className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[i.jsx("i",{className:"ri-add-line"}),"메뉴 추가"]})]})})}),i.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[s.length>0&&i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-4 mb-6",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("div",{className:"flex gap-2 pb-2 min-w-max",children:[i.jsxs("button",{onClick:()=>b("all"),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0 ${v==="all"?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:`ri-restaurant-line mr-1.5 ${v==="all"?"text-white":"text-gray-600"}`}),"전체"]}),k2.map(k=>s.filter(P=>P.category===k).length===0?null:i.jsxs("button",{onClick:()=>b(k),className:`px-3 py-1.5 rounded-full text-xs font-medium transition-all duration-200 whitespace-nowrap flex-shrink-0 ${v===k?"bg-gray-800 text-white":"bg-white text-gray-800 border border-gray-200 hover:bg-gray-50"}`,children:[i.jsx("i",{className:`ri-restaurant-line mr-1.5 ${v===k?"text-white":"text-gray-600"}`}),k]},k))]})})}),u?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"메뉴를 불러오는 중..."})]}):A.length>0?i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:A.map(k=>i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl hover:scale-102 transition-all duration-300 group",children:i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 group-hover:text-orange-600 transition-colors flex-1 pr-2",children:k.name}),i.jsx("div",{className:"text-right flex-shrink-0",children:i.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[(k.price||0).toLocaleString(),"원"]})})]}),k.description&&i.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2 leading-relaxed text-sm sm:text-base",children:k.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[i.jsxs("span",{className:`px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs font-semibold flex items-center gap-1 ${k.is_available?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:[i.jsx("i",{className:`ri-${k.is_available?"check":"close"}-line text-xs`}),k.is_available?"판매중":"판매중지"]}),i.jsx("span",{className:"text-xs sm:text-sm text-gray-500 bg-gray-100 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full",children:k.category})]}),i.jsxs("div",{className:"flex items-center justify-end gap-2",children:[i.jsxs("button",{onClick:()=>{x(k),N({name:k.name,description:k.description||"",price:k.price.toString(),category:k.category}),m(!0)},className:"px-4 py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-xs sm:text-sm bg-white text-gray-900 hover:bg-gray-900 hover:text-white border border-gray-300 hover:border-gray-900 shadow-sm hover:shadow-lg",children:[i.jsx("i",{className:"ri-edit-line mr-1"}),"수정"]}),i.jsxs("button",{onClick:()=>{confirm("정말로 이 메뉴를 삭제하시겠습니까?")&&S(k.id)},className:"px-4 py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-xs sm:text-sm bg-white text-red-600 hover:bg-red-600 hover:text-white border border-red-300 hover:border-red-600 shadow-sm hover:shadow-lg",children:[i.jsx("i",{className:"ri-delete-bin-line mr-1"}),"삭제"]})]})]})},k.id))}):v==="all"?i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/50 p-12 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("i",{className:"ri-restaurant-line text-4xl text-orange-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"메뉴가 없습니다"}),i.jsxs("p",{className:"text-gray-600 text-lg",children:['위의 "메뉴 추가" 버튼을 눌러',i.jsx("br",{}),"새로운 메뉴를 추가해보세요!"]})]}):i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/50 p-12 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("i",{className:"ri-restaurant-line text-4xl text-orange-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"메뉴가 없습니다"}),i.jsx("p",{className:"text-gray-600 text-lg",children:"이 카테고리에 등록된 메뉴가 없습니다."})]})]}),h&&i.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl p-6 w-full max-w-md",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:g?"메뉴 수정":"메뉴 추가"}),i.jsxs("form",{onSubmit:O,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"메뉴명 *"}),i.jsx("input",{type:"text",value:j.name,onChange:k=>N({...j,name:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"메뉴명을 입력하세요",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"설명"}),i.jsx("textarea",{value:j.description,onChange:k=>N({...j,description:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500 resize-none",rows:3,placeholder:"메뉴 설명을 입력하세요"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"가격 *"}),i.jsx("input",{type:"number",value:j.price,onChange:k=>N({...j,price:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",placeholder:"가격을 입력하세요",min:"0",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리 *"}),i.jsxs("select",{value:j.category,onChange:k=>N({...j,category:k.target.value}),className:"w-full p-3 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-orange-500",required:!0,children:[i.jsx("option",{value:"",children:"카테고리를 선택하세요"}),k2.map(k=>i.jsx("option",{value:k,children:k},k))]})]}),i.jsxs("div",{className:"flex gap-2 pt-4",children:[i.jsx("button",{type:"submit",className:"flex-1 bg-orange-500 hover:bg-orange-600 text-white py-3 px-4 rounded-lg font-medium",children:g?"수정하기":"추가하기"}),i.jsx("button",{type:"button",onClick:()=>{m(!1),x(null),N({name:"",description:"",price:"",category:""})},className:"flex-1 bg-gray-100 hover:bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium",children:"취소"})]})]})]})})]})}function FV(){const e=vt(),{storeId:t}=Sn(),{user:r,loading:n}=ir(),[s,o]=w.useState([]),[u,d]=w.useState(!0),[h,m]=w.useState(""),[g,x]=w.useState("today"),[v,b]=w.useState(""),[j,N]=w.useState(!1);w.useEffect(()=>{if(!n&&!r){e("/admin-login");return}if(!n&&r&&r.role!=="admin"){e("/admin-dashboard");return}t&&(_(),O())},[r,n,e,t]),w.useEffect(()=>{const J=ce=>{ce.target.closest(".period-dropdown-container")||N(!1)};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]);const _=async()=>{if(t)try{d(!0);const J=await xl(t);o(J)}catch(J){console.error("주문 로드 실패:",J)}finally{d(!1)}},O=async()=>{if(t)try{const ce=(await wa()).find(z=>z.id===t);ce&&m(ce.name)}catch(J){console.error("매장명 로드 실패:",J)}},S=J=>`${J.toLocaleString()}원`,A=J=>{if(x(J),N(!1),J!=="custom")b("");else{const ce=new Date,z=new Date(ce.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),V=new Date(z.getFullYear(),z.getMonth(),z.getDate()),re=V.getFullYear(),ve=String(V.getMonth()+1).padStart(2,"0"),I=String(V.getDate()).padStart(2,"0"),ee=`${re}-${ve}-${I}`;b(ee)}},k=J=>{b(J)},C=J=>{const ce=new Date,z=new Date(ce.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),V=new Date(z.getFullYear(),z.getMonth(),z.getDate()),re=ee=>{const ie=ee.getFullYear(),ge=String(ee.getMonth()+1).padStart(2,"0"),je=String(ee.getDate()).padStart(2,"0");return`${ie}-${ge}-${je}`},I=(()=>{switch(g){case"today":return{start:re(V),end:re(V)};case"thisWeek":const ee=new Date(V),ie=ee.getDay(),ge=ee.getDate()-ie+(ie===0?-6:1);ee.setDate(ge);const je=new Date(ee);return je.setDate(ee.getDate()+6),{start:re(ee),end:re(je)};case"thisMonth":const ye=new Date(V.getFullYear(),V.getMonth(),1),K=new Date(V.getFullYear(),V.getMonth()+1,0);return{start:re(ye),end:re(K)};case"custom":return{start:v||re(V),end:v||re(V)};default:return{start:re(V),end:re(V)}}})();return J.filter(ee=>{if(ee.daily_menu_orders&&ee.daily_menu_orders.length>0)return ee.daily_menu_orders.some(je=>{const ye=je.daily_menus.menu_date;return ye>=I.start&&ye<=I.end});const ie=new Date(ee.created_at),ge=re(ie);return ge>=I.start&&ge<=I.end})},P=J=>{switch(g){case"today":return`오늘 ${J}`;case"thisWeek":return`이번주 ${J}`;case"thisMonth":return`이번달 ${J}`;case"custom":if(v){const[ce,z,V]=v.split("-");return`${new Date(parseInt(ce),parseInt(z)-1,parseInt(V)).toLocaleDateString("ko-KR")} ${J}`}return`선택된 날짜 ${J}`;default:return`오늘 ${J}`}},T=(J,ce)=>{const z=J.reduce((je,ye)=>je+ye.total,0),V=J.length,re=V>0?Math.round(z/V):0;let ve=0;const I=new Date,ee=new Date(I.getFullYear(),I.getMonth(),I.getDate()),ie=new Date(ee);switch(ie.setDate(ie.getDate()-1),ce){case"today":ve=J.filter(ye=>{const K=new Date(ye.created_at);return K>=ie&&K<ee}).reduce((ye,K)=>ye+K.total,0);break;case"yesterday":const je=new Date(ee);je.setDate(je.getDate()-2),ve=J.filter(ye=>{const K=new Date(ye.created_at);return K>=je&&K<ie}).reduce((ye,K)=>ye+K.total,0);break;default:ve=0}const ge=ve>0?Math.round((z-ve)/ve*100):0;return{totalRevenue:z,totalOrders:V,averageOrderValue:re,revenueGrowthRate:ge}},D=J=>{const ce=J.filter(V=>V.order_type==="pickup"),z={};return ce.forEach(V=>{if(V.pickup_time){const re=parseInt(V.pickup_time.split(":")[0]),ve=re<12?`오전 ${re}시`:`오후 ${re-12}시`;z[ve]=(z[ve]||0)+1}}),Object.entries(z).map(([V,re])=>({time:V,orders:re})).sort((V,re)=>{const ve=V.time.includes("오전"),I=re.time.includes("오전");if(ve&&!I)return-1;if(!ve&&I)return 1;const ee=parseInt(V.time.match(/\d+/)?.[0]||"0"),ie=parseInt(re.time.match(/\d+/)?.[0]||"0");return ee-ie})},$=J=>{const ce=J.filter(V=>V.order_type==="delivery"),z={};return ce.forEach(V=>{if(V.delivery_time){const re=V.delivery_time.split(" ");if(re.length>=2){const I=re.slice(1).join(" ").split(" (")[0];z[I]=(z[I]||0)+1}else{const ve=V.delivery_time.split(" (")[0];z[ve]=(z[ve]||0)+1}}}),Object.entries(z).map(([V,re])=>({time:V,orders:re})).sort((V,re)=>V.time.localeCompare(re.time))},U=J=>{const ce={};return J.forEach(z=>{z.order_items&&z.order_items.forEach(V=>{const re=V.menus.name,ve=V.price*V.quantity;ce[re]||(ce[re]={name:re,totalOrders:0,totalQuantity:0,totalRevenue:0,avgPrice:V.price,profitability:0}),ce[re].totalOrders+=1,ce[re].totalQuantity+=V.quantity,ce[re].totalRevenue+=ve})}),Object.values(ce).forEach(z=>{z.profitability=z.totalOrders>0?Math.round(z.totalRevenue/z.totalOrders):0}),Object.values(ce).sort((z,V)=>V.profitability-z.profitability).slice(0,10)},L=C(s),te=(()=>{const J={};return L.forEach(ce=>{ce.order_items&&ce.order_items.forEach(z=>{const V=z.menus.name;J[V]||(J[V]={name:V,count:0}),J[V].count+=z.quantity})}),Object.values(J).sort((ce,z)=>z.count-ce.count).slice(0,5)})(),de=()=>{const{logout:J}=ir();J(),e("/admin-login")};return n||u?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):!r||r.role!=="admin"?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"관리자만 접근할 수 있습니다."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(br,{}),i.jsx("div",{className:"flex flex-col",children:i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"px-4 py-4",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"뒤로가기",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"성과분석"})]}),i.jsx("div",{className:"flex items-center gap-3",children:i.jsxs("button",{onClick:de,className:"bg-red-500 hover:bg-red-600 text-white px-3 py-1.5 rounded-md flex items-center whitespace-nowrap cursor-pointer text-sm",children:[i.jsx("i",{className:"ri-logout-box-r-line mr-1.5 text-xs"}),"로그아웃"]})})]})})})}),i.jsxs("div",{className:"p-4 flex-1",children:[i.jsxs("div",{className:"bg-white rounded-2xl border border-gray-100 p-4 sm:p-6 shadow-lg mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-filter-3-line text-orange-500 text-base sm:text-lg"})}),i.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"필터"})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("i",{className:"ri-calendar-line text-gray-600 text-base sm:text-lg"}),i.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-800 whitespace-nowrap",children:"기간:"})]}),i.jsx("div",{className:"flex-1",children:i.jsxs("div",{className:"relative period-dropdown-container",children:[i.jsxs("button",{onClick:()=>N(!j),className:"w-full px-3 sm:px-5 py-3 sm:py-4 bg-white border-2 border-gray-200 rounded-2xl text-sm sm:text-base font-bold text-gray-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500 cursor-pointer transition-all duration-200 hover:border-orange-300 hover:shadow-md flex items-center justify-between",children:[i.jsx("span",{children:g==="today"?"오늘":g==="thisWeek"?"이번주":g==="thisMonth"?"이번달":g==="custom"?"날짜 선택":"오늘"}),i.jsx("i",{className:`ri-arrow-down-s-line text-gray-400 text-sm transition-transform duration-200 ${j?"rotate-180":""}`})]}),j&&i.jsxs("div",{className:"absolute top-full left-0 right-0 mt-1 bg-white border border-gray-300 rounded-xl shadow-lg z-20 overflow-hidden",children:[i.jsx("button",{onClick:()=>{A("today"),N(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${g==="today"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"오늘"}),i.jsx("button",{onClick:()=>{A("thisWeek"),N(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${g==="thisWeek"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"이번주"}),i.jsx("button",{onClick:()=>{A("thisMonth"),N(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${g==="thisMonth"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"이번달"}),i.jsx("button",{onClick:()=>{A("custom"),N(!1)},className:`w-full px-4 py-3 text-left text-base font-semibold transition-colors duration-200 hover:bg-gray-50 ${g==="custom"?"bg-orange-50 text-orange-600":"text-gray-800"}`,children:"날짜 선택"})]})]})})]}),g==="custom"&&i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[i.jsx("i",{className:"ri-calendar-check-line text-gray-600 text-base sm:text-lg"}),i.jsx("span",{className:"text-sm sm:text-base font-bold text-gray-800 whitespace-nowrap",children:"날짜:"})]}),i.jsx("div",{className:"flex-1",children:i.jsx("input",{type:"date",value:v||"",onChange:J=>k(J.target.value),className:"w-full px-3 sm:px-4 py-2 sm:py-3 bg-gray-50 border-0 rounded-xl text-sm sm:text-base font-semibold text-gray-800 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:bg-white transition-all duration-200 hover:bg-gray-100",placeholder:"날짜를 선택하세요"})})]})]})]}),i.jsxs("div",{className:"mb-6 sm:mb-8",children:[i.jsxs("h4",{className:"text-base sm:text-lg font-bold text-gray-900 mb-3 sm:mb-4 flex items-center gap-2",children:[i.jsx("i",{className:"ri-dashboard-line text-orange-500 text-base sm:text-lg"}),"주요 통계"]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-green-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-green-600 text-lg sm:text-xl"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-700 mb-1",children:P("총 매출")}),i.jsx("p",{className:"text-lg sm:text-xl font-bold text-green-600 break-words",children:S(T(L,g).totalRevenue)})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-blue-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-blue-600 text-lg sm:text-xl"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-700 mb-1",children:P("총 주문수")}),i.jsxs("p",{className:"text-lg sm:text-2xl font-bold text-blue-600",children:[T(L,g).totalOrders.toLocaleString(),"건"]})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-purple-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-bar-chart-line text-purple-600 text-lg sm:text-xl"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-700 mb-1",children:P("평균 주문액")}),i.jsx("p",{className:"text-lg sm:text-xl font-bold text-purple-600 break-words",children:S(T(L,g).averageOrderValue)})]})]})}),i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm hover:shadow-md transition-shadow",children:i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-100 rounded-xl flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-orange-600 text-lg sm:text-xl"})}),i.jsxs("div",{className:"text-right",children:[i.jsx("p",{className:"text-xs sm:text-sm font-bold text-gray-700 mb-1",children:P("인기메뉴")}),i.jsx("p",{className:"text-sm sm:text-lg font-bold text-orange-600 mb-1 break-words",children:te.length>0?te[0].name:"없음"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-600",children:te.length>0?`${te[0].count}개 판매`:"주문 없음"})]})]})})]})]}),i.jsxs("div",{className:"mb-6 sm:mb-8",children:[i.jsxs("h4",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[i.jsx("i",{className:"ri-time-line text-orange-500 text-base sm:text-lg"}),"시간대별 주문 분석"]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 sm:gap-8",children:[i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-store-line text-orange-600 text-base sm:text-lg"})}),i.jsx("span",{className:"break-words",children:P("픽업 시간대별 주문")})]}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[D(L).map((J,ce)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-800 break-words flex-1 mr-2",children:J.time}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0",children:[i.jsx("div",{className:"w-20 sm:w-32 h-3 bg-gray-200 rounded-full",children:i.jsx("div",{className:"h-3 bg-orange-500 rounded-full transition-all duration-300",style:{width:`${D(L).length>0?J.orders/Math.max(...D(L).map(z=>z.orders))*100:0}%`}})}),i.jsxs("span",{className:"text-sm sm:text-base font-bold text-gray-900 w-8 sm:w-12 text-right",children:[J.orders,"건"]})]})]},ce)),D(L).length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-6 sm:py-8",children:[i.jsx("i",{className:"ri-store-line text-2xl sm:text-3xl mb-3"}),i.jsx("p",{className:"text-sm sm:text-base font-medium",children:"픽업 주문이 없습니다"})]})]})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-truck-line text-blue-600 text-base sm:text-lg"})}),i.jsx("span",{className:"break-words",children:P("배달 시간대별 주문")})]}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[$(L).map((J,ce)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsx("span",{className:"text-sm sm:text-base font-semibold text-gray-800 break-words flex-1 mr-2",children:J.time}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-4 flex-shrink-0",children:[i.jsx("div",{className:"w-20 sm:w-32 h-3 bg-gray-200 rounded-full",children:i.jsx("div",{className:"h-3 bg-blue-500 rounded-full transition-all duration-300",style:{width:`${$(L).length>0?J.orders/Math.max(...$(L).map(z=>z.orders))*100:0}%`}})}),i.jsxs("span",{className:"text-sm sm:text-base font-bold text-gray-900 w-8 sm:w-12 text-right",children:[J.orders,"건"]})]})]},ce)),$(L).length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-6 sm:py-8",children:[i.jsx("i",{className:"ri-truck-line text-2xl sm:text-3xl mb-3"}),i.jsx("p",{className:"text-sm sm:text-base font-medium",children:"배달 주문이 없습니다"})]})]})]})]})]}),i.jsxs("div",{className:"mb-6 sm:mb-8",children:[i.jsxs("h4",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2",children:[i.jsx("i",{className:"ri-restaurant-line text-orange-500 text-base sm:text-lg"}),"메뉴 수익성 분석"]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6 shadow-sm",children:[i.jsxs("h3",{className:"text-base sm:text-lg font-bold text-gray-900 mb-4 sm:mb-6 flex items-center gap-2 sm:gap-3",children:[i.jsx("div",{className:"w-8 h-8 sm:w-10 sm:h-10 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-money-dollar-circle-line text-orange-600 text-base sm:text-lg"})}),i.jsx("span",{className:"break-words",children:P("메뉴 수익성 분석")})]}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[U(L).map((J,ce)=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between p-4 sm:p-5 bg-gradient-to-r from-orange-50 to-orange-100 rounded-xl border border-orange-200 hover:shadow-md transition-shadow gap-3 sm:gap-0",children:[i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-orange-500 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsxs("span",{className:"text-white font-bold text-sm sm:text-base",children:["#",ce+1]})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("div",{className:"text-base sm:text-lg font-bold text-gray-900 mb-1 break-words",children:J.name}),i.jsxs("div",{className:"text-sm sm:text-base text-gray-700 font-medium",children:[J.totalOrders,"회 주문 • ",J.totalQuantity,"개 판매"]})]})]}),i.jsxs("div",{className:"text-left sm:text-right",children:[i.jsx("div",{className:"text-lg sm:text-xl font-bold text-orange-600 mb-1 break-words",children:S(J.profitability)}),i.jsx("div",{className:"text-sm sm:text-base text-gray-700 font-medium mb-1",children:"평균 단가"}),i.jsxs("div",{className:"text-xs sm:text-sm text-gray-600 break-words",children:["총 ",S(J.totalRevenue)]})]})]},ce)),U(L).length===0&&i.jsxs("div",{className:"text-center text-gray-500 py-8 sm:py-12",children:[i.jsx("i",{className:"ri-restaurant-line text-3xl sm:text-4xl mb-3 sm:mb-4"}),i.jsx("p",{className:"text-base sm:text-lg font-medium",children:"선택한 기간에 주문된 메뉴가 없습니다"})]})]})]})]})]})]})}function WV(){const e=vt(),{storeId:t}=Sn(),{user:r,loading:n}=ir(),[s,o]=w.useState(null),[u,d]=w.useState(!0),[h,m]=w.useState(!1),[g,x]=w.useState({name:"",category:"",delivery_area:"",phone:"",business_hours_start:"",business_hours_end:"",order_cutoff_time:"",minimum_order_amount:"",bank_account:"",account_holder:""});w.useEffect(()=>{if(!n&&!r){e("/admin-login");return}if(!n&&r&&r.role!=="admin"){e("/admin-dashboard");return}t&&v()},[r,n,e,t]);const v=async()=>{if(t)try{d(!0),console.log("🔍 매장 정보 로드 시작 - 매장 ID:",t);const j=await bO(t);console.log("✅ 매장 정보 로드 성공:",j),o(j),x({name:j.name||"",category:j.category||"",delivery_area:j.delivery_area||"",phone:j.phone||"",business_hours_start:j.business_hours_start||"",business_hours_end:j.business_hours_end||"",order_cutoff_time:j.order_cutoff_time||"",minimum_order_amount:j.minimum_order_amount?.toString()||"",bank_account:j.bank_account||"",account_holder:j.account_holder||""})}catch(j){console.error("❌ 매장 로드 실패:",j)}finally{d(!1)}},b=async j=>{if(j.preventDefault(),!!t)try{const N={name:g.name,category:g.category,delivery_area:g.delivery_area,phone:g.phone,business_hours_start:g.business_hours_start,business_hours_end:g.business_hours_end,order_cutoff_time:g.order_cutoff_time,minimum_order_amount:g.minimum_order_amount?parseInt(g.minimum_order_amount):0,bank_account:g.bank_account,account_holder:g.account_holder},_=await _x(t,N);o(_),m(!1),alert("매장 정보가 업데이트되었습니다.")}catch(N){console.error("매장 정보 업데이트 실패:",N),alert("매장 정보 업데이트에 실패했습니다.")}};return n||u?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):!r||r.role!=="admin"?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"관리자만 접근할 수 있습니다."})]})}):s?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(br,{}),i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"매장관리"})]}),i.jsxs("button",{onClick:()=>m(!0),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[i.jsx("i",{className:"ri-edit-line"}),"정보 수정"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:[i.jsx("div",{className:"flex items-center justify-between mb-6",children:i.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:s.name})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"매장명"}),i.jsx("p",{className:"text-gray-800",children:s.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsx("p",{className:"text-gray-800",children:s.category||"카테고리가 없습니다."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"배달지역"}),i.jsx("p",{className:"text-gray-800",children:s.delivery_area||"배달지역이 없습니다."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),i.jsx("p",{className:"text-gray-800",children:s.phone||"전화번호가 없습니다."})]})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영시간"}),i.jsx("p",{className:"text-gray-800",children:s.business_hours_start&&s.business_hours_end?`${s.business_hours_start} - ${s.business_hours_end}`:"운영시간이 설정되지 않았습니다."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주문마감시간"}),i.jsx("p",{className:"text-gray-800",children:s.order_cutoff_time||"주문마감시간이 설정되지 않았습니다."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"최소 주문금액"}),i.jsxs("p",{className:"text-gray-800",children:["₩",s.minimum_order_amount?.toLocaleString()||"0"]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계좌번호"}),i.jsx("p",{className:"text-gray-800",children:s.bank_account||"계좌번호가 없습니다."})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예금주명"}),i.jsx("p",{className:"text-gray-800",children:s.account_holder||"예금주명이 없습니다."})]})]})]})]})}),h&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-xl p-6 max-w-2xl mx-4 w-full max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"매장 정보 수정"}),i.jsx("button",{onClick:()=>m(!1),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("i",{className:"ri-close-line text-xl"})})]}),i.jsxs("form",{onSubmit:b,className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"매장명 *"}),i.jsx("input",{type:"text",value:g.name,onChange:j=>x({...g,name:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"카테고리"}),i.jsx("input",{type:"text",value:g.category,onChange:j=>x({...g,category:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"예: 한식반찬"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"배달지역"}),i.jsx("input",{type:"text",value:g.delivery_area,onChange:j=>x({...g,delivery_area:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"예: 진주, 삼천포, 사천"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"전화번호"}),i.jsx("input",{type:"tel",value:g.phone,onChange:j=>x({...g,phone:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"예: 01032626543"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영시간 시작"}),i.jsx("input",{type:"time",value:g.business_hours_start,onChange:j=>x({...g,business_hours_start:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"운영시간 종료"}),i.jsx("input",{type:"time",value:g.business_hours_end,onChange:j=>x({...g,business_hours_end:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"주문마감시간"}),i.jsx("input",{type:"time",value:g.order_cutoff_time,onChange:j=>x({...g,order_cutoff_time:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"최소 주문금액"}),i.jsx("input",{type:"number",value:g.minimum_order_amount,onChange:j=>x({...g,minimum_order_amount:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",min:"0",placeholder:"예: 10000"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"계좌번호"}),i.jsx("input",{type:"text",value:g.bank_account,onChange:j=>x({...g,bank_account:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"예: 3333-33-33333"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"예금주명"}),i.jsx("input",{type:"text",value:g.account_holder,onChange:j=>x({...g,account_holder:j.target.value}),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",placeholder:"예: 윤윤자"})]})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:()=>m(!1),className:"flex-1 px-4 py-2 bg-gray-100 text-gray-700 rounded-lg font-medium hover:bg-gray-200 transition-colors",children:"취소"}),i.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-orange-500 text-white rounded-lg font-medium hover:bg-orange-600 transition-colors",children:"저장"})]})]})]})})]}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-error-warning-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"매장을 찾을 수 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"매장 정보를 불러올 수 없습니다."})]})})}const C2=async(e,t,r=1,n=5)=>{try{console.log("전화번호로 주문 조회:",{phone:e,storeId:t,page:r,limit:n});const s=(r-1)*n,{data:o,error:u}=await pe.from("orders").select("id, status, customer_name, customer_phone, created_at, store_id").eq("customer_phone",e).eq("store_id",t).order("created_at",{ascending:!1});console.log("🔍 해당 전화번호의 모든 주문:",o);const{data:d,error:h}=await pe.from("orders").select(`
        *,
        stores (
          id,
          name,
          phone
        ),
        order_items (
          quantity,
          price,
          menus (
            id,
            name,
            price
          )
        )
      `).eq("customer_phone",e).eq("store_id",t).order("created_at",{ascending:!1}).range(s,s+n-1);if(h)throw console.error("주문 조회 오류:",h),h;console.log("조회된 주문 수:",d?.length||0),console.log("📋 주문 상세:",d);const m=o?.length||0,g=Math.ceil(m/n);return{orders:d||[],pagination:{currentPage:r,totalPages:g,totalCount:m,hasNextPage:r<g,hasPrevPage:r>1}}}catch(s){throw console.error("주문 조회 실패:",s),s}},XV=async e=>{try{const{data:t,error:r}=await pe.from("stores").select("id, name, phone, delivery_area, category").eq("id",e).single();if(r)throw console.error("매장 정보 조회 오류:",r),r;return t}catch(t){throw console.error("매장 정보 조회 실패:",t),t}};function QV(){const{storeId:e}=Sn(),[t,r]=w.useState(""),[n,s]=w.useState([]),[o,u]=w.useState(null),[d,h]=w.useState(!1),[m,g]=w.useState(null),[x,v]=w.useState(!1),[b,j]=w.useState(1),[N,_]=w.useState({currentPage:1,totalPages:1,totalCount:0,hasNextPage:!1,hasPrevPage:!1});w.useEffect(()=>{e&&e!=="undefined"?O():g("잘못된 매장 ID입니다.")},[e]);const O=async()=>{try{const C=await XV(e);u(C)}catch(C){console.error("매장 정보 로드 실패:",C),g("매장 정보를 불러올 수 없습니다.")}},S=async C=>{if(C.preventDefault(),!!t.trim()){h(!0),g(null),v(!0),j(1);try{const P=await C2(t.trim(),e,1,5);console.log("🔍 조회된 주문 데이터:",P),console.log("📊 주문 수:",P.orders.length),P.orders.forEach((T,D)=>{console.log(`주문 ${D+1}:`,{id:T.id,status:T.status,customer_name:T.customer_name,created_at:T.created_at})}),s(P.orders),_(P.pagination)}catch(P){console.error("주문 조회 실패:",P),g("주문을 조회할 수 없습니다. 전화번호를 확인해주세요.")}finally{h(!1)}}},A=async C=>{if(t.trim()){h(!0),g(null);try{const P=await C2(t.trim(),e,C,5);s(P.orders),_(P.pagination),j(C)}catch(P){console.error("주문 조회 실패:",P),g("주문을 조회할 수 없습니다.")}finally{h(!1)}}},k=C=>{const P=new Date(C);return new Date(P.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toLocaleString("ko-KR",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})};return i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100",children:[i.jsx(br,{}),i.jsxs("div",{className:"container mx-auto px-3 py-4 sm:px-4 sm:py-8 max-w-md sm:max-w-4xl",children:[i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-4 sm:p-8 mb-6 sm:mb-8",children:[i.jsxs("div",{className:"text-center mb-4 sm:mb-6",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-gradient-to-r from-orange-400 to-orange-500 rounded-2xl flex items-center justify-center mx-auto mb-3 sm:mb-4",children:i.jsx("i",{className:"ri-search-line text-xl sm:text-2xl text-white"})}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-800",children:"전화번호로 주문 조회"})]}),i.jsxs("form",{onSubmit:S,className:"space-y-4 sm:space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2 sm:mb-3",children:"전화번호"}),i.jsx("input",{type:"tel",value:t,onChange:C=>{const T=C.target.value.replace(/[^0-9]/g,"").slice(0,11);r(T)},placeholder:"01023432321",className:"w-full px-4 sm:px-6 py-3 sm:py-4 border-2 border-gray-200 rounded-2xl focus:ring-2 focus:ring-orange-500 focus:border-orange-500 text-base sm:text-lg transition-all duration-200 hover:border-orange-300 outline-none",required:!0}),i.jsx("div",{className:"text-xs sm:text-sm text-gray-500 mt-2",children:"숫자만 입력하세요 (예: 01023432321)"})]}),i.jsx("button",{type:"submit",disabled:d||!t.trim(),className:"w-full px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-orange-400 to-orange-500 text-white rounded-2xl hover:from-orange-500 hover:to-orange-600 transition-all duration-300 font-bold text-base sm:text-lg shadow-lg hover:shadow-xl transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none min-h-[48px]",children:d?i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}),"조회 중..."]}):i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx("i",{className:"ri-search-line text-xl"}),"주문 조회"]})})]}),o?.phone&&i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("div",{className:"flex items-center justify-center gap-2 text-gray-600",children:[i.jsx("i",{className:"ri-phone-line"}),i.jsxs("span",{children:["문의: ",o.phone]})]})})]}),m&&i.jsx("div",{className:"bg-red-50/80 backdrop-blur-sm border border-red-200 rounded-2xl p-6 mb-6 shadow-lg",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-12 h-12 bg-red-100 rounded-full flex items-center justify-center mr-4",children:i.jsx("i",{className:"ri-error-warning-line text-red-500 text-xl"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-bold text-red-800",children:"조회 실패"}),i.jsx("p",{className:"text-red-600 mt-1",children:m})]})]})}),x&&i.jsx("div",{className:"space-y-6",children:n.length===0?i.jsxs("div",{className:"bg-white/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-white/50 p-12 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("i",{className:"ri-shopping-cart-line text-4xl text-orange-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"주문이 없어요!"}),i.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"입력하신 전화번호로 주문한 내역이 없습니다."}),i.jsx("p",{className:"text-gray-500",children:"모든 주문 내역을 확인할 수 있어요! ✨"})]}):i.jsxs("div",{children:[i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-4 sm:p-6 mb-6",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 bg-gradient-to-r from-orange-400 to-orange-500 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx("i",{className:"ri-shopping-cart-line text-white text-lg sm:text-xl"})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-gray-800 whitespace-nowrap",children:"주문 내역"}),i.jsxs("p",{className:"text-orange-600 font-semibold text-sm sm:text-base",children:["총 ",N.totalCount,"건"]})]})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsx("div",{className:"text-2xl sm:text-4xl font-bold text-orange-500",children:N.totalCount}),i.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"주문 건수"})]})]})}),i.jsx("div",{className:"space-y-6",children:n.map(C=>{const T=($=>{switch($){case"입금대기":return{text:"입금대기",color:"text-orange-600",bgColor:"bg-orange-50",icon:"💳",description:"입금 확인 후 주문이 진행됩니다"};case"입금확인":return{text:"입금완료",color:"text-blue-600",bgColor:"bg-blue-50",icon:"👨‍🍳",description:"주방에서 준비 중입니다"};case"배달완료":return{text:"완료",color:"text-green-600",bgColor:"bg-green-50",icon:"🎉",description:"주문이 완료되었습니다"};case"주문취소":return{text:"취소",color:"text-red-600",bgColor:"bg-red-50",icon:"😢",description:"주문이 취소되었습니다"};default:return{text:$,color:"text-gray-600",bgColor:"bg-gray-50",icon:"❓",description:""}}})(C.status),D=$=>($||0).toLocaleString("ko-KR");return i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-200 overflow-hidden hover:shadow-xl transition-shadow duration-300 mb-4",children:[i.jsxs("div",{className:"p-4 sm:p-6 border-b-2 border-gray-200",children:[i.jsx("div",{className:"mb-3 sm:mb-4",children:i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("p",{className:"text-lg sm:text-xl font-bold text-gray-900 break-words",children:k(C.created_at)}),i.jsx("div",{className:`px-3 sm:px-4 py-1.5 sm:py-2 rounded-full ${T.bgColor} border-2 ${T.color==="text-orange-600"?"border-orange-200":T.color==="text-blue-600"?"border-blue-200":T.color==="text-green-600"?"border-green-200":T.color==="text-red-600"?"border-red-200":"border-gray-200"}`,children:i.jsx("span",{className:`text-xs sm:text-sm font-bold ${T.color}`,children:T.text})})]})}),i.jsxs("div",{className:"flex items-center gap-3 sm:gap-4 p-3 sm:p-5 bg-gray-50 rounded-xl border border-gray-200",children:[i.jsx("span",{className:"text-2xl sm:text-4xl",children:T.icon}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-bold text-gray-900 text-base sm:text-lg break-words",children:T.description}),i.jsxs("p",{className:"text-sm sm:text-base text-gray-700 font-medium break-words",children:[C.customer_name,"님의 주문"]})]})]})]}),i.jsxs("div",{className:"p-4 sm:p-6 border-b-2 border-gray-200",children:[i.jsx("h4",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"매장 정보"}),i.jsxs("div",{className:"flex items-start gap-3 sm:gap-4",children:[i.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 bg-orange-100 rounded-xl flex items-center justify-center border-2 border-orange-200 flex-shrink-0",children:i.jsx("i",{className:"ri-store-3-line text-xl sm:text-2xl text-orange-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("h5",{className:"font-bold text-gray-900 text-base sm:text-lg mb-1 sm:mb-2 break-words",children:C.stores.name}),i.jsx("p",{className:"text-sm sm:text-base text-gray-700 font-medium break-words",children:C.stores.phone})]})]})]}),i.jsxs("div",{className:"p-4 sm:p-6 border-b-2 border-gray-200",children:[i.jsx("h4",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"주문 정보"}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-user-line text-gray-600 w-5 sm:w-6 text-lg sm:text-xl flex-shrink-0"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-800 font-medium break-words",children:C.customer_name}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-600 break-words",children:["(",C.customer_phone,")"]})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-truck-line text-gray-600 w-5 sm:w-6 text-lg sm:text-xl flex-shrink-0"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-800 font-medium",children:C.order_type==="delivery"?"배달":"픽업"})]}),C.delivery_address&&i.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-map-pin-line text-gray-600 w-5 sm:w-6 mt-1 text-lg sm:text-xl flex-shrink-0"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-800 font-medium break-words",children:C.delivery_address})]}),(C.delivery_time||C.pickup_time)&&i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-time-line text-gray-600 w-5 sm:w-6 text-lg sm:text-xl flex-shrink-0"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-800 font-medium break-words",children:C.delivery_time||C.pickup_time})]}),i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-bank-card-line text-gray-600 w-5 sm:w-6 text-lg sm:text-xl flex-shrink-0"}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-800 font-medium break-words",children:["입금자: ",C.depositor_name]})]}),C.special_requests&&i.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[i.jsx("i",{className:"ri-message-3-line text-gray-600 w-5 sm:w-6 mt-1 text-lg sm:text-xl flex-shrink-0"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-sm sm:text-base font-bold text-gray-800",children:"특별 요청사항"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-700 mt-1 break-words",children:C.special_requests})]})]})]})]}),i.jsxs("div",{className:"p-4 sm:p-6 border-b-2 border-gray-200",children:[i.jsx("h4",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"주문 메뉴"}),i.jsx("div",{className:"space-y-2 sm:space-y-3",children:C.order_items?.map(($,U)=>i.jsxs("div",{className:"flex items-start justify-between p-3 sm:p-4 bg-gray-50 rounded-xl border border-gray-200",children:[i.jsxs("div",{className:"flex-1 min-w-0 pr-2",children:[i.jsx("h5",{className:"font-bold text-gray-900 text-base sm:text-lg break-words",children:$.menus?.name||"메뉴"}),i.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mt-1 font-medium",children:["수량: ",$.quantity,"개"]})]}),i.jsxs("div",{className:"text-right flex-shrink-0",children:[i.jsxs("p",{className:"font-bold text-gray-900 text-base sm:text-lg",children:[D(($.price||0)*$.quantity),"원"]}),i.jsxs("p",{className:"text-xs sm:text-base text-gray-600",children:[D($.price||0),"원 × ",$.quantity]})]})]},U))})]}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsx("h4",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"결제 정보"}),i.jsxs("div",{className:"space-y-2 sm:space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-medium",children:"상품 금액"}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-900 font-bold",children:[D(C.subtotal||0),"원"]})]}),C.order_type==="delivery"&&i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-medium",children:"배달비"}),i.jsxs("span",{className:"text-sm sm:text-base text-gray-900 font-bold",children:[D(C.delivery_fee||0),"원"]})]}),i.jsx("div",{className:"border-t-2 border-gray-200 pt-3 sm:pt-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"총 결제금액"}),i.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-orange-600",children:[D(C.total||0),"원"]})]})})]})]})]},C.id)})}),N.totalPages>1&&i.jsx("div",{className:"mt-8 flex justify-center",children:i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-4",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>A(b-1),disabled:!N.hasPrevPage||d,className:`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-300 ${N.hasPrevPage&&!d?"bg-gradient-to-r from-orange-400 to-orange-500 text-white hover:from-orange-500 hover:to-orange-600 shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:i.jsx("i",{className:"ri-arrow-left-line text-lg"})}),Array.from({length:N.totalPages},(C,P)=>P+1).map(C=>i.jsx("button",{onClick:()=>A(C),disabled:d,className:`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-300 ${C===b?"bg-gradient-to-r from-orange-400 to-orange-500 text-white shadow-lg":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200 hover:border-orange-300"} ${d?"cursor-not-allowed":""}`,children:C},C)),i.jsx("button",{onClick:()=>A(b+1),disabled:!N.hasNextPage||d,className:`px-4 py-3 rounded-xl text-sm font-semibold transition-all duration-300 ${N.hasNextPage&&!d?"bg-gradient-to-r from-orange-400 to-orange-500 text-white hover:from-orange-500 hover:to-orange-600 shadow-lg hover:shadow-xl transform hover:scale-105":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:i.jsx("i",{className:"ri-arrow-right-line text-lg"})})]})})})]})})]}),i.jsx(On,{})]})}function ZV(){const e=vt(),{orderId:t,storeId:r}=Sn(),{user:n,loading:s}=ir(),[o,u]=w.useState(null),[d,h]=w.useState(!0),[m,g]=w.useState(""),[x,v]=w.useState([]),[b,j]=w.useState(!1),[N,_]=w.useState(null);w.useEffect(()=>{if(!s&&!n){e("/admin-login");return}if(!s&&n&&n.role!=="admin"){e("/admin-dashboard");return}r&&t&&(console.log("주문 상세 페이지 로드:",{storeId:r,orderId:t}),O(),S())},[n,s,e,r,t]);const O=async()=>{if(!(!r||!t))try{h(!0),console.log("주문 로드 시작:",{storeId:r,orderId:t});const $=await xl(r);console.log("로드된 주문들:",$),console.log("찾는 주문 ID:",t),v($);const U=$.find(L=>L.id===t);U?(console.log("주문 찾음:",U),console.log("주문 아이템들:",U.order_items),console.log("🔍 배달비 정보:",{order_type:U.order_type,delivery_fee:U.delivery_fee,delivery_fee_type:typeof U.delivery_fee}),u(U)):(console.error("주문을 찾을 수 없습니다."),console.log("전체 주문 목록:",$.map(L=>({id:L.id,status:L.status}))),u(null))}catch($){console.error("주문 로드 실패:",$),u(null)}finally{h(!1)}},S=async()=>{if(r)try{const U=(await wa()).find(L=>L.id===r);U&&g(U.name)}catch($){console.error("매장명 로드 실패:",$)}},A=$=>{switch($){case"입금대기":return"bg-yellow-100 text-yellow-800";case"입금확인":return"bg-blue-100 text-blue-800";case"배달완료":return"bg-green-100 text-green-800";case"주문취소":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},k=($,U)=>{_({orderId:$,newStatus:U}),j(!0)},C=async()=>{if(N)try{await Ap(N.orderId,N.newStatus),u($=>$?{...$,status:N.newStatus}:null),window.dispatchEvent(new CustomEvent("orderStatusChanged")),j(!1),_(null)}catch($){console.error("주문 상태 변경 실패:",$),alert("주문 상태 변경에 실패했습니다.")}},P=()=>{j(!1),_(null)};if(s||d)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})});if(!n||n.role!=="admin")return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-lock-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"접근 권한이 없습니다"}),i.jsx("p",{className:"text-gray-600",children:"관리자만 접근할 수 있습니다."})]})});if(!d&&!o)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100 mb-4",children:i.jsx("i",{className:"ri-error-warning-line text-2xl text-red-600"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"주문을 찾을 수 없습니다"}),i.jsxs("p",{className:"text-gray-600 mb-4",children:["주문 ID: ",t]}),i.jsx("p",{className:"text-gray-600",children:"해당 주문이 존재하지 않습니다."}),i.jsx("button",{onClick:()=>e(`/admin/${r}/orders`),className:"mt-4 px-4 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"주문 목록으로 돌아가기"})]})});if(!o)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"주문 정보를 불러오는 중..."}),i.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["주문 ID: ",t]})]})});const{date:T,time:D}={date:new Date(o.created_at).toLocaleDateString("ko-KR"),time:new Date(o.created_at).toLocaleTimeString("ko-KR",{hour:"2-digit",minute:"2-digit"})};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(br,{}),i.jsx("div",{className:"bg-white border-b border-gray-200",children:i.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4 sm:py-6",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>e(`/admin/${r}/orders`),className:"mr-3 sm:mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("i",{className:"ri-arrow-left-line text-lg sm:text-xl text-gray-600"})}),i.jsx("h1",{className:"text-lg sm:text-2xl font-bold text-gray-900",children:"주문 상세"})]})})}),i.jsx("div",{className:"max-w-6xl mx-auto px-4 py-4 sm:py-8",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4",children:[i.jsx("h1",{className:"text-xl sm:text-2xl lg:text-3xl font-bold text-gray-900",children:o.customer_name?`${o.customer_name}님의 주문`:"주문 상세"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("div",{className:`px-3 py-1 rounded-lg text-xs sm:text-sm font-semibold ${o.order_type==="delivery"?"bg-blue-50 text-blue-700 border border-blue-200":"bg-green-50 text-green-700 border border-green-200"}`,children:o.order_type==="delivery"?"배달":"픽업"}),i.jsx("div",{className:`px-3 py-1 rounded-lg text-xs sm:text-sm font-semibold ${A(o.status)}`,children:o.status})]})]}),i.jsxs("div",{className:"text-left sm:text-right",children:[i.jsx("p",{className:"text-sm text-gray-500",children:T}),i.jsx("p",{className:"text-sm text-gray-500",children:D})]})]})}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-user-line text-gray-600 text-sm sm:text-lg"})}),i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"주문자 정보"})]}),i.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[o.depositor_name&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-xl sm:text-2xl",children:"👤"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"입금자"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base break-words",children:o.depositor_name})]})]}),o.customer_name&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-xl sm:text-2xl",children:"👤"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"고객명"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base break-words",children:o.customer_name})]})]}),o.customer_phone&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-xl sm:text-2xl",children:"📞"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"연락처"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base break-words",children:o.customer_phone})]})]}),o.delivery_address&&i.jsxs("div",{className:"flex items-start gap-3",children:[i.jsx("span",{className:"text-xl sm:text-2xl",children:"📍"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"배달주소"}),i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base break-words",children:o.delivery_address})]})]})]})]}),(o.delivery_time||o.pickup_time)&&i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-truck-line text-orange-600 text-sm sm:text-lg"})}),i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"배달 정보"})]}),i.jsx("div",{className:"p-3 sm:p-4 rounded-xl",style:{backgroundColor:"#FFF4E6"},children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("i",{className:"ri-time-line text-xl sm:text-2xl",style:{color:"#FF6B00"}}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"text-xs sm:text-sm font-medium",style:{color:"#FF6B00"},children:o.order_type==="delivery"?"배달 시간":"픽업 시간"}),i.jsx("p",{className:"text-base sm:text-lg font-bold break-words",style:{color:"#FF6B00"},children:o.delivery_time||o.pickup_time})]})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-orange-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-orange-600 text-sm sm:text-lg"})}),i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"주문 메뉴"})]}),i.jsx("div",{className:"space-y-3",children:o.daily_menu_orders&&o.daily_menu_orders.length>0?i.jsxs(i.Fragment,{children:[o.daily_menu_orders.map(($,U)=>i.jsxs("div",{className:"flex justify-between items-start sm:items-center py-3 gap-3",children:[i.jsxs("div",{className:"flex items-start sm:items-center gap-3 min-w-0 flex-1",children:[i.jsx("span",{className:"text-base sm:text-lg",children:"🍽️"}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("p",{className:"font-semibold text-gray-900 text-sm sm:text-base break-words",children:$.menus?.name||"메뉴"}),i.jsxs("p",{className:"text-xs sm:text-sm text-gray-500",children:[$.quantity||0,"개"]})]})]}),i.jsxs("span",{className:"text-base sm:text-lg font-bold text-gray-900 whitespace-nowrap",children:[(($.menus?.price||0)*($.quantity||0)).toLocaleString(),"원"]})]},U)),i.jsxs("div",{className:"mt-4 sm:mt-6 pt-4 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx("i",{className:"ri-shopping-bag-line text-lg text-gray-500"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"상품 금액"})]}),i.jsx("div",{className:"text-right",children:i.jsxs("span",{className:"text-sm sm:text-base text-gray-800",children:[(o.subtotal||0).toLocaleString(),"원"]})})]}),o.order_type==="delivery"&&i.jsxs("div",{className:"flex items-center justify-between gap-3 mb-2",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx("i",{className:"ri-truck-line text-lg text-gray-500"}),i.jsx("span",{className:"text-sm sm:text-base text-gray-700",children:"배달비"})]}),i.jsx("div",{className:"text-right",children:i.jsxs("span",{className:"text-sm sm:text-base text-gray-800",children:[(o.delivery_fee||o.total-o.subtotal||0).toLocaleString(),"원"]})})]}),i.jsxs("div",{className:"flex items-center justify-between gap-3 pt-2 border-t border-gray-200",children:[i.jsxs("div",{className:"flex items-center gap-3 min-w-0 flex-1",children:[i.jsx("i",{className:"ri-money-dollar-circle-line text-lg sm:text-xl text-orange-500"}),i.jsx("span",{className:"text-base sm:text-lg font-semibold text-gray-900",children:"총 결제 금액"})]}),i.jsx("div",{className:"text-right",children:i.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-orange-500",children:[(o.total||0).toLocaleString(),"원"]})})]})]})]}):i.jsxs("div",{className:"text-center py-8 sm:py-12 text-gray-500",children:[i.jsx("i",{className:"ri-shopping-cart-line text-4xl sm:text-6xl mb-4"}),i.jsx("p",{className:"text-base sm:text-lg",children:"주문 상품 정보가 없습니다."})]})})]}),i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 p-4 sm:p-6",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-4 sm:mb-6",children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-gray-100 rounded-lg flex items-center justify-center",children:i.jsx("i",{className:"ri-settings-3-line text-gray-600 text-sm sm:text-lg"})}),i.jsx("h2",{className:"text-lg sm:text-xl font-bold text-gray-900",children:"상태 변경"})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("div",{className:"flex flex-col sm:flex-row gap-3",children:(()=>{switch(o.status){case"입금대기":return["입금확인","주문취소"];case"입금확인":return o.order_type==="delivery"?["배달완료","주문취소"]:["주문취소"];case"배달완료":return[];case"주문취소":return[];default:return[]}})().map(U=>i.jsx("button",{onClick:()=>k(o.id,U),className:`flex-1 px-4 sm:px-6 py-3 rounded-xl text-sm sm:text-base font-semibold transition-all duration-200 ${U==="입금확인"?"bg-blue-500 hover:bg-blue-600 text-white":U==="배달완료"?"bg-green-500 hover:bg-green-600 text-white":"bg-red-500 hover:bg-red-600 text-white"}`,children:U},U))}),i.jsx("div",{className:"pt-4 border-t border-gray-200",children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${o.status==="입금대기"?"bg-yellow-500":o.status==="입금확인"?"bg-blue-500":o.status==="배달중"?"bg-orange-500":o.status==="배달완료"?"bg-green-500":o.status==="주문취소"?"bg-red-500":"bg-gray-500"}`}),i.jsxs("span",{className:"text-xs sm:text-sm text-gray-600",children:["현재 상태: ",i.jsx("span",{className:"font-semibold",children:o.status})]})]})})]})]})]})}),b&&N&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:i.jsx("div",{className:"bg-white rounded-xl p-4 sm:p-6 max-w-sm sm:max-w-md w-full mx-auto",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto flex items-center justify-center h-12 w-12 sm:h-16 sm:w-16 rounded-full bg-orange-100 mb-4 sm:mb-6",children:i.jsx("i",{className:"ri-question-line text-xl sm:text-2xl text-orange-600"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-3 sm:mb-4",children:"주문 상태 변경"}),i.jsxs("p",{className:"text-sm sm:text-base text-gray-600 mb-6 sm:mb-8 leading-relaxed",children:[N.customerName?`${N.customerName}님의 주문을`:"이 주문을"," ",i.jsx("span",{className:"font-semibold text-orange-500",children:N.newStatus}),"로 변경하시겠습니까?"]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 sm:gap-4",children:[i.jsx("button",{onClick:P,className:"flex-1 px-4 sm:px-6 py-3 bg-gray-100 text-gray-700 rounded-xl text-sm sm:text-base font-semibold hover:bg-gray-200 transition-colors",children:"취소"}),i.jsx("button",{onClick:C,className:"flex-1 px-4 sm:px-6 py-3 bg-orange-500 text-white rounded-xl text-sm sm:text-base font-semibold hover:bg-orange-600 transition-colors",children:"확인"})]})]})})})]})}const JV=async e=>{if(!e.store_id)throw new Error("매장 ID가 필요합니다.");if(!e.menu_date)throw new Error("메뉴 날짜가 필요합니다.");try{const{data:t,error:r}=await pe.rpc("create_daily_menu",{p_store_id:e.store_id,p_menu_date:e.menu_date,p_title:e.title||"오늘의 반찬",p_description:e.description||null});if(r)throw console.error("RPC 함수 오류, 직접 insert 시도:",r),r;return t}catch{console.log("RPC 함수 없음, 직접 insert 시도");const{data:r,error:n}=await pe.from("daily_menus").insert({store_id:e.store_id,menu_date:e.menu_date,title:e.title||"오늘의 반찬",description:e.description||null}).select().single();if(n)throw console.error("일일 메뉴 생성 오류:",n),new Error(`일일 메뉴 생성에 실패했습니다: ${n.message}`);return r}},$l=async(e,t)=>{if(!t||t.trim()==="")return console.warn("빈 날짜로 일일 메뉴 조회 시도"),null;try{await pe.rpc("execute_daily_menu_auto_deactivation");const{data:r,error:n}=await pe.rpc("get_daily_menu_with_auto_check",{p_store_id:e,p_menu_date:t});if(n){console.error("일일 메뉴 조회 오류 (RPC):",n);const{data:s,error:o}=await pe.from("daily_menus").select("*").eq("store_id",e).eq("menu_date",t).single();if(o&&o.code!=="PGRST116")throw console.error("일일 메뉴 조회 오류 (fallback):",o),new Error(`일일 메뉴 조회에 실패했습니다: ${o.message}`);return s}return r&&r.length>0?r[0]:null}catch(r){throw console.error("일일 메뉴 조회 오류:",r),new Error(`일일 메뉴 조회에 실패했습니다: ${r}`)}},eF=async e=>{if(!e.daily_menu_id)throw new Error("일일 메뉴 ID가 필요합니다.");if(!e.menu_id)throw new Error("메뉴 ID가 필요합니다.");if(e.initial_quantity<0)throw new Error("수량은 0 이상이어야 합니다.");const{data:t,error:r}=await pe.from("daily_menu_items").insert({daily_menu_id:e.daily_menu_id,menu_id:e.menu_id,initial_quantity:e.initial_quantity,current_quantity:e.initial_quantity}).select(`
      *,
      menu:menus(*)
    `).single();if(r)throw console.error("일일 메뉴 아이템 추가 오류:",r),new Error(`일일 메뉴 아이템 추가에 실패했습니다: ${r.message}`);return t},T2=async(e,t)=>{if(t<0)throw new Error("수량은 0 이상이어야 합니다.");const{data:r,error:n}=await pe.from("daily_menu_items").select("initial_quantity, current_quantity").eq("id",e).single();if(n)throw console.error("아이템 조회 오류:",n),new Error(`아이템 조회에 실패했습니다: ${n.message}`);const s=r.current_quantity+(t-r.initial_quantity),{data:o,error:u}=await pe.from("daily_menu_items").update({initial_quantity:t,current_quantity:Math.max(0,s),is_available:t>0}).eq("id",e).select(`
      *,
      menu:menus(*)
    `).single();if(u)throw console.error("일일 메뉴 아이템 수량 수정 오류:",u),new Error(`수량 수정에 실패했습니다: ${u.message}`);return o},D2=async(e,t)=>{const{data:r,error:n}=await pe.from("daily_menu_items").update({is_available:t}).eq("id",e).select(`
      *,
      menu:menus(*)
    `).single();if(n)throw console.error("일일 메뉴 아이템 품절 처리 오류:",n),new Error(`품절 처리에 실패했습니다: ${n.message}`);return r},tF=async e=>{const{error:t}=await pe.from("daily_menu_items").delete().eq("id",e);if(t)throw console.error("일일 메뉴 아이템 삭제 오류:",t),new Error(`아이템 삭제에 실패했습니다: ${t.message}`)},yc=async e=>{try{await pe.rpc("execute_daily_menu_auto_deactivation");const{data:t,error:r}=await pe.from("daily_menu_items").select(`
        *,
        menu:menus(*)
      `).eq("daily_menu_id",e).order("created_at",{ascending:!0});if(r)throw console.error("일일 메뉴 아이템 조회 오류:",r),new Error(`아이템 조회에 실패했습니다: ${r.message}`);return t||[]}catch(t){throw console.error("일일 메뉴 아이템 조회 오류:",t),new Error(`아이템 조회에 실패했습니다: ${t}`)}},rF=async e=>{const t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0];return $l(e,n)},nF=async e=>{const t=new Date,r=new Date(t.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),n=new Date(r);n.setDate(n.getDate()+1);const s=n.toISOString().split("T")[0];return $l(e,s)},aF=async e=>{const t=new Date,r=new Date(t.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),n=new Date(r);n.setDate(n.getDate()-1);const s=n.toISOString().split("T")[0];return $l(e,s)},iF=async e=>{try{const t=await aF(e);if(!t)return console.log("어제의 일일 메뉴가 없습니다."),[];const r=await yc(t.id);return console.log("어제의 일일 메뉴 아이템들:",r),r}catch(t){return console.error("어제의 일일 메뉴 아이템 조회 오류:",t),[]}},sF=async e=>{try{const t=new Date,r=new Date(t.toLocaleString("en-US",{timeZone:"Asia/Seoul"}));for(let n=1;n<=7;n++){const s=new Date(r);s.setDate(s.getDate()-n);const o=s.toISOString().split("T")[0],u=await $l(e,o);if(u){const d=await yc(u.id);if(d.length>0)return console.log(`${o}의 일일 메뉴를 찾았습니다:`,d),{items:d,date:o}}}return console.log("최근 7일 내에 일일 메뉴가 없습니다."),null}catch(t){return console.error("최근 일일 메뉴 아이템 조회 오류:",t),null}};function lF(){const e=vt(),{storeId:t}=Sn();ir();const[r,n]=w.useState(!0),[s,o]=w.useState(!1),[u,d]=w.useState(""),[h,m]=w.useState(null),[g,x]=w.useState([]),[v,b]=w.useState([]),[j,N]=w.useState(new Set),[_,O]=w.useState({}),[S,A]=w.useState("전체"),[k,C]=w.useState([]);w.useEffect(()=>{const Y=new Date,le=new Date(Y.toLocaleString("en-US",{timeZone:"Asia/Seoul"})).toISOString().split("T")[0];d(le)},[]),w.useEffect(()=>{t&&P()},[t,u]);const P=async()=>{if(t)try{n(!0);const H=(await _f(t)).filter(oe=>oe.is_available);b(H);const le=["전체",...new Set(H.map(oe=>oe.category).filter(Boolean))];C(le);let me=null;try{me=await $l(t,u)}catch(oe){console.error("일일 메뉴 조회 오류:",oe)}if(m(me),me){const oe=await yc(me.id);x(oe);const be=new Set(oe.map(Ye=>Ye.menu_id));N(be);const Pe={};oe.forEach(Ye=>{Pe[Ye.menu_id]=Ye.initial_quantity}),O(Pe)}else x([]),N(new Set),O({}),ce({}),de({})}catch(Y){console.error("데이터 로드 오류:",Y),alert("데이터를 불러오는데 실패했습니다.")}finally{n(!1)}},T=v.filter(Y=>S==="전체"?!0:Y.category===S),D=async()=>{if(!(!t||!u))try{o(!0);const Y=await JV({store_id:t,menu_date:u,title:`${u}의 반찬 주문서`,description:"맛있는 반찬을 주문해보세요!"});m(Y),alert("일일 메뉴 페이지가 생성되었습니다!")}catch(Y){console.error("일일 메뉴 생성 오류:",Y),alert("일일 메뉴 생성에 실패했습니다.")}finally{o(!1)}},$=Y=>{const H=new Set(j);if(H.has(Y)){H.delete(Y);const le={..._};delete le[Y],O(le)}else H.add(Y),O(le=>({...le,[Y]:10}));N(H)},U=(Y,H)=>{if(H<0)return;O(me=>({...me,[Y]:H}));const le=g.find(me=>me.menu_id===Y);le&&de(H===0?me=>({...me,[le.id]:!1}):me=>({...me,[le.id]:!0}))},L=async()=>{if(t)try{n(!0);const Y=await iF(t);if(Y.length>0){const le=new Set,me={};Y.forEach(oe=>{le.add(oe.menu_id),me[oe.menu_id]=oe.initial_quantity}),N(le),O(me),alert(`어제의 메뉴 ${Y.length}개를 불러왔습니다. 수정 후 저장해주세요.`);return}const H=await sF(t);if(H&&H.items.length>0){const le=new Set,me={};H.items.forEach(be=>{le.add(be.menu_id),me[be.menu_id]=be.initial_quantity}),N(le),O(me);const oe=H.date;alert(`${oe}의 메뉴 ${H.items.length}개를 불러왔습니다. 수정 후 저장해주세요.`);return}alert("최근 7일 내에 사용한 메뉴가 없습니다. 새로 메뉴를 선택해주세요.")}catch(Y){console.error("메뉴 템플릿 불러오기 오류:",Y),alert("메뉴를 불러오는데 실패했습니다.")}finally{n(!1)}},[te,de]=w.useState({}),[J,ce]=w.useState({}),[z,V]=w.useState(null),[re,ve]=w.useState(""),[I,ee]=w.useState({show:!1,message:"",type:"success"}),ie=(Y,H="success")=>{ee({show:!0,message:Y,type:H}),setTimeout(()=>{ee(le=>({...le,show:!1}))},3e3)},ge=(Y,H)=>{de(le=>({...le,[Y]:!H}))},je=(Y,H,le)=>{V({isOpen:!0,menuId:Y,action:H,currentQuantity:le}),ve("")},ye=()=>{V(null),ve("")},K=async()=>{if(!z||!re)return;const Y=parseInt(re);if(isNaN(Y)||Y<=0){ie("올바른 숫자를 입력해주세요.","error");return}const{menuId:H,action:le,currentQuantity:me}=z,oe=le==="add"?me+Y:Math.max(0,me-Y);ce(be=>({...be,[H]:oe})),de(be=>({...be,[H]:oe>0})),ye();try{await we(H);const be=v.find(Ye=>Ye.id===H)?.name||"메뉴";ie(`${be}에 ${Y}개가 성공적으로 ${le==="add"?"추가":"차감"}되었습니다.`)}catch{ie("저장 중 오류가 발생했습니다.","error")}},we=async Y=>{if(!h)return;const H=g.find(Pe=>Pe.menu_id===Y);if(!H)return;const le=J[Y]!==void 0?J[Y]===""?H.initial_quantity:Number(J[Y]):H.initial_quantity,me=te[H.id]!==void 0?te[H.id]:H.is_available,oe=le!==H.initial_quantity,be=me!==H.is_available;if(!oe&&!be){alert("변경사항이 없습니다.");return}try{o(!0),oe&&await T2(H.id,le),be&&await D2(H.id,me),O(Pe=>({...Pe,[Y]:le})),ce(Pe=>{const Ye={...Pe};return delete Ye[Y],Ye}),de(Pe=>{const Ye={...Pe};return delete Ye[H.id],Ye}),await P(),alert("메뉴가 저장되었습니다!")}catch(Pe){console.error("개별 아이템 저장 오류:",Pe),alert("저장에 실패했습니다.")}finally{o(!1)}},q=async()=>{if(!h)return;const Y={..._};Object.keys(J).forEach(oe=>{const be=J[oe];Y[oe]=be===""?0:Number(be)});const H=g.some(oe=>(Y[oe.menu_id]||0)!==oe.initial_quantity),le=Array.from(j).some(oe=>!g.some(be=>be.menu_id===oe)),me=g.some(oe=>!j.has(oe.menu_id));if(!((H||le||me)&&!window.confirm("메뉴를 변경하시겠습니까?")))try{o(!0);for(const oe of g){const be=Y[oe.menu_id],Pe=te[oe.id]!==void 0?te[oe.id]:oe.is_available;be!==void 0&&be!==oe.initial_quantity&&await T2(oe.id,be),Pe!==oe.is_available&&await D2(oe.id,Pe)}for(const oe of g)j.has(oe.menu_id)||await tF(oe.id);for(const oe of j){const be=Y[oe]||0;!g.find(Ye=>Ye.menu_id===oe)&&be>0&&await eF({daily_menu_id:h.id,menu_id:oe,initial_quantity:be})}O(Y),de({}),ce({}),await P(),alert("메뉴 아이템이 저장되었습니다!")}catch(oe){console.error("아이템 저장 오류:",oe),alert("아이템 저장에 실패했습니다.")}finally{o(!1)}},W=()=>h?`${window.location.origin}/menu/${t}/daily/${u}`:"",X=async()=>{const Y=W();try{await navigator.clipboard.writeText(Y),alert("링크가 복사되었습니다!")}catch(H){console.error("링크 복사 오류:",H),alert("링크 복사에 실패했습니다.")}};return r?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gray-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(br,{}),i.jsx("div",{className:"bg-white shadow-sm border-b",children:i.jsx("div",{className:"px-4 sm:px-6 py-4",children:i.jsx("div",{className:"flex items-center justify-between",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("button",{onClick:()=>e("/admin-dashboard"),className:"mr-4 p-2 hover:bg-gray-100 rounded-lg transition-colors",title:"뒤로가기",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-lg font-semibold text-gray-800",children:"주문서 만들기"})]})})})}),i.jsxs("div",{className:"px-4 sm:px-6 py-6 sm:py-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-200 p-6 sm:p-8 mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[i.jsx("div",{className:"w-10 h-10 flex items-center justify-center",children:i.jsx("i",{className:"ri-calendar-line text-orange-500 text-lg"})}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"주문서 날짜 선택"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-4",children:[i.jsx("label",{className:"text-sm sm:text-base font-semibold text-gray-700 sm:min-w-0",children:"날짜:"}),i.jsx("input",{type:"date",value:u,onChange:Y=>d(Y.target.value),className:"flex-1 px-4 py-3 border border-gray-200 rounded-xl focus:ring-2 focus:ring-gray-500 focus:border-gray-500 text-sm sm:text-base font-medium min-h-[48px] bg-gray-50 focus:bg-white transition-all"})]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-200 p-6 sm:p-8 mb-6 sm:mb-8",children:h?i.jsxs("div",{className:"space-y-4 sm:space-y-5",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 break-words mb-2",children:h.title.includes("의 반찬")&&!h.title.includes("주문서")?h.title.replace("의 반찬","의 반찬 주문서"):h.title}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("span",{className:"text-sm sm:text-base text-gray-700 font-semibold",children:"상태:"}),i.jsxs("div",{className:`inline-flex items-center gap-1 px-3 py-1.5 rounded-full text-sm font-semibold ${h.is_active?"bg-green-100 text-green-800 border-2 border-green-200":"bg-red-100 text-red-800 border-2 border-red-200"}`,children:[i.jsx("i",{className:`ri-${h.is_active?"check":"close"}-circle-line text-sm`}),h.is_active?"주문접수중":"주문마감"]})]})]}),i.jsxs("div",{className:"bg-gray-50 border-2 border-gray-200 p-4 rounded-xl",children:[i.jsxs("div",{className:"flex items-center justify-between mb-2",children:[i.jsx("p",{className:"text-sm text-gray-700 font-semibold",children:"주문서 링크:"}),i.jsx("button",{onClick:X,className:"px-3 py-1.5 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors text-xs font-medium",children:"링크 복사"})]}),i.jsx("p",{className:"text-sm font-mono text-gray-800 break-all bg-white p-2 rounded-lg border border-gray-300",children:W()})]})]}):i.jsxs("div",{className:"text-center py-8 sm:py-12",children:[i.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 rounded-2xl flex items-center justify-center mx-auto mb-6",children:i.jsx("i",{className:"ri-calendar-line text-3xl text-gray-400"})}),i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-900 mb-2",children:"일일 메뉴 페이지가 없습니다"}),i.jsx("p",{className:"text-sm sm:text-base text-gray-600 mb-8",children:"선택한 날짜의 메뉴 페이지를 생성해주세요."}),i.jsxs("button",{onClick:D,disabled:s,className:"px-8 py-4 bg-gradient-to-r from-gray-500 to-gray-600 text-white rounded-xl hover:from-gray-600 hover:to-gray-700 transition-all disabled:opacity-50 text-sm sm:text-base font-semibold shadow-lg hover:shadow-xl",children:[i.jsx("i",{className:"ri-add-line mr-2"}),s?"생성 중...":"일일 메뉴 페이지 생성"]})]})}),h&&i.jsxs("div",{className:"bg-white rounded-2xl shadow-lg border-2 border-gray-200 p-6 sm:p-8 mb-6 sm:mb-8",children:[i.jsxs("div",{className:"flex items-center justify-between mb-8",children:[i.jsxs("div",{className:"flex items-center gap-4",children:[i.jsx("div",{className:"w-12 h-12 flex items-center justify-center",children:i.jsx("i",{className:"ri-restaurant-line text-orange-500 text-xl"})}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:"메뉴 선택 및 수량 설정"}),i.jsx("p",{className:"text-sm text-gray-600 mt-1",children:"판매할 메뉴를 선택하고 재고를 관리하세요"})]})]}),i.jsxs("button",{onClick:L,disabled:r,className:"flex items-center gap-2 px-4 py-2 bg-blue-500 hover:bg-blue-600 disabled:bg-blue-300 text-white rounded-xl transition-colors duration-200 text-sm font-medium",children:[i.jsx("i",{className:"ri-file-copy-line"}),"최근 메뉴 불러오기"]})]}),i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-2xl p-6 mb-8",children:i.jsxs("div",{className:"flex items-start gap-4",children:[i.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-xl flex items-center justify-center flex-shrink-0",children:i.jsx("i",{className:"ri-information-line text-blue-600 text-lg"})}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-base font-bold text-blue-900 mb-2",children:"수량 변경 안내"}),i.jsxs("p",{className:"text-sm text-blue-800 leading-relaxed",children:["수량을 변경하면 ",i.jsx("span",{className:"font-semibold text-blue-900",children:"실시간으로 고객에게 반영"}),"됩니다. 고객이 주문할 때마다 수량이 자동으로 차감되니 신중하게 설정해주세요."]})]})]})}),i.jsxs("div",{className:"mb-8",children:[i.jsx("div",{className:"mb-6",children:i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"카테고리 필터"})}),i.jsx("div",{className:"overflow-x-auto",children:i.jsx("div",{className:"flex gap-3 pb-2 min-w-max",children:k.map(Y=>i.jsx("button",{onClick:()=>A(Y),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-full text-xs sm:text-sm font-semibold transition-all duration-300 transform hover:scale-105 whitespace-nowrap flex-shrink-0 ${S===Y?"bg-gray-800 text-white shadow-lg":"bg-white text-gray-800 hover:bg-gray-50 border border-gray-200 shadow-sm hover:shadow-md"}`,children:Y},Y))})})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4 lg:gap-6 mb-6",children:T.map(Y=>i.jsxs("div",{className:`group relative bg-white rounded-2xl border transition-all duration-300 hover:shadow-xl hover:-translate-y-1 ${j.has(Y.id)?"border-gray-300 shadow-xl ring-2 ring-gray-100":"border-gray-200 hover:border-gray-300 hover:shadow-lg"}`,children:[i.jsx("div",{className:"absolute top-4 right-4 z-10",children:i.jsx("button",{onClick:()=>$(Y.id),className:`w-6 h-6 rounded-full border-2 flex items-center justify-center transition-all duration-200 ${j.has(Y.id)?"border-gray-900 bg-gray-900 shadow-lg":"border-gray-300 bg-white group-hover:border-gray-400"}`,children:j.has(Y.id)&&i.jsx("i",{className:"ri-check-line text-white text-sm"})})}),i.jsx("div",{className:"p-4 sm:p-6 pb-4",children:i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-bold text-gray-900 text-base sm:text-lg mb-2 line-clamp-2",children:Y.name}),i.jsx("div",{className:"flex items-center gap-2 mb-3",children:i.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-600 text-xs font-medium rounded-full",children:Y.category})}),i.jsxs("p",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[Y.price.toLocaleString(),"원"]})]})}),j.has(Y.id)&&i.jsx("div",{className:"px-4 sm:px-6 pb-4 sm:pb-6",children:i.jsxs("div",{className:"space-y-4",children:[!g.find(H=>H.menu_id===Y.id)&&i.jsx("div",{className:"space-y-4",children:i.jsxs("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 rounded-xl p-4 border border-gray-200",children:[i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3",children:[i.jsx("label",{className:"text-sm font-semibold text-gray-700 sm:min-w-0",children:"초기 수량 설정"}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("input",{type:"number",min:"0",value:J[Y.id]!==void 0?J[Y.id]:_[Y.id]||0,onChange:H=>{const le=H.target.value;if(le===""){ce(oe=>({...oe,[Y.id]:""}));return}const me=parseInt(le);isNaN(me)||me<0||(ce(oe=>({...oe,[Y.id]:me})),de(me===0?oe=>({...oe,[Y.id]:!1}):oe=>({...oe,[Y.id]:!0})),U(Y.id,me))},className:"w-20 px-3 py-2 border border-indigo-200 rounded-lg text-sm font-medium text-center focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 bg-white min-h-[44px] [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none"}),i.jsx("span",{className:"text-sm text-gray-600 font-medium",children:"개"})]})]}),(()=>{const H=J[Y.id]!==void 0?J[Y.id]:_[Y.id]||0;return(H===""?0:Number(H))===0&&i.jsx("div",{className:"mt-3 text-center",children:i.jsxs("span",{className:"inline-flex items-center px-3 py-1.5 rounded-full text-xs font-semibold bg-red-100 text-red-700",children:[i.jsx("i",{className:"ri-close-line mr-1"}),"품절 (수량 0개)"]})})})()]})}),(()=>{const H=g.find(le=>le.menu_id===Y.id);if(H){const le=H.initial_quantity-H.current_quantity,me=H.current_quantity,oe=te[H.id]!==void 0?te[H.id]:H.is_available;return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"bg-gradient-to-br from-slate-50 to-gray-50 rounded-xl p-4 border border-gray-100",children:[i.jsxs("div",{className:"flex items-center justify-between mb-3",children:[i.jsx("h4",{className:"font-bold text-gray-800 text-sm",children:"재고 현황"}),i.jsx("div",{className:`px-2 py-1 rounded-full text-xs font-bold ${oe&&me>0?"bg-emerald-100 text-emerald-700":"bg-red-100 text-red-700"}`,children:oe&&me>0?"판매중":"품절"})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-center",children:[i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[i.jsx("div",{className:"text-lg font-bold text-gray-900",children:me}),i.jsx("div",{className:"text-xs text-gray-500",children:"현재 재고"})]}),i.jsxs("div",{className:"bg-white rounded-lg p-3 border border-gray-200",children:[i.jsx("div",{className:"text-lg font-bold text-emerald-600",children:le}),i.jsx("div",{className:"text-xs text-gray-500",children:"판매량"})]})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("button",{onClick:()=>je(Y.id,"add",me),className:"group flex items-center justify-center gap-2 py-3 px-3 sm:px-4 bg-white border border-gray-200 hover:bg-gray-600 hover:border-gray-600 text-gray-700 hover:text-white rounded-xl font-semibold transition-all duration-200 shadow-sm hover:shadow-lg min-h-[48px]",children:[i.jsx("i",{className:"ri-add-line text-base sm:text-lg group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"text-xs sm:text-sm",children:"추가"})]}),i.jsxs("button",{onClick:()=>je(Y.id,"subtract",me),className:"group flex items-center justify-center gap-2 py-3 px-3 sm:px-4 bg-white border border-gray-200 hover:bg-gray-600 hover:border-gray-600 text-gray-700 hover:text-white rounded-xl font-semibold transition-all duration-200 shadow-sm hover:shadow-lg min-h-[48px]",children:[i.jsx("i",{className:"ri-subtract-line text-base sm:text-lg group-hover:scale-110 transition-transform"}),i.jsx("span",{className:"text-xs sm:text-sm",children:"줄이기"})]})]}),i.jsx("button",{onClick:()=>ge(H.id,oe),className:`w-full py-3 px-4 rounded-xl font-semibold transition-all duration-200 min-h-[48px] ${oe?"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white shadow-lg hover:shadow-xl":"bg-gradient-to-r from-green-500 to-emerald-500 hover:from-green-600 hover:to-emerald-600 text-white shadow-lg hover:shadow-xl"}`,children:i.jsx("span",{className:"text-sm sm:text-base",children:oe?"품절처리":"판매재개"})})]})}return null})()]})})]},Y.id))}),j.size>0&&i.jsx("div",{className:"mt-8 pt-6 border-t border-gray-200",children:i.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[i.jsxs("div",{className:"text-center sm:text-left",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:["선택된 메뉴 ",j.size,"개"]}),i.jsx("p",{className:"text-sm text-gray-600",children:(g.length===0,"선택한 메뉴들을 일일 메뉴에 추가하시겠습니까?")})]}),i.jsxs("button",{onClick:q,disabled:s,className:"px-8 py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white rounded-xl font-semibold transition-all duration-200 shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed min-h-[48px]",children:[i.jsx("i",{className:"ri-save-line mr-2"}),s?"저장 중...":"선택한 메뉴 저장하기"]})]})})]}),z&&i.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-3 sm:p-4",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full overflow-hidden max-h-[90vh] overflow-y-auto",children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-slate-50 px-4 sm:px-6 py-4 border-b border-gray-100",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 flex-1 min-w-0",children:[i.jsx("div",{className:`w-8 h-8 sm:w-10 sm:h-10 rounded-full flex items-center justify-center flex-shrink-0 ${z.action==="add","bg-gray-100 text-gray-600"}`,children:i.jsx("i",{className:`ri-${z.action==="add"?"add":"subtract"}-line text-base sm:text-lg`})}),i.jsxs("div",{className:"min-w-0 flex-1",children:[i.jsx("h3",{className:"text-base sm:text-lg font-bold text-gray-900 truncate",children:z.action==="add"?"수량 추가하기":"수량 줄이기"}),i.jsx("p",{className:"text-xs sm:text-sm text-gray-500",children:"재고 수량을 조정하세요"})]})]}),i.jsx("button",{onClick:ye,className:"w-8 h-8 rounded-full bg-gray-100 hover:bg-gray-200 flex items-center justify-center text-gray-500 hover:text-gray-700 transition-colors flex-shrink-0",children:i.jsx("i",{className:"ri-close-line text-lg"})})]})}),i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsx("div",{className:"bg-gray-50 rounded-xl p-4 mb-6",children:i.jsxs("div",{className:"text-center",children:[i.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-1",children:[z.currentQuantity,"개"]}),i.jsx("div",{className:"text-xs sm:text-sm text-gray-500",children:"현재 재고 수량"})]})}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:z.action==="add"?"추가할 수량을 입력하세요":"줄일 수량을 입력하세요"}),i.jsx("input",{type:"number",min:"1",max:z.action==="subtract"?z.currentQuantity:void 0,value:re,onChange:Y=>ve(Y.target.value),placeholder:"수량을 입력하세요",className:"w-full px-4 py-3 border border-gray-300 rounded-xl text-base sm:text-lg font-medium focus:ring-2 focus:ring-gray-500 focus:border-gray-500 transition-colors min-h-[48px] [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none",autoFocus:!0}),z.action==="subtract"&&i.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:["최대 ",z.currentQuantity,"개까지 줄일 수 있습니다"]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("button",{onClick:ye,className:"flex-1 py-3 px-4 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-xl font-semibold transition-colors min-h-[48px]",children:"취소"}),i.jsx("button",{onClick:K,disabled:!re,className:`flex-1 py-3 px-4 rounded-xl font-semibold transition-colors disabled:opacity-50 disabled:cursor-not-allowed min-h-[48px] ${z.action==="add"?"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white shadow-lg hover:shadow-xl":"bg-gradient-to-r from-gray-500 to-slate-500 hover:from-gray-600 hover:to-slate-600 text-white shadow-lg hover:shadow-xl"}`,children:z.action==="add"?"추가하기":"줄이기"})]})]})]})}),I.show&&i.jsx("div",{className:"fixed top-4 right-4 z-50 animate-in slide-in-from-right-5 duration-300",children:i.jsxs("div",{className:`flex items-center gap-3 px-4 py-3 rounded-xl shadow-lg border backdrop-blur-sm ${I.type==="success"?"bg-green-50 border-green-200 text-green-800":"bg-red-50 border-red-200 text-red-800"}`,children:[i.jsx("div",{className:`w-6 h-6 rounded-full flex items-center justify-center ${I.type==="success"?"bg-green-100 text-green-600":"bg-red-100 text-red-600"}`,children:i.jsx("i",{className:`ri-${I.type==="success"?"check":"close"}-line text-sm`})}),i.jsx("span",{className:"text-sm font-medium",children:I.message}),i.jsx("button",{onClick:()=>ee(Y=>({...Y,show:!1})),className:"text-gray-400 hover:text-gray-600 transition-colors",children:i.jsx("i",{className:"ri-close-line text-sm"})})]})})]})]})}function P2(){const{storeId:e,date:t}=Sn(),r=vt();ir();const[n,s]=w.useState(!0),[o,u]=w.useState(null),[d,h]=w.useState([]),[m,g]=w.useState(null),[x,v]=w.useState({}),[b,j]=w.useState(!1),[N,_]=w.useState("전체"),[O,S]=w.useState([]);w.useEffect(()=>{e&&k()},[e,t]),w.useEffect(()=>{console.log("isOrderClosed 상태 변경됨:",b)},[b]);const A=(L,te)=>{if(!L||!te)return console.log("체크 실패: storeData 또는 menuDate 없음",{storeData:L,menuDate:te}),!1;const de=new Date,J=new Date(de.toLocaleString("en-US",{timeZone:"Asia/Seoul"})),ce=J.toTimeString().split(" ")[0],z=J.toISOString().split("T")[0],V=te===z,re=new Date(J);re.setDate(re.getDate()-1);const ve=re.toISOString().split("T")[0],I=te===ve,ee=new Date(te),ie=new Date(z),ge=ee<ie;if(console.log("날짜 비교 (한국 시간 기준):",{menuDate:te,todayStr:z,yesterdayStr:ve,isToday:V,isYesterday:I,isPastDate:ge,currentTime:ce,cutoffTime:L.order_cutoff_time,koreaTime:J.toISOString(),now:de.toISOString()}),ge)return console.log("과거 날짜 - 주문 마감"),!0;if(!V&&!I&&!ge)return console.log("미래 메뉴 - 주문 가능"),!1;const je=L.order_cutoff_time||"15:00:00";if(I)return console.log("어제 메뉴 - 주문 마감"),!0;if(V){const ye=W=>{const[X,Y]=W.split(":").map(Number);return X*60+Y},K=ye(ce),we=ye(je),q=K>we;return console.log("오늘 메뉴 시간 비교 결과 (분 단위):",{currentTime:ce,cutoffTime:je,currentMinutes:K,cutoffMinutes:we,isClosed:q,comparison:`${K} > ${we} = ${q}`}),q}return!1},k=async()=>{if(e)try{s(!0);const L=await bO(e);g(L);let te=null;const de=new Date,J=new Date(de.toLocaleString("en-US",{timeZone:"Asia/Seoul"}));let ce=t||J.toISOString().split("T")[0];try{if(t&&t.trim()!==""?te=await $l(e,t):te=await rF(e),!te){const re=await nF(e);if(re){u(re);const ve=await yc(re.id);h(ve)}return}}catch(re){console.error("일일 메뉴 로드 중 오류:",re);return}if(u(te),te&&ce){const re=A(L,ce);console.log("주문 마감 상태 체크:",{menuDate:ce,currentTime:new Date().toLocaleString("en-US",{timeZone:"Asia/Seoul"}),cutoffTime:L.order_cutoff_time,orderClosed:re}),j(re),console.log("setIsOrderClosed 호출됨:",re)}const z=await yc(te.id);h(z);const V=["전체",...new Set(z.map(re=>re.menu?.category).filter(Boolean))];S(V)}catch(L){console.error("데이터 로드 오류:",L)}finally{s(!1)}},C=L=>{const te=d.find(J=>J.menu_id===L);if(!te)return;if((x[L]||0)>=te.current_quantity){alert("남은 수량을 초과할 수 없습니다.");return}v(J=>({...J,[L]:(J[L]||0)+1}))},P=L=>{v(te=>{const de={...te};return de[L]>1?de[L]-=1:delete de[L],de})},T=d.filter(L=>N==="전체"?!0:L.menu?.category===N),D=()=>d.reduce((L,te)=>{const de=x[te.menu_id]||0;return L+(te.menu?.price||0)*de},0),$=()=>Object.values(x).reduce((L,te)=>L+te,0),U=()=>{if($()===0){alert("장바구니가 비어있습니다.");return}if(!m){alert("매장 정보를 불러올 수 없습니다.");return}const L={dailyMenuId:o?.id,menuDate:o?.menu_date,items:Object.entries(x).map(([te,de])=>({menuId:te,quantity:de}))};localStorage.setItem("storeInfo",JSON.stringify(m)),localStorage.setItem("dailyMenuCart",JSON.stringify(L)),localStorage.setItem("cart",JSON.stringify([])),r("/cart")};return n?i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]})}):o?b?i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100",children:[i.jsx(br,{}),i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-200 via-orange-300 to-orange-400 opacity-60"}),i.jsx("div",{className:"absolute inset-0 bg-white opacity-40"}),i.jsxs("div",{className:"relative px-4 py-8 sm:py-12 text-center",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2 px-2",children:m?.name}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 px-2",children:[i.jsx("i",{className:"ri-map-pin-line text-gray-600 text-base sm:text-lg"}),i.jsx("span",{className:"text-gray-700 font-medium text-sm sm:text-base",children:m?.delivery_area})]}),i.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 max-w-md mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx("i",{className:"ri-calendar-check-line text-gray-600 text-lg sm:text-xl"}),i.jsx("span",{className:"text-gray-800 font-semibold text-base sm:text-lg",children:o?.title||`${t}의 반찬`})]}),i.jsxs("div",{className:`inline-flex items-center gap-2 px-3 sm:px-4 py-2 rounded-full ${b?"bg-red-500/80 text-white":"bg-green-500/80 text-white"}`,children:[i.jsx("i",{className:`text-xs sm:text-sm ${b?"ri-close-circle-line":"ri-check-circle-line"}`}),i.jsx("span",{className:"font-medium text-xs sm:text-sm",children:b?"주문마감":"주문접수중"})]})]}),i.jsxs("div",{className:"text-gray-700 text-xs sm:text-sm px-2",children:["최소주문 ",i.jsxs("span",{className:"font-bold",children:[m?.minimum_order_amount?.toLocaleString()||"0","원"]})]})]})]}),i.jsx("div",{className:"px-4 py-8 sm:py-12",children:i.jsx("div",{className:"max-w-md mx-auto",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 sm:p-8 text-center border border-red-100",children:[i.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-red-100 to-red-200 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:i.jsx("i",{className:"ri-time-line text-3xl sm:text-4xl text-red-500"})}),i.jsx("h2",{className:"text-xl sm:text-2xl font-bold text-gray-900 mb-3",children:"주문이 마감되었습니다"}),i.jsxs("p",{className:"text-gray-600 mb-4 text-sm sm:text-base",children:[o.menu_date,"의 주문 마감시간이 지났습니다."]}),i.jsx("div",{className:"bg-red-50 rounded-xl p-3 sm:p-4 mb-4 sm:mb-6",children:i.jsxs("p",{className:"text-red-700 font-medium text-sm sm:text-base",children:["주문 마감시간: ",m?.order_cutoff_time||"15:00"]})}),i.jsx("button",{onClick:()=>r(`/menu/${e}`),className:"w-full px-6 py-3 sm:py-4 bg-gradient-to-r from-orange-500 to-orange-600 text-white rounded-xl hover:from-orange-600 hover:to-orange-700 transition-all duration-200 font-semibold shadow-lg hover:shadow-xl text-sm sm:text-base",children:"일반 메뉴 보기"})]})})})]}):i.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-orange-50 via-white to-orange-100",children:[i.jsx(br,{}),i.jsxs("div",{className:"relative overflow-hidden",children:[i.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-orange-200 via-orange-300 to-orange-400 opacity-60"}),i.jsx("div",{className:"absolute inset-0 bg-white opacity-40"}),i.jsxs("div",{className:"relative px-4 py-8 sm:py-12 text-center",children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-800 mb-2 px-2",children:m?.name}),i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-4 px-2",children:[i.jsx("i",{className:"ri-map-pin-line text-gray-600 text-base sm:text-lg"}),i.jsx("span",{className:"text-gray-700 font-medium text-sm sm:text-base",children:m?.delivery_area})]}),i.jsxs("div",{className:"bg-white/20 backdrop-blur-sm rounded-2xl p-4 sm:p-6 mb-4 sm:mb-6 max-w-md mx-auto",children:[i.jsxs("div",{className:"flex items-center justify-center gap-2 mb-2",children:[i.jsx("i",{className:"ri-calendar-check-line text-gray-600 text-lg sm:text-xl"}),i.jsx("span",{className:"text-gray-800 font-semibold text-base sm:text-lg",children:o?.title||`${t}의 반찬`})]}),i.jsxs("div",{className:`inline-flex items-center gap-2 px-3 sm:px-4 py-2 rounded-full ${b?"bg-red-500/80 text-white":"bg-green-500/80 text-white"}`,children:[i.jsx("i",{className:`text-xs sm:text-sm ${b?"ri-close-circle-line":"ri-check-circle-line"}`}),i.jsx("span",{className:"font-medium text-xs sm:text-sm",children:b?"주문마감":"주문접수중"})]})]}),i.jsxs("button",{onClick:()=>r(`/order-status/${e}`),className:"group inline-flex items-center gap-2 sm:gap-3 px-6 sm:px-8 py-3 sm:py-4 bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white font-bold rounded-2xl shadow-xl hover:shadow-2xl transform hover:scale-105 transition-all duration-300 ease-out text-sm sm:text-base",children:[i.jsx("div",{className:"w-5 h-5 sm:w-6 sm:h-6 bg-white/20 rounded-full flex items-center justify-center group-hover:bg-white/30 transition-all duration-300",children:i.jsx("i",{className:"ri-shopping-bag-3-line text-xs sm:text-sm"})}),i.jsx("span",{children:"내 주문 보러가기"})]})]})]}),O.length>0&&i.jsx("div",{className:"px-4 py-4 sm:py-6",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl border border-white/50 p-4 sm:p-6",children:[i.jsx("div",{className:"mb-3 sm:mb-4",children:i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800",children:"카테고리"})}),i.jsx("div",{className:"flex gap-2 sm:gap-3 overflow-x-auto pb-2 scrollbar-hide",children:O.map(L=>i.jsx("button",{onClick:()=>_(L),className:`px-4 sm:px-6 py-2 sm:py-3 rounded-full text-xs sm:text-sm font-semibold transition-all duration-300 transform hover:scale-105 whitespace-nowrap flex-shrink-0 ${N===L?"bg-gray-800 text-white shadow-lg":"bg-white text-gray-800 hover:bg-gray-50 border border-gray-200 shadow-sm hover:shadow-md"}`,children:L},L))})]})})}),i.jsx("div",{className:"px-4 pb-20",children:i.jsx("div",{className:"max-w-4xl mx-auto",children:T.length===0?i.jsxs("div",{className:"bg-white/80 backdrop-blur-sm rounded-3xl shadow-xl border border-white/50 p-12 text-center",children:[i.jsx("div",{className:"w-24 h-24 bg-gradient-to-br from-orange-100 to-pink-100 rounded-full flex items-center justify-center mx-auto mb-6",children:i.jsx("i",{className:"ri-restaurant-line text-4xl text-orange-400"})}),i.jsx("h3",{className:"text-2xl font-bold text-gray-800 mb-3",children:"메뉴가 없습니다"}),i.jsx("p",{className:"text-gray-600 text-lg",children:"이 카테고리에 등록된 메뉴가 없습니다."})]}):i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 sm:gap-6",children:T.map(L=>i.jsx("div",{className:"bg-white/90 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-100 overflow-hidden hover:shadow-xl hover:scale-102 transition-all duration-300 group",children:i.jsxs("div",{className:"p-4 sm:p-6",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsx("h3",{className:"text-lg sm:text-xl font-bold text-gray-800 group-hover:text-orange-600 transition-colors flex-1 pr-2",children:L.menu?.name||"메뉴 정보 없음"}),i.jsx("div",{className:"text-right flex-shrink-0",children:i.jsxs("span",{className:"text-xl sm:text-2xl font-bold text-gray-900",children:[(L.menu?.price||0).toLocaleString(),"원"]})})]}),L.menu?.description&&i.jsx("p",{className:"text-gray-600 mb-4 line-clamp-2 leading-relaxed text-sm sm:text-base",children:L.menu.description}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 mb-4",children:[i.jsxs("span",{className:`px-2 sm:px-3 py-1 sm:py-1.5 rounded-full text-xs font-semibold flex items-center gap-1 ${L.is_available?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"}`,children:[i.jsx("i",{className:`ri-${L.is_available?"check":"close"}-line text-xs`}),L.is_available?"주문가능":"품절"]}),i.jsxs("span",{className:"text-xs sm:text-sm text-gray-500 bg-gray-100 px-2 sm:px-3 py-1 sm:py-1.5 rounded-full",children:["남은 수량: ",L.current_quantity,"개"]})]}),i.jsx("div",{className:"flex items-center justify-end",children:(()=>{const te=x[L.menu_id];return te?i.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 justify-end",children:[i.jsxs("div",{className:"flex items-center rounded-xl overflow-hidden",children:[i.jsx("button",{onClick:()=>P(L.menu_id),disabled:!L.is_available||b,className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-orange-600 hover:bg-orange-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",children:i.jsx("i",{className:"ri-subtract-line text-sm sm:text-lg"})}),i.jsx("span",{className:"px-3 sm:px-4 py-2 text-orange-700 font-bold text-base sm:text-lg min-w-[2.5rem] sm:min-w-[3rem] text-center bg-white",children:te}),i.jsx("button",{onClick:()=>C(L.menu_id),disabled:!L.is_available||b||L.current_quantity<=te,className:"w-8 h-8 sm:w-10 sm:h-10 flex items-center justify-center text-orange-600 hover:bg-orange-100 transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed",title:L.current_quantity<=te?"남은 수량을 초과할 수 없습니다":"수량 추가",children:i.jsx("i",{className:"ri-add-line text-sm sm:text-lg"})})]}),i.jsx("button",{onClick:()=>P(L.menu_id),disabled:!L.is_available||b,className:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl text-sm font-medium transition-all duration-200 flex items-center justify-center bg-red-100 text-red-600 hover:bg-red-200 disabled:opacity-50 disabled:cursor-not-allowed flex-shrink-0",title:"메뉴 삭제",children:i.jsx("i",{className:"ri-delete-bin-line text-sm sm:text-lg"})})]}):i.jsxs("button",{onClick:()=>C(L.menu_id),disabled:!L.is_available||b,className:`px-4 py-2 rounded-lg font-medium transition-all duration-300 transform hover:scale-105 text-xs sm:text-sm ${L.is_available&&!b?"bg-white text-gray-900 hover:bg-gray-900 hover:text-white border border-gray-300 hover:border-gray-900 shadow-sm hover:shadow-lg":"bg-gray-200 text-gray-400 cursor-not-allowed"}`,children:[i.jsx("i",{className:"ri-add-line mr-1"}),"담기"]})})()})]})},L.id))})})}),i.jsx("div",{className:"h-px bg-gray-100"}),$()>0&&i.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-t border-orange-200 shadow-2xl z-50",children:i.jsxs("div",{className:"flex items-center justify-between p-4 sm:p-6 max-w-4xl mx-auto",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"text-lg sm:text-2xl font-bold text-gray-800",children:[D().toLocaleString(),"원"]}),i.jsxs("div",{className:"text-xs sm:text-sm text-orange-600 font-medium",children:["배달주문 최소주문금액 ",m?.minimum_order_amount?.toLocaleString()||"0","원"]})]}),i.jsxs("button",{onClick:U,disabled:b,className:`px-4 sm:px-8 py-3 sm:py-4 rounded-2xl font-bold flex items-center gap-2 sm:gap-3 transition-all duration-300 shadow-xl hover:shadow-2xl transform hover:scale-105 text-sm sm:text-base ${b?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-gradient-to-r from-orange-400 to-orange-500 hover:from-orange-500 hover:to-orange-600 text-white"}`,children:[i.jsx("div",{className:"w-6 h-6 sm:w-8 sm:h-8 bg-white/20 rounded-full flex items-center justify-center",children:i.jsx("i",{className:"ri-shopping-cart-line text-sm sm:text-lg"})}),i.jsxs("span",{className:"hidden sm:inline",children:[$(),"개 장바구니 보기"]}),i.jsxs("span",{className:"sm:hidden",children:[$(),"개"]})]})]})}),i.jsx(On,{})]}):i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("i",{className:"ri-calendar-line text-6xl text-gray-400 mb-4"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-2",children:"메뉴가 없습니다"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"이 날짜의 메뉴가 준비되지 않았습니다."}),i.jsx("button",{onClick:()=>r(`/menu/${e}`),className:"px-6 py-3 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors",children:"일반 메뉴 보기"})]})})}function oF(){const{storeId:e}=Sn(),t=vt(),{user:r}=ir(),[n,s]=w.useState(null),[o,u]=w.useState([]),[d,h]=w.useState(!0),[m,g]=w.useState(!1),[x,v]=w.useState(null),[b,j]=w.useState({area_name:"",delivery_fee:0});w.useEffect(()=>{e&&r&&(N(),_())},[e,r]);const N=async()=>{try{console.log("🔍 매장 정보 로드 시도:",{storeId:e,userId:r?.id});const{data:C,error:P}=await pe.from("stores").select("*").eq("id",e).eq("owner_id",r?.id).single();if(P)throw console.error("❌ 매장 정보 로드 실패:",P),P;console.log("✅ 매장 정보 로드 성공:",C),s(C)}catch(C){console.error("매장 정보 로드 실패:",C)}},_=async()=>{try{h(!0);const C=await yO(e);u(C)}catch(C){console.error("배달지역 로드 실패:",C)}finally{h(!1)}},O=async C=>{if(C.preventDefault(),!(!b.area_name.trim()||b.delivery_fee<0))try{console.log("🔍 배달지역 저장 시도:",{storeId:e,userId:r?.id,formData:b,editingArea:x?.id}),x?await v6(x.id,b.area_name,b.delivery_fee):await p6(e,b.area_name,b.delivery_fee),console.log("✅ 배달지역 저장 성공"),await _(),g(!1),v(null),j({area_name:"",delivery_fee:0})}catch(P){console.error("❌ 배달지역 저장 실패:",P)}},S=C=>{v(C),j({area_name:C.area_name,delivery_fee:C.delivery_fee}),g(!0)},A=async C=>{if(confirm("정말로 이 배달지역을 삭제하시겠습니까?"))try{await y6(C),await _()}catch(P){console.error("배달지역 삭제 실패:",P)}},k=()=>{g(!1),v(null),j({area_name:"",delivery_fee:0})};return r?n?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(br,{}),i.jsx("div",{className:"bg-white shadow-sm border-b border-gray-200",children:i.jsx("div",{className:"px-4 py-3",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("button",{onClick:()=>t("/admin-dashboard"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:i.jsx("i",{className:"ri-arrow-left-line text-xl text-gray-600"})}),i.jsx("h1",{className:"text-xl font-bold text-gray-800",children:"배달비 설정"})]}),i.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-orange-500 hover:bg-orange-600 text-white rounded-lg font-medium transition-colors flex items-center gap-2",children:[i.jsx("i",{className:"ri-add-line"}),"지역 추가"]})]})})}),i.jsx("div",{className:"max-w-4xl mx-auto p-4",children:i.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:d?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-orange-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로딩 중..."})]}):o.length===0?i.jsxs("div",{className:"text-center py-8",children:[i.jsx("i",{className:"ri-truck-line text-4xl text-gray-300 mb-4"}),i.jsx("p",{className:"text-gray-600 mb-4",children:"등록된 배달지역이 없습니다."}),i.jsx("p",{className:"text-sm text-gray-500",children:'"지역 추가" 버튼을 눌러 배달지역을 추가해보세요.'})]}):i.jsx("div",{className:"divide-y divide-gray-200",children:o.map(C=>i.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-gray-50",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("h3",{className:"font-medium text-gray-900",children:C.area_name}),i.jsxs("p",{className:"text-sm text-gray-600",children:["배달비: ",C.delivery_fee.toLocaleString(),"원"]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{onClick:()=>S(C),className:"text-blue-600 hover:text-blue-800 p-2 rounded-lg hover:bg-blue-50 transition-colors",title:"수정",children:i.jsx("i",{className:"ri-edit-line"})}),i.jsx("button",{onClick:()=>A(C.id),className:"text-red-600 hover:text-red-800 p-2 rounded-lg hover:bg-red-50 transition-colors",title:"삭제",children:i.jsx("i",{className:"ri-delete-bin-line"})})]})]},C.id))})})}),m&&i.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:i.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-md p-8",children:[i.jsxs("div",{className:"text-center mb-6",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:x?"배달지역 수정":"배달지역 추가"}),i.jsx("p",{className:"text-gray-600 text-sm",children:"배달지역명과 배달비를 입력해주세요."})]}),i.jsxs("form",{onSubmit:O,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달지역명"}),i.jsx("input",{type:"text",value:b.area_name,onChange:C=>j({...b,area_name:C.target.value}),placeholder:"예: 강남구, 서초구, 송파구",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"배달비 (원)"}),i.jsx("input",{type:"number",value:b.delivery_fee||"",onChange:C=>j({...b,delivery_fee:C.target.value===""?0:parseInt(C.target.value)||0}),placeholder:"0",min:"0",className:"w-full px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-300",required:!0})]}),i.jsxs("div",{className:"flex gap-3 pt-4",children:[i.jsx("button",{type:"button",onClick:k,className:"flex-1 bg-gray-200 hover:bg-gray-300 text-gray-800 py-3 rounded-xl font-medium transition-all duration-300",children:"취소"}),i.jsx("button",{type:"submit",className:"flex-1 bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white py-3 rounded-xl font-medium shadow-md hover:shadow-lg transition-all duration-300",children:x?"수정":"추가"})]})]})]})}),i.jsx(On,{})]}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"매장 정보를 불러오는 중..."})]})}):i.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-purple-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"로그인 중..."})]})})}const cF=[{path:"/",element:i.jsx(C1,{})},{path:"/homepage",element:i.jsx(d6,{})},{path:"/admin-login",element:i.jsx(C1,{})},{path:"/super-login",element:i.jsx(f6,{})},{path:"/auth/callback",element:i.jsx(h6,{})},{path:"/menu/:storeId",element:i.jsx(P2,{})},{path:"/menu/:storeId/daily/:date",element:i.jsx(P2,{})},{path:"/cart",element:i.jsx(N6,{})},{path:"/order-complete/:orderId",element:i.jsx(_6,{})},{path:"/admin/:storeId",element:i.jsx(R6,{})},{path:"/admin-dashboard",element:i.jsx(z6,{})},{path:"/admin/:storeId/orders",element:i.jsx(GV,{})},{path:"/admin/:storeId/menu",element:i.jsx(VV,{})},{path:"/admin/:storeId/analytics",element:i.jsx(FV,{})},{path:"/admin/:storeId/store",element:i.jsx(WV,{})},{path:"/super-admin",element:i.jsx(HV,{})},{path:"/owner/orders",element:i.jsx(KV,{})},{path:"/owner/menu",element:i.jsx(YV,{})},{path:"/order-status/:storeId",element:i.jsx(QV,{})},{path:"/admin/:storeId/order-detail/:orderId",element:i.jsx(ZV,{})},{path:"/admin/:storeId/daily-menu",element:i.jsx(lF,{})},{path:"/admin/delivery-settings/:storeId",element:i.jsx(oF,{})},{path:"*",element:i.jsx(XP,{})}];let lT;new Promise(e=>{lT=e});function uF(){const e=tP(cF);if(!window.REACT_APP_NAVIGATE){const t=vt();w.useEffect(()=>{window.REACT_APP_NAVIGATE=t,lT(window.REACT_APP_NAVIGATE)})}return e}function dF(){return i.jsx(IP,{basename:"/",children:i.jsx(s6,{children:i.jsx(uF,{})})})}"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/sw.js").then(e=>{console.log("SW registered: ",e)}).catch(e=>{console.log("SW registration failed: ",e)})});SD.createRoot(document.getElementById("root")).render(i.jsx(w.StrictMode,{children:i.jsx(dF,{})}));
//# sourceMappingURL=index-2tT9DRtT.js.map
